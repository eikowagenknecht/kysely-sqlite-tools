var qi=Object.defineProperty;var yi=(c,a,r)=>a in c?qi(c,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[a]=r;var Pn=(c,a,r)=>(yi(c,typeof a!="symbol"?a+"":a,r),r),Vt=(c,a,r)=>{if(!a.has(c))throw TypeError("Cannot "+r)};var h=(c,a,r)=>(Vt(c,a,"read from private field"),r?r.call(c):a.get(c)),k=(c,a,r)=>{if(a.has(c))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(c):a.set(c,r)},D=(c,a,r,g)=>(Vt(c,a,"write to private field"),g?g.call(c,r):a.set(c,r),r);var ee=(c,a,r)=>(Vt(c,a,"access private method"),r);import{B as vi,S as bi,k as Ei,a as U,b as xi,c as Ai,e as se,d as Si,l as Me,m as Ri,n as Ci,o as Ii,f as Di,p as ki,q as Fe,r as Ti,s as Mi,t as pt,u as qt,v as Li}from"./worker-Di1Eo8-K.js";var zi=(()=>{var c=import.meta.url;return function(a={}){var r=a,g,d;r.ready=new Promise((e,t)=>{g=e,d=t});var v=Object.assign({},r),R="./this.program",A=(e,t)=>{throw t},T=typeof window=="object",H=typeof importScripts=="function",O="",W;(T||H)&&(H?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),c&&(O=c),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",H&&(W=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var ue=r.print||console.log.bind(console),F=r.printErr||console.error.bind(console);Object.assign(r,v),v=null,r.thisProgram&&(R=r.thisProgram),r.quit&&(A=r.quit);var le;r.wasmBinary&&(le=r.wasmBinary),typeof WebAssembly!="object"&&_e("no native wasm support detected");var Y,j=!1,fe,P,b,pe,Kt,E,M,St,Rt;function Qt(){var e=Y.buffer;r.HEAP8=P=new Int8Array(e),r.HEAP16=pe=new Int16Array(e),r.HEAPU8=b=new Uint8Array(e),r.HEAPU16=Kt=new Uint16Array(e),r.HEAP32=E=new Int32Array(e),r.HEAPU32=M=new Uint32Array(e),r.HEAPF32=St=new Float32Array(e),r.HEAPF64=Rt=new Float64Array(e)}var Xt=[],Yt=[],Jn=[],Gt=[];function Zn(){var e=r.preRun.shift();Xt.unshift(e)}var Se=0,Ke=null;function _e(e){throw r.onAbort&&r.onAbort(e),e="Aborted("+e+")",F(e),j=!0,fe=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),d(e),e}var Jt=e=>e.startsWith("data:application/octet-stream;base64,"),Re;if(r.locateFile){if(Re="wa-sqlite-async.wasm",!Jt(Re)){var Zt=Re;Re=r.locateFile?r.locateFile(Zt,O):O+Zt}}else Re=new URL(""+new URL("wa-sqlite-async-CE83rzeA.wasm",import.meta.url).href,import.meta.url).href;function er(e){if(e==Re&&le)return new Uint8Array(le);if(W)return W(e);throw"both async and sync fetching of the wasm failed"}function ei(e){return le||!T&&!H||typeof fetch!="function"?Promise.resolve().then(()=>er(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>er(e))}function tr(e,t,n){return ei(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(n,i=>{F(`failed to asynchronously prepare wasm: ${i}`),_e(i)})}function ti(e,t){var n=Re;return le||typeof WebAssembly.instantiateStreaming!="function"||Jt(n)||typeof fetch!="function"?tr(n,e,t):fetch(n,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(t,function(s){return F(`wasm streaming compile failed: ${s}`),F("falling back to ArrayBuffer instantiation"),tr(n,e,t)}))}var x,$;function rr(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var nt=e=>{for(;0<e.length;)e.shift()(r)};function K(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return P[e>>0];case"i8":return P[e>>0];case"i16":return pe[e>>1];case"i32":return E[e>>2];case"i64":_e("to do getValue(i64) use WASM_BIGINT");case"float":return St[e>>2];case"double":return Rt[e>>3];case"*":return M[e>>2];default:_e(`invalid type for getValue: ${t}`)}}var nr=r.noExitRuntime||!0;function ce(e,t,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":P[e>>0]=t;break;case"i8":P[e>>0]=t;break;case"i16":pe[e>>1]=t;break;case"i32":E[e>>2]=t;break;case"i64":_e("to do setValue(i64) use WASM_BIGINT");case"float":St[e>>2]=t;break;case"double":Rt[e>>3]=t;break;case"*":M[e>>2]=t;break;default:_e(`invalid type for setValue: ${n}`)}}var ir=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,I=(e,t,n)=>{var i=t+n;for(n=t;e[n]&&!(n>=i);)++n;if(16<n-t&&e.buffer&&ir)return ir.decode(e.subarray(t,n));for(i="";t<n;){var s=e[t++];if(s&128){var l=e[t++]&63;if((s&224)==192)i+=String.fromCharCode((s&31)<<6|l);else{var _=e[t++]&63;s=(s&240)==224?(s&15)<<12|l<<6|_:(s&7)<<18|l<<12|_<<6|e[t++]&63,65536>s?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else i+=String.fromCharCode(s)}return i},sr=(e,t)=>{for(var n=0,i=e.length-1;0<=i;i--){var s=e[i];s==="."?e.splice(i,1):s===".."?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},qe=e=>{var t=e.charAt(0)==="/",n=e.substr(-1)==="/";return(e=sr(e.split("/").filter(i=>!!i),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},ri=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},it=e=>{if(e==="/")return"/";e=qe(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},ni=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);_e("initRandomDevice")},or=e=>(or=ni())(e);function st(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if(t=0<=n?arguments[n]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=sr(e.split("/").filter(i=>!!i),!t).join("/"),(t?"/":"")+e||"."}var Ct=[],Ce=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);127>=i?t++:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,++n):t+=3}return t},Ie=(e,t,n,i)=>{if(!(0<i))return 0;var s=n;i=n+i-1;for(var l=0;l<e.length;++l){var _=e.charCodeAt(l);if(55296<=_&&57343>=_){var w=e.charCodeAt(++l);_=65536+((_&1023)<<10)|w&1023}if(127>=_){if(n>=i)break;t[n++]=_}else{if(2047>=_){if(n+1>=i)break;t[n++]=192|_>>6}else{if(65535>=_){if(n+2>=i)break;t[n++]=224|_>>12}else{if(n+3>=i)break;t[n++]=240|_>>18,t[n++]=128|_>>12&63}t[n++]=128|_>>6&63}t[n++]=128|_&63}}return t[n]=0,n-s};function lr(e,t,n){return n=Array(0<n?n:Ce(e)+1),e=Ie(e,n,0,n.length),t&&(n.length=e),n}var _r=[];function ar(e,t){_r[e]={input:[],Cf:[],Nf:t},Tt(e,ii)}var ii={open(e){var t=_r[e.node.Qf];if(!t)throw new q(43);e.Df=t,e.seekable=!1},close(e){e.Df.Nf.Sf(e.Df)},Sf(e){e.Df.Nf.Sf(e.Df)},read(e,t,n,i){if(!e.Df||!e.Df.Nf.hg)throw new q(60);for(var s=0,l=0;l<i;l++){try{var _=e.Df.Nf.hg(e.Df)}catch{throw new q(29)}if(_===void 0&&s===0)throw new q(6);if(_==null)break;s++,t[n+l]=_}return s&&(e.node.timestamp=Date.now()),s},write(e,t,n,i){if(!e.Df||!e.Df.Nf.bg)throw new q(60);try{for(var s=0;s<i;s++)e.Df.Nf.bg(e.Df,t[n+s])}catch{throw new q(29)}return i&&(e.node.timestamp=Date.now()),s}},si={hg(){e:{if(!Ct.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}Ct=lr(e,!0)}e=Ct.shift()}return e},bg(e,t){t===null||t===10?(ue(I(e.Cf,0)),e.Cf=[]):t!=0&&e.Cf.push(t)},Sf(e){e.Cf&&0<e.Cf.length&&(ue(I(e.Cf,0)),e.Cf=[])},Ig(){return{Eg:25856,Gg:5,Dg:191,Fg:35387,Cg:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Jg(){return 0},Kg(){return[24,80]}},oi={bg(e,t){t===null||t===10?(F(I(e.Cf,0)),e.Cf=[]):t!=0&&e.Cf.push(t)},Sf(e){e.Cf&&0<e.Cf.length&&(F(I(e.Cf,0)),e.Cf=[])}};function ur(e,t){var n=e.yf?e.yf.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),n!=0&&(t=Math.max(t,256)),n=e.yf,e.yf=new Uint8Array(t),0<e.Af&&e.yf.set(n.subarray(0,e.Af),0))}var S={Gf:null,Ff(){return S.createNode(null,"/",16895,0)},createNode(e,t,n,i){if((n&61440)===24576||(n&61440)===4096)throw new q(63);return S.Gf||(S.Gf={dir:{node:{Ef:S.wf.Ef,Bf:S.wf.Bf,Of:S.wf.Of,Tf:S.wf.Tf,lg:S.wf.lg,Yf:S.wf.Yf,Wf:S.wf.Wf,kg:S.wf.kg,Xf:S.wf.Xf},stream:{Kf:S.xf.Kf}},file:{node:{Ef:S.wf.Ef,Bf:S.wf.Bf},stream:{Kf:S.xf.Kf,read:S.xf.read,write:S.xf.write,eg:S.xf.eg,Uf:S.xf.Uf,Vf:S.xf.Vf}},link:{node:{Ef:S.wf.Ef,Bf:S.wf.Bf,Rf:S.wf.Rf},stream:{}},fg:{node:{Ef:S.wf.Ef,Bf:S.wf.Bf},stream:ui}}),n=hr(e,t,n,i),ae(n.mode)?(n.wf=S.Gf.dir.node,n.xf=S.Gf.dir.stream,n.yf={}):(n.mode&61440)===32768?(n.wf=S.Gf.file.node,n.xf=S.Gf.file.stream,n.Af=0,n.yf=null):(n.mode&61440)===40960?(n.wf=S.Gf.link.node,n.xf=S.Gf.link.stream):(n.mode&61440)===8192&&(n.wf=S.Gf.fg.node,n.xf=S.Gf.fg.stream),n.timestamp=Date.now(),e&&(e.yf[t]=n,e.timestamp=n.timestamp),n},Hg(e){return e.yf?e.yf.subarray?e.yf.subarray(0,e.Af):new Uint8Array(e.yf):new Uint8Array(0)},wf:{Ef(e){var t={};return t.rg=(e.mode&61440)===8192?e.id:1,t.ig=e.id,t.mode=e.mode,t.xg=1,t.uid=0,t.ug=0,t.Qf=e.Qf,ae(e.mode)?t.size=4096:(e.mode&61440)===32768?t.size=e.Af:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.ng=new Date(e.timestamp),t.wg=new Date(e.timestamp),t.qg=new Date(e.timestamp),t.og=4096,t.pg=Math.ceil(t.size/t.og),t},Bf(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.Af!=t))if(t==0)e.yf=null,e.Af=0;else{var n=e.yf;e.yf=new Uint8Array(t),n&&e.yf.set(n.subarray(0,Math.min(t,e.Af))),e.Af=t}},Of(){throw Dt[44]},Tf(e,t,n,i){return S.createNode(e,t,n,i)},lg(e,t,n){if(ae(e.mode)){try{var i=De(t,n)}catch{}if(i)for(var s in i.yf)throw new q(55)}delete e.parent.yf[e.name],e.parent.timestamp=Date.now(),e.name=n,t.yf[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},Yf(e,t){delete e.yf[t],e.timestamp=Date.now()},Wf(e,t){var n=De(e,t),i;for(i in n.yf)throw new q(55);delete e.yf[t],e.timestamp=Date.now()},kg(e){var t=[".",".."],n;for(n in e.yf)e.yf.hasOwnProperty(n)&&t.push(n);return t},Xf(e,t,n){return e=S.createNode(e,t,41471,0),e.link=n,e},Rf(e){if((e.mode&61440)!==40960)throw new q(28);return e.link}},xf:{read(e,t,n,i,s){var l=e.node.yf;if(s>=e.node.Af)return 0;if(e=Math.min(e.node.Af-s,i),8<e&&l.subarray)t.set(l.subarray(s,s+e),n);else for(i=0;i<e;i++)t[n+i]=l[s+i];return e},write(e,t,n,i,s,l){if(t.buffer===P.buffer&&(l=!1),!i)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.yf||e.yf.subarray)){if(l)return e.yf=t.subarray(n,n+i),e.Af=i;if(e.Af===0&&s===0)return e.yf=t.slice(n,n+i),e.Af=i;if(s+i<=e.Af)return e.yf.set(t.subarray(n,n+i),s),i}if(ur(e,s+i),e.yf.subarray&&t.subarray)e.yf.set(t.subarray(n,n+i),s);else for(l=0;l<i;l++)e.yf[s+l]=t[n+l];return e.Af=Math.max(e.Af,s+i),i},Kf(e,t,n){if(n===1?t+=e.position:n===2&&(e.node.mode&61440)===32768&&(t+=e.node.Af),0>t)throw new q(28);return t},eg(e,t,n){ur(e.node,t+n),e.node.Af=Math.max(e.node.Af,t+n)},Uf(e,t,n,i,s){if((e.node.mode&61440)!==32768)throw new q(43);if(e=e.node.yf,s&2||e.buffer!==P.buffer){if((0<n||n+t<e.length)&&(e.subarray?e=e.subarray(n,n+t):e=Array.prototype.slice.call(e,n,n+t)),n=!0,t=65536*Math.ceil(t/65536),(s=Cn(65536,t))?(b.fill(0,s,s+t),t=s):t=0,!t)throw new q(48);P.set(e,t)}else n=!1,t=e.byteOffset;return{yg:t,mg:n}},Vf(e,t,n,i){return S.xf.write(e,t,0,i,n,!1),0}}},li=(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},It=null,fr={},Qe=[],_i=1,ye=null,cr=!0,q=null,Dt={};function ne(e,t={}){if(e=st(e),!e)return{path:"",node:null};if(t=Object.assign({gg:!0,cg:0},t),8<t.cg)throw new q(32);e=e.split("/").filter(_=>!!_);for(var n=It,i="/",s=0;s<e.length;s++){var l=s===e.length-1;if(l&&t.parent)break;if(n=De(n,e[s]),i=qe(i+"/"+e[s]),n.Lf&&(!l||l&&t.gg)&&(n=n.Lf.root),!l||t.Jf){for(l=0;(n.mode&61440)===40960;)if(n=vr(i),i=st(ri(i),n),n=ne(i,{cg:t.cg+1}).node,40<l++)throw new q(32)}}return{path:i,node:n}}function ot(e){for(var t;;){if(e===e.parent)return e=e.Ff.jg,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}}function kt(e,t){for(var n=0,i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i)|0;return(e+n>>>0)%ye.length}function dr(e){var t=kt(e.parent.id,e.name);if(ye[t]===e)ye[t]=e.Mf;else for(t=ye[t];t;){if(t.Mf===e){t.Mf=e.Mf;break}t=t.Mf}}function De(e,t){var n;if(n=(n=Ue(e,"x"))?n:e.wf.Of?0:2)throw new q(n,e);for(n=ye[kt(e.id,t)];n;n=n.Mf){var i=n.name;if(n.parent.id===e.id&&i===t)return n}return e.wf.Of(e,t)}function hr(e,t,n,i){return e=new xn(e,t,n,i),t=kt(e.parent.id,e.name),e.Mf=ye[t],ye[t]=e}function ae(e){return(e&61440)===16384}function wr(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t}function Ue(e,t){if(cr)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0}function gr(e,t){try{return De(e,t),20}catch{}return Ue(e,"wx")}function mr(e,t,n){try{var i=De(e,t)}catch(s){return s.zf}if(e=Ue(e,"wx"))return e;if(n){if(!ae(i.mode))return 54;if(i===i.parent||ot(i)==="/")return 10}else if(ae(i.mode))return 31;return 0}function ai(){for(var e=0;4096>=e;e++)if(!Qe[e])return e;throw new q(33)}function te(e){if(e=Qe[e],!e)throw new q(8);return e}function pr(e,t=-1){return Ye||(Ye=function(){this.Zf={}},Ye.prototype={},Object.defineProperties(Ye.prototype,{object:{get(){return this.node},set(n){this.node=n}},flags:{get(){return this.Zf.flags},set(n){this.Zf.flags=n}},position:{get(){return this.Zf.position},set(n){this.Zf.position=n}}})),e=Object.assign(new Ye,e),t==-1&&(t=ai()),e.Hf=t,Qe[t]=e}var ui={open(e){e.xf=fr[e.node.Qf].xf,e.xf.open&&e.xf.open(e)},Kf(){throw new q(70)}};function Tt(e,t){fr[e]={xf:t}}function qr(e,t){var n=t==="/",i=!t;if(n&&It)throw new q(10);if(!n&&!i){var s=ne(t,{gg:!1});if(t=s.path,s=s.node,s.Lf)throw new q(10);if(!ae(s.mode))throw new q(54)}t={type:e,Mg:{},jg:t,vg:[]},e=e.Ff(t),e.Ff=t,t.root=e,n?It=e:s&&(s.Lf=t,s.Ff&&s.Ff.vg.push(t))}function Mt(e,t,n){var i=ne(e,{parent:!0}).node;if(e=it(e),!e||e==="."||e==="..")throw new q(28);var s=gr(i,e);if(s)throw new q(s);if(!i.wf.Tf)throw new q(63);return i.wf.Tf(i,e,t,n)}function de(e,t){return Mt(e,(t!==void 0?t:511)&1023|16384,0)}function lt(e,t,n){typeof n>"u"&&(n=t,t=438),Mt(e,t|8192,n)}function Lt(e,t){if(!st(e))throw new q(44);var n=ne(t,{parent:!0}).node;if(!n)throw new q(44);t=it(t);var i=gr(n,t);if(i)throw new q(i);if(!n.wf.Xf)throw new q(63);n.wf.Xf(n,t,e)}function yr(e){var t=ne(e,{parent:!0}).node;e=it(e);var n=De(t,e),i=mr(t,e,!0);if(i)throw new q(i);if(!t.wf.Wf)throw new q(63);if(n.Lf)throw new q(10);t.wf.Wf(t,e),dr(n)}function vr(e){if(e=ne(e).node,!e)throw new q(44);if(!e.wf.Rf)throw new q(28);return st(ot(e.parent),e.wf.Rf(e))}function _t(e,t){if(e=ne(e,{Jf:!t}).node,!e)throw new q(44);if(!e.wf.Ef)throw new q(63);return e.wf.Ef(e)}function br(e){return _t(e,!0)}function Er(e,t){if(e=typeof e=="string"?ne(e,{Jf:!0}).node:e,!e.wf.Bf)throw new q(63);e.wf.Bf(e,{mode:t&4095|e.mode&-4096,timestamp:Date.now()})}function xr(e,t){if(0>t)throw new q(28);if(e=typeof e=="string"?ne(e,{Jf:!0}).node:e,!e.wf.Bf)throw new q(63);if(ae(e.mode))throw new q(31);if((e.mode&61440)!==32768)throw new q(28);var n=Ue(e,"w");if(n)throw new q(n);e.wf.Bf(e,{size:t,timestamp:Date.now()})}function at(e,t,n){if(e==="")throw new q(44);if(typeof t=="string"){var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof i>"u")throw Error(`Unknown file open mode: ${t}`);t=i}if(n=t&64?(typeof n>"u"?438:n)&4095|32768:0,typeof e=="object")var s=e;else{e=qe(e);try{s=ne(e,{Jf:!(t&131072)}).node}catch{}}if(i=!1,t&64)if(s){if(t&128)throw new q(20)}else s=Mt(e,n,0),i=!0;if(!s)throw new q(44);if((s.mode&61440)===8192&&(t&=-513),t&65536&&!ae(s.mode))throw new q(54);if(!i&&(n=s?(s.mode&61440)===40960?32:ae(s.mode)&&(wr(t)!=="r"||t&512)?31:Ue(s,wr(t)):44))throw new q(n);return t&512&&!i&&xr(s,0),t&=-131713,s=pr({node:s,path:ot(s),flags:t,seekable:!0,position:0,xf:s.xf,Bg:[],error:!1}),s.xf.open&&s.xf.open(s),!r.logReadFiles||t&1||(ut||(ut={}),e in ut||(ut[e]=1)),s}function Ar(e,t,n){if(e.Hf===null)throw new q(8);if(!e.seekable||!e.xf.Kf)throw new q(70);if(n!=0&&n!=1&&n!=2)throw new q(28);e.position=e.xf.Kf(e,t,n),e.Bg=[]}function Sr(){q||(q=function(e,t){this.name="ErrnoError",this.node=t,this.zg=function(n){this.zf=n},this.zg(e),this.message="FS error"},q.prototype=Error(),q.prototype.constructor=q,[44].forEach(e=>{Dt[e]=new q(e),Dt[e].stack="<generic error, no stack>"}))}var Rr;function Xe(e,t,n){e=qe("/dev/"+e);var i=li(!!t,!!n);zt||(zt=64);var s=zt++<<8|0;Tt(s,{open(l){l.seekable=!1},close(){n&&n.buffer&&n.buffer.length&&n(10)},read(l,_,w,u){for(var f=0,p=0;p<u;p++){try{var m=t()}catch{throw new q(29)}if(m===void 0&&f===0)throw new q(6);if(m==null)break;f++,_[w+p]=m}return f&&(l.node.timestamp=Date.now()),f},write(l,_,w,u){for(var f=0;f<u;f++)try{n(_[w+f])}catch{throw new q(29)}return u&&(l.node.timestamp=Date.now()),f}}),lt(e,i,s)}var zt,z={},Ye,ut;function ke(e,t,n){if(t.charAt(0)==="/")return t;if(e=e===-100?"/":te(e).path,t.length==0){if(!n)throw new q(44);return e}return qe(e+"/"+t)}function ft(e,t,n){try{var i=e(t)}catch(l){if(l&&l.node&&qe(t)!==qe(ot(l.node)))return-54;throw l}E[n>>2]=i.rg,E[n+4>>2]=i.mode,M[n+8>>2]=i.xg,E[n+12>>2]=i.uid,E[n+16>>2]=i.ug,E[n+20>>2]=i.Qf,$=[i.size>>>0,(x=i.size,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[n+24>>2]=$[0],E[n+28>>2]=$[1],E[n+32>>2]=4096,E[n+36>>2]=i.pg,e=i.ng.getTime(),t=i.wg.getTime();var s=i.qg.getTime();return $=[Math.floor(e/1e3)>>>0,(x=Math.floor(e/1e3),1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[n+40>>2]=$[0],E[n+44>>2]=$[1],M[n+48>>2]=e%1e3*1e3,$=[Math.floor(t/1e3)>>>0,(x=Math.floor(t/1e3),1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[n+56>>2]=$[0],E[n+60>>2]=$[1],M[n+64>>2]=t%1e3*1e3,$=[Math.floor(s/1e3)>>>0,(x=Math.floor(s/1e3),1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[n+72>>2]=$[0],E[n+76>>2]=$[1],M[n+80>>2]=s%1e3*1e3,$=[i.ig>>>0,(x=i.ig,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[n+88>>2]=$[0],E[n+92>>2]=$[1],0}var ct=void 0;function dt(){var e=E[+ct>>2];return ct+=4,e}var Ge=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,fi=[0,31,60,91,121,152,182,213,244,274,305,335],ci=[0,31,59,90,120,151,181,212,243,273,304,334],Cr=e=>{var t=Ce(e)+1,n=Bt(t);return n&&Ie(e,b,n,t),n},$t={},Ir=()=>{if(!Nt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:R||"./this.program"},t;for(t in $t)$t[t]===void 0?delete e[t]:e[t]=$t[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);Nt=n}return Nt},Nt;function Dr(){}function kr(){}function Tr(){}function Mr(){}function Lr(){}function zr(){}function $r(){}function Nr(){}function Pr(){}function Ur(){}function Or(){}function Br(){}function Fr(){}function Vr(){}function Hr(){}function Wr(){}function jr(){}function Kr(){}function Qr(){}function Xr(){}function Yr(){}function Gr(){}function Jr(){}function Zr(){}function en(){}function tn(){}function rn(){}function nn(){}function sn(){}function on(){}function ln(){}function _n(){}function an(){}function un(){}function fn(){}function cn(){}function dn(){}function hn(){}function wn(){}var ht=0,gn=e=>{fe=e,nr||0<ht||(r.onExit&&r.onExit(e),j=!0),A(e,new rr(e))},Pt=e=>{e instanceof rr||e=="unwind"||A(1,e)},wt=e=>{try{e()}catch(t){_e(t)}};function di(){var e=o,t={},n;for(n in e)(function(i){var s=e[i];t[i]=typeof s=="function"?function(){gt.push(i);try{return s.apply(null,arguments)}finally{j||(gt.pop()===i||_e(),he&&ve===1&&gt.length===0&&(ve=0,wt(Mn),typeof Fibers<"u"&&Fibers.Ng()))}}:s})(n);return t}var ve=0,he=null,mn=0,gt=[],pn={},qn={},hi=0,Ut=null,wi=[];function gi(){return new Promise((e,t)=>{Ut={resolve:e,reject:t}})}function mi(){var e=Bt(16396),t=e+12;M[e>>2]=t,M[e+4>>2]=t+16384,t=gt[0];var n=pn[t];return n===void 0&&(n=hi++,pn[t]=n,qn[n]=t),E[e+8>>2]=n,e}function yn(e){if(!j){if(ve===0){var t=!1,n=!1;e((i=0)=>{if(!j&&(mn=i,t=!0,n)){ve=2,wt(()=>Ln(he)),typeof Browser<"u"&&Browser.ag.tg&&Browser.ag.resume(),i=!1;try{var s=(0,o[qn[E[he+8>>2]]])()}catch(w){s=w,i=!0}var l=!1;if(!he){var _=Ut;_&&(Ut=null,(i?_.reject:_.resolve)(s),l=!0)}if(i&&!l)throw s}}),n=!0,t||(ve=1,he=mi(),typeof Browser<"u"&&Browser.ag.tg&&Browser.ag.pause(),wt(()=>Tn(he)))}else ve===2?(ve=0,wt(zn),Sn(he),he=null,wi.forEach(i=>{if(!j)try{if(i(),!(nr||0<ht))try{fe=i=fe,gn(i)}catch(s){Pt(s)}}catch(s){Pt(s)}})):_e(`invalid state: ${ve}`);return mn}}function Ot(e){return yn(t=>{e().then(t)})}var vn={},Te,Oe,bn=[],we=(e,t,n,i,s)=>{function l(m){return--ht,u!==0&&kn(u),t==="string"?m?I(b,m):"":t==="boolean"?!!m:m}var _={string:m=>{var y=0;if(m!=null&&m!==0){y=Ce(m)+1;var C=Ft(y);Ie(m,b,C,y),y=C}return y},array:m=>{var y=Ft(m.length);return P.set(m,y),y}};e=r["_"+e];var w=[],u=0;if(i)for(var f=0;f<i.length;f++){var p=_[n[f]];p?(u===0&&(u=Dn()),w[f]=p(i[f])):w[f]=i[f]}return n=he,i=e.apply(null,w),s=s&&s.async,ht+=1,he!=n?gi().then(l):(i=l(i),s?Promise.resolve(i):i)},En=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function xn(e,t,n,i){e||(e=this),this.parent=e,this.Ff=e.Ff,this.Lf=null,this.id=_i++,this.name=t,this.mode=n,this.wf={},this.xf={},this.Qf=i}Object.defineProperties(xn.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Sr(),ye=Array(4096),qr(S,"/"),de("/tmp"),de("/home"),de("/home/web_user"),function(){de("/dev"),Tt(259,{read:()=>0,write:(i,s,l,_)=>_}),lt("/dev/null",259),ar(1280,si),ar(1536,oi),lt("/dev/tty",1280),lt("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=or(e).byteLength),e[--t]);Xe("random",n),Xe("urandom",n),de("/dev/shm"),de("/dev/shm/tmp")}(),function(){de("/proc");var e=de("/proc/self");de("/proc/self/fd"),qr({Ff(){var t=hr(e,"fd",16895,73);return t.wf={Of(n,i){var s=te(+i);return n={parent:null,Ff:{jg:"fake"},wf:{Rf:()=>s.path}},n.parent=n}},t}},"/proc/self/fd")}(),function(){const e=new Map;r.setAuthorizer=function(t,n,i){return n?e.set(t,{f:n,dg:i}):e.delete(t),we("set_authorizer","number",["number"],[t])},Dr=function(t,n,i,s,l,_){if(e.has(t)){const{f:w,dg:u}=e.get(t);return w(u,n,i?i?I(b,i):"":null,s?s?I(b,s):"":null,l?l?I(b,l):"":null,_?_?I(b,_):"":null)}return 0}}(),function(){const e=new Map,t=new Map;r.createFunction=function(n,i,s,l,_,w){const u=e.size;return e.set(u,{f:w,If:_}),we("create_function","number","number string number number number number".split(" "),[n,i,s,l,u,0])},r.createAggregate=function(n,i,s,l,_,w,u){const f=e.size;return e.set(f,{step:w,sg:u,If:_}),we("create_function","number","number string number number number number".split(" "),[n,i,s,l,f,1])},r.getFunctionUserData=function(n){return t.get(n)},Tr=function(n,i,s,l){n=e.get(n),t.set(i,n.If),n.f(i,new Uint32Array(b.buffer,l,s)),t.delete(i)},Lr=function(n,i,s,l){n=e.get(n),t.set(i,n.If),n.step(i,new Uint32Array(b.buffer,l,s)),t.delete(i)},kr=function(n,i){n=e.get(n),t.set(i,n.If),n.sg(i),t.delete(i)}}(),function(){const e=new Map;r.progressHandler=function(t,n,i,s){return i?e.set(t,{f:i,dg:s}):e.delete(t),we("progress_handler",null,["number","number"],[t,n])},Mr=function(t){if(e.has(t)){const{f:n,dg:i}=e.get(t);return n(i)}return 0}}(),function(){function e(u,f){const p=`get${u}`,m=`set${u}`;return new Proxy(new DataView(b.buffer,f,u==="Int32"?4:8),{get(y,C){if(C===p)return function(L,Q){if(!Q)throw Error("must be little endian");return y[C](L,Q)};if(C===m)return function(L,Q,B){if(!B)throw Error("must be little endian");return y[C](L,Q,B)};if(typeof C=="string"&&C.match(/^(get)|(set)/))throw Error("invalid type");return y[C]}})}const t=typeof vn=="object",n=new Map,i=new Map,s=new Map,l=t?new Set:null,_=t?new Set:null,w=new Map;Gr=function(u,f,p,m){w.set(u?I(b,u):"",{size:f,Pf:Array.from(new Uint32Array(b.buffer,m,p))})},r.createModule=function(u,f,p,m){t&&(p.handleAsync=Ot);const y=n.size;return n.set(y,{module:p,If:m}),m=0,p.xCreate&&(m|=1),p.xConnect&&(m|=2),p.xBestIndex&&(m|=4),p.xDisconnect&&(m|=8),p.xDestroy&&(m|=16),p.xOpen&&(m|=32),p.xClose&&(m|=64),p.xFilter&&(m|=128),p.xNext&&(m|=256),p.xEof&&(m|=512),p.xColumn&&(m|=1024),p.xRowid&&(m|=2048),p.xUpdate&&(m|=4096),p.xBegin&&(m|=8192),p.xSync&&(m|=16384),p.xCommit&&(m|=32768),p.xRollback&&(m|=65536),p.xFindFunction&&(m|=131072),p.xRename&&(m|=262144),we("create_module","number",["number","string","number","number"],[u,f,y,m])},Br=function(u,f,p,m,y,C){if(f=n.get(f),i.set(y,f),t){l.delete(y);for(const L of l)i.delete(L)}return m=Array.from(new Uint32Array(b.buffer,m,p)).map(L=>L?I(b,L):""),f.module.xCreate(u,f.If,m,y,e("Int32",C))},Or=function(u,f,p,m,y,C){if(f=n.get(f),i.set(y,f),t){l.delete(y);for(const L of l)i.delete(L)}return m=Array.from(new Uint32Array(b.buffer,m,p)).map(L=>L?I(b,L):""),f.module.xConnect(u,f.If,m,y,e("Int32",C))},$r=function(u,f){var p=i.get(u),m=w.get("sqlite3_index_info").Pf;const y={};y.nConstraint=K(f+m[0],"i32"),y.aConstraint=[];for(var C=K(f+m[1],"*"),L=w.get("sqlite3_index_constraint").size,Q=0;Q<y.nConstraint;++Q){var B=y.aConstraint,ie=B.push,G=C+Q*L,Be=w.get("sqlite3_index_constraint").Pf,be={};be.iColumn=K(G+Be[0],"i32"),be.op=K(G+Be[1],"i8"),be.usable=!!K(G+Be[2],"i8"),ie.call(B,be)}for(y.nOrderBy=K(f+m[2],"i32"),y.aOrderBy=[],C=K(f+m[3],"*"),L=w.get("sqlite3_index_orderby").size,Q=0;Q<y.nOrderBy;++Q)B=y.aOrderBy,ie=B.push,G=C+Q*L,Be=w.get("sqlite3_index_orderby").Pf,be={},be.iColumn=K(G+Be[0],"i32"),be.desc=!!K(G+Be[1],"i8"),ie.call(B,be);for(y.aConstraintUsage=[],C=0;C<y.nConstraint;++C)y.aConstraintUsage.push({argvIndex:0,omit:!1});for(y.idxNum=K(f+m[5],"i32"),y.idxStr=null,y.orderByConsumed=!!K(f+m[8],"i8"),y.estimatedCost=K(f+m[9],"double"),y.estimatedRows=K(f+m[10],"i32"),y.idxFlags=K(f+m[11],"i32"),y.colUsed=K(f+m[12],"i32"),u=p.module.xBestIndex(u,y),p=w.get("sqlite3_index_info").Pf,m=K(f+p[4],"*"),C=w.get("sqlite3_index_constraint_usage").size,ie=0;ie<y.nConstraint;++ie)L=m+ie*C,B=y.aConstraintUsage[ie],G=w.get("sqlite3_index_constraint_usage").Pf,ce(L+G[0],B.argvIndex,"i32"),ce(L+G[1],B.omit?1:0,"i8");return ce(f+p[5],y.idxNum,"i32"),typeof y.idxStr=="string"&&(m=Ce(y.idxStr),C=we("sqlite3_malloc","number",["number"],[m+1]),Ie(y.idxStr,b,C,m+1),ce(f+p[6],C,"*"),ce(f+p[7],1,"i32")),ce(f+p[8],y.orderByConsumed,"i32"),ce(f+p[9],y.estimatedCost,"double"),ce(f+p[10],y.estimatedRows,"i32"),ce(f+p[11],y.idxFlags,"i32"),u},Vr=function(u){const f=i.get(u);return t?l.add(u):i.delete(u),f.module.xDisconnect(u)},Fr=function(u){const f=i.get(u);return t?l.add(u):i.delete(u),f.module.xDestroy(u)},Kr=function(u,f){const p=i.get(u);if(s.set(f,p),t){_.delete(f);for(const m of _)s.delete(m)}return p.module.xOpen(u,f)},Nr=function(u){const f=s.get(u);return t?_.add(u):s.delete(u),f.module.xClose(u)},Hr=function(u){return s.get(u).module.xEof(u)?1:0},Wr=function(u,f,p,m,y){const C=s.get(u);return p=p?p?I(b,p):"":null,y=new Uint32Array(b.buffer,y,m),C.module.xFilter(u,f,p,y)},jr=function(u){return s.get(u).module.xNext(u)},Pr=function(u,f,p){return s.get(u).module.xColumn(u,f,p)},Yr=function(u,f){return s.get(u).module.xRowid(u,e("BigInt64",f))},Zr=function(u,f,p,m){const y=i.get(u);return p=new Uint32Array(b.buffer,p,f),y.module.xUpdate(u,p,e("BigInt64",m))},zr=function(u){return i.get(u).module.xBegin(u)},Jr=function(u){return i.get(u).module.xSync(u)},Ur=function(u){return i.get(u).module.xCommit(u)},Xr=function(u){return i.get(u).module.xRollback(u)},Qr=function(u,f){const p=i.get(u);return f=f?I(b,f):"",p.module.xRename(u,f)}}(),function(){function e(l,_){const w=`get${l}`,u=`set${l}`;return new Proxy(new DataView(b.buffer,_,l==="Int32"?4:8),{get(f,p){if(p===w)return function(m,y){if(!y)throw Error("must be little endian");return f[p](m,y)};if(p===u)return function(m,y,C){if(!C)throw Error("must be little endian");return f[p](m,y,C)};if(typeof p=="string"&&p.match(/^(get)|(set)/))throw Error("invalid type");return f[p]}})}const t=typeof vn=="object";t&&(r.handleAsync=Ot);const n=new Map,i=new Map;r.registerVFS=function(l,_){if(we("sqlite3_vfs_find","number",["string"],[l.name]))throw Error(`VFS '${l.name}' already registered`);t&&(l.handleAsync=Ot);var w=l.Lg??64;const u=r._malloc(4);return _=we("register_vfs","number",["string","number","number","number"],[l.name,w,_?1:0,u]),_||(w=K(u,"*"),n.set(w,l)),r._free(u),_};const s=t?new Set:null;rn=function(l){const _=i.get(l);return t?s.add(l):i.delete(l),_.xClose(l)},un=function(l,_,w,u,f){return i.get(l).xRead(l,b.subarray(_,_+w),4294967296*f+u+(0>u?2**32:0))},wn=function(l,_,w,u,f){return i.get(l).xWrite(l,b.subarray(_,_+w),4294967296*f+u+(0>u?2**32:0))},dn=function(l,_,w){return i.get(l).xTruncate(l,4294967296*w+_+(0>_?2**32:0))},cn=function(l,_){return i.get(l).xSync(l,_)},ln=function(l,_){const w=i.get(l);return _=e("BigInt64",_),w.xFileSize(l,_)},_n=function(l,_){return i.get(l).xLock(l,_)},hn=function(l,_){return i.get(l).xUnlock(l,_)},tn=function(l,_){const w=i.get(l);return _=e("Int32",_),w.xCheckReservedLock(l,_)},on=function(l,_,w){const u=i.get(l);return w=new DataView(b.buffer,w),u.xFileControl(l,_,w)},fn=function(l){return i.get(l).xSectorSize(l)},sn=function(l){return i.get(l).xDeviceCharacteristics(l)},an=function(l,_,w,u,f){if(l=n.get(l),i.set(w,l),t){s.delete(w);for(var p of s)i.delete(p)}if(p=null,u&64){p=1;const m=[];for(;p;){const y=b[_++];if(y)m.push(y);else switch(b[_]||(p=null),p){case 1:m.push(63),p=2;break;case 2:m.push(61),p=3;break;case 3:m.push(38),p=2}}p=new TextDecoder().decode(new Uint8Array(m))}else _&&(p=_?I(b,_):"");return f=e("Int32",f),l.xOpen(p,w,u,f)},nn=function(l,_,w){return n.get(l).xDelete(_?I(b,_):"",w)},en=function(l,_,w,u){return l=n.get(l),u=e("Int32",u),l.xAccess(_?I(b,_):"",w,u)}}();var pi={a:(e,t,n,i)=>{_e(`Assertion failed: ${e?I(b,e):""}, at: `+[t?t?I(b,t):"":"unknown filename",n,i?i?I(b,i):"":"unknown function"])},N:function(e,t){try{return e=e?I(b,e):"",Er(e,t),0}catch(n){if(typeof z>"u"||n.name!=="ErrnoError")throw n;return-n.zf}},Q:function(e,t,n){try{if(t=t?I(b,t):"",t=ke(e,t),n&-8)return-28;var i=ne(t,{Jf:!0}).node;return i?(e="",n&4&&(e+="r"),n&2&&(e+="w"),n&1&&(e+="x"),e&&Ue(i,e)?-2:0):-44}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return-s.zf}},O:function(e,t){try{var n=te(e);return Er(n.node,t),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.zf}},M:function(e){try{var t=te(e).node,n=typeof t=="string"?ne(t,{Jf:!0}).node:t;if(!n.wf.Bf)throw new q(63);return n.wf.Bf(n,{timestamp:Date.now()}),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.zf}},b:function(e,t,n){ct=n;try{var i=te(e);switch(t){case 0:var s=dt();if(0>s)return-28;for(;Qe[s];)s++;return pr(i,s).Hf;case 1:case 2:return 0;case 3:return i.flags;case 4:return s=dt(),i.flags|=s,0;case 5:return s=dt(),pe[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return E[An()>>2]=28,-1;default:return-28}}catch(l){if(typeof z>"u"||l.name!=="ErrnoError")throw l;return-l.zf}},L:function(e,t){try{var n=te(e);return ft(_t,n.path,t)}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.zf}},n:function(e,t,n){t=Ge(t,n);try{if(isNaN(t))return 61;var i=te(e);if(!(i.flags&2097155))throw new q(28);return xr(i.node,t),0}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return-s.zf}},F:function(e,t){try{if(t===0)return-28;var n=Ce("/")+1;return t<n?-68:(Ie("/",b,e,t),n)}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.zf}},J:function(e,t){try{return e=e?I(b,e):"",ft(br,e,t)}catch(n){if(typeof z>"u"||n.name!=="ErrnoError")throw n;return-n.zf}},C:function(e,t,n){try{return t=t?I(b,t):"",t=ke(e,t),t=qe(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),de(t,n),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.zf}},I:function(e,t,n,i){try{t=t?I(b,t):"";var s=i&256;return t=ke(e,t,i&4096),ft(s?br:_t,t,n)}catch(l){if(typeof z>"u"||l.name!=="ErrnoError")throw l;return-l.zf}},B:function(e,t,n,i){ct=i;try{t=t?I(b,t):"",t=ke(e,t);var s=i?dt():0;return at(t,n,s).Hf}catch(l){if(typeof z>"u"||l.name!=="ErrnoError")throw l;return-l.zf}},z:function(e,t,n,i){try{if(t=t?I(b,t):"",t=ke(e,t),0>=i)return-28;var s=vr(t),l=Math.min(i,Ce(s)),_=P[n+l];return Ie(s,b,n,i+1),P[n+l]=_,l}catch(w){if(typeof z>"u"||w.name!=="ErrnoError")throw w;return-w.zf}},y:function(e){try{return e=e?I(b,e):"",yr(e),0}catch(t){if(typeof z>"u"||t.name!=="ErrnoError")throw t;return-t.zf}},K:function(e,t){try{return e=e?I(b,e):"",ft(_t,e,t)}catch(n){if(typeof z>"u"||n.name!=="ErrnoError")throw n;return-n.zf}},u:function(e,t,n){try{if(t=t?I(b,t):"",t=ke(e,t),n===0){e=t;var i=ne(e,{parent:!0}).node;if(!i)throw new q(44);var s=it(e),l=De(i,s),_=mr(i,s,!1);if(_)throw new q(_);if(!i.wf.Yf)throw new q(63);if(l.Lf)throw new q(10);i.wf.Yf(i,s),dr(l)}else n===512?yr(t):_e("Invalid flags passed to unlinkat");return 0}catch(w){if(typeof z>"u"||w.name!=="ErrnoError")throw w;return-w.zf}},t:function(e,t,n){try{if(t=t?I(b,t):"",t=ke(e,t,!0),n){var i=M[n>>2]+4294967296*E[n+4>>2],s=E[n+8>>2];l=1e3*i+s/1e6,n+=16,i=M[n>>2]+4294967296*E[n+4>>2],s=E[n+8>>2],_=1e3*i+s/1e6}else var l=Date.now(),_=l;e=l;var w=ne(t,{Jf:!0}).node;return w.wf.Bf(w,{timestamp:Math.max(e,_)}),0}catch(u){if(typeof z>"u"||u.name!=="ErrnoError")throw u;return-u.zf}},l:function(e,t,n){e=new Date(1e3*Ge(e,t)),E[n>>2]=e.getSeconds(),E[n+4>>2]=e.getMinutes(),E[n+8>>2]=e.getHours(),E[n+12>>2]=e.getDate(),E[n+16>>2]=e.getMonth(),E[n+20>>2]=e.getFullYear()-1900,E[n+24>>2]=e.getDay(),t=e.getFullYear(),E[n+28>>2]=(t%4!==0||t%100===0&&t%400!==0?ci:fi)[e.getMonth()]+e.getDate()-1|0,E[n+36>>2]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var i=new Date(e.getFullYear(),0,1).getTimezoneOffset();E[n+32>>2]=(t!=i&&e.getTimezoneOffset()==Math.min(i,t))|0},i:function(e,t,n,i,s,l,_,w){s=Ge(s,l);try{if(isNaN(s))return 61;var u=te(i);if(t&2&&!(n&2)&&(u.flags&2097155)!==2)throw new q(2);if((u.flags&2097155)===1)throw new q(2);if(!u.xf.Uf)throw new q(43);var f=u.xf.Uf(u,e,s,t,n),p=f.yg;return E[_>>2]=f.mg,M[w>>2]=p,0}catch(m){if(typeof z>"u"||m.name!=="ErrnoError")throw m;return-m.zf}},j:function(e,t,n,i,s,l,_){l=Ge(l,_);try{if(isNaN(l))return 61;var w=te(s);if(n&2){if((w.node.mode&61440)!==32768)throw new q(43);i&2||w.xf.Vf&&w.xf.Vf(w,b.slice(e,e+t),l,t,i)}}catch(u){if(typeof z>"u"||u.name!=="ErrnoError")throw u;return-u.zf}},w:(e,t,n)=>{function i(u){return(u=u.toTimeString().match(/\(([A-Za-z ]+)\)$/))?u[1]:"GMT"}var s=new Date().getFullYear(),l=new Date(s,0,1),_=new Date(s,6,1);s=l.getTimezoneOffset();var w=_.getTimezoneOffset();M[e>>2]=60*Math.max(s,w),E[t>>2]=+(s!=w),e=i(l),t=i(_),e=Cr(e),t=Cr(t),w<s?(M[n>>2]=e,M[n+4>>2]=t):(M[n>>2]=t,M[n+4>>2]=e)},e:()=>Date.now(),d:()=>performance.now(),r:e=>{var t=b.length;if(e>>>=0,2147483648<e)return!1;for(var n=1;4>=n;n*=2){var i=t*(1+.2/n);i=Math.min(i,e+100663296);var s=Math;i=Math.max(e,i);e:{s=(s.min.call(s,2147483648,i+(65536-i%65536)%65536)-Y.buffer.byteLength+65535)/65536;try{Y.grow(s),Qt();var l=1;break e}catch{}l=void 0}if(l)return!0}return!1},D:(e,t)=>{var n=0;return Ir().forEach((i,s)=>{var l=t+n;for(s=M[e+4*s>>2]=l,l=0;l<i.length;++l)P[s++>>0]=i.charCodeAt(l);P[s>>0]=0,n+=i.length+1}),0},E:(e,t)=>{var n=Ir();M[e>>2]=n.length;var i=0;return n.forEach(s=>i+=s.length+1),M[t>>2]=i,0},f:function(e){try{var t=te(e);if(t.Hf===null)throw new q(8);t.$f&&(t.$f=null);try{t.xf.close&&t.xf.close(t)}catch(n){throw n}finally{Qe[t.Hf]=null}return t.Hf=null,0}catch(n){if(typeof z>"u"||n.name!=="ErrnoError")throw n;return n.zf}},s:function(e,t){try{var n=te(e);return P[t>>0]=n.Df?2:ae(n.mode)?3:(n.mode&61440)===40960?7:4,pe[t+2>>1]=0,$=[0,(x=0,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[t+8>>2]=$[0],E[t+12>>2]=$[1],$=[0,(x=0,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[t+16>>2]=$[0],E[t+20>>2]=$[1],0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return i.zf}},A:function(e,t,n,i){try{e:{var s=te(e);e=t;for(var l,_=t=0;_<n;_++){var w=M[e>>2],u=M[e+4>>2];e+=8;var f=s,p=w,m=u,y=l,C=P;if(0>m||0>y)throw new q(28);if(f.Hf===null)throw new q(8);if((f.flags&2097155)===1)throw new q(8);if(ae(f.node.mode))throw new q(31);if(!f.xf.read)throw new q(28);var L=typeof y<"u";if(!L)y=f.position;else if(!f.seekable)throw new q(70);var Q=f.xf.read(f,C,p,m,y);L||(f.position+=Q);var B=Q;if(0>B){var ie=-1;break e}if(t+=B,B<u)break;typeof l<"u"&&(l+=B)}ie=t}return M[i>>2]=ie,0}catch(G){if(typeof z>"u"||G.name!=="ErrnoError")throw G;return G.zf}},m:function(e,t,n,i,s){t=Ge(t,n);try{if(isNaN(t))return 61;var l=te(e);return Ar(l,t,i),$=[l.position>>>0,(x=l.position,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)],E[s>>2]=$[0],E[s+4>>2]=$[1],l.$f&&t===0&&i===0&&(l.$f=null),0}catch(_){if(typeof z>"u"||_.name!=="ErrnoError")throw _;return _.zf}},H:function(e){try{var t=te(e);return yn(n=>{var i=t.node.Ff;i.type.Ag?i.type.Ag(i,!1,s=>{n(s?29:0)}):n(0)})}catch(n){if(typeof z>"u"||n.name!=="ErrnoError")throw n;return n.zf}},x:function(e,t,n,i){try{e:{var s=te(e);e=t;for(var l,_=t=0;_<n;_++){var w=M[e>>2],u=M[e+4>>2];e+=8;var f=s,p=w,m=u,y=l,C=P;if(0>m||0>y)throw new q(28);if(f.Hf===null)throw new q(8);if(!(f.flags&2097155))throw new q(8);if(ae(f.node.mode))throw new q(31);if(!f.xf.write)throw new q(28);f.seekable&&f.flags&1024&&Ar(f,0,2);var L=typeof y<"u";if(!L)y=f.position;else if(!f.seekable)throw new q(70);var Q=f.xf.write(f,C,p,m,y,void 0);L||(f.position+=Q);var B=Q;if(0>B){var ie=-1;break e}t+=B,typeof l<"u"&&(l+=B)}ie=t}return M[i>>2]=ie,0}catch(G){if(typeof z>"u"||G.name!=="ErrnoError")throw G;return G.zf}},ra:Dr,P:kr,ga:Tr,ca:Mr,Y:Lr,la:zr,G:$r,h:Nr,oa:Pr,ja:Ur,ea:Or,fa:Br,k:Fr,v:Vr,pa:Hr,g:Wr,qa:jr,da:Kr,ha:Qr,ia:Xr,na:Yr,c:Gr,ka:Jr,ma:Zr,aa:en,V:tn,$:rn,ba:nn,S:sn,U:on,Z:ln,X:_n,R:an,q:un,T:fn,_:cn,o:dn,W:hn,p:wn},o=function(){function e(n){return o=n.exports,o=di(),Y=o.sa,Qt(),Te=o.mf,Yt.unshift(o.ta),Se--,r.monitorRunDependencies&&r.monitorRunDependencies(Se),Se==0&&Ke&&(n=Ke,Ke=null,n()),o}var t={a:pi};if(Se++,r.monitorRunDependencies&&r.monitorRunDependencies(Se),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(n){F(`Module.instantiateWasm callback failed with error: ${n}`),d(n)}return ti(t,function(n){e(n.instance)}).catch(d),{}}();r._sqlite3_status64=(e,t,n,i)=>(r._sqlite3_status64=o.ua)(e,t,n,i),r._sqlite3_status=(e,t,n,i)=>(r._sqlite3_status=o.va)(e,t,n,i),r._sqlite3_db_status=(e,t,n,i,s)=>(r._sqlite3_db_status=o.wa)(e,t,n,i,s),r._sqlite3_msize=e=>(r._sqlite3_msize=o.xa)(e),r._sqlite3_vfs_find=e=>(r._sqlite3_vfs_find=o.ya)(e),r._sqlite3_vfs_register=(e,t)=>(r._sqlite3_vfs_register=o.za)(e,t),r._sqlite3_vfs_unregister=e=>(r._sqlite3_vfs_unregister=o.Aa)(e),r._sqlite3_release_memory=e=>(r._sqlite3_release_memory=o.Ba)(e),r._sqlite3_soft_heap_limit64=(e,t)=>(r._sqlite3_soft_heap_limit64=o.Ca)(e,t),r._sqlite3_memory_used=()=>(r._sqlite3_memory_used=o.Da)(),r._sqlite3_hard_heap_limit64=(e,t)=>(r._sqlite3_hard_heap_limit64=o.Ea)(e,t),r._sqlite3_memory_highwater=e=>(r._sqlite3_memory_highwater=o.Fa)(e),r._sqlite3_malloc=e=>(r._sqlite3_malloc=o.Ga)(e),r._sqlite3_malloc64=(e,t)=>(r._sqlite3_malloc64=o.Ha)(e,t),r._sqlite3_free=e=>(r._sqlite3_free=o.Ia)(e),r._sqlite3_realloc=(e,t)=>(r._sqlite3_realloc=o.Ja)(e,t),r._sqlite3_realloc64=(e,t,n)=>(r._sqlite3_realloc64=o.Ka)(e,t,n),r._sqlite3_str_vappendf=(e,t,n)=>(r._sqlite3_str_vappendf=o.La)(e,t,n),r._sqlite3_str_append=(e,t,n)=>(r._sqlite3_str_append=o.Ma)(e,t,n),r._sqlite3_str_appendchar=(e,t,n)=>(r._sqlite3_str_appendchar=o.Na)(e,t,n),r._sqlite3_str_appendall=(e,t)=>(r._sqlite3_str_appendall=o.Oa)(e,t),r._sqlite3_str_appendf=(e,t,n)=>(r._sqlite3_str_appendf=o.Pa)(e,t,n),r._sqlite3_str_finish=e=>(r._sqlite3_str_finish=o.Qa)(e),r._sqlite3_str_errcode=e=>(r._sqlite3_str_errcode=o.Ra)(e),r._sqlite3_str_length=e=>(r._sqlite3_str_length=o.Sa)(e),r._sqlite3_str_value=e=>(r._sqlite3_str_value=o.Ta)(e),r._sqlite3_str_reset=e=>(r._sqlite3_str_reset=o.Ua)(e),r._sqlite3_str_new=e=>(r._sqlite3_str_new=o.Va)(e),r._sqlite3_vmprintf=(e,t)=>(r._sqlite3_vmprintf=o.Wa)(e,t),r._sqlite3_mprintf=(e,t)=>(r._sqlite3_mprintf=o.Xa)(e,t),r._sqlite3_vsnprintf=(e,t,n,i)=>(r._sqlite3_vsnprintf=o.Ya)(e,t,n,i),r._sqlite3_snprintf=(e,t,n,i)=>(r._sqlite3_snprintf=o.Za)(e,t,n,i),r._sqlite3_log=(e,t,n)=>(r._sqlite3_log=o._a)(e,t,n),r._sqlite3_randomness=(e,t)=>(r._sqlite3_randomness=o.$a)(e,t),r._sqlite3_stricmp=(e,t)=>(r._sqlite3_stricmp=o.ab)(e,t),r._sqlite3_strnicmp=(e,t,n)=>(r._sqlite3_strnicmp=o.bb)(e,t,n),r._sqlite3_os_init=()=>(r._sqlite3_os_init=o.cb)(),r._sqlite3_os_end=()=>(r._sqlite3_os_end=o.db)(),r._sqlite3_serialize=(e,t,n,i)=>(r._sqlite3_serialize=o.eb)(e,t,n,i),r._sqlite3_prepare_v2=(e,t,n,i,s)=>(r._sqlite3_prepare_v2=o.fb)(e,t,n,i,s),r._sqlite3_step=e=>(r._sqlite3_step=o.gb)(e),r._sqlite3_column_int64=(e,t)=>(r._sqlite3_column_int64=o.hb)(e,t),r._sqlite3_column_int=(e,t)=>(r._sqlite3_column_int=o.ib)(e,t),r._sqlite3_finalize=e=>(r._sqlite3_finalize=o.jb)(e),r._sqlite3_deserialize=(e,t,n,i,s,l,_,w)=>(r._sqlite3_deserialize=o.kb)(e,t,n,i,s,l,_,w),r._sqlite3_database_file_object=e=>(r._sqlite3_database_file_object=o.lb)(e),r._sqlite3_backup_init=(e,t,n,i)=>(r._sqlite3_backup_init=o.mb)(e,t,n,i),r._sqlite3_backup_step=(e,t)=>(r._sqlite3_backup_step=o.nb)(e,t),r._sqlite3_backup_finish=e=>(r._sqlite3_backup_finish=o.ob)(e),r._sqlite3_backup_remaining=e=>(r._sqlite3_backup_remaining=o.pb)(e),r._sqlite3_backup_pagecount=e=>(r._sqlite3_backup_pagecount=o.qb)(e),r._sqlite3_reset=e=>(r._sqlite3_reset=o.rb)(e),r._sqlite3_clear_bindings=e=>(r._sqlite3_clear_bindings=o.sb)(e),r._sqlite3_value_blob=e=>(r._sqlite3_value_blob=o.tb)(e),r._sqlite3_value_text=e=>(r._sqlite3_value_text=o.ub)(e),r._sqlite3_value_bytes=e=>(r._sqlite3_value_bytes=o.vb)(e),r._sqlite3_value_bytes16=e=>(r._sqlite3_value_bytes16=o.wb)(e),r._sqlite3_value_double=e=>(r._sqlite3_value_double=o.xb)(e),r._sqlite3_value_int=e=>(r._sqlite3_value_int=o.yb)(e),r._sqlite3_value_int64=e=>(r._sqlite3_value_int64=o.zb)(e),r._sqlite3_value_subtype=e=>(r._sqlite3_value_subtype=o.Ab)(e),r._sqlite3_value_pointer=(e,t)=>(r._sqlite3_value_pointer=o.Bb)(e,t),r._sqlite3_value_text16=e=>(r._sqlite3_value_text16=o.Cb)(e),r._sqlite3_value_text16be=e=>(r._sqlite3_value_text16be=o.Db)(e),r._sqlite3_value_text16le=e=>(r._sqlite3_value_text16le=o.Eb)(e),r._sqlite3_value_type=e=>(r._sqlite3_value_type=o.Fb)(e),r._sqlite3_value_encoding=e=>(r._sqlite3_value_encoding=o.Gb)(e),r._sqlite3_value_nochange=e=>(r._sqlite3_value_nochange=o.Hb)(e),r._sqlite3_value_frombind=e=>(r._sqlite3_value_frombind=o.Ib)(e),r._sqlite3_value_dup=e=>(r._sqlite3_value_dup=o.Jb)(e),r._sqlite3_value_free=e=>(r._sqlite3_value_free=o.Kb)(e),r._sqlite3_result_blob=(e,t,n,i)=>(r._sqlite3_result_blob=o.Lb)(e,t,n,i),r._sqlite3_result_blob64=(e,t,n,i,s)=>(r._sqlite3_result_blob64=o.Mb)(e,t,n,i,s),r._sqlite3_result_double=(e,t)=>(r._sqlite3_result_double=o.Nb)(e,t),r._sqlite3_result_error=(e,t,n)=>(r._sqlite3_result_error=o.Ob)(e,t,n),r._sqlite3_result_error16=(e,t,n)=>(r._sqlite3_result_error16=o.Pb)(e,t,n),r._sqlite3_result_int=(e,t)=>(r._sqlite3_result_int=o.Qb)(e,t),r._sqlite3_result_int64=(e,t,n)=>(r._sqlite3_result_int64=o.Rb)(e,t,n),r._sqlite3_result_null=e=>(r._sqlite3_result_null=o.Sb)(e),r._sqlite3_result_pointer=(e,t,n,i)=>(r._sqlite3_result_pointer=o.Tb)(e,t,n,i),r._sqlite3_result_subtype=(e,t)=>(r._sqlite3_result_subtype=o.Ub)(e,t),r._sqlite3_result_text=(e,t,n,i)=>(r._sqlite3_result_text=o.Vb)(e,t,n,i),r._sqlite3_result_text64=(e,t,n,i,s,l)=>(r._sqlite3_result_text64=o.Wb)(e,t,n,i,s,l),r._sqlite3_result_text16=(e,t,n,i)=>(r._sqlite3_result_text16=o.Xb)(e,t,n,i),r._sqlite3_result_text16be=(e,t,n,i)=>(r._sqlite3_result_text16be=o.Yb)(e,t,n,i),r._sqlite3_result_text16le=(e,t,n,i)=>(r._sqlite3_result_text16le=o.Zb)(e,t,n,i),r._sqlite3_result_value=(e,t)=>(r._sqlite3_result_value=o._b)(e,t),r._sqlite3_result_error_toobig=e=>(r._sqlite3_result_error_toobig=o.$b)(e),r._sqlite3_result_zeroblob=(e,t)=>(r._sqlite3_result_zeroblob=o.ac)(e,t),r._sqlite3_result_zeroblob64=(e,t,n)=>(r._sqlite3_result_zeroblob64=o.bc)(e,t,n),r._sqlite3_result_error_code=(e,t)=>(r._sqlite3_result_error_code=o.cc)(e,t),r._sqlite3_result_error_nomem=e=>(r._sqlite3_result_error_nomem=o.dc)(e),r._sqlite3_user_data=e=>(r._sqlite3_user_data=o.ec)(e),r._sqlite3_context_db_handle=e=>(r._sqlite3_context_db_handle=o.fc)(e),r._sqlite3_vtab_nochange=e=>(r._sqlite3_vtab_nochange=o.gc)(e),r._sqlite3_vtab_in_first=(e,t)=>(r._sqlite3_vtab_in_first=o.hc)(e,t),r._sqlite3_vtab_in_next=(e,t)=>(r._sqlite3_vtab_in_next=o.ic)(e,t),r._sqlite3_aggregate_context=(e,t)=>(r._sqlite3_aggregate_context=o.jc)(e,t),r._sqlite3_get_auxdata=(e,t)=>(r._sqlite3_get_auxdata=o.kc)(e,t),r._sqlite3_set_auxdata=(e,t,n,i)=>(r._sqlite3_set_auxdata=o.lc)(e,t,n,i),r._sqlite3_column_count=e=>(r._sqlite3_column_count=o.mc)(e),r._sqlite3_data_count=e=>(r._sqlite3_data_count=o.nc)(e),r._sqlite3_column_blob=(e,t)=>(r._sqlite3_column_blob=o.oc)(e,t),r._sqlite3_column_bytes=(e,t)=>(r._sqlite3_column_bytes=o.pc)(e,t),r._sqlite3_column_bytes16=(e,t)=>(r._sqlite3_column_bytes16=o.qc)(e,t),r._sqlite3_column_double=(e,t)=>(r._sqlite3_column_double=o.rc)(e,t),r._sqlite3_column_text=(e,t)=>(r._sqlite3_column_text=o.sc)(e,t),r._sqlite3_column_value=(e,t)=>(r._sqlite3_column_value=o.tc)(e,t),r._sqlite3_column_text16=(e,t)=>(r._sqlite3_column_text16=o.uc)(e,t),r._sqlite3_column_type=(e,t)=>(r._sqlite3_column_type=o.vc)(e,t),r._sqlite3_column_name=(e,t)=>(r._sqlite3_column_name=o.wc)(e,t),r._sqlite3_column_name16=(e,t)=>(r._sqlite3_column_name16=o.xc)(e,t),r._sqlite3_bind_blob=(e,t,n,i,s)=>(r._sqlite3_bind_blob=o.yc)(e,t,n,i,s),r._sqlite3_bind_blob64=(e,t,n,i,s,l)=>(r._sqlite3_bind_blob64=o.zc)(e,t,n,i,s,l),r._sqlite3_bind_double=(e,t,n)=>(r._sqlite3_bind_double=o.Ac)(e,t,n),r._sqlite3_bind_int=(e,t,n)=>(r._sqlite3_bind_int=o.Bc)(e,t,n),r._sqlite3_bind_int64=(e,t,n,i)=>(r._sqlite3_bind_int64=o.Cc)(e,t,n,i),r._sqlite3_bind_null=(e,t)=>(r._sqlite3_bind_null=o.Dc)(e,t),r._sqlite3_bind_pointer=(e,t,n,i,s)=>(r._sqlite3_bind_pointer=o.Ec)(e,t,n,i,s),r._sqlite3_bind_text=(e,t,n,i,s)=>(r._sqlite3_bind_text=o.Fc)(e,t,n,i,s),r._sqlite3_bind_text64=(e,t,n,i,s,l,_)=>(r._sqlite3_bind_text64=o.Gc)(e,t,n,i,s,l,_),r._sqlite3_bind_text16=(e,t,n,i,s)=>(r._sqlite3_bind_text16=o.Hc)(e,t,n,i,s),r._sqlite3_bind_value=(e,t,n)=>(r._sqlite3_bind_value=o.Ic)(e,t,n),r._sqlite3_bind_zeroblob=(e,t,n)=>(r._sqlite3_bind_zeroblob=o.Jc)(e,t,n),r._sqlite3_bind_zeroblob64=(e,t,n,i)=>(r._sqlite3_bind_zeroblob64=o.Kc)(e,t,n,i),r._sqlite3_bind_parameter_count=e=>(r._sqlite3_bind_parameter_count=o.Lc)(e),r._sqlite3_bind_parameter_name=(e,t)=>(r._sqlite3_bind_parameter_name=o.Mc)(e,t),r._sqlite3_bind_parameter_index=(e,t)=>(r._sqlite3_bind_parameter_index=o.Nc)(e,t),r._sqlite3_db_handle=e=>(r._sqlite3_db_handle=o.Oc)(e),r._sqlite3_stmt_readonly=e=>(r._sqlite3_stmt_readonly=o.Pc)(e),r._sqlite3_stmt_isexplain=e=>(r._sqlite3_stmt_isexplain=o.Qc)(e),r._sqlite3_stmt_explain=(e,t)=>(r._sqlite3_stmt_explain=o.Rc)(e,t),r._sqlite3_stmt_busy=e=>(r._sqlite3_stmt_busy=o.Sc)(e),r._sqlite3_next_stmt=(e,t)=>(r._sqlite3_next_stmt=o.Tc)(e,t),r._sqlite3_stmt_status=(e,t,n)=>(r._sqlite3_stmt_status=o.Uc)(e,t,n),r._sqlite3_sql=e=>(r._sqlite3_sql=o.Vc)(e),r._sqlite3_expanded_sql=e=>(r._sqlite3_expanded_sql=o.Wc)(e),r._sqlite3_value_numeric_type=e=>(r._sqlite3_value_numeric_type=o.Xc)(e),r._sqlite3_blob_open=(e,t,n,i,s,l,_,w)=>(r._sqlite3_blob_open=o.Yc)(e,t,n,i,s,l,_,w),r._sqlite3_blob_close=e=>(r._sqlite3_blob_close=o.Zc)(e),r._sqlite3_blob_read=(e,t,n,i)=>(r._sqlite3_blob_read=o._c)(e,t,n,i),r._sqlite3_blob_write=(e,t,n,i)=>(r._sqlite3_blob_write=o.$c)(e,t,n,i),r._sqlite3_blob_bytes=e=>(r._sqlite3_blob_bytes=o.ad)(e),r._sqlite3_blob_reopen=(e,t,n)=>(r._sqlite3_blob_reopen=o.bd)(e,t,n),r._sqlite3_set_authorizer=(e,t,n)=>(r._sqlite3_set_authorizer=o.cd)(e,t,n),r._sqlite3_strglob=(e,t)=>(r._sqlite3_strglob=o.dd)(e,t),r._sqlite3_strlike=(e,t,n)=>(r._sqlite3_strlike=o.ed)(e,t,n),r._sqlite3_exec=(e,t,n,i,s)=>(r._sqlite3_exec=o.fd)(e,t,n,i,s),r._sqlite3_errmsg=e=>(r._sqlite3_errmsg=o.gd)(e),r._sqlite3_auto_extension=e=>(r._sqlite3_auto_extension=o.hd)(e),r._sqlite3_cancel_auto_extension=e=>(r._sqlite3_cancel_auto_extension=o.id)(e),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=o.jd)(),r._sqlite3_prepare=(e,t,n,i,s)=>(r._sqlite3_prepare=o.kd)(e,t,n,i,s),r._sqlite3_prepare_v3=(e,t,n,i,s,l)=>(r._sqlite3_prepare_v3=o.ld)(e,t,n,i,s,l),r._sqlite3_prepare16=(e,t,n,i,s)=>(r._sqlite3_prepare16=o.md)(e,t,n,i,s),r._sqlite3_prepare16_v2=(e,t,n,i,s)=>(r._sqlite3_prepare16_v2=o.nd)(e,t,n,i,s),r._sqlite3_prepare16_v3=(e,t,n,i,s,l)=>(r._sqlite3_prepare16_v3=o.od)(e,t,n,i,s,l),r._sqlite3_get_table=(e,t,n,i,s,l)=>(r._sqlite3_get_table=o.pd)(e,t,n,i,s,l),r._sqlite3_free_table=e=>(r._sqlite3_free_table=o.qd)(e),r._sqlite3_create_module=(e,t,n,i)=>(r._sqlite3_create_module=o.rd)(e,t,n,i),r._sqlite3_create_module_v2=(e,t,n,i,s)=>(r._sqlite3_create_module_v2=o.sd)(e,t,n,i,s),r._sqlite3_drop_modules=(e,t)=>(r._sqlite3_drop_modules=o.td)(e,t),r._sqlite3_declare_vtab=(e,t)=>(r._sqlite3_declare_vtab=o.ud)(e,t),r._sqlite3_vtab_on_conflict=e=>(r._sqlite3_vtab_on_conflict=o.vd)(e),r._sqlite3_vtab_config=(e,t,n)=>(r._sqlite3_vtab_config=o.wd)(e,t,n),r._sqlite3_vtab_collation=(e,t)=>(r._sqlite3_vtab_collation=o.xd)(e,t),r._sqlite3_vtab_in=(e,t,n)=>(r._sqlite3_vtab_in=o.yd)(e,t,n),r._sqlite3_vtab_rhs_value=(e,t,n)=>(r._sqlite3_vtab_rhs_value=o.zd)(e,t,n),r._sqlite3_vtab_distinct=e=>(r._sqlite3_vtab_distinct=o.Ad)(e),r._sqlite3_keyword_name=(e,t,n)=>(r._sqlite3_keyword_name=o.Bd)(e,t,n),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=o.Cd)(),r._sqlite3_keyword_check=(e,t)=>(r._sqlite3_keyword_check=o.Dd)(e,t),r._sqlite3_complete=e=>(r._sqlite3_complete=o.Ed)(e),r._sqlite3_complete16=e=>(r._sqlite3_complete16=o.Fd)(e),r._sqlite3_libversion=()=>(r._sqlite3_libversion=o.Gd)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=o.Hd)(),r._sqlite3_threadsafe=()=>(r._sqlite3_threadsafe=o.Id)(),r._sqlite3_initialize=()=>(r._sqlite3_initialize=o.Jd)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=o.Kd)(),r._sqlite3_config=(e,t)=>(r._sqlite3_config=o.Ld)(e,t),r._sqlite3_db_mutex=e=>(r._sqlite3_db_mutex=o.Md)(e),r._sqlite3_db_release_memory=e=>(r._sqlite3_db_release_memory=o.Nd)(e),r._sqlite3_db_cacheflush=e=>(r._sqlite3_db_cacheflush=o.Od)(e),r._sqlite3_db_config=(e,t,n)=>(r._sqlite3_db_config=o.Pd)(e,t,n),r._sqlite3_last_insert_rowid=e=>(r._sqlite3_last_insert_rowid=o.Qd)(e),r._sqlite3_set_last_insert_rowid=(e,t,n)=>(r._sqlite3_set_last_insert_rowid=o.Rd)(e,t,n),r._sqlite3_changes64=e=>(r._sqlite3_changes64=o.Sd)(e),r._sqlite3_changes=e=>(r._sqlite3_changes=o.Td)(e),r._sqlite3_total_changes64=e=>(r._sqlite3_total_changes64=o.Ud)(e),r._sqlite3_total_changes=e=>(r._sqlite3_total_changes=o.Vd)(e),r._sqlite3_txn_state=(e,t)=>(r._sqlite3_txn_state=o.Wd)(e,t),r._sqlite3_close=e=>(r._sqlite3_close=o.Xd)(e),r._sqlite3_close_v2=e=>(r._sqlite3_close_v2=o.Yd)(e),r._sqlite3_busy_handler=(e,t,n)=>(r._sqlite3_busy_handler=o.Zd)(e,t,n),r._sqlite3_progress_handler=(e,t,n,i)=>(r._sqlite3_progress_handler=o._d)(e,t,n,i),r._sqlite3_busy_timeout=(e,t)=>(r._sqlite3_busy_timeout=o.$d)(e,t),r._sqlite3_interrupt=e=>(r._sqlite3_interrupt=o.ae)(e),r._sqlite3_is_interrupted=e=>(r._sqlite3_is_interrupted=o.be)(e),r._sqlite3_create_function=(e,t,n,i,s,l,_,w)=>(r._sqlite3_create_function=o.ce)(e,t,n,i,s,l,_,w),r._sqlite3_create_function_v2=(e,t,n,i,s,l,_,w,u)=>(r._sqlite3_create_function_v2=o.de)(e,t,n,i,s,l,_,w,u),r._sqlite3_create_window_function=(e,t,n,i,s,l,_,w,u,f)=>(r._sqlite3_create_window_function=o.ee)(e,t,n,i,s,l,_,w,u,f),r._sqlite3_create_function16=(e,t,n,i,s,l,_,w)=>(r._sqlite3_create_function16=o.fe)(e,t,n,i,s,l,_,w),r._sqlite3_overload_function=(e,t,n)=>(r._sqlite3_overload_function=o.ge)(e,t,n),r._sqlite3_trace_v2=(e,t,n,i)=>(r._sqlite3_trace_v2=o.he)(e,t,n,i),r._sqlite3_commit_hook=(e,t,n)=>(r._sqlite3_commit_hook=o.ie)(e,t,n),r._sqlite3_update_hook=(e,t,n)=>(r._sqlite3_update_hook=o.je)(e,t,n),r._sqlite3_rollback_hook=(e,t,n)=>(r._sqlite3_rollback_hook=o.ke)(e,t,n),r._sqlite3_autovacuum_pages=(e,t,n,i)=>(r._sqlite3_autovacuum_pages=o.le)(e,t,n,i),r._sqlite3_wal_autocheckpoint=(e,t)=>(r._sqlite3_wal_autocheckpoint=o.me)(e,t),r._sqlite3_wal_hook=(e,t,n)=>(r._sqlite3_wal_hook=o.ne)(e,t,n),r._sqlite3_wal_checkpoint_v2=(e,t,n,i,s)=>(r._sqlite3_wal_checkpoint_v2=o.oe)(e,t,n,i,s),r._sqlite3_wal_checkpoint=(e,t)=>(r._sqlite3_wal_checkpoint=o.pe)(e,t),r._sqlite3_error_offset=e=>(r._sqlite3_error_offset=o.qe)(e),r._sqlite3_errmsg16=e=>(r._sqlite3_errmsg16=o.re)(e),r._sqlite3_errcode=e=>(r._sqlite3_errcode=o.se)(e),r._sqlite3_extended_errcode=e=>(r._sqlite3_extended_errcode=o.te)(e),r._sqlite3_system_errno=e=>(r._sqlite3_system_errno=o.ue)(e),r._sqlite3_errstr=e=>(r._sqlite3_errstr=o.ve)(e),r._sqlite3_limit=(e,t,n)=>(r._sqlite3_limit=o.we)(e,t,n),r._sqlite3_open=(e,t)=>(r._sqlite3_open=o.xe)(e,t),r._sqlite3_open_v2=(e,t,n,i)=>(r._sqlite3_open_v2=o.ye)(e,t,n,i),r._sqlite3_open16=(e,t)=>(r._sqlite3_open16=o.ze)(e,t),r._sqlite3_create_collation=(e,t,n,i,s)=>(r._sqlite3_create_collation=o.Ae)(e,t,n,i,s),r._sqlite3_create_collation_v2=(e,t,n,i,s,l)=>(r._sqlite3_create_collation_v2=o.Be)(e,t,n,i,s,l),r._sqlite3_create_collation16=(e,t,n,i,s)=>(r._sqlite3_create_collation16=o.Ce)(e,t,n,i,s),r._sqlite3_collation_needed=(e,t,n)=>(r._sqlite3_collation_needed=o.De)(e,t,n),r._sqlite3_collation_needed16=(e,t,n)=>(r._sqlite3_collation_needed16=o.Ee)(e,t,n),r._sqlite3_get_clientdata=(e,t)=>(r._sqlite3_get_clientdata=o.Fe)(e,t),r._sqlite3_set_clientdata=(e,t,n,i)=>(r._sqlite3_set_clientdata=o.Ge)(e,t,n,i),r._sqlite3_get_autocommit=e=>(r._sqlite3_get_autocommit=o.He)(e),r._sqlite3_table_column_metadata=(e,t,n,i,s,l,_,w,u)=>(r._sqlite3_table_column_metadata=o.Ie)(e,t,n,i,s,l,_,w,u),r._sqlite3_sleep=e=>(r._sqlite3_sleep=o.Je)(e),r._sqlite3_extended_result_codes=(e,t)=>(r._sqlite3_extended_result_codes=o.Ke)(e,t),r._sqlite3_file_control=(e,t,n,i)=>(r._sqlite3_file_control=o.Le)(e,t,n,i),r._sqlite3_test_control=(e,t)=>(r._sqlite3_test_control=o.Me)(e,t),r._sqlite3_create_filename=(e,t,n,i,s)=>(r._sqlite3_create_filename=o.Ne)(e,t,n,i,s),r._sqlite3_free_filename=e=>(r._sqlite3_free_filename=o.Oe)(e),r._sqlite3_uri_parameter=(e,t)=>(r._sqlite3_uri_parameter=o.Pe)(e,t),r._sqlite3_uri_key=(e,t)=>(r._sqlite3_uri_key=o.Qe)(e,t),r._sqlite3_uri_boolean=(e,t,n)=>(r._sqlite3_uri_boolean=o.Re)(e,t,n),r._sqlite3_uri_int64=(e,t,n,i)=>(r._sqlite3_uri_int64=o.Se)(e,t,n,i),r._sqlite3_filename_database=e=>(r._sqlite3_filename_database=o.Te)(e),r._sqlite3_filename_journal=e=>(r._sqlite3_filename_journal=o.Ue)(e),r._sqlite3_filename_wal=e=>(r._sqlite3_filename_wal=o.Ve)(e),r._sqlite3_db_name=(e,t)=>(r._sqlite3_db_name=o.We)(e,t),r._sqlite3_db_filename=(e,t)=>(r._sqlite3_db_filename=o.Xe)(e,t),r._sqlite3_db_readonly=(e,t)=>(r._sqlite3_db_readonly=o.Ye)(e,t),r._sqlite3_compileoption_used=e=>(r._sqlite3_compileoption_used=o.Ze)(e),r._sqlite3_compileoption_get=e=>(r._sqlite3_compileoption_get=o._e)(e),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=o.$e)();var An=()=>(An=o.af)(),Bt=r._malloc=e=>(Bt=r._malloc=o.bf)(e),Sn=r._free=e=>(Sn=r._free=o.cf)(e);r._RegisterExtensionFunctions=e=>(r._RegisterExtensionFunctions=o.df)(e),r._set_authorizer=e=>(r._set_authorizer=o.ef)(e),r._create_function=(e,t,n,i,s,l)=>(r._create_function=o.ff)(e,t,n,i,s,l),r._create_module=(e,t,n,i)=>(r._create_module=o.gf)(e,t,n,i),r._progress_handler=(e,t)=>(r._progress_handler=o.hf)(e,t),r._register_vfs=(e,t,n,i)=>(r._register_vfs=o.jf)(e,t,n,i),r._getSqliteFree=()=>(r._getSqliteFree=o.kf)();var Rn=r._main=(e,t)=>(Rn=r._main=o.lf)(e,t),Cn=(e,t)=>(Cn=o.nf)(e,t),In=()=>(In=o.of)(),Dn=()=>(Dn=o.pf)(),kn=e=>(kn=o.qf)(e),Ft=e=>(Ft=o.rf)(e),Tn=e=>(Tn=o.sf)(e),Mn=()=>(Mn=o.tf)(),Ln=e=>(Ln=o.uf)(e),zn=()=>(zn=o.vf)();r._sqlite3_version=3232,r.getTempRet0=In,r.ccall=we,r.cwrap=(e,t,n,i)=>{var s=!n||n.every(l=>l==="number"||l==="boolean");return t!=="string"&&s&&!i?r["_"+e]:function(){return we(e,t,n,arguments,i)}},r.addFunction=(e,t)=>{if(!Oe){Oe=new WeakMap;var n=Te.length;if(Oe)for(var i=0;i<0+n;i++){var s=Te.get(i);s&&Oe.set(s,i)}}if(n=Oe.get(e)||0)return n;if(bn.length)n=bn.pop();else{try{Te.grow(1)}catch(w){throw w instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":w}n=Te.length-1}try{Te.set(n,e)}catch(w){if(!(w instanceof TypeError))throw w;if(typeof WebAssembly.Function=="function"){i=WebAssembly.Function,s={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var l={parameters:[],results:t[0]=="v"?[]:[s[t[0]]]},_=1;_<t.length;++_)l.parameters.push(s[t[_]]);t=new i(l,e)}else{for(i=[1],s=t.slice(0,1),t=t.slice(1),l={i:127,p:127,j:126,f:125,d:124,e:111},i.push(96),_=t.length,128>_?i.push(_):i.push(_%128|128,_>>7),_=0;_<t.length;++_)i.push(l[t[_]]);s=="v"?i.push(0):i.push(1,l[s]),t=[0,97,115,109,1,0,0,0,1],s=i.length,128>s?t.push(s):t.push(s%128|128,s>>7),t.push.apply(t,i),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}Te.set(n,t)}return Oe.set(e,n),n},r.setValue=ce,r.getValue=K,r.UTF8ToString=(e,t)=>e?I(b,e,t):"",r.stringToUTF8=(e,t,n)=>Ie(e,b,t,n),r.lengthBytesUTF8=Ce,r.intArrayFromString=lr,r.intArrayToString=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];255<i&&(i&=255),t.push(String.fromCharCode(i))}return t.join("")},r.AsciiToString=e=>{for(var t="";;){var n=b[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}},r.UTF16ToString=(e,t)=>{for(var n=e>>1,i=n+t/2;!(n>=i)&&Kt[n];)++n;if(n<<=1,32<n-e&&En)return En.decode(b.subarray(e,n));for(n="",i=0;!(i>=t/2);++i){var s=pe[e+2*i>>1];if(s==0)break;n+=String.fromCharCode(s)}return n},r.stringToUTF16=(e,t,n)=>{if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var i=t;n=n<2*e.length?n/2:e.length;for(var s=0;s<n;++s)pe[t>>1]=e.charCodeAt(s),t+=2;return pe[t>>1]=0,t-i},r.UTF32ToString=(e,t)=>{for(var n=0,i="";!(n>=t/4);){var s=E[e+4*n>>2];if(s==0)break;++n,65536<=s?(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023)):i+=String.fromCharCode(s)}return i},r.stringToUTF32=(e,t,n)=>{if(n===void 0&&(n=2147483647),4>n)return 0;var i=t;n=i+n-4;for(var s=0;s<e.length;++s){var l=e.charCodeAt(s);if(55296<=l&&57343>=l){var _=e.charCodeAt(++s);l=65536+((l&1023)<<10)|_&1023}if(E[t>>2]=l,t+=4,t+4>n)break}return E[t>>2]=0,t-i},r.writeArrayToMemory=(e,t)=>{P.set(e,t)};var mt;Ke=function e(){mt||$n(),mt||(Ke=e)};function $n(){function e(){if(!mt&&(mt=!0,r.calledRun=!0,!j)){if(r.noFSInit||Rr||(Rr=!0,Sr(),r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?Xe("stdin",r.stdin):Lt("/dev/tty","/dev/stdin"),r.stdout?Xe("stdout",null,r.stdout):Lt("/dev/tty","/dev/stdout"),r.stderr?Xe("stderr",null,r.stderr):Lt("/dev/tty1","/dev/stderr"),at("/dev/stdin",0),at("/dev/stdout",1),at("/dev/stderr",1)),cr=!1,nt(Yt),nt(Jn),g(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Nn){var t=Rn;try{var n=t(0,0);fe=n,gn(n)}catch(i){Pt(i)}}if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)t=r.postRun.shift(),Gt.unshift(t);nt(Gt)}}if(!(0<Se)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Zn();nt(Xt),0<Se||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),e()},1)):e())}}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();var Nn=!0;return r.noInitialRun&&(Nn=!1),$n(),a.ready}})(),$i=zi,Ni=Fe|Me|pt|Li|qt,J,He,Je,Ze,Wt,yt,jn,vt,Kn,Bn,Pi=(Bn=class{constructor(){k(this,Ze);k(this,yt);k(this,vt);k(this,J,Fe);Pn(this,"timeoutMillis",0);k(this,He,new Map);k(this,Je,Promise.resolve(0))}get state(){return h(this,J)}async lock(c){return ee(this,Ze,Wt).call(this,ee(this,yt,jn),c)}async unlock(c){return ee(this,Ze,Wt).call(this,ee(this,vt,Kn),c)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(c,a){return new Promise(async(r,g)=>{try{await navigator.locks.request(c,a,d=>{if(r(d),d)return new Promise(v=>h(this,He).set(c,v))})}catch(d){g(d)}})}_releaseWebLock(c){h(this,He).get(c)?.(),h(this,He).delete(c)}async _pollWebLock(c){return(await navigator.locks.query()).held.find(({name:r})=>r===c)?.mode}_getTimeoutSignal(){if(this.timeoutMillis){const c=new AbortController;return setTimeout(()=>c.abort(),this.timeoutMillis),c.signal}}},J=new WeakMap,He=new WeakMap,Je=new WeakMap,Ze=new WeakSet,Wt=async function(c,a){const r=a&Ni;try{const g=()=>c.call(this,r);return await D(this,Je,h(this,Je).then(g,g)),D(this,J,r),U}catch(g){return g.name==="AbortError"?Ti:(console.error(g),Mi)}},yt=new WeakSet,jn=async function(c){if(c===h(this,J))return U;switch(h(this,J)){case Fe:switch(c){case Me:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}case Me:switch(c){case pt:return this._SHAREDtoRESERVED();case qt:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}case pt:switch(c){case qt:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}},vt=new WeakSet,Kn=async function(c){if(c===h(this,J))return U;switch(h(this,J)){case qt:switch(c){case Me:return this._EXCLUSIVEtoSHARED();case Fe:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}case pt:switch(c){case Me:return this._RESERVEDtoSHARED();case Fe:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}case Me:switch(c){case Fe:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}default:throw new Error(`unexpected transition ${h(this,J)} -> ${c}`)}},Bn),Ui=class extends Pi{constructor(c){super(),this._lockName=c+"-outer",this._reservedName=c+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}},Oi=5e3,Bi=0,Ht=new WeakMap;function ge(...c){}var We,je,et,X,tt,Le,ze,bt,Qn,Fn,Fi=(Fn=class{constructor(c,a={durability:"default"}){k(this,bt);k(this,We,void 0);k(this,je,void 0);k(this,et,void 0);k(this,X,null);k(this,tt,0);k(this,Le,Promise.resolve());k(this,ze,Promise.resolve());D(this,je,Promise.resolve(c).then(r=>D(this,We,r))),D(this,et,a)}async close(){const c=h(this,We)??await h(this,je);await h(this,Le),await this.sync(),c.close()}async run(c,a){const r=h(this,Le).then(()=>ee(this,bt,Qn).call(this,c,a));return D(this,Le,r.catch(()=>{})),r}async sync(){await h(this,Le),await h(this,ze),D(this,ze,Promise.resolve())}},We=new WeakMap,je=new WeakMap,et=new WeakMap,X=new WeakMap,tt=new WeakMap,Le=new WeakMap,ze=new WeakMap,bt=new WeakSet,Qn=async function(c,a){const r=h(this,We)??await h(this,je);if(c==="readwrite"&&h(this,X)?.mode==="readonly")D(this,X,null);else if(performance.now()-h(this,tt)>Oi){try{h(this,X)?.commit()}catch(g){if(g.name!=="InvalidStateError")throw g}await new Promise(g=>setTimeout(g)),D(this,X,null)}for(let g=0;g<2;++g){if(!h(this,X)){D(this,X,r.transaction(r.objectStoreNames,c,h(this,et)));const d=D(this,tt,performance.now());D(this,ze,h(this,ze).then(()=>new Promise((v,R)=>{h(this,X).addEventListener("complete",A=>{v(),h(this,X)===A.target&&D(this,X,null),ge(`transaction ${Ht.get(A.target)} complete`)}),h(this,X).addEventListener("abort",A=>{console.warn("tx abort",(performance.now()-d)/1e3);const T=A.target.error;R(T),h(this,X)===A.target&&D(this,X,null),ge(`transaction ${Ht.get(A.target)} aborted`,T)})}))),Ht.set(h(this,X),Bi++)}try{const d=Object.fromEntries(Array.from(r.objectStoreNames,v=>[v,new Vi(h(this,X).objectStore(v))]));return await a(d)}catch(d){if(D(this,X,null),g)throw d}}},Fn);function Ee(c){return new Promise((a,r)=>{c.addEventListener("success",()=>a(c.result)),c.addEventListener("error",()=>r(c.error))})}var V,Vn,Vi=(Vn=class{constructor(c){k(this,V,void 0);D(this,V,c)}get(c){ge(`get ${h(this,V).name}`,c);const a=h(this,V).get(c);return Ee(a)}getAll(c,a){ge(`getAll ${h(this,V).name}`,c,a);const r=h(this,V).getAll(c,a);return Ee(r)}getKey(c){ge(`getKey ${h(this,V).name}`,c);const a=h(this,V).getKey(c);return Ee(a)}getAllKeys(c,a){ge(`getAllKeys ${h(this,V).name}`,c,a);const r=h(this,V).getAllKeys(c,a);return Ee(r)}put(c,a){ge(`put ${h(this,V).name}`,c,a);const r=h(this,V).put(c,a);return Ee(r)}delete(c){ge(`delete ${h(this,V).name}`,c);const a=h(this,V).delete(c);return Ee(a)}clear(){ge(`clear ${h(this,V).name}`);const c=h(this,V).clear();return Ee(c)}index(c){return new Hi(h(this,V).index(c))}},V=new WeakMap,Vn),$e,Hn,Hi=(Hn=class{constructor(c){k(this,$e,void 0);D(this,$e,c)}getAllKeys(c,a){ge(`IDBIndex.getAllKeys ${h(this,$e).objectStore.name}<${h(this,$e).name}>`,c,a);const r=h(this,$e).getAllKeys(c,a);return Ee(r)}},$e=new WeakMap,Hn),Wi=512,Un=3e3,On={durability:"default",purge:"deferred",purgeAtLeast:16};function oe(...c){}var xe,Z,N,Ne,Pe,me,re,rt,jt,Et,Xn,xt,Yn,Ae,Ve,At,Gn,Wn,ji=(Wn=class extends vi{constructor(a="wa-sqlite",r=On){super();k(this,rt);k(this,Et);k(this,xt);k(this,Ae);k(this,At);k(this,xe,void 0);k(this,Z,new Map);k(this,N,void 0);k(this,Ne,new Set);k(this,Pe,performance.now());k(this,me,new Set);k(this,re,null);this.name=a,D(this,xe,Object.assign({},On,r)),D(this,N,new Fi(Ki(a),{durability:h(this,xe).durability}))}async close(){for(const a of h(this,Z).keys())await this.xClose(a);await h(this,N)?.close(),D(this,N,null)}xOpen(a,r,g,d){var R;const v=this.handleAsync(async()=>{a===null&&(a=`null_${r}`),oe(`xOpen ${a} 0x${r.toString(16)} 0x${g.toString(16)}`);try{const A=new URL(a,"http://localhost/"),T={path:A.pathname,flags:g,block0:null,isMetadataChanged:!0,locks:new Ui(A.pathname)};return h(this,Z).set(r,T),await h(this,N).run("readwrite",async({blocks:H})=>{if(T.block0=await H.get(ee(this,Ae,Ve).call(this,T,0)),!T.block0)if(g&bi)T.block0={path:T.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},H.put(T.block0);else throw new Error(`file not found: ${T.path}`)}),(d.buffer.detached||!d.buffer.byteLength)&&(d=new DataView(new ArrayBuffer(4)),D(this,re,H=>{H.setInt32(0,d.getInt32(0,!0),!0)})),d.setInt32(0,g&Ei,!0),U}catch(A){return console.error(A),xi}});return(R=h(this,re))==null||R.call(this,d),D(this,re,null),v}xClose(a){return this.handleAsync(async()=>{try{const r=h(this,Z).get(a);return r&&(oe(`xClose ${r.path}`),h(this,Z).delete(a),r.flags&Ai&&h(this,N).run("readwrite",({blocks:g})=>{g.delete(IDBKeyRange.bound([r.path],[r.path,[]]))})),U}catch(r){return console.error(r),se}})}xRead(a,r,g){var R;const d=r.byteLength,v=this.handleAsync(async()=>{const A=h(this,Z).get(a);oe(`xRead ${A.path} ${r.byteLength} ${g}`);try{return await h(this,N).run("readonly",async({blocks:H})=>{(r.buffer.detached||!r.buffer.byteLength)&&(r=new Uint8Array(d),D(this,re,W=>W.set(r)));let O=0;for(;O<r.byteLength;){const W=g+O,ue=W<A.block0.data.byteLength?A.block0:await H.get(ee(this,Ae,Ve).call(this,A,-W));if(!ue||ue.data.byteLength-ue.offset<=W)return r.fill(0,O),Si;const F=r.subarray(O),le=W+ue.offset,Y=Math.min(Math.max(ue.data.byteLength-le,0),F.byteLength);F.set(ue.data.subarray(le,le+Y)),O+=Y}return U})}catch(T){return console.error(T),se}});return(R=h(this,re))==null||R.call(this,r),D(this,re,null),v}xWrite(a,r,g){const d=h(this,me).has(a);if(d||performance.now()-h(this,Pe)>Un){const v=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&h(this,me).add(a),await new Promise(A=>setTimeout(A));const R=ee(this,rt,jt).call(this,a,r.slice(),g);return D(this,Pe,performance.now()),R});return d&&h(this,me).delete(a),v}return ee(this,rt,jt).call(this,a,r,g)}xTruncate(a,r){const g=h(this,Z).get(a);oe(`xTruncate ${g.path} ${r}`);try{Object.assign(g.block0,{fileSize:r,data:g.block0.data.slice(0,r)});const d=Object.assign({},g.block0);return h(this,N).run("readwrite",({blocks:v})=>{v.delete(ee(this,Ae,Ve).call(this,g,-1/0,-r)),v.put(d)}),U}catch(d){return console.error(d),se}}xSync(a,r){const g=h(this,me).has(a);if(g||h(this,xe).durability!=="relaxed"||performance.now()-h(this,Pe)>Un){const v=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&h(this,me).add(a);const R=await ee(this,Et,Xn).call(this,a,r);return D(this,Pe,performance.now()),R});return g&&h(this,me).delete(a),v}const d=h(this,Z).get(a);return oe(`xSync ${d.path} ${r}`),U}xFileSize(a,r){const g=h(this,Z).get(a);return oe(`xFileSize ${g.path}`),r.setBigInt64(0,BigInt(g.block0.fileSize),!0),U}xLock(a,r){return this.handleAsync(async()=>{const g=h(this,Z).get(a);oe(`xLock ${g.path} ${r}`);try{const d=await g.locks.lock(r);return d===U&&g.locks.state===Me&&(g.block0=await h(this,N).run("readonly",({blocks:v})=>v.get(ee(this,Ae,Ve).call(this,g,0)))),d}catch(d){return console.error(d),se}})}xUnlock(a,r){return this.handleAsync(async()=>{const g=h(this,Z).get(a);oe(`xUnlock ${g.path} ${r}`);try{return g.locks.unlock(r)}catch(d){return console.error(d),se}})}xCheckReservedLock(a,r){var d;const g=this.handleAsync(async()=>{const v=h(this,Z).get(a);oe(`xCheckReservedLock ${v.path}`);const R=await v.locks.isSomewhereReserved();return(r.buffer.detached||!r.buffer.byteLength)&&(r=new DataView(new ArrayBuffer(4)),D(this,re,A=>{A.setInt32(0,r.getInt32(0,!0),!0)})),r.setInt32(0,R?1:0,!0),U});return(d=h(this,re))==null||d.call(this,r),D(this,re,null),g}xSectorSize(a){return Wi}xDeviceCharacteristics(a){return Ri|Ci|Ii|Di}xFileControl(a,r,g){const d=h(this,Z).get(a);switch(oe(`xFileControl ${d.path} ${r}`),r){case 11:return d.overwrite=!0,U;case 21:if(d.overwrite)try{return this.handleAsync(async()=>(await ee(this,At,Gn).call(this,d),U))}catch(v){return console.error(v),se}if(d.isMetadataChanged)try{h(this,N).run("readwrite",async({blocks:v})=>{await v.put(d.block0)}),d.isMetadataChanged=!1}catch(v){return console.error(v),se}return U;case 22:return d.overwrite=!1,U;case 31:return this.handleAsync(async()=>{try{return d.block0.version--,d.changedPages=new Set,h(this,N).run("readwrite",async({blocks:v})=>{const R=await v.index("version").getAllKeys(IDBKeyRange.bound([d.path],[d.path,d.block0.version]));for(const A of R)v.delete(A)}),U}catch(v){return console.error(v),se}});case 32:try{const v=Object.assign({},d.block0);v.data=v.data.slice();const R=d.changedPages;return d.changedPages=null,d.isMetadataChanged=!1,h(this,N).run("readwrite",async({blocks:A})=>{A.put(v);const T=await A.get([d.path,"purge",0])??{path:d.path,offset:"purge",version:0,data:new Map,count:0};T.count+=R.size;for(const H of R)T.data.set(H,v.version);A.put(T),ee(this,xt,Yn).call(this,d.path,T.count)}),U}catch(v){return console.error(v),se}case 33:return this.handleAsync(async()=>{try{return d.changedPages=null,d.isMetadataChanged=!1,d.block0=await h(this,N).run("readonly",({blocks:v})=>v.get([d.path,0,d.block0.version+1])),U}catch(v){return console.error(v),se}});default:return ki}}xAccess(a,r,g){var v;const d=this.handleAsync(async()=>{try{const R=new URL(a,"file://localhost/").pathname;oe(`xAccess ${R} ${r}`);const A=await h(this,N).run("readonly",({blocks:T})=>T.getKey(ee(this,Ae,Ve).call(this,{path:R},0)));return(g.buffer.detached||!g.buffer.byteLength)&&(g=new DataView(new ArrayBuffer(4)),D(this,re,T=>{T.setInt32(0,g.getInt32(0,!0),!0)})),g.setInt32(0,A?1:0,!0),U}catch(R){return console.error(R),se}});return(v=h(this,re))==null||v.call(this,g),D(this,re,null),d}xDelete(a,r){return this.handleAsync(async()=>{const g=new URL(a,"file://localhost/").pathname;try{return h(this,N).run("readwrite",({blocks:d})=>d.delete(IDBKeyRange.bound([g],[g,[]]))),r&&await h(this,N).sync(),U}catch(d){return console.error(d),se}})}async purge(a){const r=Date.now();await h(this,N).run("readwrite",async({blocks:g})=>{const d=await g.get([a,"purge",0]);if(d){for(const[v,R]of d.data)g.delete(IDBKeyRange.bound([a,v,R],[a,v,1/0],!0,!1));await g.delete([a,"purge",0])}oe(`purge ${a} ${d?.data.size??0} pages in ${Date.now()-r} ms`)})}},xe=new WeakMap,Z=new WeakMap,N=new WeakMap,Ne=new WeakMap,Pe=new WeakMap,me=new WeakMap,re=new WeakMap,rt=new WeakSet,jt=function(a,r,g){const d=h(this,Z).get(a);oe(`xWrite ${d.path} ${r.byteLength} ${g}`);try{const v=d.block0.fileSize;d.block0.fileSize<g+r.byteLength&&(d.block0.fileSize=g+r.byteLength,d.isMetadataChanged=!0);const R=g===0?d.block0:{path:d.path,offset:-g,version:d.block0.version,data:null};return R.data=r.slice(),d.changedPages?(v===d.block0.fileSize&&d.changedPages.add(-g),g!==0&&h(this,N).run("readwrite",({blocks:A})=>A.put(R))):h(this,N).run("readwrite",({blocks:A})=>A.put(R)),d.isMetadataChanged=g===0?!1:d.isMetadataChanged,U}catch(v){return console.error(v),se}},Et=new WeakSet,Xn=async function(a,r){const g=h(this,Z).get(a);oe(`xSync ${g.path} ${r}`);try{g.isMetadataChanged&&(h(this,N).run("readwrite",async({blocks:d})=>{await d.put(g.block0)}),g.isMetadataChanged=!1),await h(this,N).sync()}catch(d){return console.error(d),se}return U},xt=new WeakSet,Yn=function(a,r){h(this,xe).purge==="manual"||h(this,Ne).has(a)||r<h(this,xe).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(a),h(this,Ne).delete(a)}):setTimeout(()=>{this.purge(a),h(this,Ne).delete(a)}),h(this,Ne).add(a))},Ae=new WeakSet,Ve=function(a,r,g=0){const d=!r||-r<a.block0.data.length?-1/0:a.block0.version;return IDBKeyRange.bound([a.path,r,d],[a.path,g,1/0])},At=new WeakSet,Gn=async function(a){const r=a.block0.data.length;if(r<18)return;const g=new DataView(a.block0.data.buffer,a.block0.data.byteOffset);let d=g.getUint16(16);if(d===1&&(d=65536),d===r)return;const v=Math.max(r,d),R=v/r,A=v/d,H=g.getUint32(28)*d,O=a.block0.version;await h(this,N).run("readwrite",async({blocks:W})=>{const ue=await W.index("version").getAllKeys(IDBKeyRange.bound([a.path,O+1],[a.path,1/0]));for(const F of ue)W.delete(F);W.delete([a.path,"purge",0]);for(let F=0;F<H;F+=v){const le=await W.getAll(IDBKeyRange.lowerBound([a.path,-(F+v),1/0]),R);for(const Y of le)W.delete([Y.path,Y.offset,Y.version]);if(A===1){const Y=new Uint8Array(d);for(const fe of le)Y.set(fe.data,-(F+fe.offset));const j={path:a.path,offset:-F,version:O,data:Y};j.offset===0&&(j.fileSize=H,a.block0=j),W.put(j)}else{const Y=le[0];for(let j=0;j<A;++j){const fe=-(F+j*d);if(-fe>=H)break;const P={path:Y.path,offset:fe,version:O,data:Y.data.subarray(j*d,(j+1)*d)};P.offset===0&&(P.fileSize=H,a.block0=P),W.put(P)}}}})},Wn);function Ki(c){return new Promise((a,r)=>{const g=globalThis.indexedDB.open(c,5);g.addEventListener("upgradeneeded",function(){g.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),g.addEventListener("success",()=>{a(g.result)}),g.addEventListener("error",()=>{r(g.error)})})}async function Yi(c,a={}){const{url:r,idbName:g="idb-sqlite-vfs",...d}=a,v=await $i(r?{locateFile:()=>r}:void 0),R=new ji(g,{durability:"relaxed",...d});return{path:c.endsWith(".db")?c:`${c}.db`,sqliteModule:v,vfs:R}}export{ji as IDBBatchAtomicVFS,Yi as useIdbStorage};
