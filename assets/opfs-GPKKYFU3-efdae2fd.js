var st=(k,h,i)=>{if(!h.has(k))throw TypeError("Cannot "+i)};var C=(k,h,i)=>(st(k,h,"read from private field"),i?i.call(k):h.get(k)),J=(k,h,i)=>{if(h.has(k))throw TypeError("Cannot add the same private member more than once");h instanceof WeakSet?h.add(k):h.set(k,i)},ct=(k,h,i,_)=>(st(k,h,"write to private field"),_?_.call(k,i):h.set(k,i),i);var T=(k,h,i)=>(st(k,h,"access private method"),i);import{u as _n}from"./chunk-C2C432FW-3536057a.js";import{a as pn,K as gn,v as ee,W as yn,Z as Wr,Y as vn,z as qn,u as xn,$ as Cn,V as En,d as Mn,M as In}from"./worker-63343a1a.js";var An=(()=>{var k=import.meta.url;return function(h={}){var i=h,_,v;i.ready=new Promise((e,t)=>{_=e,v=t});var z=Object.assign({},i),P="./this.program",X=(e,t)=>{throw t},wt=typeof window=="object",ke=typeof importScripts=="function",W="",Ve;(wt||ke)&&(ke?W=self.location.href:typeof document<"u"&&document.currentScript&&(W=document.currentScript.src),k&&(W=k),W.indexOf("blob:")!==0?W=W.substr(0,W.replace(/[?#].*/,"").lastIndexOf("/")+1):W="",ke&&(Ve=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var mt=i.print||console.log.bind(console),oe=i.printErr||console.error.bind(console);Object.assign(i,z),z=null,i.thisProgram&&(P=i.thisProgram),i.quit&&(X=i.quit);var ge;i.wasmBinary&&(ge=i.wasmBinary),typeof WebAssembly!="object"&&Y("no native wasm support detected");var $e,je=!1,F,p,ye,y,I,Qe,Ge;function _t(){var e=$e.buffer;i.HEAP8=F=new Int8Array(e),i.HEAP16=ye=new Int16Array(e),i.HEAPU8=p=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=y=new Int32Array(e),i.HEAPU32=I=new Uint32Array(e),i.HEAPF32=Qe=new Float32Array(e),i.HEAPF64=Ge=new Float64Array(e)}var pt=[],gt=[],Yr=[],yt=[];function en(){var e=i.preRun.shift();pt.unshift(e)}var ae=0,ve=null;function Y(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",oe(e),je=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),v(e),e}var vt=e=>e.startsWith("data:application/octet-stream;base64,"),ue;if(i.locateFile){if(ue="wa-sqlite.wasm",!vt(ue)){var qt=ue;ue=i.locateFile?i.locateFile(qt,W):W+qt}}else ue=new URL(""+new URL("wa-sqlite-8ce1cb2d.wasm",import.meta.url).href,self.location).href;function xt(e){if(e==ue&&ge)return new Uint8Array(ge);if(Ve)return Ve(e);throw"both async and sync fetching of the wasm failed"}function tn(e){return ge||!wt&&!ke||typeof fetch!="function"?Promise.resolve().then(()=>xt(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>xt(e))}function Ct(e,t,r){return tn(e).then(n=>WebAssembly.instantiate(n,t)).then(n=>n).then(r,n=>{oe(`failed to asynchronously prepare wasm: ${n}`),Y(n)})}function rn(e,t){var r=ue;return ge||typeof WebAssembly.instantiateStreaming!="function"||vt(r)||typeof fetch!="function"?Ct(r,e,t):fetch(r,{credentials:"same-origin"}).then(n=>WebAssembly.instantiateStreaming(n,e).then(t,function(o){return oe(`wasm streaming compile failed: ${o}`),oe("falling back to ArrayBuffer instantiation"),Ct(r,e,t)}))}var g,S;function Et(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ze=e=>{for(;0<e.length;)e.shift()(i)};function R(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return F[e>>0];case"i8":return F[e>>0];case"i16":return ye[e>>1];case"i32":return y[e>>2];case"i64":Y("to do getValue(i64) use WASM_BIGINT");case"float":return Qe[e>>2];case"double":return Ge[e>>3];case"*":return I[e>>2];default:Y(`invalid type for getValue: ${t}`)}}var nn=i.noExitRuntime||!0;function V(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":F[e>>0]=t;break;case"i8":F[e>>0]=t;break;case"i16":ye[e>>1]=t;break;case"i32":y[e>>2]=t;break;case"i64":Y("to do setValue(i64) use WASM_BIGINT");case"float":Qe[e>>2]=t;break;case"double":Ge[e>>3]=t;break;case"*":I[e>>2]=t;break;default:Y(`invalid type for setValue: ${r}`)}}var Mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,E=(e,t,r)=>{var n=t+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&Mt)return Mt.decode(e.subarray(t,r));for(n="";t<r;){var o=e[t++];if(o&128){var s=e[t++]&63;if((o&224)==192)n+=String.fromCharCode((o&31)<<6|s);else{var a=e[t++]&63;o=(o&240)==224?(o&15)<<12|s<<6|a:(o&7)<<18|s<<12|a<<6|e[t++]&63,65536>o?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296|o>>10,56320|o&1023))}}else n+=String.fromCharCode(o)}return n},It=(e,t)=>{for(var r=0,n=e.length-1;0<=n;n--){var o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},te=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=It(e.split("/").filter(n=>!!n),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},on=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},Re=e=>{if(e==="/")return"/";e=te(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},an=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Y("initRandomDevice")},At=e=>(At=an())(e);function De(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=It(e.split("/").filter(n=>!!n),!t).join("/"),(t?"/":"")+e||"."}var Ze=[],se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},ce=(e,t,r,n)=>{if(!(0<n))return 0;var o=r;n=r+n-1;for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);if(55296<=a&&57343>=a){var l=e.charCodeAt(++s);a=65536+((a&1023)<<10)|l&1023}if(127>=a){if(r>=n)break;t[r++]=a}else{if(2047>=a){if(r+1>=n)break;t[r++]=192|a>>6}else{if(65535>=a){if(r+2>=n)break;t[r++]=224|a>>12}else{if(r+3>=n)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63}t[r++]=128|a>>6&63}t[r++]=128|a&63}}return t[r]=0,r-o},St=[];function kt(e,t){St[e]={input:[],Nb:[],Zb:t},tt(e,un)}var un={open(e){var t=St[e.node.bc];if(!t)throw new d(43);e.Ob=t,e.seekable=!1},close(e){e.Ob.Zb.Wb(e.Ob)},Wb(e){e.Ob.Zb.Wb(e.Ob)},read(e,t,r,n){if(!e.Ob||!e.Ob.Zb.sc)throw new d(60);for(var o=0,s=0;s<n;s++){try{var a=e.Ob.Zb.sc(e.Ob)}catch{throw new d(29)}if(a===void 0&&o===0)throw new d(6);if(a==null)break;o++,t[r+s]=a}return o&&(e.node.timestamp=Date.now()),o},write(e,t,r,n){if(!e.Ob||!e.Ob.Zb.mc)throw new d(60);try{for(var o=0;o<n;o++)e.Ob.Zb.mc(e.Ob,t[r+o])}catch{throw new d(29)}return n&&(e.node.timestamp=Date.now()),o}},sn={sc(){e:{if(!Ze.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){var t=null;break e}t=Array(se(e)+1),e=ce(e,t,0,t.length),t.length=e,Ze=t}t=Ze.shift()}return t},mc(e,t){t===null||t===10?(mt(E(e.Nb,0)),e.Nb=[]):t!=0&&e.Nb.push(t)},Wb(e){e.Nb&&0<e.Nb.length&&(mt(E(e.Nb,0)),e.Nb=[])},Sc(){return{Oc:25856,Qc:5,Nc:191,Pc:35387,Mc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Tc(){return 0},Uc(){return[24,80]}},cn={mc(e,t){t===null||t===10?(oe(E(e.Nb,0)),e.Nb=[]):t!=0&&e.Nb.push(t)},Wb(e){e.Nb&&0<e.Nb.length&&(oe(E(e.Nb,0)),e.Nb=[])}};function $t(e,t){var r=e.Jb?e.Jb.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.Jb,e.Jb=new Uint8Array(t),0<e.Lb&&e.Jb.set(r.subarray(0,e.Lb),0))}var q={Qb:null,Rb(){return q.createNode(null,"/",16895,0)},createNode(e,t,r,n){if((r&61440)===24576||(r&61440)===4096)throw new d(63);return q.Qb||(q.Qb={dir:{node:{Pb:q.Cb.Pb,Mb:q.Cb.Mb,$b:q.Cb.$b,ec:q.Cb.ec,wc:q.Cb.wc,kc:q.Cb.kc,ic:q.Cb.ic,vc:q.Cb.vc,jc:q.Cb.jc},stream:{Vb:q.Ib.Vb}},file:{node:{Pb:q.Cb.Pb,Mb:q.Cb.Mb},stream:{Vb:q.Ib.Vb,read:q.Ib.read,write:q.Ib.write,pc:q.Ib.pc,fc:q.Ib.fc,hc:q.Ib.hc}},link:{node:{Pb:q.Cb.Pb,Mb:q.Cb.Mb,cc:q.Cb.cc},stream:{}},qc:{node:{Pb:q.Cb.Pb,Mb:q.Cb.Mb},stream:hn}}),r=Ut(e,t,r,n),K(r.mode)?(r.Cb=q.Qb.dir.node,r.Ib=q.Qb.dir.stream,r.Jb={}):(r.mode&61440)===32768?(r.Cb=q.Qb.file.node,r.Ib=q.Qb.file.stream,r.Lb=0,r.Jb=null):(r.mode&61440)===40960?(r.Cb=q.Qb.link.node,r.Ib=q.Qb.link.stream):(r.mode&61440)===8192&&(r.Cb=q.Qb.qc.node,r.Ib=q.Qb.qc.stream),r.timestamp=Date.now(),e&&(e.Jb[t]=r,e.timestamp=r.timestamp),r},Rc(e){return e.Jb?e.Jb.subarray?e.Jb.subarray(0,e.Lb):new Uint8Array(e.Jb):new Uint8Array(0)},Cb:{Pb(e){var t={};return t.Cc=(e.mode&61440)===8192?e.id:1,t.tc=e.id,t.mode=e.mode,t.Ic=1,t.uid=0,t.Ec=0,t.bc=e.bc,K(e.mode)?t.size=4096:(e.mode&61440)===32768?t.size=e.Lb:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.yc=new Date(e.timestamp),t.Hc=new Date(e.timestamp),t.Bc=new Date(e.timestamp),t.zc=4096,t.Ac=Math.ceil(t.size/t.zc),t},Mb(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.Lb!=t))if(t==0)e.Jb=null,e.Lb=0;else{var r=e.Jb;e.Jb=new Uint8Array(t),r&&e.Jb.set(r.subarray(0,Math.min(t,e.Lb))),e.Lb=t}},$b(){throw Ye[44]},ec(e,t,r,n){return q.createNode(e,t,r,n)},wc(e,t,r){if(K(e.mode)){try{var n=le(t,r)}catch{}if(n)for(var o in n.Jb)throw new d(55)}delete e.parent.Jb[e.name],e.parent.timestamp=Date.now(),e.name=r,t.Jb[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},kc(e,t){delete e.Jb[t],e.timestamp=Date.now()},ic(e,t){var r=le(e,t),n;for(n in r.Jb)throw new d(55);delete e.Jb[t],e.timestamp=Date.now()},vc(e){var t=[".",".."],r;for(r in e.Jb)e.Jb.hasOwnProperty(r)&&t.push(r);return t},jc(e,t,r){return e=q.createNode(e,t,41471,0),e.link=r,e},cc(e){if((e.mode&61440)!==40960)throw new d(28);return e.link}},Ib:{read(e,t,r,n,o){var s=e.node.Jb;if(o>=e.node.Lb)return 0;if(e=Math.min(e.node.Lb-o,n),8<e&&s.subarray)t.set(s.subarray(o,o+e),r);else for(n=0;n<e;n++)t[r+n]=s[o+n];return e},write(e,t,r,n,o,s){if(t.buffer===F.buffer&&(s=!1),!n)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.Jb||e.Jb.subarray)){if(s)return e.Jb=t.subarray(r,r+n),e.Lb=n;if(e.Lb===0&&o===0)return e.Jb=t.slice(r,r+n),e.Lb=n;if(o+n<=e.Lb)return e.Jb.set(t.subarray(r,r+n),o),n}if($t(e,o+n),e.Jb.subarray&&t.subarray)e.Jb.set(t.subarray(r,r+n),o);else for(s=0;s<n;s++)e.Jb[o+s]=t[r+s];return e.Lb=Math.max(e.Lb,o+n),n},Vb(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.Lb),0>t)throw new d(28);return t},pc(e,t,r){$t(e.node,t+r),e.node.Lb=Math.max(e.node.Lb,t+r)},fc(e,t,r,n,o){if((e.node.mode&61440)!==32768)throw new d(43);if(e=e.node.Jb,o&2||e.buffer!==F.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,t=65536*Math.ceil(t/65536),(o=Lr(65536,t))?(p.fill(0,o,o+t),t=o):t=0,!t)throw new d(48);F.set(e,t)}else r=!1,t=e.byteOffset;return{Jc:t,xc:r}},hc(e,t,r,n){return q.Ib.write(e,t,0,n,r,!1),0}}},ln=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},Xe=null,zt={},qe=[],fn=1,re=null,Rt=!0,d=null,Ye={};function O(e,t={}){if(e=De(e),!e)return{path:"",node:null};if(t=Object.assign({rc:!0,nc:0},t),8<t.nc)throw new d(32);e=e.split("/").filter(a=>!!a);for(var r=Xe,n="/",o=0;o<e.length;o++){var s=o===e.length-1;if(s&&t.parent)break;if(r=le(r,e[o]),n=te(n+"/"+e[o]),r.Xb&&(!s||s&&t.rc)&&(r=r.Xb.root),!s||t.Ub){for(s=0;(r.mode&61440)===40960;)if(r=Pt(n),n=De(on(n),r),r=O(n,{nc:t.nc+1}).node,40<s++)throw new d(32)}}return{path:n,node:r}}function Ue(e){for(var t;;){if(e===e.parent)return e=e.Rb.uc,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}}function et(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%re.length}function Dt(e){var t=et(e.parent.id,e.name);if(re[t]===e)re[t]=e.Yb;else for(t=re[t];t;){if(t.Yb===e){t.Yb=e.Yb;break}t=t.Yb}}function le(e,t){var r;if(r=(r=de(e,"x"))?r:e.Cb.$b?0:2)throw new d(r,e);for(r=re[et(e.id,t)];r;r=r.Yb){var n=r.name;if(r.parent.id===e.id&&n===t)return r}return e.Cb.$b(e,t)}function Ut(e,t,r,n){return e=new Tr(e,t,r,n),t=et(e.parent.id,e.name),e.Yb=re[t],re[t]=e}function K(e){return(e&61440)===16384}function Tt(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t}function de(e,t){if(Rt)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0}function Ft(e,t){try{return le(e,t),20}catch{}return de(e,"wx")}function Nt(e,t,r){try{var n=le(e,t)}catch(o){return o.Kb}if(e=de(e,"wx"))return e;if(r){if(!K(n.mode))return 54;if(n===n.parent||Ue(n)==="/")return 10}else if(K(n.mode))return 31;return 0}function bn(){for(var e=0;4096>=e;e++)if(!qe[e])return e;throw new d(33)}function N(e){if(e=qe[e],!e)throw new d(8);return e}function Ot(e,t=-1){return Ce||(Ce=function(){this.dc={}},Ce.prototype={},Object.defineProperties(Ce.prototype,{object:{get(){return this.node},set(r){this.node=r}},flags:{get(){return this.dc.flags},set(r){this.dc.flags=r}},position:{get(){return this.dc.position},set(r){this.dc.position=r}}})),e=Object.assign(new Ce,e),t==-1&&(t=bn()),e.Sb=t,qe[t]=e}var hn={open(e){e.Ib=zt[e.node.bc].Ib,e.Ib.open&&e.Ib.open(e)},Vb(){throw new d(70)}};function tt(e,t){zt[e]={Ib:t}}function Lt(e,t){var r=t==="/",n=!t;if(r&&Xe)throw new d(10);if(!r&&!n){var o=O(t,{rc:!1});if(t=o.path,o=o.node,o.Xb)throw new d(10);if(!K(o.mode))throw new d(54)}t={type:e,Wc:{},uc:t,Gc:[]},e=e.Rb(t),e.Rb=t,t.root=e,r?Xe=e:o&&(o.Xb=t,o.Rb&&o.Rb.Gc.push(t))}function rt(e,t,r){var n=O(e,{parent:!0}).node;if(e=Re(e),!e||e==="."||e==="..")throw new d(28);var o=Ft(n,e);if(o)throw new d(o);if(!n.Cb.ec)throw new d(63);return n.Cb.ec(n,e,t,r)}function j(e,t){return rt(e,(t!==void 0?t:511)&1023|16384,0)}function Te(e,t,r){typeof r>"u"&&(r=t,t=438),rt(e,t|8192,r)}function nt(e,t){if(!De(e))throw new d(44);var r=O(t,{parent:!0}).node;if(!r)throw new d(44);t=Re(t);var n=Ft(r,t);if(n)throw new d(n);if(!r.Cb.jc)throw new d(63);r.Cb.jc(r,t,e)}function Jt(e){var t=O(e,{parent:!0}).node;e=Re(e);var r=le(t,e),n=Nt(t,e,!0);if(n)throw new d(n);if(!t.Cb.ic)throw new d(63);if(r.Xb)throw new d(10);t.Cb.ic(t,e),Dt(r)}function Pt(e){if(e=O(e).node,!e)throw new d(44);if(!e.Cb.cc)throw new d(28);return De(Ue(e.parent),e.Cb.cc(e))}function Fe(e,t){if(e=O(e,{Ub:!t}).node,!e)throw new d(44);if(!e.Cb.Pb)throw new d(63);return e.Cb.Pb(e)}function Kt(e){return Fe(e,!0)}function Ht(e,t){if(e=typeof e=="string"?O(e,{Ub:!0}).node:e,!e.Cb.Mb)throw new d(63);e.Cb.Mb(e,{mode:t&4095|e.mode&-4096,timestamp:Date.now()})}function Bt(e,t){if(0>t)throw new d(28);if(e=typeof e=="string"?O(e,{Ub:!0}).node:e,!e.Cb.Mb)throw new d(63);if(K(e.mode))throw new d(31);if((e.mode&61440)!==32768)throw new d(28);var r=de(e,"w");if(r)throw new d(r);e.Cb.Mb(e,{size:t,timestamp:Date.now()})}function Ne(e,t,r){if(e==="")throw new d(44);if(typeof t=="string"){var n={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof n>"u")throw Error(`Unknown file open mode: ${t}`);t=n}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var o=e;else{e=te(e);try{o=O(e,{Ub:!(t&131072)}).node}catch{}}if(n=!1,t&64)if(o){if(t&128)throw new d(20)}else o=rt(e,r,0),n=!0;if(!o)throw new d(44);if((o.mode&61440)===8192&&(t&=-513),t&65536&&!K(o.mode))throw new d(54);if(!n&&(r=o?(o.mode&61440)===40960?32:K(o.mode)&&(Tt(t)!=="r"||t&512)?31:de(o,Tt(t)):44))throw new d(r);return t&512&&!n&&Bt(o,0),t&=-131713,o=Ot({node:o,path:Ue(o),flags:t,seekable:!0,position:0,Ib:o.Ib,Lc:[],error:!1}),o.Ib.open&&o.Ib.open(o),!i.logReadFiles||t&1||(Oe||(Oe={}),e in Oe||(Oe[e]=1)),o}function Wt(e,t,r){if(e.Sb===null)throw new d(8);if(!e.seekable||!e.Ib.Vb)throw new d(70);if(r!=0&&r!=1&&r!=2)throw new d(28);e.position=e.Ib.Vb(e,t,r),e.Lc=[]}function Vt(){d||(d=function(e,t){this.name="ErrnoError",this.node=t,this.Kc=function(r){this.Kb=r},this.Kc(e),this.message="FS error"},d.prototype=Error(),d.prototype.constructor=d,[44].forEach(e=>{Ye[e]=new d(e),Ye[e].stack="<generic error, no stack>"}))}var jt;function xe(e,t,r){e=te("/dev/"+e);var n=ln(!!t,!!r);it||(it=64);var o=it++<<8|0;tt(o,{open(s){s.seekable=!1},close(){r&&r.buffer&&r.buffer.length&&r(10)},read(s,a,l,u){for(var c=0,b=0;b<u;b++){try{var f=t()}catch{throw new d(29)}if(f===void 0&&c===0)throw new d(6);if(f==null)break;c++,a[l+b]=f}return c&&(s.node.timestamp=Date.now()),c},write(s,a,l,u){for(var c=0;c<u;c++)try{r(a[l+c])}catch{throw new d(29)}return u&&(s.node.timestamp=Date.now()),c}}),Te(e,n,o)}var it,A={},Ce,Oe;function fe(e,t,r){if(t.charAt(0)==="/")return t;if(e=e===-100?"/":N(e).path,t.length==0){if(!r)throw new d(44);return e}return te(e+"/"+t)}function Le(e,t,r){try{var n=e(t)}catch(s){if(s&&s.node&&te(t)!==te(Ue(s.node)))return-54;throw s}y[r>>2]=n.Cc,y[r+4>>2]=n.mode,I[r+8>>2]=n.Ic,y[r+12>>2]=n.uid,y[r+16>>2]=n.Ec,y[r+20>>2]=n.bc,S=[n.size>>>0,(g=n.size,1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[r+24>>2]=S[0],y[r+28>>2]=S[1],y[r+32>>2]=4096,y[r+36>>2]=n.Ac,e=n.yc.getTime(),t=n.Hc.getTime();var o=n.Bc.getTime();return S=[Math.floor(e/1e3)>>>0,(g=Math.floor(e/1e3),1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[r+40>>2]=S[0],y[r+44>>2]=S[1],I[r+48>>2]=e%1e3*1e3,S=[Math.floor(t/1e3)>>>0,(g=Math.floor(t/1e3),1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[r+56>>2]=S[0],y[r+60>>2]=S[1],I[r+64>>2]=t%1e3*1e3,S=[Math.floor(o/1e3)>>>0,(g=Math.floor(o/1e3),1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[r+72>>2]=S[0],y[r+76>>2]=S[1],I[r+80>>2]=o%1e3*1e3,S=[n.tc>>>0,(g=n.tc,1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[r+88>>2]=S[0],y[r+92>>2]=S[1],0}var Je=void 0;function Pe(){var e=y[+Je>>2];return Je+=4,e}var Ee=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,dn=[0,31,60,91,121,152,182,213,244,274,305,335],wn=[0,31,59,90,120,151,181,212,243,273,304,334],Qt=e=>{var t=se(e)+1,r=Nr(t);return r&&ce(e,p,r,t),r},ot={},Gt=()=>{if(!at){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:P||"./this.program"},t;for(t in ot)ot[t]===void 0?delete e[t]:e[t]=ot[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);at=r}return at},at;function Zt(){}function Xt(){}function Yt(){}function er(){}function tr(){}function rr(){}function nr(){}function ir(){}function or(){}function ar(){}function ur(){}function sr(){}function cr(){}function lr(){}function fr(){}function br(){}function hr(){}function dr(){}function wr(){}function mr(){}function _r(){}function pr(){}function gr(){}function yr(){}function vr(){}function qr(){}function xr(){}function Cr(){}function Er(){}function Mr(){}function Ir(){}function Ar(){}function Sr(){}function kr(){}function $r(){}function zr(){}function Rr(){}function Dr(){}function Ur(){}var Q=(e,t,r,n)=>{var o={string:c=>{var b=0;if(c!=null&&c!==0){b=se(c)+1;var f=ut(b);ce(c,p,f,b),b=f}return b},array:c=>{var b=ut(c.length);return F.set(c,b),b}};e=i["_"+e];var s=[],a=0;if(n)for(var l=0;l<n.length;l++){var u=o[r[l]];u?(a===0&&(a=Pr()),s[l]=u(n[l])):s[l]=n[l]}return r=e.apply(null,s),r=function(c){return a!==0&&Kr(a),t==="string"?c?E(p,c):"":t==="boolean"?!!c:c}(r)};function Tr(e,t,r,n){e||(e=this),this.parent=e,this.Rb=e.Rb,this.Xb=null,this.id=fn++,this.name=t,this.mode=r,this.Cb={},this.Ib={},this.bc=n}Object.defineProperties(Tr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Vt(),re=Array(4096),Lt(q,"/"),j("/tmp"),j("/home"),j("/home/web_user"),function(){j("/dev"),tt(259,{read:()=>0,write:(n,o,s,a)=>a}),Te("/dev/null",259),kt(1280,sn),kt(1536,cn),Te("/dev/tty",1280),Te("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=At(e).byteLength),e[--t]);xe("random",r),xe("urandom",r),j("/dev/shm"),j("/dev/shm/tmp")}(),function(){j("/proc");var e=j("/proc/self");j("/proc/self/fd"),Lt({Rb(){var t=Ut(e,"fd",16895,73);return t.Cb={$b(r,n){var o=N(+n);return r={parent:null,Rb:{uc:"fake"},Cb:{cc:()=>o.path}},r.parent=r}},t}},"/proc/self/fd")}(),function(){let e=new Map;i.setAuthorizer=function(t,r,n){return r?e.set(t,{f:r,oc:n}):e.delete(t),Q("set_authorizer","number",["number"],[t])},Zt=function(t,r,n,o,s,a){if(e.has(t)){let{f:l,oc:u}=e.get(t);return l(u,r,n?n?E(p,n):"":null,o?o?E(p,o):"":null,s?s?E(p,s):"":null,a?a?E(p,a):"":null)}return 0}}(),function(){let e=new Map,t=new Map;i.createFunction=function(r,n,o,s,a,l){let u=e.size;return e.set(u,{f:l,Tb:a}),Q("create_function","number","number string number number number number".split(" "),[r,n,o,s,u,0])},i.createAggregate=function(r,n,o,s,a,l,u){let c=e.size;return e.set(c,{step:l,Dc:u,Tb:a}),Q("create_function","number","number string number number number number".split(" "),[r,n,o,s,c,1])},i.getFunctionUserData=function(r){return t.get(r)},Yt=function(r,n,o,s){r=e.get(r),t.set(n,r.Tb),r.f(n,new Uint32Array(p.buffer,s,o)),t.delete(n)},tr=function(r,n,o,s){r=e.get(r),t.set(n,r.Tb),r.step(n,new Uint32Array(p.buffer,s,o)),t.delete(n)},Xt=function(r,n){r=e.get(r),t.set(n,r.Tb),r.Dc(n),t.delete(n)}}(),function(){let e=new Map;i.progressHandler=function(t,r,n,o){return n?e.set(t,{f:n,oc:o}):e.delete(t),Q("progress_handler",null,["number","number"],[t,r])},er=function(t){if(e.has(t)){let{f:r,oc:n}=e.get(t);return r(n)}return 0}}(),function(){function e(u,c){let b=`get${u}`,f=`set${u}`;return new Proxy(new DataView(p.buffer,c,u==="Int32"?4:8),{get(m,x){if(x===b)return function(M,D){if(!D)throw Error("must be little endian");return m[x](M,D)};if(x===f)return function(M,D,$){if(!$)throw Error("must be little endian");return m[x](M,D,$)};if(typeof x=="string"&&x.match(/^(get)|(set)/))throw Error("invalid type");return m[x]}})}let t=typeof Asyncify=="object",r=new Map,n=new Map,o=new Map,s=t?new Set:null,a=t?new Set:null,l=new Map;pr=function(u,c,b,f){l.set(u?E(p,u):"",{size:c,ac:Array.from(new Uint32Array(p.buffer,f,b))})},i.createModule=function(u,c,b,f){t&&(b.handleAsync=Asyncify.Fc);let m=r.size;return r.set(m,{module:b,Tb:f}),f=0,b.xCreate&&(f|=1),b.xConnect&&(f|=2),b.xBestIndex&&(f|=4),b.xDisconnect&&(f|=8),b.xDestroy&&(f|=16),b.xOpen&&(f|=32),b.xClose&&(f|=64),b.xFilter&&(f|=128),b.xNext&&(f|=256),b.xEof&&(f|=512),b.xColumn&&(f|=1024),b.xRowid&&(f|=2048),b.xUpdate&&(f|=4096),b.xBegin&&(f|=8192),b.xSync&&(f|=16384),b.xCommit&&(f|=32768),b.xRollback&&(f|=65536),b.xFindFunction&&(f|=131072),b.xRename&&(f|=262144),Q("create_module","number",["number","string","number","number"],[u,c,m,f])},sr=function(u,c,b,f,m,x){if(c=r.get(c),n.set(m,c),t){s.delete(m);for(let M of s)n.delete(M)}return f=Array.from(new Uint32Array(p.buffer,f,b)).map(M=>M?E(p,M):""),c.module.xCreate(u,c.Tb,f,m,e("Int32",x))},ur=function(u,c,b,f,m,x){if(c=r.get(c),n.set(m,c),t){s.delete(m);for(let M of s)n.delete(M)}return f=Array.from(new Uint32Array(p.buffer,f,b)).map(M=>M?E(p,M):""),c.module.xConnect(u,c.Tb,f,m,e("Int32",x))},nr=function(u,c){var b=n.get(u),f=l.get("sqlite3_index_info").ac;let m={};m.nConstraint=R(c+f[0],"i32"),m.aConstraint=[];for(var x=R(c+f[1],"*"),M=l.get("sqlite3_index_constraint").size,D=0;D<m.nConstraint;++D){var $=m.aConstraint,L=$.push,U=x+D*M,we=l.get("sqlite3_index_constraint").ac,ne={};ne.iColumn=R(U+we[0],"i32"),ne.op=R(U+we[1],"i8"),ne.usable=!!R(U+we[2],"i8"),L.call($,ne)}for(m.nOrderBy=R(c+f[2],"i32"),m.aOrderBy=[],x=R(c+f[3],"*"),M=l.get("sqlite3_index_orderby").size,D=0;D<m.nOrderBy;++D)$=m.aOrderBy,L=$.push,U=x+D*M,we=l.get("sqlite3_index_orderby").ac,ne={},ne.iColumn=R(U+we[0],"i32"),ne.desc=!!R(U+we[1],"i8"),L.call($,ne);for(m.aConstraintUsage=[],x=0;x<m.nConstraint;++x)m.aConstraintUsage.push({argvIndex:0,omit:!1});for(m.idxNum=R(c+f[5],"i32"),m.idxStr=null,m.orderByConsumed=!!R(c+f[8],"i8"),m.estimatedCost=R(c+f[9],"double"),m.estimatedRows=R(c+f[10],"i32"),m.idxFlags=R(c+f[11],"i32"),m.colUsed=R(c+f[12],"i32"),u=b.module.xBestIndex(u,m),b=l.get("sqlite3_index_info").ac,f=R(c+b[4],"*"),x=l.get("sqlite3_index_constraint_usage").size,L=0;L<m.nConstraint;++L)M=f+L*x,$=m.aConstraintUsage[L],U=l.get("sqlite3_index_constraint_usage").ac,V(M+U[0],$.argvIndex,"i32"),V(M+U[1],$.omit?1:0,"i8");return V(c+b[5],m.idxNum,"i32"),typeof m.idxStr=="string"&&(f=se(m.idxStr),x=Q("sqlite3_malloc","number",["number"],[f+1]),ce(m.idxStr,p,x,f+1),V(c+b[6],x,"*"),V(c+b[7],1,"i32")),V(c+b[8],m.orderByConsumed,"i32"),V(c+b[9],m.estimatedCost,"double"),V(c+b[10],m.estimatedRows,"i32"),V(c+b[11],m.idxFlags,"i32"),u},lr=function(u){let c=n.get(u);return t?s.add(u):n.delete(u),c.module.xDisconnect(u)},cr=function(u){let c=n.get(u);return t?s.add(u):n.delete(u),c.module.xDestroy(u)},dr=function(u,c){let b=n.get(u);if(o.set(c,b),t){a.delete(c);for(let f of a)o.delete(f)}return b.module.xOpen(u,c)},ir=function(u){let c=o.get(u);return t?a.add(u):o.delete(u),c.module.xClose(u)},fr=function(u){return o.get(u).module.xEof(u)?1:0},br=function(u,c,b,f,m){let x=o.get(u);return b=b?b?E(p,b):"":null,m=new Uint32Array(p.buffer,m,f),x.module.xFilter(u,c,b,m)},hr=function(u){return o.get(u).module.xNext(u)},or=function(u,c,b){return o.get(u).module.xColumn(u,c,b)},_r=function(u,c){return o.get(u).module.xRowid(u,e("BigInt64",c))},yr=function(u,c,b,f){let m=n.get(u);return b=new Uint32Array(p.buffer,b,c),m.module.xUpdate(u,b,e("BigInt64",f))},rr=function(u){return n.get(u).module.xBegin(u)},gr=function(u){return n.get(u).module.xSync(u)},ar=function(u){return n.get(u).module.xCommit(u)},mr=function(u){return n.get(u).module.xRollback(u)},wr=function(u,c){let b=n.get(u);return c=c?E(p,c):"",b.module.xRename(u,c)}}(),function(){function e(a,l){let u=`get${a}`,c=`set${a}`;return new Proxy(new DataView(p.buffer,l,a==="Int32"?4:8),{get(b,f){if(f===u)return function(m,x){if(!x)throw Error("must be little endian");return b[f](m,x)};if(f===c)return function(m,x,M){if(!M)throw Error("must be little endian");return b[f](m,x,M)};if(typeof f=="string"&&f.match(/^(get)|(set)/))throw Error("invalid type");return b[f]}})}function t(a){return a>>=2,I[a]+I[a+1]*2**32}let r=typeof Asyncify=="object",n=new Map,o=new Map;i.registerVFS=function(a,l){if(Q("sqlite3_vfs_find","number",["string"],[a.name]))throw Error(`VFS '${a.name}' already registered`);r&&(a.handleAsync=Asyncify.Fc);var u=a.Vc??64;let c=i._malloc(4);return l=Q("register_vfs","number",["string","number","number","number"],[a.name,u,l?1:0,c]),l||(u=R(c,"*"),n.set(u,a)),i._free(c),l};let s=r?new Set:null;xr=function(a){let l=o.get(a);return r?s.add(a):o.delete(a),l.xClose(a)},kr=function(a,l,u,c){return o.get(a).xRead(a,p.subarray(l,l+u),t(c))},Ur=function(a,l,u,c){return o.get(a).xWrite(a,p.subarray(l,l+u),t(c))},Rr=function(a,l){return o.get(a).xTruncate(a,t(l))},zr=function(a,l){return o.get(a).xSync(a,l)},Ir=function(a,l){let u=o.get(a);return l=e("BigInt64",l),u.xFileSize(a,l)},Ar=function(a,l){return o.get(a).xLock(a,l)},Dr=function(a,l){return o.get(a).xUnlock(a,l)},qr=function(a,l){let u=o.get(a);return l=e("Int32",l),u.xCheckReservedLock(a,l)},Mr=function(a,l,u){let c=o.get(a);return u=new DataView(p.buffer,u),c.xFileControl(a,l,u)},$r=function(a){return o.get(a).xSectorSize(a)},Er=function(a){return o.get(a).xDeviceCharacteristics(a)},Sr=function(a,l,u,c,b){if(a=n.get(a),o.set(u,a),r){s.delete(u);for(var f of s)o.delete(f)}if(f=null,c&64){f=1;let m=[];for(;f;){let x=p[l++];if(x)m.push(x);else switch(p[l]||(f=null),f){case 1:m.push(63),f=2;break;case 2:m.push(61),f=3;break;case 3:m.push(38),f=2}}f=new TextDecoder().decode(new Uint8Array(m))}else l&&(f=l?E(p,l):"");return b=e("Int32",b),a.xOpen(f,u,c,b)},Cr=function(a,l,u){return n.get(a).xDelete(l?E(p,l):"",u)},vr=function(a,l,u,c){return a=n.get(a),c=e("Int32",c),a.xAccess(l?E(p,l):"",u,c)}}();var mn={a:(e,t,r,n)=>{Y(`Assertion failed: ${e?E(p,e):""}, at: `+[t?t?E(p,t):"":"unknown filename",r,n?n?E(p,n):"":"unknown function"])},K:function(e,t){try{return e=e?E(p,e):"",Ht(e,t),0}catch(r){if(typeof A>"u"||r.name!=="ErrnoError")throw r;return-r.Kb}},M:function(e,t,r){try{if(t=t?E(p,t):"",t=fe(e,t),r&-8)return-28;var n=O(t,{Ub:!0}).node;return n?(e="",r&4&&(e+="r"),r&2&&(e+="w"),r&1&&(e+="x"),e&&de(n,e)?-2:0):-44}catch(o){if(typeof A>"u"||o.name!=="ErrnoError")throw o;return-o.Kb}},L:function(e,t){try{var r=N(e);return Ht(r.node,t),0}catch(n){if(typeof A>"u"||n.name!=="ErrnoError")throw n;return-n.Kb}},J:function(e){try{var t=N(e).node,r=typeof t=="string"?O(t,{Ub:!0}).node:t;if(!r.Cb.Mb)throw new d(63);return r.Cb.Mb(r,{timestamp:Date.now()}),0}catch(n){if(typeof A>"u"||n.name!=="ErrnoError")throw n;return-n.Kb}},b:function(e,t,r){Je=r;try{var n=N(e);switch(t){case 0:var o=Pe();if(0>o)return-28;for(;qe[o];)o++;return Ot(n,o).Sb;case 1:case 2:return 0;case 3:return n.flags;case 4:return o=Pe(),n.flags|=o,0;case 5:return o=Pe(),ye[o+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return y[Fr()>>2]=28,-1;default:return-28}}catch(s){if(typeof A>"u"||s.name!=="ErrnoError")throw s;return-s.Kb}},I:function(e,t){try{var r=N(e);return Le(Fe,r.path,t)}catch(n){if(typeof A>"u"||n.name!=="ErrnoError")throw n;return-n.Kb}},n:function(e,t,r){t=Ee(t,r);try{if(isNaN(t))return 61;var n=N(e);if(!(n.flags&2097155))throw new d(28);return Bt(n.node,t),0}catch(o){if(typeof A>"u"||o.name!=="ErrnoError")throw o;return-o.Kb}},C:function(e,t){try{if(t===0)return-28;var r=se("/")+1;return t<r?-68:(ce("/",p,e,t),r)}catch(n){if(typeof A>"u"||n.name!=="ErrnoError")throw n;return-n.Kb}},F:function(e,t){try{return e=e?E(p,e):"",Le(Kt,e,t)}catch(r){if(typeof A>"u"||r.name!=="ErrnoError")throw r;return-r.Kb}},z:function(e,t,r){try{return t=t?E(p,t):"",t=fe(e,t),t=te(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),j(t,r),0}catch(n){if(typeof A>"u"||n.name!=="ErrnoError")throw n;return-n.Kb}},E:function(e,t,r,n){try{t=t?E(p,t):"";var o=n&256;return t=fe(e,t,n&4096),Le(o?Kt:Fe,t,r)}catch(s){if(typeof A>"u"||s.name!=="ErrnoError")throw s;return-s.Kb}},y:function(e,t,r,n){Je=n;try{t=t?E(p,t):"",t=fe(e,t);var o=n?Pe():0;return Ne(t,r,o).Sb}catch(s){if(typeof A>"u"||s.name!=="ErrnoError")throw s;return-s.Kb}},w:function(e,t,r,n){try{if(t=t?E(p,t):"",t=fe(e,t),0>=n)return-28;var o=Pt(t),s=Math.min(n,se(o)),a=F[r+s];return ce(o,p,r,n+1),F[r+s]=a,s}catch(l){if(typeof A>"u"||l.name!=="ErrnoError")throw l;return-l.Kb}},u:function(e){try{return e=e?E(p,e):"",Jt(e),0}catch(t){if(typeof A>"u"||t.name!=="ErrnoError")throw t;return-t.Kb}},H:function(e,t){try{return e=e?E(p,e):"",Le(Fe,e,t)}catch(r){if(typeof A>"u"||r.name!=="ErrnoError")throw r;return-r.Kb}},r:function(e,t,r){try{if(t=t?E(p,t):"",t=fe(e,t),r===0){e=t;var n=O(e,{parent:!0}).node;if(!n)throw new d(44);var o=Re(e),s=le(n,o),a=Nt(n,o,!1);if(a)throw new d(a);if(!n.Cb.kc)throw new d(63);if(s.Xb)throw new d(10);n.Cb.kc(n,o),Dt(s)}else r===512?Jt(t):Y("Invalid flags passed to unlinkat");return 0}catch(l){if(typeof A>"u"||l.name!=="ErrnoError")throw l;return-l.Kb}},q:function(e,t,r){try{if(t=t?E(p,t):"",t=fe(e,t,!0),r){var n=I[r>>2]+4294967296*y[r+4>>2],o=y[r+8>>2];s=1e3*n+o/1e6,r+=16,n=I[r>>2]+4294967296*y[r+4>>2],o=y[r+8>>2],a=1e3*n+o/1e6}else var s=Date.now(),a=s;e=s;var l=O(t,{Ub:!0}).node;return l.Cb.Mb(l,{timestamp:Math.max(e,a)}),0}catch(u){if(typeof A>"u"||u.name!=="ErrnoError")throw u;return-u.Kb}},l:function(e,t,r){e=new Date(1e3*Ee(e,t)),y[r>>2]=e.getSeconds(),y[r+4>>2]=e.getMinutes(),y[r+8>>2]=e.getHours(),y[r+12>>2]=e.getDate(),y[r+16>>2]=e.getMonth(),y[r+20>>2]=e.getFullYear()-1900,y[r+24>>2]=e.getDay(),t=e.getFullYear(),y[r+28>>2]=(t%4!==0||t%100===0&&t%400!==0?wn:dn)[e.getMonth()]+e.getDate()-1|0,y[r+36>>2]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();y[r+32>>2]=(t!=n&&e.getTimezoneOffset()==Math.min(n,t))|0},i:function(e,t,r,n,o,s,a,l){o=Ee(o,s);try{if(isNaN(o))return 61;var u=N(n);if(t&2&&!(r&2)&&(u.flags&2097155)!==2)throw new d(2);if((u.flags&2097155)===1)throw new d(2);if(!u.Ib.fc)throw new d(43);var c=u.Ib.fc(u,e,o,t,r),b=c.Jc;return y[a>>2]=c.xc,I[l>>2]=b,0}catch(f){if(typeof A>"u"||f.name!=="ErrnoError")throw f;return-f.Kb}},j:function(e,t,r,n,o,s,a){s=Ee(s,a);try{if(isNaN(s))return 61;var l=N(o);if(r&2){if((l.node.mode&61440)!==32768)throw new d(43);n&2||l.Ib.hc&&l.Ib.hc(l,p.slice(e,e+t),s,t,n)}}catch(u){if(typeof A>"u"||u.name!=="ErrnoError")throw u;return-u.Kb}},s:(e,t,r)=>{function n(u){return(u=u.toTimeString().match(/\(([A-Za-z ]+)\)$/))?u[1]:"GMT"}var o=new Date().getFullYear(),s=new Date(o,0,1),a=new Date(o,6,1);o=s.getTimezoneOffset();var l=a.getTimezoneOffset();I[e>>2]=60*Math.max(o,l),y[t>>2]=+(o!=l),e=n(s),t=n(a),e=Qt(e),t=Qt(t),l<o?(I[r>>2]=e,I[r+4>>2]=t):(I[r>>2]=t,I[r+4>>2]=e)},e:()=>Date.now(),d:()=>performance.now(),o:e=>{var t=p.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var o=Math;n=Math.max(e,n);e:{o=(o.min.call(o,2147483648,n+(65536-n%65536)%65536)-$e.buffer.byteLength+65535)/65536;try{$e.grow(o),_t();var s=1;break e}catch{}s=void 0}if(s)return!0}return!1},A:(e,t)=>{var r=0;return Gt().forEach((n,o)=>{var s=t+r;for(o=I[e+4*o>>2]=s,s=0;s<n.length;++s)F[o++>>0]=n.charCodeAt(s);F[o>>0]=0,r+=n.length+1}),0},B:(e,t)=>{var r=Gt();I[e>>2]=r.length;var n=0;return r.forEach(o=>n+=o.length+1),I[t>>2]=n,0},f:function(e){try{var t=N(e);if(t.Sb===null)throw new d(8);t.lc&&(t.lc=null);try{t.Ib.close&&t.Ib.close(t)}catch(r){throw r}finally{qe[t.Sb]=null}return t.Sb=null,0}catch(r){if(typeof A>"u"||r.name!=="ErrnoError")throw r;return r.Kb}},p:function(e,t){try{var r=N(e);return F[t>>0]=r.Ob?2:K(r.mode)?3:(r.mode&61440)===40960?7:4,ye[t+2>>1]=0,S=[0,(g=0,1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[t+8>>2]=S[0],y[t+12>>2]=S[1],S=[0,(g=0,1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[t+16>>2]=S[0],y[t+20>>2]=S[1],0}catch(n){if(typeof A>"u"||n.name!=="ErrnoError")throw n;return n.Kb}},x:function(e,t,r,n){try{e:{var o=N(e);e=t;for(var s,a=t=0;a<r;a++){var l=I[e>>2],u=I[e+4>>2];e+=8;var c=o,b=l,f=u,m=s,x=F;if(0>f||0>m)throw new d(28);if(c.Sb===null)throw new d(8);if((c.flags&2097155)===1)throw new d(8);if(K(c.node.mode))throw new d(31);if(!c.Ib.read)throw new d(28);var M=typeof m<"u";if(!M)m=c.position;else if(!c.seekable)throw new d(70);var D=c.Ib.read(c,x,b,f,m);M||(c.position+=D);var $=D;if(0>$){var L=-1;break e}if(t+=$,$<u)break;typeof s<"u"&&(s+=$)}L=t}return I[n>>2]=L,0}catch(U){if(typeof A>"u"||U.name!=="ErrnoError")throw U;return U.Kb}},m:function(e,t,r,n,o){t=Ee(t,r);try{if(isNaN(t))return 61;var s=N(e);return Wt(s,t,n),S=[s.position>>>0,(g=s.position,1<=+Math.abs(g)?0<g?+Math.floor(g/4294967296)>>>0:~~+Math.ceil((g-+(~~g>>>0))/4294967296)>>>0:0)],y[o>>2]=S[0],y[o+4>>2]=S[1],s.lc&&t===0&&n===0&&(s.lc=null),0}catch(a){if(typeof A>"u"||a.name!=="ErrnoError")throw a;return a.Kb}},D:function(e){try{var t=N(e);return t.Ib&&t.Ib.Wb?t.Ib.Wb(t):0}catch(r){if(typeof A>"u"||r.name!=="ErrnoError")throw r;return r.Kb}},t:function(e,t,r,n){try{e:{var o=N(e);e=t;for(var s,a=t=0;a<r;a++){var l=I[e>>2],u=I[e+4>>2];e+=8;var c=o,b=l,f=u,m=s,x=F;if(0>f||0>m)throw new d(28);if(c.Sb===null)throw new d(8);if(!(c.flags&2097155))throw new d(8);if(K(c.node.mode))throw new d(31);if(!c.Ib.write)throw new d(28);c.seekable&&c.flags&1024&&Wt(c,0,2);var M=typeof m<"u";if(!M)m=c.position;else if(!c.seekable)throw new d(70);var D=c.Ib.write(c,x,b,f,m,void 0);M||(c.position+=D);var $=D;if(0>$){var L=-1;break e}t+=$,typeof s<"u"&&(s+=$)}L=t}return I[n>>2]=L,0}catch(U){if(typeof A>"u"||U.name!=="ErrnoError")throw U;return U.Kb}},ra:Zt,N:Xt,ga:Yt,ca:er,Y:tr,la:rr,G:nr,h:ir,oa:or,ja:ar,ea:ur,fa:sr,k:cr,v:lr,pa:fr,g:br,qa:hr,da:dr,ha:wr,ia:mr,na:_r,c:pr,ka:gr,ma:yr,aa:vr,V:qr,$:xr,ba:Cr,S:Er,U:Mr,Z:Ir,X:Ar,R:Sr,Q:kr,T:$r,_:zr,O:Rr,W:Dr,P:Ur},w=function(){function e(r){return w=r.exports,$e=w.sa,_t(),gt.unshift(w.ta),ae--,i.monitorRunDependencies&&i.monitorRunDependencies(ae),ae==0&&ve&&(r=ve,ve=null,r()),w}var t={a:mn};if(ae++,i.monitorRunDependencies&&i.monitorRunDependencies(ae),i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(r){oe(`Module.instantiateWasm callback failed with error: ${r}`),v(r)}return rn(t,function(r){e(r.instance)}).catch(v),{}}();i._sqlite3_vfs_find=e=>(i._sqlite3_vfs_find=w.ua)(e),i._sqlite3_malloc=e=>(i._sqlite3_malloc=w.va)(e),i._sqlite3_free=e=>(i._sqlite3_free=w.wa)(e),i._sqlite3_prepare_v2=(e,t,r,n,o)=>(i._sqlite3_prepare_v2=w.xa)(e,t,r,n,o),i._sqlite3_step=e=>(i._sqlite3_step=w.ya)(e),i._sqlite3_column_int64=(e,t)=>(i._sqlite3_column_int64=w.za)(e,t),i._sqlite3_column_int=(e,t)=>(i._sqlite3_column_int=w.Aa)(e,t),i._sqlite3_finalize=e=>(i._sqlite3_finalize=w.Ba)(e),i._sqlite3_reset=e=>(i._sqlite3_reset=w.Ca)(e),i._sqlite3_clear_bindings=e=>(i._sqlite3_clear_bindings=w.Da)(e),i._sqlite3_value_blob=e=>(i._sqlite3_value_blob=w.Ea)(e),i._sqlite3_value_text=e=>(i._sqlite3_value_text=w.Fa)(e),i._sqlite3_value_bytes=e=>(i._sqlite3_value_bytes=w.Ga)(e),i._sqlite3_value_double=e=>(i._sqlite3_value_double=w.Ha)(e),i._sqlite3_value_int=e=>(i._sqlite3_value_int=w.Ia)(e),i._sqlite3_value_int64=e=>(i._sqlite3_value_int64=w.Ja)(e),i._sqlite3_value_type=e=>(i._sqlite3_value_type=w.Ka)(e),i._sqlite3_result_blob=(e,t,r,n)=>(i._sqlite3_result_blob=w.La)(e,t,r,n),i._sqlite3_result_double=(e,t)=>(i._sqlite3_result_double=w.Ma)(e,t),i._sqlite3_result_error=(e,t,r)=>(i._sqlite3_result_error=w.Na)(e,t,r),i._sqlite3_result_int=(e,t)=>(i._sqlite3_result_int=w.Oa)(e,t),i._sqlite3_result_int64=(e,t,r)=>(i._sqlite3_result_int64=w.Pa)(e,t,r),i._sqlite3_result_null=e=>(i._sqlite3_result_null=w.Qa)(e),i._sqlite3_result_text=(e,t,r,n)=>(i._sqlite3_result_text=w.Ra)(e,t,r,n),i._sqlite3_column_count=e=>(i._sqlite3_column_count=w.Sa)(e),i._sqlite3_data_count=e=>(i._sqlite3_data_count=w.Ta)(e),i._sqlite3_column_blob=(e,t)=>(i._sqlite3_column_blob=w.Ua)(e,t),i._sqlite3_column_bytes=(e,t)=>(i._sqlite3_column_bytes=w.Va)(e,t),i._sqlite3_column_double=(e,t)=>(i._sqlite3_column_double=w.Wa)(e,t),i._sqlite3_column_text=(e,t)=>(i._sqlite3_column_text=w.Xa)(e,t),i._sqlite3_column_type=(e,t)=>(i._sqlite3_column_type=w.Ya)(e,t),i._sqlite3_column_name=(e,t)=>(i._sqlite3_column_name=w.Za)(e,t),i._sqlite3_bind_blob=(e,t,r,n,o)=>(i._sqlite3_bind_blob=w._a)(e,t,r,n,o),i._sqlite3_bind_double=(e,t,r)=>(i._sqlite3_bind_double=w.$a)(e,t,r),i._sqlite3_bind_int=(e,t,r)=>(i._sqlite3_bind_int=w.ab)(e,t,r),i._sqlite3_bind_int64=(e,t,r,n)=>(i._sqlite3_bind_int64=w.bb)(e,t,r,n),i._sqlite3_bind_null=(e,t)=>(i._sqlite3_bind_null=w.cb)(e,t),i._sqlite3_bind_text=(e,t,r,n,o)=>(i._sqlite3_bind_text=w.db)(e,t,r,n,o),i._sqlite3_bind_parameter_count=e=>(i._sqlite3_bind_parameter_count=w.eb)(e),i._sqlite3_bind_parameter_name=(e,t)=>(i._sqlite3_bind_parameter_name=w.fb)(e,t),i._sqlite3_sql=e=>(i._sqlite3_sql=w.gb)(e),i._sqlite3_exec=(e,t,r,n,o)=>(i._sqlite3_exec=w.hb)(e,t,r,n,o),i._sqlite3_errmsg=e=>(i._sqlite3_errmsg=w.ib)(e),i._sqlite3_declare_vtab=(e,t)=>(i._sqlite3_declare_vtab=w.jb)(e,t),i._sqlite3_libversion=()=>(i._sqlite3_libversion=w.kb)(),i._sqlite3_libversion_number=()=>(i._sqlite3_libversion_number=w.lb)(),i._sqlite3_changes=e=>(i._sqlite3_changes=w.mb)(e),i._sqlite3_close=e=>(i._sqlite3_close=w.nb)(e),i._sqlite3_limit=(e,t,r)=>(i._sqlite3_limit=w.ob)(e,t,r),i._sqlite3_open_v2=(e,t,r,n)=>(i._sqlite3_open_v2=w.pb)(e,t,r,n),i._sqlite3_get_autocommit=e=>(i._sqlite3_get_autocommit=w.qb)(e);var Fr=()=>(Fr=w.rb)(),Nr=i._malloc=e=>(Nr=i._malloc=w.sb)(e);i._free=e=>(i._free=w.tb)(e),i._RegisterExtensionFunctions=e=>(i._RegisterExtensionFunctions=w.ub)(e),i._set_authorizer=e=>(i._set_authorizer=w.vb)(e),i._create_function=(e,t,r,n,o,s)=>(i._create_function=w.wb)(e,t,r,n,o,s),i._create_module=(e,t,r,n)=>(i._create_module=w.xb)(e,t,r,n),i._progress_handler=(e,t)=>(i._progress_handler=w.yb)(e,t),i._register_vfs=(e,t,r,n)=>(i._register_vfs=w.zb)(e,t,r,n),i._getSqliteFree=()=>(i._getSqliteFree=w.Ab)();var Or=i._main=(e,t)=>(Or=i._main=w.Bb)(e,t),Lr=(e,t)=>(Lr=w.Db)(e,t),Jr=()=>(Jr=w.Eb)(),Pr=()=>(Pr=w.Fb)(),Kr=e=>(Kr=w.Gb)(e),ut=e=>(ut=w.Hb)(e);i.getTempRet0=Jr,i.ccall=Q,i.cwrap=(e,t,r,n)=>{var o=!r||r.every(s=>s==="number"||s==="boolean");return t!=="string"&&o&&!n?i["_"+e]:function(){return Q(e,t,r,arguments)}},i.setValue=V,i.getValue=R,i.UTF8ToString=(e,t)=>e?E(p,e,t):"",i.stringToUTF8=(e,t,r)=>ce(e,p,t,r),i.lengthBytesUTF8=se;var Ke;ve=function e(){Ke||Hr(),Ke||(ve=e)};function Hr(){function e(){if(!Ke&&(Ke=!0,i.calledRun=!0,!je)){if(i.noFSInit||jt||(jt=!0,Vt(),i.stdin=i.stdin,i.stdout=i.stdout,i.stderr=i.stderr,i.stdin?xe("stdin",i.stdin):nt("/dev/tty","/dev/stdin"),i.stdout?xe("stdout",null,i.stdout):nt("/dev/tty","/dev/stdout"),i.stderr?xe("stderr",null,i.stderr):nt("/dev/tty1","/dev/stderr"),Ne("/dev/stdin",0),Ne("/dev/stdout",1),Ne("/dev/stderr",1)),Rt=!1,ze(gt),ze(Yr),_(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Br){var t=Or;try{var r=t(0,0);nn||(i.onExit&&i.onExit(r),je=!0),X(r,new Et(r))}catch(n){n instanceof Et||n=="unwind"||X(1,n)}}if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)t=i.postRun.shift(),yt.unshift(t);ze(yt)}}if(!(0<ae)){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)en();ze(pt),0<ae||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();var Br=!0;return i.noInitialRun&&(Br=!1),Hr(),h.ready}})(),Sn=An,Gr=4096,dt=512,kn=4,$n=8,lt=dt+kn,Vr=dt,jr=lt,me=Gr,zn=Cn|En|Mn|In,Rn=6;function be(...k){}var Me,he,G,H,Z,B,Be,Zr,Ie,ft,We,Xr,ie,_e,Ae,bt,pe,He,Se,ht,Qr,Dn=(Qr=class extends _n{constructor(h){super();J(this,Be);J(this,Ie);J(this,We);J(this,ie);J(this,Ae);J(this,pe);J(this,Se);J(this,Me,void 0);J(this,he,void 0);J(this,G,new Map);J(this,H,new Map);J(this,Z,new Set);J(this,B,new Map);ct(this,Me,h),this.isReady=this.reset().then(async()=>{this.getCapacity()===0&&await this.addCapacity(Rn)})}get name(){return"AccessHandlePool"}xOpen(h,i,_,v){be(`xOpen ${h} ${i} 0x${_.toString(16)}`);try{let z=h?T(this,pe,He).call(this,h):Math.random().toString(36),P=C(this,H).get(z);if(!P&&_&gn)if(this.getSize()<this.getCapacity())[P]=C(this,Z).keys(),T(this,ie,_e).call(this,P,z,_);else throw new Error("cannot create file");if(!P)throw new Error("file not found");let X={path:z,flags:_,accessHandle:P};return C(this,B).set(i,X),v.setInt32(0,_,!0),ee}catch(z){return console.error(z.message),yn}}xClose(h){let i=C(this,B).get(h);return i&&(be(`xClose ${i.path}`),i.accessHandle.flush(),C(this,B).delete(h),i.flags&Wr&&T(this,Se,ht).call(this,i.path)),ee}xRead(h,i,_){let v=C(this,B).get(h);be(`xRead ${v.path} ${i.byteLength} ${_}`);let z=v.accessHandle.read(i,{at:me+_});return z<i.byteLength?(i.fill(0,z,i.byteLength),vn):ee}xWrite(h,i,_){let v=C(this,B).get(h);return be(`xWrite ${v.path} ${i.byteLength} ${_}`),v.accessHandle.write(i,{at:me+_})===i.byteLength?ee:qn}xTruncate(h,i){let _=C(this,B).get(h);return be(`xTruncate ${_.path} ${i}`),_.accessHandle.truncate(me+i),ee}xSync(h,i){let _=C(this,B).get(h);return be(`xSync ${_.path} ${i}`),_.accessHandle.flush(),ee}xFileSize(h,i){let _=C(this,B).get(h),v=_.accessHandle.getSize()-me;return be(`xFileSize ${_.path} ${v}`),i.setBigInt64(0,BigInt(v),!0),ee}xSectorSize(h){return Gr}xDeviceCharacteristics(h){return xn}xAccess(h,i,_){let v=T(this,pe,He).call(this,h);return _.setInt32(0,C(this,H).has(v)?1:0,!0),ee}xDelete(h,i){let _=T(this,pe,He).call(this,h);return T(this,Se,ht).call(this,_),ee}async close(){await T(this,Ie,ft).call(this)}async reset(){await this.isReady;let h=await navigator.storage.getDirectory();for(let i of C(this,Me).split("/"))i&&(h=await h.getDirectoryHandle(i,{create:!0}));ct(this,he,h),await T(this,Ie,ft).call(this),await T(this,Be,Zr).call(this)}getSize(){return C(this,H).size}getCapacity(){return C(this,G).size}async addCapacity(h){for(let i=0;i<h;++i){let _=Math.random().toString(36).replace("0.",""),v=await(await C(this,he).getFileHandle(_,{create:!0})).createSyncAccessHandle();C(this,G).set(v,_),T(this,ie,_e).call(this,v,"",0)}return h}async removeCapacity(h){let i=0;for(let _ of Array.from(C(this,Z))){if(i==h||this.getSize()===this.getCapacity())return i;let v=C(this,G).get(_);await _.close(),await C(this,he).removeEntry(v),C(this,G).delete(_),C(this,Z).delete(_),++i}return i}},Me=new WeakMap,he=new WeakMap,G=new WeakMap,H=new WeakMap,Z=new WeakMap,B=new WeakMap,Be=new WeakSet,Zr=async function(){let h=[];for await(let[i,_]of C(this,he))_.kind==="file"&&h.push([i,_]);await Promise.all(h.map(async([i,_])=>{let v=await _.createSyncAccessHandle();C(this,G).set(v,i);let z=T(this,We,Xr).call(this,v);z?C(this,H).set(z,v):C(this,Z).add(v)}))},Ie=new WeakSet,ft=function(){for(let h of C(this,G).keys())h.close();C(this,G).clear(),C(this,H).clear(),C(this,Z).clear()},We=new WeakSet,Xr=function(h){let i=new Uint8Array(lt);h.read(i,{at:0});let _=new DataView(i.buffer,i.byteOffset).getUint32(Vr);if(i[0]&&(_&Wr||!(_&zn)))return console.warn(`Remove file with unexpected flags ${_.toString(16)}`),T(this,ie,_e).call(this,h,"",0),"";let v=new Uint32Array($n/4);h.read(v,{at:jr});let z=T(this,Ae,bt).call(this,i);if(v.every((P,X)=>P===z[X])){let P=i.findIndex(X=>X===0);return P===0&&h.truncate(me),new TextDecoder().decode(i.subarray(0,P))}else return console.warn("Disassociating file with bad digest."),T(this,ie,_e).call(this,h,"",0),""},ie=new WeakSet,_e=function(h,i,_){let v=new Uint8Array(lt);if(new TextEncoder().encodeInto(i,v).written>=dt)throw new Error("path too long");new DataView(v.buffer,v.byteOffset).setUint32(Vr,_);let z=T(this,Ae,bt).call(this,v);h.write(v,{at:0}),h.write(z,{at:jr}),h.flush(),i?(C(this,H).set(i,h),C(this,Z).delete(h)):(h.truncate(me),C(this,Z).add(h))},Ae=new WeakSet,bt=function(h){if(!h[0])return new Uint32Array([4274806656,2899230775]);let i=3735928559,_=1103547991;for(let v of h)i=Math.imul(i^v,2654435761),_=Math.imul(_^v,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(_^_>>>13,3266489909),_=Math.imul(_^_>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),new Uint32Array([i>>>0,_>>>0])},pe=new WeakSet,He=function(h){return(typeof h=="string"?new URL(h,"file://localhost/"):h).pathname},Se=new WeakSet,ht=function(h){let i=C(this,H).get(h);i&&(C(this,H).delete(h),T(this,ie,_e).call(this,i,"",0))},Qr);async function Nn(k,h={}){let i=await Sn(h.url?{locateFile:()=>h.url}:void 0),_=pn(i),v=new Dn(k);return await v.isReady,_.vfs_register(v),{sqlite:_,fileName:k}}export{Nn as useOpfsStorage};
