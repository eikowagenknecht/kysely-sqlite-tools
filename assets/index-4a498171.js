var em=Object.defineProperty;var tm=(t,e,n)=>e in t?em(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ve=(t,e,n)=>(tm(t,typeof e!="symbol"?e+"":e,n),n),ll=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var i=(t,e,n)=>(ll(t,e,"read from private field"),n?n.call(t):e.get(t)),D=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},H=(t,e,n,r)=>(ll(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var _e=(t,e,n)=>(ll(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function rf(t,e){const n=Object.create(null),r=t.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return e?a=>!!n[a.toLowerCase()]:a=>!!n[a]}function sf(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],a=kt(r)?sm(r):sf(r);if(a)for(const l in a)e[l]=a[l]}return e}else{if(kt(t))return t;if(ft(t))return t}}const nm=/;(?![^(]*\))/g,rm=/:([^]+)/,im=/\/\*.*?\*\//gs;function sm(t){const e={};return t.replace(im,"").split(nm).forEach(n=>{if(n){const r=n.split(rm);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function of(t){let e="";if(kt(t))e=t;else if(Se(t))for(let n=0;n<t.length;n++){const r=of(t[n]);r&&(e+=r+" ")}else if(ft(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const om="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",am=rf(om);function Yh(t){return!!t||t===""}const um=t=>kt(t)?t:t==null?"":Se(t)||ft(t)&&(t.toString===td||!Ie(t.toString))?JSON.stringify(t,Xh,2):String(t),Xh=(t,e)=>e&&e.__v_isRef?Xh(t,e.value):Vs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,a])=>(n[`${r} =>`]=a,n),{})}:Zh(e)?{[`Set(${e.size})`]:[...e.values()]}:ft(e)&&!Se(e)&&!nd(e)?String(e):e,at={},js=[],rr=()=>{},cm=()=>!1,lm=/^on[^a-z]/,$c=t=>lm.test(t),af=t=>t.startsWith("onUpdate:"),Gt=Object.assign,uf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},fm=Object.prototype.hasOwnProperty,Me=(t,e)=>fm.call(t,e),Se=Array.isArray,Vs=t=>Qc(t)==="[object Map]",Zh=t=>Qc(t)==="[object Set]",Ie=t=>typeof t=="function",kt=t=>typeof t=="string",cf=t=>typeof t=="symbol",ft=t=>t!==null&&typeof t=="object",ed=t=>ft(t)&&Ie(t.then)&&Ie(t.catch),td=Object.prototype.toString,Qc=t=>td.call(t),hm=t=>Qc(t).slice(8,-1),nd=t=>Qc(t)==="[object Object]",lf=t=>kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Au=rf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},dm=/-(\w)/g,No=jc(t=>t.replace(dm,(e,n)=>n?n.toUpperCase():"")),pm=/\B([A-Z])/g,Co=jc(t=>t.replace(pm,"-$1").toLowerCase()),rd=jc(t=>t.charAt(0).toUpperCase()+t.slice(1)),fl=jc(t=>t?`on${rd(t)}`:""),ma=(t,e)=>!Object.is(t,e),hl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Uu=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},mm=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Hf;const ym=()=>Hf||(Hf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Vn;class wm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vn,!e&&Vn&&(this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Vn;try{return Vn=this,e()}finally{Vn=n}}}on(){Vn=this}off(){Vn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function gm(t,e=Vn){e&&e.active&&e.effects.push(t)}function bm(){return Vn}const ff=t=>{const e=new Set(t);return e.w=0,e.n=0,e},id=t=>(t.w&li)>0,sd=t=>(t.n&li)>0,Nm=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=li},vm=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const a=e[r];id(a)&&!sd(a)?a.delete(t):e[n++]=a,a.w&=~li,a.n&=~li}e.length=n}},Ol=new WeakMap;let ta=0,li=1;const El=30;let er;const as=Symbol(""),Cl=Symbol("");class hf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,gm(this,r)}run(){if(!this.active)return this.fn();let e=er,n=ai;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=er,er=this,ai=!0,li=1<<++ta,ta<=El?Nm(this):zf(this),this.fn()}finally{ta<=El&&vm(this),li=1<<--ta,er=this.parent,ai=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){er===this?this.deferStop=!0:this.active&&(zf(this),this.onStop&&this.onStop(),this.active=!1)}}function zf(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ai=!0;const od=[];function qo(){od.push(ai),ai=!1}function So(){const t=od.pop();ai=t===void 0?!0:t}function yn(t,e,n){if(ai&&er){let r=Ol.get(t);r||Ol.set(t,r=new Map);let a=r.get(n);a||r.set(n,a=ff()),ad(a)}}function ad(t,e){let n=!1;ta<=El?sd(t)||(t.n|=li,n=!id(t)):n=!t.has(er),n&&(t.add(er),er.deps.push(t))}function Tr(t,e,n,r,a,l){const p=Ol.get(t);if(!p)return;let w=[];if(e==="clear")w=[...p.values()];else if(n==="length"&&Se(t)){const v=Number(r);p.forEach((d,A)=>{(A==="length"||A>=v)&&w.push(d)})}else switch(n!==void 0&&w.push(p.get(n)),e){case"add":Se(t)?lf(n)&&w.push(p.get("length")):(w.push(p.get(as)),Vs(t)&&w.push(p.get(Cl)));break;case"delete":Se(t)||(w.push(p.get(as)),Vs(t)&&w.push(p.get(Cl)));break;case"set":Vs(t)&&w.push(p.get(as));break}if(w.length===1)w[0]&&ql(w[0]);else{const v=[];for(const d of w)d&&v.push(...d);ql(ff(v))}}function ql(t,e){const n=Se(t)?t:[...t];for(const r of n)r.computed&&Kf(r);for(const r of n)r.computed||Kf(r)}function Kf(t,e){(t!==er||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const _m=rf("__proto__,__v_isRef,__isVue"),ud=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(cf)),xm=df(),Om=df(!1,!0),Em=df(!0),Jf=Cm();function Cm(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Be(this);for(let l=0,p=this.length;l<p;l++)yn(r,"get",l+"");const a=r[e](...n);return a===-1||a===!1?r[e](...n.map(Be)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){qo();const r=Be(this)[e].apply(this,n);return So(),r}}),t}function qm(t){const e=Be(this);return yn(e,"has",t),e.hasOwnProperty(t)}function df(t=!1,e=!1){return function(r,a,l){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&l===(t?e?Qm:dd:e?hd:fd).get(r))return r;const p=Se(r);if(!t){if(p&&Me(Jf,a))return Reflect.get(Jf,a,l);if(a==="hasOwnProperty")return qm}const w=Reflect.get(r,a,l);return(cf(a)?ud.has(a):_m(a))||(t||yn(r,"get",a),e)?w:Jt(w)?p&&lf(a)?w:w.value:ft(w)?t?pd(w):yf(w):w}}const Sm=cd(),Am=cd(!0);function cd(t=!1){return function(n,r,a,l){let p=n[r];if(vo(p)&&Jt(p)&&!Jt(a))return!1;if(!t&&(!$u(a)&&!vo(a)&&(p=Be(p),a=Be(a)),!Se(n)&&Jt(p)&&!Jt(a)))return p.value=a,!0;const w=Se(n)&&lf(r)?Number(r)<n.length:Me(n,r),v=Reflect.set(n,r,a,l);return n===Be(l)&&(w?ma(a,p)&&Tr(n,"set",r,a):Tr(n,"add",r,a)),v}}function Im(t,e){const n=Me(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Tr(t,"delete",e,void 0),r}function Tm(t,e){const n=Reflect.has(t,e);return(!cf(e)||!ud.has(e))&&yn(t,"has",e),n}function km(t){return yn(t,"iterate",Se(t)?"length":as),Reflect.ownKeys(t)}const ld={get:xm,set:Sm,deleteProperty:Im,has:Tm,ownKeys:km},Wm={get:Em,set(t,e){return!0},deleteProperty(t,e){return!0}},Rm=Gt({},ld,{get:Om,set:Am}),pf=t=>t,Vc=t=>Reflect.getPrototypeOf(t);function Nu(t,e,n=!1,r=!1){t=t.__v_raw;const a=Be(t),l=Be(e);n||(e!==l&&yn(a,"get",e),yn(a,"get",l));const{has:p}=Vc(a),w=r?pf:n?gf:ya;if(p.call(a,e))return w(t.get(e));if(p.call(a,l))return w(t.get(l));t!==a&&t.get(e)}function vu(t,e=!1){const n=this.__v_raw,r=Be(n),a=Be(t);return e||(t!==a&&yn(r,"has",t),yn(r,"has",a)),t===a?n.has(t):n.has(t)||n.has(a)}function _u(t,e=!1){return t=t.__v_raw,!e&&yn(Be(t),"iterate",as),Reflect.get(t,"size",t)}function Gf(t){t=Be(t);const e=Be(this);return Vc(e).has.call(e,t)||(e.add(t),Tr(e,"add",t,t)),this}function Yf(t,e){e=Be(e);const n=Be(this),{has:r,get:a}=Vc(n);let l=r.call(n,t);l||(t=Be(t),l=r.call(n,t));const p=a.call(n,t);return n.set(t,e),l?ma(e,p)&&Tr(n,"set",t,e):Tr(n,"add",t,e),this}function Xf(t){const e=Be(this),{has:n,get:r}=Vc(e);let a=n.call(e,t);a||(t=Be(t),a=n.call(e,t)),r&&r.call(e,t);const l=e.delete(t);return a&&Tr(e,"delete",t,void 0),l}function Zf(){const t=Be(this),e=t.size!==0,n=t.clear();return e&&Tr(t,"clear",void 0,void 0),n}function xu(t,e){return function(r,a){const l=this,p=l.__v_raw,w=Be(p),v=e?pf:t?gf:ya;return!t&&yn(w,"iterate",as),p.forEach((d,A)=>r.call(a,v(d),v(A),l))}}function Ou(t,e,n){return function(...r){const a=this.__v_raw,l=Be(a),p=Vs(l),w=t==="entries"||t===Symbol.iterator&&p,v=t==="keys"&&p,d=a[t](...r),A=n?pf:e?gf:ya;return!e&&yn(l,"iterate",v?Cl:as),{next(){const{value:B,done:F}=d.next();return F?{value:B,done:F}:{value:w?[A(B[0]),A(B[1])]:A(B),done:F}},[Symbol.iterator](){return this}}}}function jr(t){return function(...e){return t==="delete"?!1:this}}function Dm(){const t={get(l){return Nu(this,l)},get size(){return _u(this)},has:vu,add:Gf,set:Yf,delete:Xf,clear:Zf,forEach:xu(!1,!1)},e={get(l){return Nu(this,l,!1,!0)},get size(){return _u(this)},has:vu,add:Gf,set:Yf,delete:Xf,clear:Zf,forEach:xu(!1,!0)},n={get(l){return Nu(this,l,!0)},get size(){return _u(this,!0)},has(l){return vu.call(this,l,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:xu(!0,!1)},r={get(l){return Nu(this,l,!0,!0)},get size(){return _u(this,!0)},has(l){return vu.call(this,l,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:xu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=Ou(l,!1,!1),n[l]=Ou(l,!0,!1),e[l]=Ou(l,!1,!0),r[l]=Ou(l,!0,!0)}),[t,n,e,r]}const[Lm,Pm,Mm,Bm]=Dm();function mf(t,e){const n=e?t?Bm:Mm:t?Pm:Lm;return(r,a,l)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?r:Reflect.get(Me(n,a)&&a in r?n:r,a,l)}const Fm={get:mf(!1,!1)},Um={get:mf(!1,!0)},$m={get:mf(!0,!1)},fd=new WeakMap,hd=new WeakMap,dd=new WeakMap,Qm=new WeakMap;function jm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vm(t){return t.__v_skip||!Object.isExtensible(t)?0:jm(hm(t))}function yf(t){return vo(t)?t:wf(t,!1,ld,Fm,fd)}function Hm(t){return wf(t,!1,Rm,Um,hd)}function pd(t){return wf(t,!0,Wm,$m,dd)}function wf(t,e,n,r,a){if(!ft(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=a.get(t);if(l)return l;const p=Vm(t);if(p===0)return t;const w=new Proxy(t,p===2?r:n);return a.set(t,w),w}function Hs(t){return vo(t)?Hs(t.__v_raw):!!(t&&t.__v_isReactive)}function vo(t){return!!(t&&t.__v_isReadonly)}function $u(t){return!!(t&&t.__v_isShallow)}function md(t){return Hs(t)||vo(t)}function Be(t){const e=t&&t.__v_raw;return e?Be(e):t}function yd(t){return Uu(t,"__v_skip",!0),t}const ya=t=>ft(t)?yf(t):t,gf=t=>ft(t)?pd(t):t;function wd(t){ai&&er&&(t=Be(t),ad(t.dep||(t.dep=ff())))}function gd(t,e){t=Be(t);const n=t.dep;n&&ql(n)}function Jt(t){return!!(t&&t.__v_isRef===!0)}function zm(t){return Km(t,!1)}function Km(t,e){return Jt(t)?t:new Jm(t,e)}class Jm{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Be(e),this._value=n?e:ya(e)}get value(){return wd(this),this._value}set value(e){const n=this.__v_isShallow||$u(e)||vo(e);e=n?e:Be(e),ma(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ya(e),gd(this))}}function bd(t){return Jt(t)?t.value:t}const Gm={get:(t,e,n)=>bd(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const a=t[e];return Jt(a)&&!Jt(n)?(a.value=n,!0):Reflect.set(t,e,n,r)}};function Nd(t){return Hs(t)?t:new Proxy(t,Gm)}var vd;class Ym{constructor(e,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[vd]=!1,this._dirty=!0,this.effect=new hf(e,()=>{this._dirty||(this._dirty=!0,gd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const e=Be(this);return wd(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}vd="__v_isReadonly";function Xm(t,e,n=!1){let r,a;const l=Ie(t);return l?(r=t,a=rr):(r=t.get,a=t.set),new Ym(r,a,l||!a,n)}function ui(t,e,n,r){let a;try{a=r?t(...r):t()}catch(l){Hc(l,e,n)}return a}function Rn(t,e,n,r){if(Ie(t)){const l=ui(t,e,n,r);return l&&ed(l)&&l.catch(p=>{Hc(p,e,n)}),l}const a=[];for(let l=0;l<t.length;l++)a.push(Rn(t[l],e,n,r));return a}function Hc(t,e,n,r=!0){const a=e?e.vnode:null;if(e){let l=e.parent;const p=e.proxy,w=n;for(;l;){const d=l.ec;if(d){for(let A=0;A<d.length;A++)if(d[A](t,p,w)===!1)return}l=l.parent}const v=e.appContext.config.errorHandler;if(v){ui(v,null,10,[t,p,w]);return}}Zm(t,n,a,r)}function Zm(t,e,n,r=!0){console.error(t)}let wa=!1,Sl=!1;const Kt=[];let yr=0;const zs=[];let xr=null,Mi=0;const _d=Promise.resolve();let bf=null;function ey(t){const e=bf||_d;return t?e.then(this?t.bind(this):t):e}function ty(t){let e=yr+1,n=Kt.length;for(;e<n;){const r=e+n>>>1;ga(Kt[r])<t?e=r+1:n=r}return e}function Nf(t){(!Kt.length||!Kt.includes(t,wa&&t.allowRecurse?yr+1:yr))&&(t.id==null?Kt.push(t):Kt.splice(ty(t.id),0,t),xd())}function xd(){!wa&&!Sl&&(Sl=!0,bf=_d.then(Ed))}function ny(t){const e=Kt.indexOf(t);e>yr&&Kt.splice(e,1)}function ry(t){Se(t)?zs.push(...t):(!xr||!xr.includes(t,t.allowRecurse?Mi+1:Mi))&&zs.push(t),xd()}function eh(t,e=wa?yr+1:0){for(;e<Kt.length;e++){const n=Kt[e];n&&n.pre&&(Kt.splice(e,1),e--,n())}}function Od(t){if(zs.length){const e=[...new Set(zs)];if(zs.length=0,xr){xr.push(...e);return}for(xr=e,xr.sort((n,r)=>ga(n)-ga(r)),Mi=0;Mi<xr.length;Mi++)xr[Mi]();xr=null,Mi=0}}const ga=t=>t.id==null?1/0:t.id,iy=(t,e)=>{const n=ga(t)-ga(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Ed(t){Sl=!1,wa=!0,Kt.sort(iy);const e=rr;try{for(yr=0;yr<Kt.length;yr++){const n=Kt[yr];n&&n.active!==!1&&ui(n,null,14)}}finally{yr=0,Kt.length=0,Od(),wa=!1,bf=null,(Kt.length||zs.length)&&Ed()}}function sy(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||at;let a=n;const l=e.startsWith("update:"),p=l&&e.slice(7);if(p&&p in r){const A=`${p==="modelValue"?"model":p}Modifiers`,{number:B,trim:F}=r[A]||at;F&&(a=n.map(Y=>kt(Y)?Y.trim():Y)),B&&(a=n.map(mm))}let w,v=r[w=fl(e)]||r[w=fl(No(e))];!v&&l&&(v=r[w=fl(Co(e))]),v&&Rn(v,t,6,a);const d=r[w+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,Rn(d,t,6,a)}}function Cd(t,e,n=!1){const r=e.emitsCache,a=r.get(t);if(a!==void 0)return a;const l=t.emits;let p={},w=!1;if(!Ie(t)){const v=d=>{const A=Cd(d,e,!0);A&&(w=!0,Gt(p,A))};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}return!l&&!w?(ft(t)&&r.set(t,null),null):(Se(l)?l.forEach(v=>p[v]=null):Gt(p,l),ft(t)&&r.set(t,p),p)}function zc(t,e){return!t||!$c(e)?!1:(e=e.slice(2).replace(/Once$/,""),Me(t,e[0].toLowerCase()+e.slice(1))||Me(t,Co(e))||Me(t,e))}let tr=null,qd=null;function Qu(t){const e=tr;return tr=t,qd=t&&t.type.__scopeId||null,e}function oy(t,e=tr,n){if(!e||t._n)return t;const r=(...a)=>{r._d&&ch(-1);const l=Qu(e);let p;try{p=t(...a)}finally{Qu(l),r._d&&ch(1)}return p};return r._n=!0,r._c=!0,r._d=!0,r}function dl(t){const{type:e,vnode:n,proxy:r,withProxy:a,props:l,propsOptions:[p],slots:w,attrs:v,emit:d,render:A,renderCache:B,data:F,setupState:Y,ctx:X,inheritAttrs:b}=t;let E,N;const q=Qu(t);try{if(n.shapeFlag&4){const ne=a||r;E=pr(A.call(ne,ne,B,l,Y,F,X)),N=v}else{const ne=e;E=pr(ne.length>1?ne(l,{attrs:v,slots:w,emit:d}):ne(l,null)),N=e.props?v:ay(v)}}catch(ne){sa.length=0,Hc(ne,t,1),E=us(Ar)}let T=E;if(N&&b!==!1){const ne=Object.keys(N),{shapeFlag:ye}=T;ne.length&&ye&7&&(p&&ne.some(af)&&(N=uy(N,p)),T=fi(T,N))}return n.dirs&&(T=fi(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),E=T,Qu(q),E}const ay=t=>{let e;for(const n in t)(n==="class"||n==="style"||$c(n))&&((e||(e={}))[n]=t[n]);return e},uy=(t,e)=>{const n={};for(const r in t)(!af(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function cy(t,e,n){const{props:r,children:a,component:l}=t,{props:p,children:w,patchFlag:v}=e,d=l.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&v>=0){if(v&1024)return!0;if(v&16)return r?th(r,p,d):!!p;if(v&8){const A=e.dynamicProps;for(let B=0;B<A.length;B++){const F=A[B];if(p[F]!==r[F]&&!zc(d,F))return!0}}}else return(a||w)&&(!w||!w.$stable)?!0:r===p?!1:r?p?th(r,p,d):!0:!!p;return!1}function th(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let a=0;a<r.length;a++){const l=r[a];if(e[l]!==t[l]&&!zc(n,l))return!0}return!1}function ly({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const fy=t=>t.__isSuspense;function hy(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):ry(t)}function dy(t,e){if(xt){let n=xt.provides;const r=xt.parent&&xt.parent.provides;r===n&&(n=xt.provides=Object.create(r)),n[t]=e}}function Iu(t,e,n=!1){const r=xt||tr;if(r){const a=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(a&&t in a)return a[t];if(arguments.length>1)return n&&Ie(e)?e.call(r.proxy):e}}const Eu={};function pl(t,e,n){return Sd(t,e,n)}function Sd(t,e,{immediate:n,deep:r,flush:a,onTrack:l,onTrigger:p}=at){const w=bm()===(xt==null?void 0:xt.scope)?xt:null;let v,d=!1,A=!1;if(Jt(t)?(v=()=>t.value,d=$u(t)):Hs(t)?(v=()=>t,r=!0):Se(t)?(A=!0,d=t.some(T=>Hs(T)||$u(T)),v=()=>t.map(T=>{if(Jt(T))return T.value;if(Hs(T))return Ls(T);if(Ie(T))return ui(T,w,2)})):Ie(t)?e?v=()=>ui(t,w,2):v=()=>{if(!(w&&w.isUnmounted))return B&&B(),Rn(t,w,3,[F])}:v=rr,e&&r){const T=v;v=()=>Ls(T())}let B,F=T=>{B=N.onStop=()=>{ui(T,w,4)}},Y;if(va)if(F=rr,e?n&&Rn(e,w,3,[v(),A?[]:void 0,F]):v(),a==="sync"){const T=hw();Y=T.__watcherHandles||(T.__watcherHandles=[])}else return rr;let X=A?new Array(t.length).fill(Eu):Eu;const b=()=>{if(N.active)if(e){const T=N.run();(r||d||(A?T.some((ne,ye)=>ma(ne,X[ye])):ma(T,X)))&&(B&&B(),Rn(e,w,3,[T,X===Eu?void 0:A&&X[0]===Eu?[]:X,F]),X=T)}else N.run()};b.allowRecurse=!!e;let E;a==="sync"?E=b:a==="post"?E=()=>ln(b,w&&w.suspense):(b.pre=!0,w&&(b.id=w.uid),E=()=>Nf(b));const N=new hf(v,E);e?n?b():X=N.run():a==="post"?ln(N.run.bind(N),w&&w.suspense):N.run();const q=()=>{N.stop(),w&&w.scope&&uf(w.scope.effects,N)};return Y&&Y.push(q),q}function py(t,e,n){const r=this.proxy,a=kt(t)?t.includes(".")?Ad(r,t):()=>r[t]:t.bind(r,r);let l;Ie(e)?l=e:(l=e.handler,n=e);const p=xt;_o(this);const w=Sd(a,l.bind(r),n);return p?_o(p):cs(),w}function Ad(t,e){const n=e.split(".");return()=>{let r=t;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function Ls(t,e){if(!ft(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Jt(t))Ls(t.value,e);else if(Se(t))for(let n=0;n<t.length;n++)Ls(t[n],e);else if(Zh(t)||Vs(t))t.forEach(n=>{Ls(n,e)});else if(nd(t))for(const n in t)Ls(t[n],e);return t}function my(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wd(()=>{t.isMounted=!0}),Rd(()=>{t.isUnmounting=!0}),t}const kn=[Function,Array],yy={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kn,onEnter:kn,onAfterEnter:kn,onEnterCancelled:kn,onBeforeLeave:kn,onLeave:kn,onAfterLeave:kn,onLeaveCancelled:kn,onBeforeAppear:kn,onAppear:kn,onAfterAppear:kn,onAppearCancelled:kn},setup(t,{slots:e}){const n=iw(),r=my();let a;return()=>{const l=e.default&&Td(e.default(),!0);if(!l||!l.length)return;let p=l[0];if(l.length>1){for(const b of l)if(b.type!==Ar){p=b;break}}const w=Be(t),{mode:v}=w;if(r.isLeaving)return ml(p);const d=nh(p);if(!d)return ml(p);const A=Al(d,w,r,n);Il(d,A);const B=n.subTree,F=B&&nh(B);let Y=!1;const{getTransitionKey:X}=d.type;if(X){const b=X();a===void 0?a=b:b!==a&&(a=b,Y=!0)}if(F&&F.type!==Ar&&(!Bi(d,F)||Y)){const b=Al(F,w,r,n);if(Il(F,b),v==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},ml(p);v==="in-out"&&d.type!==Ar&&(b.delayLeave=(E,N,q)=>{const T=Id(r,F);T[String(F.key)]=F,E._leaveCb=()=>{N(),E._leaveCb=void 0,delete A.delayedLeave},A.delayedLeave=q})}return p}}},wy=yy;function Id(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Al(t,e,n,r){const{appear:a,mode:l,persisted:p=!1,onBeforeEnter:w,onEnter:v,onAfterEnter:d,onEnterCancelled:A,onBeforeLeave:B,onLeave:F,onAfterLeave:Y,onLeaveCancelled:X,onBeforeAppear:b,onAppear:E,onAfterAppear:N,onAppearCancelled:q}=e,T=String(t.key),ne=Id(n,t),ye=(be,Ze)=>{be&&Rn(be,r,9,Ze)},ae=(be,Ze)=>{const ze=Ze[1];ye(be,Ze),Se(be)?be.every(Ot=>Ot.length<=1)&&ze():be.length<=1&&ze()},ge={mode:l,persisted:p,beforeEnter(be){let Ze=w;if(!n.isMounted)if(a)Ze=b||w;else return;be._leaveCb&&be._leaveCb(!0);const ze=ne[T];ze&&Bi(t,ze)&&ze.el._leaveCb&&ze.el._leaveCb(),ye(Ze,[be])},enter(be){let Ze=v,ze=d,Ot=A;if(!n.isMounted)if(a)Ze=E||v,ze=N||d,Ot=q||A;else return;let Et=!1;const Qe=be._enterCb=$t=>{Et||(Et=!0,$t?ye(Ot,[be]):ye(ze,[be]),ge.delayedLeave&&ge.delayedLeave(),be._enterCb=void 0)};Ze?ae(Ze,[be,Qe]):Qe()},leave(be,Ze){const ze=String(t.key);if(be._enterCb&&be._enterCb(!0),n.isUnmounting)return Ze();ye(B,[be]);let Ot=!1;const Et=be._leaveCb=Qe=>{Ot||(Ot=!0,Ze(),Qe?ye(X,[be]):ye(Y,[be]),be._leaveCb=void 0,ne[ze]===t&&delete ne[ze])};ne[ze]=t,F?ae(F,[be,Et]):Et()},clone(be){return Al(be,e,n,r)}};return ge}function ml(t){if(Kc(t))return t=fi(t),t.children=null,t}function nh(t){return Kc(t)?t.children?t.children[0]:void 0:t}function Il(t,e){t.shapeFlag&6&&t.component?Il(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Td(t,e=!1,n){let r=[],a=0;for(let l=0;l<t.length;l++){let p=t[l];const w=n==null?p.key:String(n)+String(p.key!=null?p.key:l);p.type===Zn?(p.patchFlag&128&&a++,r=r.concat(Td(p.children,e,w))):(e||p.type!==Ar)&&r.push(w!=null?fi(p,{key:w}):p)}if(a>1)for(let l=0;l<r.length;l++)r[l].patchFlag=-2;return r}function gy(t){return Ie(t)?{setup:t,name:t.name}:t}const Tu=t=>!!t.type.__asyncLoader,Kc=t=>t.type.__isKeepAlive;function by(t,e){kd(t,"a",e)}function Ny(t,e){kd(t,"da",e)}function kd(t,e,n=xt){const r=t.__wdc||(t.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(Jc(e,r,n),n){let a=n.parent;for(;a&&a.parent;)Kc(a.parent.vnode)&&vy(r,e,n,a),a=a.parent}}function vy(t,e,n,r){const a=Jc(e,t,r,!0);Dd(()=>{uf(r[e],a)},n)}function Jc(t,e,n=xt,r=!1){if(n){const a=n[t]||(n[t]=[]),l=e.__weh||(e.__weh=(...p)=>{if(n.isUnmounted)return;qo(),_o(n);const w=Rn(e,n,t,p);return cs(),So(),w});return r?a.unshift(l):a.push(l),l}}const Rr=t=>(e,n=xt)=>(!va||t==="sp")&&Jc(t,(...r)=>e(...r),n),_y=Rr("bm"),Wd=Rr("m"),xy=Rr("bu"),Oy=Rr("u"),Rd=Rr("bum"),Dd=Rr("um"),Ey=Rr("sp"),Cy=Rr("rtg"),qy=Rr("rtc");function Sy(t,e=xt){Jc("ec",t,e)}function Ri(t,e,n,r){const a=t.dirs,l=e&&e.dirs;for(let p=0;p<a.length;p++){const w=a[p];l&&(w.oldValue=l[p].value);let v=w.dir[r];v&&(qo(),Rn(v,n,8,[t.el,w,t,e]),So())}}const Ay=Symbol(),Tl=t=>t?Vd(t)?Of(t)||t.proxy:Tl(t.parent):null,ia=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tl(t.parent),$root:t=>Tl(t.root),$emit:t=>t.emit,$options:t=>vf(t),$forceUpdate:t=>t.f||(t.f=()=>Nf(t.update)),$nextTick:t=>t.n||(t.n=ey.bind(t.proxy)),$watch:t=>py.bind(t)}),yl=(t,e)=>t!==at&&!t.__isScriptSetup&&Me(t,e),Iy={get({_:t},e){const{ctx:n,setupState:r,data:a,props:l,accessCache:p,type:w,appContext:v}=t;let d;if(e[0]!=="$"){const Y=p[e];if(Y!==void 0)switch(Y){case 1:return r[e];case 2:return a[e];case 4:return n[e];case 3:return l[e]}else{if(yl(r,e))return p[e]=1,r[e];if(a!==at&&Me(a,e))return p[e]=2,a[e];if((d=t.propsOptions[0])&&Me(d,e))return p[e]=3,l[e];if(n!==at&&Me(n,e))return p[e]=4,n[e];kl&&(p[e]=0)}}const A=ia[e];let B,F;if(A)return e==="$attrs"&&yn(t,"get",e),A(t);if((B=w.__cssModules)&&(B=B[e]))return B;if(n!==at&&Me(n,e))return p[e]=4,n[e];if(F=v.config.globalProperties,Me(F,e))return F[e]},set({_:t},e,n){const{data:r,setupState:a,ctx:l}=t;return yl(a,e)?(a[e]=n,!0):r!==at&&Me(r,e)?(r[e]=n,!0):Me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:a,propsOptions:l}},p){let w;return!!n[p]||t!==at&&Me(t,p)||yl(e,p)||(w=l[0])&&Me(w,p)||Me(r,p)||Me(ia,p)||Me(a.config.globalProperties,p)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let kl=!0;function Ty(t){const e=vf(t),n=t.proxy,r=t.ctx;kl=!1,e.beforeCreate&&rh(e.beforeCreate,t,"bc");const{data:a,computed:l,methods:p,watch:w,provide:v,inject:d,created:A,beforeMount:B,mounted:F,beforeUpdate:Y,updated:X,activated:b,deactivated:E,beforeDestroy:N,beforeUnmount:q,destroyed:T,unmounted:ne,render:ye,renderTracked:ae,renderTriggered:ge,errorCaptured:be,serverPrefetch:Ze,expose:ze,inheritAttrs:Ot,components:Et,directives:Qe,filters:$t}=e;if(d&&ky(d,r,null,t.appContext.config.unwrapInjectedRef),p)for(const pe in p){const qe=p[pe];Ie(qe)&&(r[pe]=qe.bind(n))}if(a){const pe=a.call(n,n);ft(pe)&&(t.data=yf(pe))}if(kl=!0,l)for(const pe in l){const qe=l[pe],st=Ie(qe)?qe.bind(n,n):Ie(qe.get)?qe.get.bind(n,n):rr,de=!Ie(qe)&&Ie(qe.set)?qe.set.bind(n):rr,ke=lw({get:st,set:de});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>ke.value,set:Wt=>ke.value=Wt})}if(w)for(const pe in w)Ld(w[pe],r,n,pe);if(v){const pe=Ie(v)?v.call(n):v;Reflect.ownKeys(pe).forEach(qe=>{dy(qe,pe[qe])})}A&&rh(A,t,"c");function ht(pe,qe){Se(qe)?qe.forEach(st=>pe(st.bind(n))):qe&&pe(qe.bind(n))}if(ht(_y,B),ht(Wd,F),ht(xy,Y),ht(Oy,X),ht(by,b),ht(Ny,E),ht(Sy,be),ht(qy,ae),ht(Cy,ge),ht(Rd,q),ht(Dd,ne),ht(Ey,Ze),Se(ze))if(ze.length){const pe=t.exposed||(t.exposed={});ze.forEach(qe=>{Object.defineProperty(pe,qe,{get:()=>n[qe],set:st=>n[qe]=st})})}else t.exposed||(t.exposed={});ye&&t.render===rr&&(t.render=ye),Ot!=null&&(t.inheritAttrs=Ot),Et&&(t.components=Et),Qe&&(t.directives=Qe)}function ky(t,e,n=rr,r=!1){Se(t)&&(t=Wl(t));for(const a in t){const l=t[a];let p;ft(l)?"default"in l?p=Iu(l.from||a,l.default,!0):p=Iu(l.from||a):p=Iu(l),Jt(p)&&r?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>p.value,set:w=>p.value=w}):e[a]=p}}function rh(t,e,n){Rn(Se(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ld(t,e,n,r){const a=r.includes(".")?Ad(n,r):()=>n[r];if(kt(t)){const l=e[t];Ie(l)&&pl(a,l)}else if(Ie(t))pl(a,t.bind(n));else if(ft(t))if(Se(t))t.forEach(l=>Ld(l,e,n,r));else{const l=Ie(t.handler)?t.handler.bind(n):e[t.handler];Ie(l)&&pl(a,l,t)}}function vf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:a,optionsCache:l,config:{optionMergeStrategies:p}}=t.appContext,w=l.get(e);let v;return w?v=w:!a.length&&!n&&!r?v=e:(v={},a.length&&a.forEach(d=>ju(v,d,p,!0)),ju(v,e,p)),ft(e)&&l.set(e,v),v}function ju(t,e,n,r=!1){const{mixins:a,extends:l}=e;l&&ju(t,l,n,!0),a&&a.forEach(p=>ju(t,p,n,!0));for(const p in e)if(!(r&&p==="expose")){const w=Wy[p]||n&&n[p];t[p]=w?w(t[p],e[p]):e[p]}return t}const Wy={data:ih,props:Pi,emits:Pi,methods:Pi,computed:Pi,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:Pi,directives:Pi,watch:Dy,provide:ih,inject:Ry};function ih(t,e){return e?t?function(){return Gt(Ie(t)?t.call(this,this):t,Ie(e)?e.call(this,this):e)}:e:t}function Ry(t,e){return Pi(Wl(t),Wl(e))}function Wl(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Xt(t,e){return t?[...new Set([].concat(t,e))]:e}function Pi(t,e){return t?Gt(Gt(Object.create(null),t),e):e}function Dy(t,e){if(!t)return e;if(!e)return t;const n=Gt(Object.create(null),t);for(const r in e)n[r]=Xt(t[r],e[r]);return n}function Ly(t,e,n,r=!1){const a={},l={};Uu(l,Yc,1),t.propsDefaults=Object.create(null),Pd(t,e,a,l);for(const p in t.propsOptions[0])p in a||(a[p]=void 0);n?t.props=r?a:Hm(a):t.type.props?t.props=a:t.props=l,t.attrs=l}function Py(t,e,n,r){const{props:a,attrs:l,vnode:{patchFlag:p}}=t,w=Be(a),[v]=t.propsOptions;let d=!1;if((r||p>0)&&!(p&16)){if(p&8){const A=t.vnode.dynamicProps;for(let B=0;B<A.length;B++){let F=A[B];if(zc(t.emitsOptions,F))continue;const Y=e[F];if(v)if(Me(l,F))Y!==l[F]&&(l[F]=Y,d=!0);else{const X=No(F);a[X]=Rl(v,w,X,Y,t,!1)}else Y!==l[F]&&(l[F]=Y,d=!0)}}}else{Pd(t,e,a,l)&&(d=!0);let A;for(const B in w)(!e||!Me(e,B)&&((A=Co(B))===B||!Me(e,A)))&&(v?n&&(n[B]!==void 0||n[A]!==void 0)&&(a[B]=Rl(v,w,B,void 0,t,!0)):delete a[B]);if(l!==w)for(const B in l)(!e||!Me(e,B))&&(delete l[B],d=!0)}d&&Tr(t,"set","$attrs")}function Pd(t,e,n,r){const[a,l]=t.propsOptions;let p=!1,w;if(e)for(let v in e){if(Au(v))continue;const d=e[v];let A;a&&Me(a,A=No(v))?!l||!l.includes(A)?n[A]=d:(w||(w={}))[A]=d:zc(t.emitsOptions,v)||(!(v in r)||d!==r[v])&&(r[v]=d,p=!0)}if(l){const v=Be(n),d=w||at;for(let A=0;A<l.length;A++){const B=l[A];n[B]=Rl(a,v,B,d[B],t,!Me(d,B))}}return p}function Rl(t,e,n,r,a,l){const p=t[n];if(p!=null){const w=Me(p,"default");if(w&&r===void 0){const v=p.default;if(p.type!==Function&&Ie(v)){const{propsDefaults:d}=a;n in d?r=d[n]:(_o(a),r=d[n]=v.call(null,e),cs())}else r=v}p[0]&&(l&&!w?r=!1:p[1]&&(r===""||r===Co(n))&&(r=!0))}return r}function Md(t,e,n=!1){const r=e.propsCache,a=r.get(t);if(a)return a;const l=t.props,p={},w=[];let v=!1;if(!Ie(t)){const A=B=>{v=!0;const[F,Y]=Md(B,e,!0);Gt(p,F),Y&&w.push(...Y)};!n&&e.mixins.length&&e.mixins.forEach(A),t.extends&&A(t.extends),t.mixins&&t.mixins.forEach(A)}if(!l&&!v)return ft(t)&&r.set(t,js),js;if(Se(l))for(let A=0;A<l.length;A++){const B=No(l[A]);sh(B)&&(p[B]=at)}else if(l)for(const A in l){const B=No(A);if(sh(B)){const F=l[A],Y=p[B]=Se(F)||Ie(F)?{type:F}:Object.assign({},F);if(Y){const X=uh(Boolean,Y.type),b=uh(String,Y.type);Y[0]=X>-1,Y[1]=b<0||X<b,(X>-1||Me(Y,"default"))&&w.push(B)}}}const d=[p,w];return ft(t)&&r.set(t,d),d}function sh(t){return t[0]!=="$"}function oh(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function ah(t,e){return oh(t)===oh(e)}function uh(t,e){return Se(e)?e.findIndex(n=>ah(n,t)):Ie(e)&&ah(e,t)?0:-1}const Bd=t=>t[0]==="_"||t==="$stable",_f=t=>Se(t)?t.map(pr):[pr(t)],My=(t,e,n)=>{if(e._n)return e;const r=oy((...a)=>_f(e(...a)),n);return r._c=!1,r},Fd=(t,e,n)=>{const r=t._ctx;for(const a in t){if(Bd(a))continue;const l=t[a];if(Ie(l))e[a]=My(a,l,r);else if(l!=null){const p=_f(l);e[a]=()=>p}}},Ud=(t,e)=>{const n=_f(e);t.slots.default=()=>n},By=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Be(e),Uu(e,"_",n)):Fd(e,t.slots={})}else t.slots={},e&&Ud(t,e);Uu(t.slots,Yc,1)},Fy=(t,e,n)=>{const{vnode:r,slots:a}=t;let l=!0,p=at;if(r.shapeFlag&32){const w=e._;w?n&&w===1?l=!1:(Gt(a,e),!n&&w===1&&delete a._):(l=!e.$stable,Fd(e,a)),p=e}else e&&(Ud(t,e),p={default:1});if(l)for(const w in a)!Bd(w)&&!(w in p)&&delete a[w]};function $d(){return{app:null,config:{isNativeTag:cm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uy=0;function $y(t,e){return function(r,a=null){Ie(r)||(r=Object.assign({},r)),a!=null&&!ft(a)&&(a=null);const l=$d(),p=new Set;let w=!1;const v=l.app={_uid:Uy++,_component:r,_props:a,_container:null,_context:l,_instance:null,version:dw,get config(){return l.config},set config(d){},use(d,...A){return p.has(d)||(d&&Ie(d.install)?(p.add(d),d.install(v,...A)):Ie(d)&&(p.add(d),d(v,...A))),v},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),v},component(d,A){return A?(l.components[d]=A,v):l.components[d]},directive(d,A){return A?(l.directives[d]=A,v):l.directives[d]},mount(d,A,B){if(!w){const F=us(r,a);return F.appContext=l,A&&e?e(F,d):t(F,d,B),w=!0,v._container=d,d.__vue_app__=v,Of(F.component)||F.component.proxy}},unmount(){w&&(t(null,v._container),delete v._container.__vue_app__)},provide(d,A){return l.provides[d]=A,v}};return v}}function Dl(t,e,n,r,a=!1){if(Se(t)){t.forEach((F,Y)=>Dl(F,e&&(Se(e)?e[Y]:e),n,r,a));return}if(Tu(r)&&!a)return;const l=r.shapeFlag&4?Of(r.component)||r.component.proxy:r.el,p=a?null:l,{i:w,r:v}=t,d=e&&e.r,A=w.refs===at?w.refs={}:w.refs,B=w.setupState;if(d!=null&&d!==v&&(kt(d)?(A[d]=null,Me(B,d)&&(B[d]=null)):Jt(d)&&(d.value=null)),Ie(v))ui(v,w,12,[p,A]);else{const F=kt(v),Y=Jt(v);if(F||Y){const X=()=>{if(t.f){const b=F?Me(B,v)?B[v]:A[v]:v.value;a?Se(b)&&uf(b,l):Se(b)?b.includes(l)||b.push(l):F?(A[v]=[l],Me(B,v)&&(B[v]=A[v])):(v.value=[l],t.k&&(A[t.k]=v.value))}else F?(A[v]=p,Me(B,v)&&(B[v]=p)):Y&&(v.value=p,t.k&&(A[t.k]=p))};p?(X.id=-1,ln(X,n)):X()}}}const ln=hy;function Qy(t){return jy(t)}function jy(t,e){const n=ym();n.__VUE__=!0;const{insert:r,remove:a,patchProp:l,createElement:p,createText:w,createComment:v,setText:d,setElementText:A,parentNode:B,nextSibling:F,setScopeId:Y=rr,insertStaticContent:X}=t,b=(x,C,W,P=null,z=null,ee=null,$=!1,V=null,re=!!C.dynamicChildren)=>{if(x===C)return;x&&!Bi(x,C)&&(P=fe(x),Wt(x,z,ee,!0),x=null),C.patchFlag===-2&&(re=!1,C.dynamicChildren=null);const{type:K,ref:ce,shapeFlag:oe}=C;switch(K){case Gc:E(x,C,W,P);break;case Ar:N(x,C,W,P);break;case wl:x==null&&q(C,W,P,$);break;case Zn:Et(x,C,W,P,z,ee,$,V,re);break;default:oe&1?ye(x,C,W,P,z,ee,$,V,re):oe&6?Qe(x,C,W,P,z,ee,$,V,re):(oe&64||oe&128)&&K.process(x,C,W,P,z,ee,$,V,re,Mn)}ce!=null&&z&&Dl(ce,x&&x.ref,ee,C||x,!C)},E=(x,C,W,P)=>{if(x==null)r(C.el=w(C.children),W,P);else{const z=C.el=x.el;C.children!==x.children&&d(z,C.children)}},N=(x,C,W,P)=>{x==null?r(C.el=v(C.children||""),W,P):C.el=x.el},q=(x,C,W,P)=>{[x.el,x.anchor]=X(x.children,C,W,P,x.el,x.anchor)},T=({el:x,anchor:C},W,P)=>{let z;for(;x&&x!==C;)z=F(x),r(x,W,P),x=z;r(C,W,P)},ne=({el:x,anchor:C})=>{let W;for(;x&&x!==C;)W=F(x),a(x),x=W;a(C)},ye=(x,C,W,P,z,ee,$,V,re)=>{$=$||C.type==="svg",x==null?ae(C,W,P,z,ee,$,V,re):Ze(x,C,z,ee,$,V,re)},ae=(x,C,W,P,z,ee,$,V)=>{let re,K;const{type:ce,props:oe,shapeFlag:ue,transition:me,dirs:Oe}=x;if(re=x.el=p(x.type,ee,oe&&oe.is,oe),ue&8?A(re,x.children):ue&16&&be(x.children,re,null,P,z,ee&&ce!=="foreignObject",$,V),Oe&&Ri(x,null,P,"created"),ge(re,x,x.scopeId,$,P),oe){for(const De in oe)De!=="value"&&!Au(De)&&l(re,De,null,oe[De],ee,x.children,P,z,sn);"value"in oe&&l(re,"value",null,oe.value),(K=oe.onVnodeBeforeMount)&&ur(K,P,x)}Oe&&Ri(x,null,P,"beforeMount");const je=(!z||z&&!z.pendingBranch)&&me&&!me.persisted;je&&me.beforeEnter(re),r(re,C,W),((K=oe&&oe.onVnodeMounted)||je||Oe)&&ln(()=>{K&&ur(K,P,x),je&&me.enter(re),Oe&&Ri(x,null,P,"mounted")},z)},ge=(x,C,W,P,z)=>{if(W&&Y(x,W),P)for(let ee=0;ee<P.length;ee++)Y(x,P[ee]);if(z){let ee=z.subTree;if(C===ee){const $=z.vnode;ge(x,$,$.scopeId,$.slotScopeIds,z.parent)}}},be=(x,C,W,P,z,ee,$,V,re=0)=>{for(let K=re;K<x.length;K++){const ce=x[K]=V?zr(x[K]):pr(x[K]);b(null,ce,C,W,P,z,ee,$,V)}},Ze=(x,C,W,P,z,ee,$)=>{const V=C.el=x.el;let{patchFlag:re,dynamicChildren:K,dirs:ce}=C;re|=x.patchFlag&16;const oe=x.props||at,ue=C.props||at;let me;W&&Di(W,!1),(me=ue.onVnodeBeforeUpdate)&&ur(me,W,C,x),ce&&Ri(C,x,W,"beforeUpdate"),W&&Di(W,!0);const Oe=z&&C.type!=="foreignObject";if(K?ze(x.dynamicChildren,K,V,W,P,Oe,ee):$||qe(x,C,V,null,W,P,Oe,ee,!1),re>0){if(re&16)Ot(V,C,oe,ue,W,P,z);else if(re&2&&oe.class!==ue.class&&l(V,"class",null,ue.class,z),re&4&&l(V,"style",oe.style,ue.style,z),re&8){const je=C.dynamicProps;for(let De=0;De<je.length;De++){const rt=je[De],he=oe[rt],gn=ue[rt];(gn!==he||rt==="value")&&l(V,rt,he,gn,z,x.children,W,P,sn)}}re&1&&x.children!==C.children&&A(V,C.children)}else!$&&K==null&&Ot(V,C,oe,ue,W,P,z);((me=ue.onVnodeUpdated)||ce)&&ln(()=>{me&&ur(me,W,C,x),ce&&Ri(C,x,W,"updated")},P)},ze=(x,C,W,P,z,ee,$)=>{for(let V=0;V<C.length;V++){const re=x[V],K=C[V],ce=re.el&&(re.type===Zn||!Bi(re,K)||re.shapeFlag&70)?B(re.el):W;b(re,K,ce,null,P,z,ee,$,!0)}},Ot=(x,C,W,P,z,ee,$)=>{if(W!==P){if(W!==at)for(const V in W)!Au(V)&&!(V in P)&&l(x,V,W[V],null,$,C.children,z,ee,sn);for(const V in P){if(Au(V))continue;const re=P[V],K=W[V];re!==K&&V!=="value"&&l(x,V,K,re,$,C.children,z,ee,sn)}"value"in P&&l(x,"value",W.value,P.value)}},Et=(x,C,W,P,z,ee,$,V,re)=>{const K=C.el=x?x.el:w(""),ce=C.anchor=x?x.anchor:w("");let{patchFlag:oe,dynamicChildren:ue,slotScopeIds:me}=C;me&&(V=V?V.concat(me):me),x==null?(r(K,W,P),r(ce,W,P),be(C.children,W,ce,z,ee,$,V,re)):oe>0&&oe&64&&ue&&x.dynamicChildren?(ze(x.dynamicChildren,ue,W,z,ee,$,V),(C.key!=null||z&&C===z.subTree)&&Qd(x,C,!0)):qe(x,C,W,ce,z,ee,$,V,re)},Qe=(x,C,W,P,z,ee,$,V,re)=>{C.slotScopeIds=V,x==null?C.shapeFlag&512?z.ctx.activate(C,W,P,$,re):$t(C,W,P,z,ee,$,re):rn(x,C,re)},$t=(x,C,W,P,z,ee,$)=>{const V=x.component=rw(x,P,z);if(Kc(x)&&(V.ctx.renderer=Mn),sw(V),V.asyncDep){if(z&&z.registerDep(V,ht),!x.el){const re=V.subTree=us(Ar);N(null,re,C,W)}return}ht(V,x,C,W,z,ee,$)},rn=(x,C,W)=>{const P=C.component=x.component;if(cy(x,C,W))if(P.asyncDep&&!P.asyncResolved){pe(P,C,W);return}else P.next=C,ny(P.update),P.update();else C.el=x.el,P.vnode=C},ht=(x,C,W,P,z,ee,$)=>{const V=()=>{if(x.isMounted){let{next:ce,bu:oe,u:ue,parent:me,vnode:Oe}=x,je=ce,De;Di(x,!1),ce?(ce.el=Oe.el,pe(x,ce,$)):ce=Oe,oe&&hl(oe),(De=ce.props&&ce.props.onVnodeBeforeUpdate)&&ur(De,me,ce,Oe),Di(x,!0);const rt=dl(x),he=x.subTree;x.subTree=rt,b(he,rt,B(he.el),fe(he),x,z,ee),ce.el=rt.el,je===null&&ly(x,rt.el),ue&&ln(ue,z),(De=ce.props&&ce.props.onVnodeUpdated)&&ln(()=>ur(De,me,ce,Oe),z)}else{let ce;const{el:oe,props:ue}=C,{bm:me,m:Oe,parent:je}=x,De=Tu(C);if(Di(x,!1),me&&hl(me),!De&&(ce=ue&&ue.onVnodeBeforeMount)&&ur(ce,je,C),Di(x,!0),oe&&Ke){const rt=()=>{x.subTree=dl(x),Ke(oe,x.subTree,x,z,null)};De?C.type.__asyncLoader().then(()=>!x.isUnmounted&&rt()):rt()}else{const rt=x.subTree=dl(x);b(null,rt,W,P,x,z,ee),C.el=rt.el}if(Oe&&ln(Oe,z),!De&&(ce=ue&&ue.onVnodeMounted)){const rt=C;ln(()=>ur(ce,je,rt),z)}(C.shapeFlag&256||je&&Tu(je.vnode)&&je.vnode.shapeFlag&256)&&x.a&&ln(x.a,z),x.isMounted=!0,C=W=P=null}},re=x.effect=new hf(V,()=>Nf(K),x.scope),K=x.update=()=>re.run();K.id=x.uid,Di(x,!0),K()},pe=(x,C,W)=>{C.component=x;const P=x.vnode.props;x.vnode=C,x.next=null,Py(x,C.props,P,W),Fy(x,C.children,W),qo(),eh(),So()},qe=(x,C,W,P,z,ee,$,V,re=!1)=>{const K=x&&x.children,ce=x?x.shapeFlag:0,oe=C.children,{patchFlag:ue,shapeFlag:me}=C;if(ue>0){if(ue&128){de(K,oe,W,P,z,ee,$,V,re);return}else if(ue&256){st(K,oe,W,P,z,ee,$,V,re);return}}me&8?(ce&16&&sn(K,z,ee),oe!==K&&A(W,oe)):ce&16?me&16?de(K,oe,W,P,z,ee,$,V,re):sn(K,z,ee,!0):(ce&8&&A(W,""),me&16&&be(oe,W,P,z,ee,$,V,re))},st=(x,C,W,P,z,ee,$,V,re)=>{x=x||js,C=C||js;const K=x.length,ce=C.length,oe=Math.min(K,ce);let ue;for(ue=0;ue<oe;ue++){const me=C[ue]=re?zr(C[ue]):pr(C[ue]);b(x[ue],me,W,null,z,ee,$,V,re)}K>ce?sn(x,z,ee,!0,!1,oe):be(C,W,P,z,ee,$,V,re,oe)},de=(x,C,W,P,z,ee,$,V,re)=>{let K=0;const ce=C.length;let oe=x.length-1,ue=ce-1;for(;K<=oe&&K<=ue;){const me=x[K],Oe=C[K]=re?zr(C[K]):pr(C[K]);if(Bi(me,Oe))b(me,Oe,W,null,z,ee,$,V,re);else break;K++}for(;K<=oe&&K<=ue;){const me=x[oe],Oe=C[ue]=re?zr(C[ue]):pr(C[ue]);if(Bi(me,Oe))b(me,Oe,W,null,z,ee,$,V,re);else break;oe--,ue--}if(K>oe){if(K<=ue){const me=ue+1,Oe=me<ce?C[me].el:P;for(;K<=ue;)b(null,C[K]=re?zr(C[K]):pr(C[K]),W,Oe,z,ee,$,V,re),K++}}else if(K>ue)for(;K<=oe;)Wt(x[K],z,ee,!0),K++;else{const me=K,Oe=K,je=new Map;for(K=Oe;K<=ue;K++){const le=C[K]=re?zr(C[K]):pr(C[K]);le.key!=null&&je.set(le.key,K)}let De,rt=0;const he=ue-Oe+1;let gn=!1,mi=0;const jt=new Array(he);for(K=0;K<he;K++)jt[K]=0;for(K=me;K<=oe;K++){const le=x[K];if(rt>=he){Wt(le,z,ee,!0);continue}let Rt;if(le.key!=null)Rt=je.get(le.key);else for(De=Oe;De<=ue;De++)if(jt[De-Oe]===0&&Bi(le,C[De])){Rt=De;break}Rt===void 0?Wt(le,z,ee,!0):(jt[Rt-Oe]=K+1,Rt>=mi?mi=Rt:gn=!0,b(le,C[Rt],W,null,z,ee,$,V,re),rt++)}const ps=gn?Vy(jt):js;for(De=ps.length-1,K=he-1;K>=0;K--){const le=Oe+K,Rt=C[le],te=le+1<ce?C[le+1].el:P;jt[K]===0?b(null,Rt,W,te,z,ee,$,V,re):gn&&(De<0||K!==ps[De]?ke(Rt,W,te,2):De--)}}},ke=(x,C,W,P,z=null)=>{const{el:ee,type:$,transition:V,children:re,shapeFlag:K}=x;if(K&6){ke(x.component.subTree,C,W,P);return}if(K&128){x.suspense.move(C,W,P);return}if(K&64){$.move(x,C,W,Mn);return}if($===Zn){r(ee,C,W);for(let oe=0;oe<re.length;oe++)ke(re[oe],C,W,P);r(x.anchor,C,W);return}if($===wl){T(x,C,W);return}if(P!==2&&K&1&&V)if(P===0)V.beforeEnter(ee),r(ee,C,W),ln(()=>V.enter(ee),z);else{const{leave:oe,delayLeave:ue,afterLeave:me}=V,Oe=()=>r(ee,C,W),je=()=>{oe(ee,()=>{Oe(),me&&me()})};ue?ue(ee,Oe,je):je()}else r(ee,C,W)},Wt=(x,C,W,P=!1,z=!1)=>{const{type:ee,props:$,ref:V,children:re,dynamicChildren:K,shapeFlag:ce,patchFlag:oe,dirs:ue}=x;if(V!=null&&Dl(V,null,W,x,!0),ce&256){C.ctx.deactivate(x);return}const me=ce&1&&ue,Oe=!Tu(x);let je;if(Oe&&(je=$&&$.onVnodeBeforeUnmount)&&ur(je,C,x),ce&6)wn(x.component,W,P);else{if(ce&128){x.suspense.unmount(W,P);return}me&&Ri(x,null,C,"beforeUnmount"),ce&64?x.type.remove(x,C,W,z,Mn,P):K&&(ee!==Zn||oe>0&&oe&64)?sn(K,C,W,!1,!0):(ee===Zn&&oe&384||!z&&ce&16)&&sn(re,C,W),P&&br(x)}(Oe&&(je=$&&$.onVnodeUnmounted)||me)&&ln(()=>{je&&ur(je,C,x),me&&Ri(x,null,C,"unmounted")},W)},br=x=>{const{type:C,el:W,anchor:P,transition:z}=x;if(C===Zn){ds(W,P);return}if(C===wl){ne(x);return}const ee=()=>{a(W),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(x.shapeFlag&1&&z&&!z.persisted){const{leave:$,delayLeave:V}=z,re=()=>$(W,ee);V?V(x.el,ee,re):re()}else ee()},ds=(x,C)=>{let W;for(;x!==C;)W=F(x),a(x),x=W;a(C)},wn=(x,C,W)=>{const{bum:P,scope:z,update:ee,subTree:$,um:V}=x;P&&hl(P),z.stop(),ee&&(ee.active=!1,Wt($,x,C,W)),V&&ln(V,C),ln(()=>{x.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},sn=(x,C,W,P=!1,z=!1,ee=0)=>{for(let $=ee;$<x.length;$++)Wt(x[$],C,W,P,z)},fe=x=>x.shapeFlag&6?fe(x.component.subTree):x.shapeFlag&128?x.suspense.next():F(x.anchor||x.el),Pe=(x,C,W)=>{x==null?C._vnode&&Wt(C._vnode,null,null,!0):b(C._vnode||null,x,C,null,null,null,W),eh(),Od(),C._vnode=x},Mn={p:b,um:Wt,m:ke,r:br,mt:$t,mc:be,pc:qe,pbc:ze,n:fe,o:t};let Qt,Ke;return e&&([Qt,Ke]=e(Mn)),{render:Pe,hydrate:Qt,createApp:$y(Pe,Qt)}}function Di({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Qd(t,e,n=!1){const r=t.children,a=e.children;if(Se(r)&&Se(a))for(let l=0;l<r.length;l++){const p=r[l];let w=a[l];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=a[l]=zr(a[l]),w.el=p.el),n||Qd(p,w)),w.type===Gc&&(w.el=p.el)}}function Vy(t){const e=t.slice(),n=[0];let r,a,l,p,w;const v=t.length;for(r=0;r<v;r++){const d=t[r];if(d!==0){if(a=n[n.length-1],t[a]<d){e[r]=a,n.push(r);continue}for(l=0,p=n.length-1;l<p;)w=l+p>>1,t[n[w]]<d?l=w+1:p=w;d<t[n[l]]&&(l>0&&(e[r]=n[l-1]),n[l]=r)}}for(l=n.length,p=n[l-1];l-- >0;)n[l]=p,p=e[p];return n}const Hy=t=>t.__isTeleport,Zn=Symbol(void 0),Gc=Symbol(void 0),Ar=Symbol(void 0),wl=Symbol(void 0),sa=[];let nr=null;function zy(t=!1){sa.push(nr=t?null:[])}function Ky(){sa.pop(),nr=sa[sa.length-1]||null}let ba=1;function ch(t){ba+=t}function Jy(t){return t.dynamicChildren=ba>0?nr||js:null,Ky(),ba>0&&nr&&nr.push(t),t}function Gy(t,e,n,r,a,l){return Jy(_t(t,e,n,r,a,l,!0))}function Yy(t){return t?t.__v_isVNode===!0:!1}function Bi(t,e){return t.type===e.type&&t.key===e.key}const Yc="__vInternal",jd=({key:t})=>t??null,ku=({ref:t,ref_key:e,ref_for:n})=>t!=null?kt(t)||Jt(t)||Ie(t)?{i:tr,r:t,k:e,f:!!n}:t:null;function _t(t,e=null,n=null,r=0,a=null,l=t===Zn?0:1,p=!1,w=!1){const v={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jd(e),ref:e&&ku(e),scopeId:qd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:tr};return w?(xf(v,n),l&128&&t.normalize(v)):n&&(v.shapeFlag|=kt(n)?8:16),ba>0&&!p&&nr&&(v.patchFlag>0||l&6)&&v.patchFlag!==32&&nr.push(v),v}const us=Xy;function Xy(t,e=null,n=null,r=0,a=null,l=!1){if((!t||t===Ay)&&(t=Ar),Yy(t)){const w=fi(t,e,!0);return n&&xf(w,n),ba>0&&!l&&nr&&(w.shapeFlag&6?nr[nr.indexOf(t)]=w:nr.push(w)),w.patchFlag|=-2,w}if(cw(t)&&(t=t.__vccOpts),e){e=Zy(e);let{class:w,style:v}=e;w&&!kt(w)&&(e.class=of(w)),ft(v)&&(md(v)&&!Se(v)&&(v=Gt({},v)),e.style=sf(v))}const p=kt(t)?1:fy(t)?128:Hy(t)?64:ft(t)?4:Ie(t)?2:0;return _t(t,e,n,r,a,p,l,!0)}function Zy(t){return t?md(t)||Yc in t?Gt({},t):t:null}function fi(t,e,n=!1){const{props:r,ref:a,patchFlag:l,children:p}=t,w=e?ew(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:w,key:w&&jd(w),ref:e&&e.ref?n&&a?Se(a)?a.concat(ku(e)):[a,ku(e)]:ku(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:p,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Zn?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&fi(t.ssContent),ssFallback:t.ssFallback&&fi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Na(t=" ",e=0){return us(Gc,null,t,e)}function pr(t){return t==null||typeof t=="boolean"?us(Ar):Se(t)?us(Zn,null,t.slice()):typeof t=="object"?zr(t):us(Gc,null,String(t))}function zr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:fi(t)}function xf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Se(e))n=16;else if(typeof e=="object")if(r&65){const a=e.default;a&&(a._c&&(a._d=!1),xf(t,a()),a._c&&(a._d=!0));return}else{n=32;const a=e._;!a&&!(Yc in e)?e._ctx=tr:a===3&&tr&&(tr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ie(e)?(e={default:e,_ctx:tr},n=32):(e=String(e),r&64?(n=16,e=[Na(e)]):n=8);t.children=e,t.shapeFlag|=n}function ew(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const a in r)if(a==="class")e.class!==r.class&&(e.class=of([e.class,r.class]));else if(a==="style")e.style=sf([e.style,r.style]);else if($c(a)){const l=e[a],p=r[a];p&&l!==p&&!(Se(l)&&l.includes(p))&&(e[a]=l?[].concat(l,p):p)}else a!==""&&(e[a]=r[a])}return e}function ur(t,e,n,r=null){Rn(t,e,7,[n,r])}const tw=$d();let nw=0;function rw(t,e,n){const r=t.type,a=(e?e.appContext:t.appContext)||tw,l={uid:nw++,vnode:t,type:r,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new wm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Md(r,a),emitsOptions:Cd(r,a),emit:null,emitted:null,propsDefaults:at,inheritAttrs:r.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=sy.bind(null,l),t.ce&&t.ce(l),l}let xt=null;const iw=()=>xt||tr,_o=t=>{xt=t,t.scope.on()},cs=()=>{xt&&xt.scope.off(),xt=null};function Vd(t){return t.vnode.shapeFlag&4}let va=!1;function sw(t,e=!1){va=e;const{props:n,children:r}=t.vnode,a=Vd(t);Ly(t,n,a,e),By(t,r);const l=a?ow(t,e):void 0;return va=!1,l}function ow(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=yd(new Proxy(t.ctx,Iy));const{setup:r}=n;if(r){const a=t.setupContext=r.length>1?uw(t):null;_o(t),qo();const l=ui(r,t,0,[t.props,a]);if(So(),cs(),ed(l)){if(l.then(cs,cs),e)return l.then(p=>{lh(t,p,e)}).catch(p=>{Hc(p,t,0)});t.asyncDep=l}else lh(t,l,e)}else Hd(t,e)}function lh(t,e,n){Ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ft(e)&&(t.setupState=Nd(e)),Hd(t,n)}let fh;function Hd(t,e,n){const r=t.type;if(!t.render){if(!e&&fh&&!r.render){const a=r.template||vf(t).template;if(a){const{isCustomElement:l,compilerOptions:p}=t.appContext.config,{delimiters:w,compilerOptions:v}=r,d=Gt(Gt({isCustomElement:l,delimiters:w},p),v);r.render=fh(a,d)}}t.render=r.render||rr}_o(t),qo(),Ty(t),So(),cs()}function aw(t){return new Proxy(t.attrs,{get(e,n){return yn(t,"get","$attrs"),e[n]}})}function uw(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=aw(t))},slots:t.slots,emit:t.emit,expose:e}}function Of(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Nd(yd(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ia)return ia[n](t)},has(e,n){return n in e||n in ia}}))}function cw(t){return Ie(t)&&"__vccOpts"in t}const lw=(t,e)=>Xm(t,e,va),fw=Symbol(""),hw=()=>Iu(fw),dw="3.2.47",pw="http://www.w3.org/2000/svg",Fi=typeof document<"u"?document:null,hh=Fi&&Fi.createElement("template"),mw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const a=e?Fi.createElementNS(pw,t):Fi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:t=>Fi.createTextNode(t),createComment:t=>Fi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,a,l){const p=n?n.previousSibling:e.lastChild;if(a&&(a===l||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{hh.innerHTML=r?`<svg>${t}</svg>`:t;const w=hh.content;if(r){const v=w.firstChild;for(;v.firstChild;)w.appendChild(v.firstChild);w.removeChild(v)}e.insertBefore(w,n)}return[p?p.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function yw(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function ww(t,e,n){const r=t.style,a=kt(n);if(n&&!a){if(e&&!kt(e))for(const l in e)n[l]==null&&Ll(r,l,"");for(const l in n)Ll(r,l,n[l])}else{const l=r.display;a?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=l)}}const dh=/\s*!important$/;function Ll(t,e,n){if(Se(n))n.forEach(r=>Ll(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=gw(t,e);dh.test(n)?t.setProperty(Co(r),n.replace(dh,""),"important"):t[r]=n}}const ph=["Webkit","Moz","ms"],gl={};function gw(t,e){const n=gl[e];if(n)return n;let r=No(e);if(r!=="filter"&&r in t)return gl[e]=r;r=rd(r);for(let a=0;a<ph.length;a++){const l=ph[a]+r;if(l in t)return gl[e]=l}return e}const mh="http://www.w3.org/1999/xlink";function bw(t,e,n,r,a){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(mh,e.slice(6,e.length)):t.setAttributeNS(mh,e,n);else{const l=am(e);n==null||l&&!Yh(n)?t.removeAttribute(e):t.setAttribute(e,l?"":n)}}function Nw(t,e,n,r,a,l,p){if(e==="innerHTML"||e==="textContent"){r&&p(r,a,l),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const v=n??"";(t.value!==v||t.tagName==="OPTION")&&(t.value=v),n==null&&t.removeAttribute(e);return}let w=!1;if(n===""||n==null){const v=typeof t[e];v==="boolean"?n=Yh(n):n==null&&v==="string"?(n="",w=!0):v==="number"&&(n=0,w=!0)}try{t[e]=n}catch{}w&&t.removeAttribute(e)}function vw(t,e,n,r){t.addEventListener(e,n,r)}function _w(t,e,n,r){t.removeEventListener(e,n,r)}function xw(t,e,n,r,a=null){const l=t._vei||(t._vei={}),p=l[e];if(r&&p)p.value=r;else{const[w,v]=Ow(e);if(r){const d=l[e]=qw(r,a);vw(t,w,d,v)}else p&&(_w(t,w,p,v),l[e]=void 0)}}const yh=/(?:Once|Passive|Capture)$/;function Ow(t){let e;if(yh.test(t)){e={};let r;for(;r=t.match(yh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Co(t.slice(2)),e]}let bl=0;const Ew=Promise.resolve(),Cw=()=>bl||(Ew.then(()=>bl=0),bl=Date.now());function qw(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Rn(Sw(r,n.value),e,5,[r])};return n.value=t,n.attached=Cw(),n}function Sw(t,e){if(Se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>a=>!a._stopped&&r&&r(a))}else return e}const wh=/^on[a-z]/,Aw=(t,e,n,r,a=!1,l,p,w,v)=>{e==="class"?yw(t,r,a):e==="style"?ww(t,n,r):$c(e)?af(e)||xw(t,e,n,r,p):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Iw(t,e,r,a))?Nw(t,e,r,l,p,w,v):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),bw(t,e,r,a))};function Iw(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&wh.test(e)&&Ie(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||wh.test(e)&&kt(n)?!1:e in t}const Tw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};wy.props;const kw=Gt({patchProp:Aw},mw);let gh;function Ww(){return gh||(gh=Qy(kw))}const Rw=(...t)=>{const e=Ww().createApp(...t),{mount:n}=e;return e.mount=r=>{const a=Dw(r);if(!a)return;const l=e._component;!Ie(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const p=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),p},e};function Dw(t){return kt(t)?document.querySelector(t):t}function Ks(t){return typeof t>"u"||t===void 0}function Dn(t){return typeof t=="string"}function Lw(t){return typeof t=="number"}function zd(t){return typeof t=="boolean"}function Kd(t){return t===null}function Pw(t){return t instanceof Date}function Mw(t){return typeof t=="bigint"}function Ln(t){return typeof t=="function"}function wr(t){return typeof t=="object"&&t!==null}function m(t){return Object.freeze(t)}function Xa(t){return Array.isArray(t)}function xo(t){return t}const vt=m({is(t){return t.kind==="AlterTableNode"},create(t){return m({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return m({...t,...e})},cloneWithColumnAlteration(t,e){return m({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),ct=m({is(t){return t.kind==="IdentifierNode"},create(t){return m({kind:"IdentifierNode",name:t})}}),Vr=m({is(t){return t.kind==="CreateIndexNode"},create(t){return m({kind:"CreateIndexNode",name:ct.create(t)})},cloneWith(t,e){return m({...t,...e})},cloneWithColumns(t,e){return m({...t,columns:[...t.columns||[],...e]})}}),Jd=m({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return m({kind:"CreateSchemaNode",schema:ct.create(t),...e})},cloneWith(t,e){return m({...t,...e})}}),Bw=["preserve rows","delete rows","drop"],jn=m({is(t){return t.kind==="CreateTableNode"},create(t){return m({kind:"CreateTableNode",table:t,columns:m([])})},cloneWithColumn(t,e){return m({...t,columns:m([...t.columns,e])})},cloneWithConstraint(t,e){return m({...t,constraints:t.constraints?m([...t.constraints,e]):m([e])})},cloneWithFrontModifier(t,e){return m({...t,frontModifiers:t.frontModifiers?m([...t.frontModifiers,e]):m([e])})},cloneWithEndModifier(t,e){return m({...t,endModifiers:t.endModifiers?m([...t.endModifiers,e]):m([e])})},cloneWith(t,e){return m({...t,...e})}}),hi=m({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return m({kind:"SchemableIdentifierNode",identifier:ct.create(t)})},createWithSchema(t,e){return m({kind:"SchemableIdentifierNode",schema:ct.create(t),identifier:ct.create(e)})}}),Wu=m({is(t){return t.kind==="DropIndexNode"},create(t,e){return m({kind:"DropIndexNode",name:hi.create(t),...e})},cloneWith(t,e){return m({...t,...e})}}),Pl=m({is(t){return t.kind==="DropSchemaNode"},create(t,e){return m({kind:"DropSchemaNode",schema:ct.create(t),...e})},cloneWith(t,e){return m({...t,...e})}}),Ml=m({is(t){return t.kind==="DropTableNode"},create(t,e){return m({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return m({...t,...e})}}),pi=m({is(t){return t.kind==="AliasNode"},create(t,e){return m({kind:"AliasNode",node:t,alias:e})}}),ci=m({is(t){return t.kind==="TableNode"},create(t){return m({kind:"TableNode",table:hi.create(t)})},createWithSchema(t,e){return m({kind:"TableNode",table:hi.createWithSchema(t,e)})}});function Pn(t){return wr(t)&&Ln(t.toOperationNode)}function Ef(t){return wr(t)&&"expressionType"in t&&Pn(t)}function Fw(t){return wr(t)&&"expression"in t&&Dn(t.alias)&&Pn(t)}const vr=m({is(t){return t.kind==="SelectModifierNode"},create(t){return m({kind:"SelectModifierNode",modifier:t})},createWithExpression(t){return m({kind:"SelectModifierNode",rawModifier:t})}}),ls=m({is(t){return t.kind==="AndNode"},create(t,e){return m({kind:"AndNode",left:t,right:e})}}),fs=m({is(t){return t.kind==="OrNode"},create(t,e){return m({kind:"OrNode",left:t,right:e})}}),Nl=m({is(t){return t.kind==="OnNode"},create(t){return m({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return m({...t,on:e==="And"?ls.create(t.on,n):fs.create(t.on,n)})}}),oa=m({is(t){return t.kind==="JoinNode"},create(t,e){return m({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return m({kind:"JoinNode",joinType:t,table:e,on:Nl.create(n)})},cloneWithOn(t,e){return m({...t,on:t.on?Nl.cloneWithOperation(t.on,"And",e):Nl.create(e)})}}),Cf=m({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return m({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),Gd=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp"],Uw=["+","-","*","/","%","^","&","|","#","<<",">>"],Yd=["->","->>"],Xd=[...Gd,...Uw,"&&","||"],$w=["exists","not exists"],Qw=["not","-",...$w],jw=[...Xd,...Yd,...Qw],_a=m({is(t){return t.kind==="OperatorNode"},create(t){return m({kind:"OperatorNode",operator:t})}});function Vw(t){return Dn(t)&&Xd.includes(t)}function Hw(t){return Dn(t)&&Gd.includes(t)}function bh(t){return Dn(t)&&Yd.includes(t)}const yt=m({is(t){return t.kind==="ColumnNode"},create(t){return m({kind:"ColumnNode",column:ct.create(t)})}}),qf=m({is(t){return t.kind==="SelectAllNode"},create(){return m({kind:"SelectAllNode"})}}),Xc=m({is(t){return t.kind==="ReferenceNode"},create(t,e){return m({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return m({kind:"ReferenceNode",table:t,column:qf.create()})}}),zw=m({is(t){return t.kind==="OrderByItemNode"},create(t,e){return m({kind:"OrderByItemNode",orderBy:t,direction:e})}}),tn=m({is(t){return t.kind==="RawNode"},create(t,e){return m({kind:"RawNode",sqlFragments:m(t),parameters:m(e)})},createWithSql(t){return tn.create([t],[])},createWithChild(t){return tn.create(["",""],[t])},createWithChildren(t){return tn.create(new Array(t.length+1).fill(""),t)}});function Kw(t){return t==="asc"||t==="desc"}function Zc(t,e){return zw.create(Jw(t),Gw(e))}function Jw(t){return kr(t)}function Gw(t){if(t)return t==="asc"||t==="desc"?tn.createWithSql(t):t.toOperationNode()}const Bl=m({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return m({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return m({...t,traversal:e})}}),Zd=m({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return m({kind:"JSONOperatorChainNode",operator:t,values:m([])})},cloneWithValue(t,e){return m({...t,values:m([...t.values,e])})}}),Fl=m({is(t){return t.kind==="JSONPathNode"},create(t){return m({kind:"JSONPathNode",inOperator:t,pathLegs:m([])})},cloneWithLeg(t,e){return m({...t,pathLegs:m([...t.pathLegs,e])})}});function ep(t){return Dn(t)?hs(t):t.toOperationNode()}function xa(t){return Xa(t)?t.map(e=>kr(e)):[kr(t)]}function kr(t){return rl(t)?nl(t):ep(t)}function Yw(t,e){const n=hs(t);if(bh(e))return Bl.create(n,Zd.create(_a.create(e)));const r=e.slice(0,-1);if(bh(r))return Bl.create(n,Fl.create(_a.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function hs(t){const e=".";if(!t.includes(e))return Xc.create(yt.create(t));const n=t.split(e).map(Sf);if(n.length===3)return Zw(n);if(n.length===2)return eg(n);throw new Error(`invalid column reference ${t}`)}function Xw(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(Sf);return pi.create(hs(n),ct.create(r))}else return hs(t)}function tp(t){return yt.create(t)}function Nh(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(Sf);if(!Kw(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return Zc(n,r)}else return tp(t)}function Zw(t){const[e,n,r]=t;return Xc.create(yt.create(r),ci.createWithSchema(e,n))}function eg(t){const[e,n]=t;return Xc.create(yt.create(n),ci.create(e))}function Sf(t){return t.trim()}const np=m({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return m({kind:"PrimitiveValueListNode",values:m([...t])})}}),Af=m({is(t){return t.kind==="ValueListNode"},create(t){return m({kind:"ValueListNode",values:m(t)})}}),ir=m({is(t){return t.kind==="ValueNode"},create(t){return m({kind:"ValueNode",value:t})},createImmediate(t){return m({kind:"ValueNode",value:t,immediate:!0})}});function rp(t){return Xa(t)?tg(t):Ir(t)}function Ir(t){return rl(t)?nl(t):ir.create(t)}function tg(t){return t.some(rl)?Af.create(t.map(e=>Ir(e))):np.create(t)}function nn(t){if(t.length>1&&!op(t[1]))throw new Error(`invalid comparison operator ${JSON.stringify(t[1])}`);return ip(t)}function ip(t){if(t.length===3)return Ru(t[0],t[1],t[2]);if(t.length===1)return og(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function Ru(t,e,n){if(!sp(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return rg(e)&&ig(n)?sg(t,e,n):Cf.create(kr(t),If(e),rp(n))}function Wr(t,e,n){if(!op(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return ng(t,e,n)}function ng(t,e,n){if(!sp(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return Cf.create(kr(t),If(e),kr(n))}function sp(t){return Vw(t)||Ef(t)}function op(t){return Hw(t)||Ef(t)}function rg(t){return t==="is"||t==="is not"}function ig(t){return Kd(t)||zd(t)}function sg(t,e,n){return Cf.create(kr(t),If(e),ir.createImmediate(n))}function If(t){if(Dn(t)&&jw.includes(t))return _a.create(t);if(Pn(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function og(t){return Ln(t)?t(Lf()).toOperationNode():Pn(t)?t.toOperationNode():ir.create(t)}const Oo=m({is(t){return t.kind==="OrderByNode"},create(t){return m({kind:"OrderByNode",items:m([t])})},cloneWithItem(t,e){return m({...t,items:m([...t.items,e])})}}),vh=m({is(t){return t.kind==="PartitionByNode"},create(t){return m({kind:"PartitionByNode",items:m(t)})},cloneWithItems(t,e){return m({...t,items:m([...t.items,...e])})}}),Ul=m({is(t){return t.kind==="OverNode"},create(){return m({kind:"OverNode"})},cloneWithOrderByItem(t,e){return m({...t,orderBy:t.orderBy?Oo.cloneWithItem(t.orderBy,e):Oo.create(e)})},cloneWithPartitionByItems(t,e){return m({...t,partitionBy:t.partitionBy?vh.cloneWithItems(t.partitionBy,e):vh.create(e)})}}),Vu=m({is(t){return t.kind==="FromNode"},create(t){return m({kind:"FromNode",froms:m(t)})},cloneWithFroms(t,e){return m({...t,froms:m([...t.froms,...e])})}}),_h=m({is(t){return t.kind==="GroupByNode"},create(t){return m({kind:"GroupByNode",items:m(t)})},cloneWithItems(t,e){return m({...t,items:m([...t.items,...e])})}}),xh=m({is(t){return t.kind==="HavingNode"},create(t){return m({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return m({...t,having:e==="And"?ls.create(t.having,n):fs.create(t.having,n)})}}),Fe=m({is(t){return t.kind==="SelectQueryNode"},create(t,e){return m({kind:"SelectQueryNode",from:Vu.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return m({...t,selections:t.selections?m([...t.selections,...e]):m(e)})},cloneWithDistinctOn(t,e){return m({...t,distinctOn:t.distinctOn?m([...t.distinctOn,...e]):m(e)})},cloneWithFrontModifier(t,e){return m({...t,frontModifiers:t.frontModifiers?m([...t.frontModifiers,e]):m([e])})},cloneWithEndModifier(t,e){return m({...t,endModifiers:t.endModifiers?m([...t.endModifiers,e]):m([e])})},cloneWithOrderByItem(t,e){return m({...t,orderBy:t.orderBy?Oo.cloneWithItem(t.orderBy,e):Oo.create(e)})},cloneWithGroupByItems(t,e){return m({...t,groupBy:t.groupBy?_h.cloneWithItems(t.groupBy,e):_h.create(e)})},cloneWithLimit(t,e){return m({...t,limit:e})},cloneWithOffset(t,e){return m({...t,offset:e})},cloneWithHaving(t,e){return m({...t,having:t.having?xh.cloneWithOperation(t.having,"And",e):xh.create(e)})},cloneWithSetOperation(t,e){return m({...t,setOperations:t.setOperations?m([...t.setOperations,e]):m([e])})},cloneWithoutSelections(t){return m({...t,selections:[]})},cloneWithoutLimit(t){return m({...t,limit:void 0})},cloneWithoutOffset(t){return m({...t,offset:void 0})},cloneWithoutOrderBy(t){return m({...t,orderBy:void 0})}});function $e(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var zn;const ca=class ca{constructor(e){D(this,zn,void 0);H(this,zn,m(e))}on(...e){return new ca({...i(this,zn),joinNode:oa.cloneWithOn(i(this,zn).joinNode,nn(e))})}onRef(e,n,r){return new ca({...i(this,zn),joinNode:oa.cloneWithOn(i(this,zn).joinNode,Wr(e,n,r))})}onTrue(){return new ca({...i(this,zn),joinNode:oa.cloneWithOn(i(this,zn).joinNode,tn.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return i(this,zn).joinNode}};zn=new WeakMap;let Hu=ca;$e(Hu,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const ag=m({is(t){return t.kind==="PartitionByItemNode"},create(t){return m({kind:"PartitionByItemNode",partitionBy:t})}});function ug(t){return xa(t).map(ag.create)}var Vi;const mc=class mc{constructor(e){D(this,Vi,void 0);H(this,Vi,m(e))}orderBy(e,n){return new mc({overNode:Ul.cloneWithOrderByItem(i(this,Vi).overNode,Zc(e,n))})}partitionBy(e){return new mc({overNode:Ul.cloneWithPartitionByItems(i(this,Vi).overNode,ug(e))})}$call(e){return e(this)}toOperationNode(){return i(this,Vi).overNode}};Vi=new WeakMap;let zu=mc;$e(zu,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const aa=m({is(t){return t.kind==="SelectionNode"},create(t){return m({kind:"SelectionNode",selection:t})},createSelectAll(){return m({kind:"SelectionNode",selection:qf.create()})},createSelectAllFromTable(t){return m({kind:"SelectionNode",selection:Xc.createSelectAll(t)})}});var Js;class cg{constructor(e){D(this,Js,void 0);H(this,Js,e)}get dynamicReference(){return i(this,Js)}get refType(){}toOperationNode(){return ep(i(this,Js))}}Js=new WeakMap;function lg(t){return wr(t)&&Pn(t)&&Dn(t.dynamicReference)}function Za(t){return Ln(t)?Za(t(Ao())):Xa(t)?t.map(e=>Oh(e)):[Oh(t)]}function Oh(t){return Dn(t)?aa.create(Xw(t)):lg(t)?aa.create(t.toOperationNode()):aa.create(gp(t))}function eu(t){return t?Array.isArray(t)?t.map(Eh):[Eh(t)]:[aa.createSelectAll()]}function Eh(t){if(Dn(t))return aa.createSelectAllFromTable(mn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const fg=m({is(t){return t.kind==="ValuesNode"},create(t){return m({kind:"ValuesNode",values:m(t)})}}),hg=m({is(t){return t.kind==="DefaultInsertValueNode"},create(){return m({kind:"DefaultInsertValueNode"})}});function dg(t){const e=Ln(t)?t(Ao()):t,n=Xa(e)?e:m([e]);return pg(n)}function pg(t){const e=mg(t);return[m([...e.keys()].map(yt.create)),fg.create(t.map(n=>yg(n,e)))]}function mg(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const a of r)!e.has(a)&&n[a]!==void 0&&e.set(a,e.size)}return e}function yg(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let a=!1;for(const p of n){const w=e.get(p);if(Ks(w))continue;const v=t[p];(Ks(v)||rl(v))&&(a=!0),r[w]=v}if(n.length<e.size||a){const p=hg.create();return Af.create(r.map(w=>Ks(w)?p:Ir(w)))}return np.create(r)}const mr=m({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return m({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},cloneWith(t,e){return m({...t,...e})}}),Ku=m({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return m({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},cloneWithFromItems(t,e){return m({...t,from:t.from?Vu.cloneWithFroms(t.from,e):Vu.create(e)})},cloneWithUpdates(t,e){return m({...t,updates:t.updates?m([...t.updates,...e]):e})}}),Ch=m({is(t){return t.kind==="UsingNode"},create(t){return m({kind:"UsingNode",tables:m(t)})},cloneWithTables(t,e){return m({...t,tables:m([...t.tables,...e])})}}),ua=m({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return m({kind:"DeleteQueryNode",from:Vu.create(t),...e&&{with:e}})},cloneWithOrderByItem(t,e){return m({...t,orderBy:t.orderBy?Oo.cloneWithItem(t.orderBy,e):Oo.create(e)})},cloneWithLimit(t,e){return m({...t,limit:e})},cloneWithUsing(t,e){return m({...t,using:t.using!==void 0?Ch.cloneWithTables(t.using,e):Ch.create(e)})}}),hn=m({is(t){return t.kind==="WhereNode"},create(t){return m({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return m({...t,where:e==="And"?ls.create(t.where,n):fs.create(t.where,n)})}}),qh=m({is(t){return t.kind==="ReturningNode"},create(t){return m({kind:"ReturningNode",selections:m(t)})},cloneWithSelections(t,e){return m({...t,selections:t.selections?m([...t.selections,...e]):m(e)})}}),wg=m({is(t){return t.kind==="ExplainNode"},create(t,e){return m({kind:"ExplainNode",format:t,options:e})}}),Re=m({is(t){return Fe.is(t)||mr.is(t)||Ku.is(t)||ua.is(t)},cloneWithWhere(t,e){return m({...t,where:t.where?hn.cloneWithOperation(t.where,"And",e):hn.create(e)})},cloneWithJoin(t,e){return m({...t,joins:t.joins?m([...t.joins,e]):m([e])})},cloneWithReturning(t,e){return m({...t,returning:t.returning?qh.cloneWithSelections(t.returning,e):qh.create(e)})},cloneWithoutWhere(t){return m({...t,where:void 0})},cloneWithExplain(t,e,n){return m({...t,explain:wg.create(e,n==null?void 0:n.toOperationNode())})}}),gg=m({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return m({kind:"ColumnUpdateNode",column:t,value:e})}});function Tf(t){const e=Ln(t)?t(Ao()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>gg.create(yt.create(n),Ir(r)))}const bg=m({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return m({kind:"OnDuplicateKeyNode",updates:t})}});class Ng{constructor(e,n){ve(this,"insertId");ve(this,"numInsertedOrUpdatedRows");this.insertId=e,this.numInsertedOrUpdatedRows=n}}class el extends Error{constructor(n){super("no result");ve(this,"node");this.node=n}}function tl(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const En=m({is(t){return t.kind==="OnConflictNode"},create(){return m({kind:"OnConflictNode"})},cloneWith(t,e){return m({...t,...e})},cloneWithIndexWhere(t,e){return m({...t,indexWhere:t.indexWhere?hn.cloneWithOperation(t.indexWhere,"And",e):hn.create(e)})},cloneWithIndexOrWhere(t,e){return m({...t,indexWhere:t.indexWhere?hn.cloneWithOperation(t.indexWhere,"Or",e):hn.create(e)})},cloneWithUpdateWhere(t,e){return m({...t,updateWhere:t.updateWhere?hn.cloneWithOperation(t.updateWhere,"And",e):hn.create(e)})},cloneWithUpdateOrWhere(t,e){return m({...t,updateWhere:t.updateWhere?hn.cloneWithOperation(t.updateWhere,"Or",e):hn.create(e)})},cloneWithoutIndexWhere(t){return m({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return m({...t,updateWhere:void 0})}});var et;const Or=class Or{constructor(e){D(this,et,void 0);H(this,et,m(e))}column(e){const n=yt.create(e);return new Or({...i(this,et),onConflictNode:En.cloneWith(i(this,et).onConflictNode,{columns:i(this,et).onConflictNode.columns?m([...i(this,et).onConflictNode.columns,n]):m([n])})})}columns(e){const n=e.map(yt.create);return new Or({...i(this,et),onConflictNode:En.cloneWith(i(this,et).onConflictNode,{columns:i(this,et).onConflictNode.columns?m([...i(this,et).onConflictNode.columns,...n]):m(n)})})}constraint(e){return new Or({...i(this,et),onConflictNode:En.cloneWith(i(this,et).onConflictNode,{constraint:ct.create(e)})})}expression(e){return new Or({...i(this,et),onConflictNode:En.cloneWith(i(this,et).onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Or({...i(this,et),onConflictNode:En.cloneWithIndexWhere(i(this,et).onConflictNode,nn(e))})}whereRef(e,n,r){return new Or({...i(this,et),onConflictNode:En.cloneWithIndexWhere(i(this,et).onConflictNode,Wr(e,n,r))})}clearWhere(){return new Or({...i(this,et),onConflictNode:En.cloneWithoutIndexWhere(i(this,et).onConflictNode)})}doNothing(){return new ap({...i(this,et),onConflictNode:En.cloneWith(i(this,et).onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new Gu({...i(this,et),onConflictNode:En.cloneWith(i(this,et).onConflictNode,{updates:Tf(e)})})}$call(e){return e(this)}};et=new WeakMap;let Ju=Or;$e(Ju,"don't await OnConflictBuilder instances.");var Ta;class ap{constructor(e){D(this,Ta,void 0);H(this,Ta,m(e))}toOperationNode(){return i(this,Ta).onConflictNode}}Ta=new WeakMap;$e(ap,"don't await OnConflictDoNothingBuilder instances.");var Kn;const la=class la{constructor(e){D(this,Kn,void 0);H(this,Kn,m(e))}where(...e){return new la({...i(this,Kn),onConflictNode:En.cloneWithUpdateWhere(i(this,Kn).onConflictNode,nn(e))})}whereRef(e,n,r){return new la({...i(this,Kn),onConflictNode:En.cloneWithUpdateWhere(i(this,Kn).onConflictNode,Wr(e,n,r))})}clearWhere(){return new la({...i(this,Kn),onConflictNode:En.cloneWithoutUpdateWhere(i(this,Kn).onConflictNode)})}$call(e){return e(this)}toOperationNode(){return i(this,Kn).onConflictNode}};Kn=new WeakMap;let Gu=la;$e(Gu,"don't await OnConflictUpdateBuilder instances.");var Te;const Ht=class Ht{constructor(e){D(this,Te,void 0);H(this,Te,m(e))}values(e){const[n,r]=dg(e);return new Ht({...i(this,Te),queryNode:mr.cloneWith(i(this,Te).queryNode,{columns:n,values:r})})}columns(e){return new Ht({...i(this,Te),queryNode:mr.cloneWith(i(this,Te).queryNode,{columns:m(e.map(yt.create))})})}expression(e){return new Ht({...i(this,Te),queryNode:mr.cloneWith(i(this,Te).queryNode,{values:nl(e)})})}ignore(){return new Ht({...i(this,Te),queryNode:mr.cloneWith(i(this,Te).queryNode,{ignore:!0})})}onConflict(e){return new Ht({...i(this,Te),queryNode:mr.cloneWith(i(this,Te).queryNode,{onConflict:e(new Ju({onConflictNode:En.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Ht({...i(this,Te),queryNode:mr.cloneWith(i(this,Te).queryNode,{onDuplicateKey:bg.create(Tf(e))})})}returning(e){return new Ht({...i(this,Te),queryNode:Re.cloneWithReturning(i(this,Te).queryNode,Za(e))})}returningAll(){return new Ht({...i(this,Te),queryNode:Re.cloneWithReturning(i(this,Te).queryNode,eu())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Ht({...i(this,Te)})}$castTo(){return new Ht(i(this,Te))}$narrowType(){return new Ht(i(this,Te))}$assertType(){return new Ht(i(this,Te))}withPlugin(e){return new Ht({...i(this,Te),executor:i(this,Te).executor.withPlugin(e)})}toOperationNode(){return i(this,Te).executor.transformQuery(i(this,Te).queryNode,i(this,Te).queryId)}compile(){return i(this,Te).executor.compileQuery(this.toOperationNode(),i(this,Te).queryId)}async execute(){const e=this.compile(),n=e.query,r=await i(this,Te).executor.executeQuery(e,i(this,Te).queryId);return i(this,Te).executor.adapter.supportsReturning&&n.returning?r.rows:[new Ng(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=el){const n=await this.executeTakeFirst();if(n===void 0)throw tl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),r=i(this,Te).executor.stream(n,e,i(this,Te).queryId);for await(const a of r)yield*a.rows}async explain(e,n){return await new Ht({...i(this,Te),queryNode:Re.cloneWithExplain(i(this,Te).queryNode,e,n)}).execute()}};Te=new WeakMap;let Oa=Ht;$e(Oa,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class vg{constructor(e){ve(this,"numDeletedRows");this.numDeletedRows=e}}const up=m({is(t){return t.kind==="LimitNode"},create(t){return m({kind:"LimitNode",limit:ir.create(t)})}});var Ne;const gt=class gt{constructor(e){D(this,Ne,void 0);H(this,Ne,m(e))}where(...e){return new gt({...i(this,Ne),queryNode:Re.cloneWithWhere(i(this,Ne).queryNode,nn(e))})}whereRef(e,n,r){return new gt({...i(this,Ne),queryNode:Re.cloneWithWhere(i(this,Ne).queryNode,Wr(e,n,r))})}clearWhere(){return new gt({...i(this,Ne),queryNode:Re.cloneWithoutWhere(i(this,Ne).queryNode)})}using(e){return new gt({...i(this,Ne),queryNode:ua.cloneWithUsing(i(this,Ne).queryNode,qa(e))})}innerJoin(...e){return new gt({...i(this,Ne),queryNode:Re.cloneWithJoin(i(this,Ne).queryNode,pn("InnerJoin",e))})}leftJoin(...e){return new gt({...i(this,Ne),queryNode:Re.cloneWithJoin(i(this,Ne).queryNode,pn("LeftJoin",e))})}rightJoin(...e){return new gt({...i(this,Ne),queryNode:Re.cloneWithJoin(i(this,Ne).queryNode,pn("RightJoin",e))})}fullJoin(...e){return new gt({...i(this,Ne),queryNode:Re.cloneWithJoin(i(this,Ne).queryNode,pn("FullJoin",e))})}returning(e){return new gt({...i(this,Ne),queryNode:Re.cloneWithReturning(i(this,Ne).queryNode,Za(e))})}returningAll(e){return new gt({...i(this,Ne),queryNode:Re.cloneWithReturning(i(this,Ne).queryNode,eu(e))})}orderBy(e,n){return new gt({...i(this,Ne),queryNode:ua.cloneWithOrderByItem(i(this,Ne).queryNode,Zc(e,n))})}limit(e){return new gt({...i(this,Ne),queryNode:ua.cloneWithLimit(i(this,Ne).queryNode,up.create(e))})}$call(e){return e(this)}$if(e,n){return e?n(this):new gt({...i(this,Ne)})}$castTo(){return new gt(i(this,Ne))}$narrowType(){return new gt(i(this,Ne))}$assertType(){return new gt(i(this,Ne))}withPlugin(e){return new gt({...i(this,Ne),executor:i(this,Ne).executor.withPlugin(e)})}toOperationNode(){return i(this,Ne).executor.transformQuery(i(this,Ne).queryNode,i(this,Ne).queryId)}compile(){return i(this,Ne).executor.compileQuery(this.toOperationNode(),i(this,Ne).queryId)}async execute(){const e=this.compile(),n=e.query,r=await i(this,Ne).executor.executeQuery(e,i(this,Ne).queryId);return i(this,Ne).executor.adapter.supportsReturning&&n.returning?r.rows:[new vg(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=el){const n=await this.executeTakeFirst();if(n===void 0)throw tl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),r=i(this,Ne).executor.stream(n,e,i(this,Ne).queryId);for await(const a of r)yield*a.rows}async explain(e,n){return await new gt({...i(this,Ne),queryNode:Re.cloneWithExplain(i(this,Ne).queryNode,e,n)}).execute()}};Ne=new WeakMap;let Yu=gt;$e(Yu,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class _g{constructor(e,n){ve(this,"numUpdatedRows");ve(this,"numChangedRows");this.numUpdatedRows=e,this.numChangedRows=n}}var Ce;const Ct=class Ct{constructor(e){D(this,Ce,void 0);H(this,Ce,m(e))}where(...e){return new Ct({...i(this,Ce),queryNode:Re.cloneWithWhere(i(this,Ce).queryNode,nn(e))})}whereRef(e,n,r){return new Ct({...i(this,Ce),queryNode:Re.cloneWithWhere(i(this,Ce).queryNode,Wr(e,n,r))})}clearWhere(){return new Ct({...i(this,Ce),queryNode:Re.cloneWithoutWhere(i(this,Ce).queryNode)})}from(e){return new Ct({...i(this,Ce),queryNode:Ku.cloneWithFromItems(i(this,Ce).queryNode,qa(e))})}innerJoin(...e){return new Ct({...i(this,Ce),queryNode:Re.cloneWithJoin(i(this,Ce).queryNode,pn("InnerJoin",e))})}leftJoin(...e){return new Ct({...i(this,Ce),queryNode:Re.cloneWithJoin(i(this,Ce).queryNode,pn("LeftJoin",e))})}rightJoin(...e){return new Ct({...i(this,Ce),queryNode:Re.cloneWithJoin(i(this,Ce).queryNode,pn("RightJoin",e))})}fullJoin(...e){return new Ct({...i(this,Ce),queryNode:Re.cloneWithJoin(i(this,Ce).queryNode,pn("FullJoin",e))})}set(e){return new Ct({...i(this,Ce),queryNode:Ku.cloneWithUpdates(i(this,Ce).queryNode,Tf(e))})}returning(e){return new Ct({...i(this,Ce),queryNode:Re.cloneWithReturning(i(this,Ce).queryNode,Za(e))})}returningAll(){return new Ct({...i(this,Ce),queryNode:Re.cloneWithReturning(i(this,Ce).queryNode,eu())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Ct({...i(this,Ce)})}$castTo(){return new Ct(i(this,Ce))}$narrowType(){return new Ct(i(this,Ce))}$assertType(){return new Ct(i(this,Ce))}withPlugin(e){return new Ct({...i(this,Ce),executor:i(this,Ce).executor.withPlugin(e)})}toOperationNode(){return i(this,Ce).executor.transformQuery(i(this,Ce).queryNode,i(this,Ce).queryId)}compile(){return i(this,Ce).executor.compileQuery(this.toOperationNode(),i(this,Ce).queryId)}async execute(){const e=this.compile(),n=e.query,r=await i(this,Ce).executor.executeQuery(e,i(this,Ce).queryId);return i(this,Ce).executor.adapter.supportsReturning&&n.returning?r.rows:[new _g(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=el){const n=await this.executeTakeFirst();if(n===void 0)throw tl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),r=i(this,Ce).executor.stream(n,e,i(this,Ce).queryId);for await(const a of r)yield*a.rows}async explain(e,n){return await new Ct({...i(this,Ce),queryNode:Re.cloneWithExplain(i(this,Ce).queryNode,e,n)}).execute()}};Ce=new WeakMap;let Xu=Ct;$e(Xu,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const xg=m({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return m({kind:"CommonTableExpressionNode",name:t,expression:e})}}),Sh=m({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return m({kind:"CommonTableExpressionNameNode",table:ci.create(t),columns:e?m(e.map(yt.create)):void 0})}});function Ah(t,e){const n=e(Wg());return xg.create(Og(t),n.toOperationNode())}function Og(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(a=>a.trim());return Sh.create(n,r)}else return Sh.create(t)}const Cu=m({is(t){return t.kind==="WithNode"},create(t,e){return m({kind:"WithNode",expressions:m([t]),...e})},cloneWithExpression(t,e){return m({...t,expressions:m([...t.expressions,e])})}}),Ih=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function Eg(t){let e="";for(let n=0;n<t;++n)e+=Cg();return e}function Cg(){return Ih[~~(Math.random()*Ih.length)]}function nt(){return new qg}var Gs;class qg{constructor(){D(this,Gs,void 0)}get queryId(){return i(this,Gs)===void 0&&H(this,Gs,Eg(8)),i(this,Gs)}}Gs=new WeakMap;var yc;class kf{constructor(){ve(this,"nodeStack",[]);D(this,yc,m({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this)}))}transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),m(n)}transformNodeImpl(e){return i(this,yc)[e.kind](e)}transformNodeList(e){return e&&m(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:m([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where)}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}yc=new WeakMap;const Sg=m({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0});var Ys,Hi,zi,wc,cp,gc,lp,bc,fp,Ki,na,ka,$l,Nc,hp;class Ag extends kf{constructor(n){super();D(this,wc);D(this,gc);D(this,bc);D(this,Ki);D(this,ka);D(this,Nc);D(this,Ys,void 0);D(this,Hi,new Set);D(this,zi,new Set);H(this,Ys,n)}transformNodeImpl(n){if(!_e(this,wc,cp).call(this,n))return super.transformNodeImpl(n);const r=_e(this,bc,fp).call(this,n);for(const p of r)i(this,zi).add(p);const a=_e(this,gc,lp).call(this,n);for(const p of a)i(this,Hi).add(p);const l=super.transformNodeImpl(n);for(const p of a)i(this,Hi).delete(p);for(const p of r)i(this,zi).delete(p);return l}transformSchemableIdentifier(n){const r=super.transformSchemableIdentifier(n);return r.schema||!i(this,Hi).has(n.identifier.name)?r:{...r,schema:ct.create(i(this,Ys))}}transformReferences(n){const r=super.transformReferences(n);return r.table.table.schema?r:{...r,table:ci.createWithSchema(i(this,Ys),r.table.table.identifier.name)}}}Ys=new WeakMap,Hi=new WeakMap,zi=new WeakMap,wc=new WeakSet,cp=function(n){return n.kind in Sg},gc=new WeakSet,lp=function(n){const r=new Set;if("name"in n&&n.name&&hi.is(n.name)&&_e(this,ka,$l).call(this,n.name,r),"from"in n&&n.from)for(const a of n.from.froms)_e(this,Ki,na).call(this,a,r);if("into"in n&&n.into&&_e(this,Ki,na).call(this,n.into,r),"table"in n&&n.table&&_e(this,Ki,na).call(this,n.table,r),"joins"in n&&n.joins)for(const a of n.joins)_e(this,Ki,na).call(this,a.table,r);return r},bc=new WeakSet,fp=function(n){const r=new Set;return"with"in n&&n.with&&_e(this,Nc,hp).call(this,n.with,r),r},Ki=new WeakSet,na=function(n,r){const a=ci.is(n)?n:pi.is(n)&&ci.is(n.node)?n.node:null;a&&_e(this,ka,$l).call(this,a.table,r)},ka=new WeakSet,$l=function(n,r){const a=n.identifier.name;!i(this,Hi).has(a)&&!i(this,zi).has(a)&&r.add(a)},Nc=new WeakSet,hp=function(n,r){for(const a of n.expressions){const l=a.name.table.table.identifier.name;i(this,zi).has(l)||r.add(l)}};var Wa;class tu{constructor(e){D(this,Wa,void 0);H(this,Wa,new Ag(e))}transformQuery(e){return i(this,Wa).transformNode(e.node)}async transformResult(e){return e.result}}Wa=new WeakMap;var tt;const $i=class $i{constructor(e){D(this,tt,void 0);H(this,tt,m(e))}selectFrom(e){return new Ea({queryId:nt(),executor:i(this,tt).executor,queryNode:Fe.create(qa(e),i(this,tt).withNode)})}insertInto(e){return new Oa({queryId:nt(),executor:i(this,tt).executor,queryNode:mr.create(mn(e),i(this,tt).withNode)})}replaceInto(e){return new Oa({queryId:nt(),executor:i(this,tt).executor,queryNode:mr.create(mn(e),i(this,tt).withNode,!0)})}deleteFrom(e){return new Yu({queryId:nt(),executor:i(this,tt).executor,queryNode:ua.create(qa(e),i(this,tt).withNode)})}updateTable(e){return new Xu({queryId:nt(),executor:i(this,tt).executor,queryNode:Ku.create(Sa(e),i(this,tt).withNode)})}with(e,n){const r=Ah(e,n);return new $i({...i(this,tt),withNode:i(this,tt).withNode?Cu.cloneWithExpression(i(this,tt).withNode,r):Cu.create(r)})}withRecursive(e,n){const r=Ah(e,n);return new $i({...i(this,tt),withNode:i(this,tt).withNode?Cu.cloneWithExpression(i(this,tt).withNode,r):Cu.create(r,{recursive:!0})})}withPlugin(e){return new $i({...i(this,tt),executor:i(this,tt).executor.withPlugin(e)})}withoutPlugins(){return new $i({...i(this,tt),executor:i(this,tt).executor.withoutPlugins()})}withSchema(e){return new $i({...i(this,tt),executor:i(this,tt).executor.withPluginAtFront(new tu(e))})}};tt=new WeakMap;let Zu=$i;var Ra,Xs,Zs;class Th{constructor(){D(this,Ra,void 0);D(this,Xs,void 0);D(this,Zs,void 0);ve(this,"resolve",e=>{i(this,Xs)&&i(this,Xs).call(this,e)});ve(this,"reject",e=>{i(this,Zs)&&i(this,Zs).call(this,e)});H(this,Ra,new Promise((e,n)=>{H(this,Zs,n),H(this,Xs,e)}))}get promise(){return i(this,Ra)}}Ra=new WeakMap,Xs=new WeakMap,Zs=new WeakMap;const kh=new Set;function Ig(t){kh.has(t)||(kh.add(t),console.log(t))}const Tg=m([]);var Ji,Da,Ql;class dp{constructor(e=Tg){D(this,Da);D(this,Ji,void 0);H(this,Ji,e)}get plugins(){return i(this,Ji)}transformQuery(e,n){for(const r of i(this,Ji)){const a=r.transformQuery({node:e,queryId:n});if(a.kind===e.kind)e=a;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${a.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const a=await r.executeQuery(e),l=await _e(this,Da,Ql).call(this,a,n);return kg(a,l),l})}async*stream(e,n,r){const a=new Th,l=new Th;this.provideConnection(async w=>(a.resolve(w),await l.promise)).catch(w=>a.reject(w));const p=await a.promise;try{for await(const w of p.streamQuery(e,n))yield await _e(this,Da,Ql).call(this,w,r)}finally{l.resolve()}}}Ji=new WeakMap,Da=new WeakSet,Ql=async function(e,n){for(const r of i(this,Ji))e=await r.transformResult({result:e,queryId:n});return e};function kg(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||Ig("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Ps extends dp{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Ps([...this.plugins,e])}withPlugins(e){return new Ps([...this.plugins,...e])}withPluginAtFront(e){return new Ps([e,...this.plugins])}withoutPlugins(){return new Ps([])}}const Wf=new Ps;function Wg(){return new Zu({executor:Wf})}function Rg(t,e){return new Hu({joinNode:oa.create(t,Sa(e))})}function Dg(){return new zu({overNode:Ul.create()})}function pn(t,e){if(e.length===3)return Pg(t,e[0],e[1],e[2]);if(e.length===2)return Lg(t,e[0],e[1]);throw new Error("not implemented")}function Lg(t,e,n){return n(Rg(t,e)).toOperationNode()}function Pg(t,e,n,r){return oa.createWithOn(t,Sa(e),Wr(n,"=",r))}const Mg=m({is(t){return t.kind==="OffsetNode"},create(t){return m({kind:"OffsetNode",offset:ir.create(t)})}}),Bg=m({is(t){return t.kind==="GroupByItemNode"},create(t){return m({kind:"GroupByItemNode",groupBy:t})}});function Fg(t){return t=Ln(t)?t(Ao()):t,xa(t).map(Bg.create)}const pp=m({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return m({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function ks(t,e,n){return pp.create(t,e.toOperationNode(),n)}var Z;const xe=class xe{constructor(e){D(this,Z,void 0);H(this,Z,m(e))}get expressionType(){}where(...e){return new xe({...i(this,Z),queryNode:Re.cloneWithWhere(i(this,Z).queryNode,nn(e))})}whereRef(e,n,r){return new xe({...i(this,Z),queryNode:Re.cloneWithWhere(i(this,Z).queryNode,Wr(e,n,r))})}having(...e){return new xe({...i(this,Z),queryNode:Fe.cloneWithHaving(i(this,Z).queryNode,nn(e))})}havingRef(e,n,r){return new xe({...i(this,Z),queryNode:Fe.cloneWithHaving(i(this,Z).queryNode,Wr(e,n,r))})}select(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSelections(i(this,Z).queryNode,Za(e))})}distinctOn(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithDistinctOn(i(this,Z).queryNode,xa(e))})}modifyFront(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithFrontModifier(i(this,Z).queryNode,vr.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithEndModifier(i(this,Z).queryNode,vr.createWithExpression(e.toOperationNode()))})}distinct(){return new xe({...i(this,Z),queryNode:Fe.cloneWithFrontModifier(i(this,Z).queryNode,vr.create("Distinct"))})}forUpdate(){return new xe({...i(this,Z),queryNode:Fe.cloneWithEndModifier(i(this,Z).queryNode,vr.create("ForUpdate"))})}forShare(){return new xe({...i(this,Z),queryNode:Fe.cloneWithEndModifier(i(this,Z).queryNode,vr.create("ForShare"))})}forKeyShare(){return new xe({...i(this,Z),queryNode:Fe.cloneWithEndModifier(i(this,Z).queryNode,vr.create("ForKeyShare"))})}forNoKeyUpdate(){return new xe({...i(this,Z),queryNode:Fe.cloneWithEndModifier(i(this,Z).queryNode,vr.create("ForNoKeyUpdate"))})}skipLocked(){return new xe({...i(this,Z),queryNode:Fe.cloneWithEndModifier(i(this,Z).queryNode,vr.create("SkipLocked"))})}noWait(){return new xe({...i(this,Z),queryNode:Fe.cloneWithEndModifier(i(this,Z).queryNode,vr.create("NoWait"))})}selectAll(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSelections(i(this,Z).queryNode,eu(e))})}innerJoin(...e){return new xe({...i(this,Z),queryNode:Re.cloneWithJoin(i(this,Z).queryNode,pn("InnerJoin",e))})}leftJoin(...e){return new xe({...i(this,Z),queryNode:Re.cloneWithJoin(i(this,Z).queryNode,pn("LeftJoin",e))})}rightJoin(...e){return new xe({...i(this,Z),queryNode:Re.cloneWithJoin(i(this,Z).queryNode,pn("RightJoin",e))})}fullJoin(...e){return new xe({...i(this,Z),queryNode:Re.cloneWithJoin(i(this,Z).queryNode,pn("FullJoin",e))})}innerJoinLateral(...e){return new xe({...i(this,Z),queryNode:Re.cloneWithJoin(i(this,Z).queryNode,pn("LateralInnerJoin",e))})}leftJoinLateral(...e){return new xe({...i(this,Z),queryNode:Re.cloneWithJoin(i(this,Z).queryNode,pn("LateralLeftJoin",e))})}orderBy(e,n){return new xe({...i(this,Z),queryNode:Fe.cloneWithOrderByItem(i(this,Z).queryNode,Zc(e,n))})}groupBy(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithGroupByItems(i(this,Z).queryNode,Fg(e))})}limit(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithLimit(i(this,Z).queryNode,up.create(e))})}offset(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithOffset(i(this,Z).queryNode,Mg.create(e))})}union(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSetOperation(i(this,Z).queryNode,ks("union",e,!1))})}unionAll(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSetOperation(i(this,Z).queryNode,ks("union",e,!0))})}intersect(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSetOperation(i(this,Z).queryNode,ks("intersect",e,!1))})}intersectAll(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSetOperation(i(this,Z).queryNode,ks("intersect",e,!0))})}except(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSetOperation(i(this,Z).queryNode,ks("except",e,!1))})}exceptAll(e){return new xe({...i(this,Z),queryNode:Fe.cloneWithSetOperation(i(this,Z).queryNode,ks("except",e,!0))})}as(e){return new Ug(this,e)}clearSelect(){return new xe({...i(this,Z),queryNode:Fe.cloneWithoutSelections(i(this,Z).queryNode)})}clearWhere(){return new xe({...i(this,Z),queryNode:Re.cloneWithoutWhere(i(this,Z).queryNode)})}clearLimit(){return new xe({...i(this,Z),queryNode:Fe.cloneWithoutLimit(i(this,Z).queryNode)})}clearOffset(){return new xe({...i(this,Z),queryNode:Fe.cloneWithoutOffset(i(this,Z).queryNode)})}clearOrderBy(){return new xe({...i(this,Z),queryNode:Fe.cloneWithoutOrderBy(i(this,Z).queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new xe({...i(this,Z)})}$castTo(){return new xe(i(this,Z))}$narrowType(){return new xe(i(this,Z))}$assertType(){return new xe(i(this,Z))}withPlugin(e){return new xe({...i(this,Z),executor:i(this,Z).executor.withPlugin(e)})}toOperationNode(){return i(this,Z).executor.transformQuery(i(this,Z).queryNode,i(this,Z).queryId)}compile(){return i(this,Z).executor.compileQuery(this.toOperationNode(),i(this,Z).queryId)}async execute(){const e=this.compile();return(await i(this,Z).executor.executeQuery(e,i(this,Z).queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=el){const n=await this.executeTakeFirst();if(n===void 0)throw tl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),r=i(this,Z).executor.stream(n,e,i(this,Z).queryId);for await(const a of r)yield*a.rows}async explain(e,n){return await new xe({...i(this,Z),queryNode:Re.cloneWithExplain(i(this,Z).queryNode,e,n)}).execute()}};Z=new WeakMap;let Ea=xe;$e(Ea,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var eo,to;class Ug{constructor(e,n){D(this,eo,void 0);D(this,to,void 0);H(this,eo,e),H(this,to,n)}get expression(){return i(this,eo)}get alias(){return i(this,to)}toOperationNode(){return pi.create(i(this,eo).toOperationNode(),ct.create(i(this,to)))}}eo=new WeakMap,to=new WeakMap;const Ms=m({is(t){return t.kind==="ParensNode"},create(t){return m({kind:"ParensNode",node:t})}});var Yr;const Uf=class Uf{constructor(e){D(this,Yr,void 0);H(this,Yr,e)}get expressionType(){}as(e){return new Rf(this,e)}or(...e){return new jl(fs.create(i(this,Yr),nn(e)))}and(...e){return new Vl(ls.create(i(this,Yr),nn(e)))}$castTo(){return new Uf(i(this,Yr))}toOperationNode(){return i(this,Yr)}};Yr=new WeakMap;let mt=Uf;var no,Xr;class Rf{constructor(e,n){D(this,no,void 0);D(this,Xr,void 0);H(this,no,e),H(this,Xr,n)}get expression(){return i(this,no)}get alias(){return i(this,Xr)}toOperationNode(){return pi.create(i(this,no).toOperationNode(),Pn(i(this,Xr))?i(this,Xr).toOperationNode():ct.create(i(this,Xr)))}}no=new WeakMap,Xr=new WeakMap;var Gi;const vc=class vc{constructor(e){D(this,Gi,void 0);H(this,Gi,e)}get expressionType(){}as(e){return new Rf(this,e)}or(...e){return new vc(fs.create(i(this,Gi),nn(e)))}$castTo(){return new vc(i(this,Gi))}toOperationNode(){return Ms.create(i(this,Gi))}};Gi=new WeakMap;let jl=vc;var Yi;const _c=class _c{constructor(e){D(this,Yi,void 0);H(this,Yi,e)}get expressionType(){}as(e){return new Rf(this,e)}and(...e){return new _c(ls.create(i(this,Yi),nn(e)))}$castTo(){return new _c(i(this,Yi))}toOperationNode(){return Ms.create(i(this,Yi))}};Yi=new WeakMap;let Vl=_c;const Bs=m({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return m({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return m({...t,distinct:!0})},cloneWithFilter(t,e){return m({...t,filter:t.filter?hn.cloneWithOperation(t.filter,"And",e):hn.create(e)})},cloneWithOrFilter(t,e){return m({...t,filter:t.filter?hn.cloneWithOperation(t.filter,"Or",e):hn.create(e)})},cloneWithOver(t,e){return m({...t,over:e})}}),$g=m({is(t){return t.kind==="FunctionNode"},create(t,e){return m({kind:"FunctionNode",func:t,arguments:e})}});var vn;const Us=class Us{constructor(e){D(this,vn,void 0);H(this,vn,m(e))}get expressionType(){}as(e){return new Qg(this,e)}distinct(){return new Us({...i(this,vn),aggregateFunctionNode:Bs.cloneWithDistinct(i(this,vn).aggregateFunctionNode)})}filterWhere(...e){return new Us({...i(this,vn),aggregateFunctionNode:Bs.cloneWithFilter(i(this,vn).aggregateFunctionNode,nn(e))})}filterWhereRef(e,n,r){return new Us({...i(this,vn),aggregateFunctionNode:Bs.cloneWithFilter(i(this,vn).aggregateFunctionNode,Wr(e,n,r))})}over(e){const n=Dg();return new Us({...i(this,vn),aggregateFunctionNode:Bs.cloneWithOver(i(this,vn).aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}toOperationNode(){return i(this,vn).aggregateFunctionNode}};vn=new WeakMap;let Ca=Us;$e(Ca,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var ro,io;class Qg{constructor(e,n){D(this,ro,void 0);D(this,io,void 0);H(this,ro,e),H(this,io,n)}get expression(){return i(this,ro)}get alias(){return i(this,io)}toOperationNode(){return pi.create(i(this,ro).toOperationNode(),ct.create(i(this,io)))}}ro=new WeakMap,io=new WeakMap;function mp(){const t=(n,r)=>new mt($g.create(n,xa(r))),e=(n,r)=>new Ca({aggregateFunctionNode:Bs.create(n,r?xa(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(n,...r){return t("coalesce",[n,...r])},count(n){return e("count",[n])},countAll(n){return new Ca({aggregateFunctionNode:Bs.create("count",eu(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])}})}const jg=m({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return m({kind:"UnaryOperationNode",operator:t,operand:e})}});function Vg(t,e){return jg.create(_a.create(t),kr(e))}const Df=m({is(t){return t.kind==="WhenNode"},create(t){return m({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return m({...t,result:e})}}),gr=m({is(t){return t.kind==="CaseNode"},create(t){return m({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return m({...t,when:m(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return m({...t,when:t.when?m([...t.when.slice(0,-1),Df.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return m({...t,...e})}});var so;class yp{constructor(e){D(this,so,void 0);H(this,so,m(e))}when(...e){return new wp({...i(this,so),node:gr.cloneWithWhen(i(this,so).node,Df.create(nn(e)))})}}so=new WeakMap;var oo;class wp{constructor(e){D(this,oo,void 0);H(this,oo,m(e))}then(e){return new Hg({...i(this,oo),node:gr.cloneWithThen(i(this,oo).node,Ir(e))})}}oo=new WeakMap;var fr;class Hg{constructor(e){D(this,fr,void 0);H(this,fr,m(e))}when(...e){return new wp({...i(this,fr),node:gr.cloneWithWhen(i(this,fr).node,Df.create(nn(e)))})}else(e){return new zg({...i(this,fr),node:gr.cloneWith(i(this,fr).node,{else:Ir(e)})})}end(){return new mt(gr.cloneWith(i(this,fr).node,{isStatement:!1}))}endCase(){return new mt(gr.cloneWith(i(this,fr).node,{isStatement:!0}))}}fr=new WeakMap;var ao;class zg{constructor(e){D(this,ao,void 0);H(this,ao,m(e))}end(){return new mt(gr.cloneWith(i(this,ao).node,{isStatement:!1}))}endCase(){return new mt(gr.cloneWith(i(this,ao).node,{isStatement:!0}))}}ao=new WeakMap;const Kg=m({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return m({kind:"JSONPathLegNode",type:t,value:e})}});var Zr,La,zl;class Hl{constructor(e){D(this,La);D(this,Zr,void 0);H(this,Zr,e)}at(e){return _e(this,La,zl).call(this,"ArrayLocation",e)}key(e){return _e(this,La,zl).call(this,"Member",e)}}Zr=new WeakMap,La=new WeakSet,zl=function(e,n){return new Jg(Bl.cloneWithTraversal(i(this,Zr),Fl.is(i(this,Zr).traversal)?Fl.cloneWithLeg(i(this,Zr).traversal,Kg.create(e,n)):Zd.cloneWithValue(i(this,Zr).traversal,ir.createImmediate(n))))};var uo;class Jg extends Hl{constructor(n){super(n);D(this,uo,void 0);H(this,uo,n)}get expressionType(){}as(n){return new Gg(this,n)}$castTo(){return new Hl(i(this,uo))}toOperationNode(){return i(this,uo)}}uo=new WeakMap;var co,ei;class Gg{constructor(e,n){D(this,co,void 0);D(this,ei,void 0);H(this,co,e),H(this,ei,n)}get expression(){return i(this,co)}get alias(){return i(this,ei)}toOperationNode(){return pi.create(i(this,co).toOperationNode(),Pn(i(this,ei))?i(this,ei).toOperationNode():ct.create(i(this,ei)))}}co=new WeakMap,ei=new WeakMap;function Lf(t=Wf){function e(a,l,p){return new mt(Ru(a,l,p))}function n(a,l){return new mt(Vg(a,l))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(a){return new Ea({queryId:nt(),executor:t,queryNode:Fe.create(qa(a))})},case(a){return new yp({node:gr.create(Ks(a)?void 0:kr(a))})},ref(a,l){return Ks(l)?new mt(hs(a)):new Hl(Yw(a,l))},val(a){return new mt(rp(a))},cmpr(a,l,p){return new mt(Ru(a,l,p))},bxp(a,l,p){return new mt(Ru(a,l,p))},unary:n,not(a){return n("not",a)},exists(a){return n("exists",a)},neg(a){return n("-",a)},and(a){if(a.length===0)return new mt(ir.createImmediate(!0));if(a.length===1)return new mt(a[0].toOperationNode());let l=ls.create(a[0].toOperationNode(),a[1].toOperationNode());for(let p=2;p<a.length;++p)l=ls.create(l,a[p].toOperationNode());return new mt(Ms.create(l))},or(a){if(a.length===0)return new mt(ir.createImmediate(!1));if(a.length===1)return new mt(a[0].toOperationNode());let l=fs.create(a[0].toOperationNode(),a[1].toOperationNode());for(let p=2;p<a.length;++p)l=fs.create(l,a[p].toOperationNode());return new mt(Ms.create(l))},parens(...a){const l=ip(a);return Ms.is(l)?new mt(l):new mt(Ms.create(l))},withSchema(a){return Lf(t.withPluginAtFront(new tu(a)))}});return r.fn=mp(),r.eb=r,r}function Ao(t){return Lf()}function nl(t){if(Pn(t))return t.toOperationNode();if(Ln(t))return t(Ao()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function gp(t){if(Pn(t))return t.toOperationNode();if(Ln(t))return t(Ao()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function rl(t){return Ef(t)||Fw(t)||Ln(t)}function qa(t){return Xa(t)?t.map(e=>Sa(e)):[Sa(t)]}function Sa(t){return Dn(t)?Yg(t):gp(t)}function Yg(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(bp);return pi.create(mn(n),ct.create(r))}else return mn(t)}function mn(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(bp);return ci.createWithSchema(n,r)}else return ci.create(t)}function bp(t){return t.trim()}const Np=m({is(t){return t.kind==="AddColumnNode"},create(t){return m({kind:"AddColumnNode",column:t})}}),pt=m({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return m({kind:"ColumnDefinitionNode",column:yt.create(t),dataType:e})},cloneWithFrontModifier(t,e){return m({...t,frontModifiers:t.frontModifiers?m([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return m({...t,endModifiers:t.endModifiers?m([...t.endModifiers,e]):[e]})},cloneWith(t,e){return m({...t,...e})}}),vp=m({is(t){return t.kind==="DropColumnNode"},create(t){return m({kind:"DropColumnNode",column:yt.create(t)})}}),_p=m({is(t){return t.kind==="RenameColumnNode"},create(t,e){return m({kind:"RenameColumnNode",column:yt.create(t),renameTo:yt.create(e)})}}),Pf=m({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return m({kind:"CheckConstraintNode",expression:t,name:e?ct.create(e):void 0})}}),Xg=["no action","restrict","cascade","set null","set default"],Du=m({is(t){return t.kind==="ReferencesNode"},create(t,e){return m({kind:"ReferencesNode",table:t,columns:m([...e])})},cloneWithOnDelete(t,e){return m({...t,onDelete:e})},cloneWithOnUpdate(t,e){return m({...t,onUpdate:e})}});function xp(t){return Pn(t)?t.toOperationNode():ir.createImmediate(t)}const qu=m({is(t){return t.kind==="GeneratedNode"},create(t){return m({kind:"GeneratedNode",...t})},createWithExpression(t){return m({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return m({...t,...e})}}),Zg=m({is(t){return t.kind==="DefaultValueNode"},create(t){return m({kind:"DefaultValueNode",defaultValue:t})}});function ec(t){if(Xg.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}var Ye;const At=class At{constructor(e){D(this,Ye,void 0);H(this,Ye,e)}autoIncrement(){return new At(pt.cloneWith(i(this,Ye),{autoIncrement:!0}))}primaryKey(){return new At(pt.cloneWith(i(this,Ye),{primaryKey:!0}))}references(e){const n=hs(e);if(!n.table||qf.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new At(pt.cloneWith(i(this,Ye),{references:Du.create(n.table,[n.column])}))}onDelete(e){if(!i(this,Ye).references)throw new Error("on delete constraint can only be added for foreign keys");return new At(pt.cloneWith(i(this,Ye),{references:Du.cloneWithOnDelete(i(this,Ye).references,ec(e))}))}onUpdate(e){if(!i(this,Ye).references)throw new Error("on update constraint can only be added for foreign keys");return new At(pt.cloneWith(i(this,Ye),{references:Du.cloneWithOnUpdate(i(this,Ye).references,ec(e))}))}unique(){return new At(pt.cloneWith(i(this,Ye),{unique:!0}))}notNull(){return new At(pt.cloneWith(i(this,Ye),{notNull:!0}))}unsigned(){return new At(pt.cloneWith(i(this,Ye),{unsigned:!0}))}defaultTo(e){return new At(pt.cloneWith(i(this,Ye),{defaultTo:Zg.create(xp(e))}))}check(e){return new At(pt.cloneWith(i(this,Ye),{check:Pf.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new At(pt.cloneWith(i(this,Ye),{generated:qu.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new At(pt.cloneWith(i(this,Ye),{generated:qu.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new At(pt.cloneWith(i(this,Ye),{generated:qu.create({identity:!0,byDefault:!0})}))}stored(){if(!i(this,Ye).generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new At(pt.cloneWith(i(this,Ye),{generated:qu.cloneWith(i(this,Ye).generated,{stored:!0})}))}modifyFront(e){return new At(pt.cloneWithFrontModifier(i(this,Ye),e.toOperationNode()))}modifyEnd(e){return new At(pt.cloneWithEndModifier(i(this,Ye),e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return i(this,Ye)}};Ye=new WeakMap;let di=At;$e(di,"don't await ColumnDefinitionBuilder instances directly.");const Op=m({is(t){return t.kind==="ModifyColumnNode"},create(t){return m({kind:"ModifyColumnNode",column:t})}}),eb=m({is(t){return t.kind==="DataTypeNode"},create(t){return m({kind:"DataTypeNode",dataType:t})}});function Eo(t){return Pn(t)?t.toOperationNode():eb.create(t)}const tc=m({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return m({kind:"ForeignKeyConstraintNode",columns:t,references:Du.create(e,n),name:r?ct.create(r):void 0})},cloneWith(t,e){return m({...t,...e})}});var Xi;const xc=class xc{constructor(e){D(this,Xi,void 0);H(this,Xi,e)}onDelete(e){return new xc(tc.cloneWith(i(this,Xi),{onDelete:ec(e)}))}onUpdate(e){return new xc(tc.cloneWith(i(this,Xi),{onUpdate:ec(e)}))}$call(e){return e(this)}toOperationNode(){return i(this,Xi)}};Xi=new WeakMap;let Aa=xc;$e(Aa,"don't await ForeignKeyConstraintBuilder instances directly.");const Kl=m({is(t){return t.kind==="AddConstraintNode"},create(t){return m({kind:"AddConstraintNode",constraint:t})}}),Ep=m({is(t){return t.kind==="UniqueConstraintNode"},create(t,e){return m({kind:"UniqueConstraintNode",columns:m(t.map(yt.create)),name:e?ct.create(e):void 0})}}),Lu=m({is(t){return t.kind==="DropConstraintNode"},create(t){return m({kind:"DropConstraintNode",constraintName:ct.create(t)})},cloneWith(t,e){return m({...t,...e})}}),Zo=m({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return m({kind:"AlterColumnNode",column:yt.create(t),[e]:n})}});var Er;class Mf{constructor(e){D(this,Er,void 0);H(this,Er,e)}setDataType(e){return new ea(Zo.create(i(this,Er),"dataType",Eo(e)))}setDefault(e){return new ea(Zo.create(i(this,Er),"setDefault",xp(e)))}dropDefault(){return new ea(Zo.create(i(this,Er),"dropDefault",!0))}setNotNull(){return new ea(Zo.create(i(this,Er),"setNotNull",!0))}dropNotNull(){return new ea(Zo.create(i(this,Er),"dropNotNull",!0))}$call(e){return e(this)}}Er=new WeakMap;var Pa;class ea{constructor(e){D(this,Pa,void 0);H(this,Pa,e)}toOperationNode(){return i(this,Pa)}}Pa=new WeakMap;var Jn;class ra{constructor(e){D(this,Jn,void 0);H(this,Jn,m(e))}toOperationNode(){return i(this,Jn).executor.transformQuery(i(this,Jn).node,i(this,Jn).queryId)}compile(){return i(this,Jn).executor.compileQuery(this.toOperationNode(),i(this,Jn).queryId)}async execute(){await i(this,Jn).executor.executeQuery(this.compile(),i(this,Jn).queryId)}}Jn=new WeakMap;$e(ra,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var zt;const Oc=class Oc{constructor(e){D(this,zt,void 0);H(this,zt,m(e))}onDelete(e){return new Oc({...i(this,zt),constraintBuilder:i(this,zt).constraintBuilder.onDelete(e)})}onUpdate(e){return new Oc({...i(this,zt),constraintBuilder:i(this,zt).constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return i(this,zt).executor.transformQuery(vt.cloneWithTableProps(i(this,zt).node,{addConstraint:Kl.create(i(this,zt).constraintBuilder.toOperationNode())}),i(this,zt).queryId)}compile(){return i(this,zt).executor.compileQuery(this.toOperationNode(),i(this,zt).queryId)}async execute(){await i(this,zt).executor.executeQuery(this.compile(),i(this,zt).queryId)}};zt=new WeakMap;let nc=Oc;$e(nc,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var bt;const fa=class fa{constructor(e){D(this,bt,void 0);H(this,bt,m(e))}ifExists(){return new fa({...i(this,bt),node:vt.cloneWithTableProps(i(this,bt).node,{dropConstraint:Lu.cloneWith(i(this,bt).node.dropConstraint,{ifExists:!0})})})}cascade(){return new fa({...i(this,bt),node:vt.cloneWithTableProps(i(this,bt).node,{dropConstraint:Lu.cloneWith(i(this,bt).node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new fa({...i(this,bt),node:vt.cloneWithTableProps(i(this,bt).node,{dropConstraint:Lu.cloneWith(i(this,bt).node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return i(this,bt).executor.transformQuery(i(this,bt).node,i(this,bt).queryId)}compile(){return i(this,bt).executor.compileQuery(this.toOperationNode(),i(this,bt).queryId)}async execute(){await i(this,bt).executor.executeQuery(this.compile(),i(this,bt).queryId)}};bt=new WeakMap;let rc=fa;$e(rc,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");var it;class Cp{constructor(e){D(this,it,void 0);H(this,it,m(e))}renameTo(e){return new ra({...i(this,it),node:vt.cloneWithTableProps(i(this,it).node,{renameTo:mn(e)})})}setSchema(e){return new ra({...i(this,it),node:vt.cloneWithTableProps(i(this,it).node,{setSchema:ct.create(e)})})}alterColumn(e,n){const r=n(new Mf(e));return new Gr({...i(this,it),node:vt.cloneWithColumnAlteration(i(this,it).node,r.toOperationNode())})}dropColumn(e){return new Gr({...i(this,it),node:vt.cloneWithColumnAlteration(i(this,it).node,vp.create(e))})}renameColumn(e,n){return new Gr({...i(this,it),node:vt.cloneWithColumnAlteration(i(this,it).node,_p.create(e,n))})}addColumn(e,n,r=xo){const a=r(new di(pt.create(e,Eo(n))));return new Gr({...i(this,it),node:vt.cloneWithColumnAlteration(i(this,it).node,Np.create(a.toOperationNode()))})}modifyColumn(e,n,r=xo){const a=r(new di(pt.create(e,Eo(n))));return new Gr({...i(this,it),node:vt.cloneWithColumnAlteration(i(this,it).node,Op.create(a.toOperationNode()))})}addUniqueConstraint(e,n){return new ra({...i(this,it),node:vt.cloneWithTableProps(i(this,it).node,{addConstraint:Kl.create(Ep.create(n,e))})})}addCheckConstraint(e,n){return new ra({...i(this,it),node:vt.cloneWithTableProps(i(this,it).node,{addConstraint:Kl.create(Pf.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,a){return new nc({...i(this,it),constraintBuilder:new Aa(tc.create(n.map(yt.create),mn(r),a.map(yt.create),e))})}dropConstraint(e){return new rc({...i(this,it),node:vt.cloneWithTableProps(i(this,it).node,{dropConstraint:Lu.create(e)})})}$call(e){return e(this)}}it=new WeakMap;var dt;const Qi=class Qi{constructor(e){D(this,dt,void 0);H(this,dt,m(e))}alterColumn(e,n){const r=n(new Mf(e));return new Qi({...i(this,dt),node:vt.cloneWithColumnAlteration(i(this,dt).node,r.toOperationNode())})}dropColumn(e){return new Qi({...i(this,dt),node:vt.cloneWithColumnAlteration(i(this,dt).node,vp.create(e))})}renameColumn(e,n){return new Qi({...i(this,dt),node:vt.cloneWithColumnAlteration(i(this,dt).node,_p.create(e,n))})}addColumn(e,n,r=xo){const a=r(new di(pt.create(e,Eo(n))));return new Qi({...i(this,dt),node:vt.cloneWithColumnAlteration(i(this,dt).node,Np.create(a.toOperationNode()))})}modifyColumn(e,n,r=xo){const a=r(new di(pt.create(e,Eo(n))));return new Qi({...i(this,dt),node:vt.cloneWithColumnAlteration(i(this,dt).node,Op.create(a.toOperationNode()))})}toOperationNode(){return i(this,dt).executor.transformQuery(i(this,dt).node,i(this,dt).queryId)}compile(){return i(this,dt).executor.compileQuery(this.toOperationNode(),i(this,dt).queryId)}async execute(){await i(this,dt).executor.executeQuery(this.compile(),i(this,dt).queryId)}};dt=new WeakMap;let Gr=Qi;$e(Cp,"don't await AlterTableBuilder instances");$e(Mf,"don't await AlterColumnBuilder instances");$e(Gr,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class qp extends kf{transformValue(e){return{...super.transformValue(e),immediate:!0}}}var Xe;const cr=class cr{constructor(e){D(this,Xe,void 0);H(this,Xe,m(e))}ifNotExists(){return new cr({...i(this,Xe),node:Vr.cloneWith(i(this,Xe).node,{ifNotExists:!0})})}unique(){return new cr({...i(this,Xe),node:Vr.cloneWith(i(this,Xe).node,{unique:!0})})}on(e){return new cr({...i(this,Xe),node:Vr.cloneWith(i(this,Xe).node,{table:mn(e)})})}column(e){return new cr({...i(this,Xe),node:Vr.cloneWithColumns(i(this,Xe).node,[Nh(e)])})}columns(e){return new cr({...i(this,Xe),node:Vr.cloneWithColumns(i(this,Xe).node,e.map(Nh))})}expression(e){return new cr({...i(this,Xe),node:Vr.cloneWithColumns(i(this,Xe).node,[e.toOperationNode()])})}using(e){return new cr({...i(this,Xe),node:Vr.cloneWith(i(this,Xe).node,{using:tn.createWithSql(e)})})}where(...e){const n=new qp;return new cr({...i(this,Xe),node:Re.cloneWithWhere(i(this,Xe).node,n.transformNode(nn(e)))})}$call(e){return e(this)}toOperationNode(){return i(this,Xe).executor.transformQuery(i(this,Xe).node,i(this,Xe).queryId)}compile(){return i(this,Xe).executor.compileQuery(this.toOperationNode(),i(this,Xe).queryId)}async execute(){await i(this,Xe).executor.executeQuery(this.compile(),i(this,Xe).queryId)}};Xe=new WeakMap;let ic=cr;$e(ic,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var _n;const $f=class $f{constructor(e){D(this,_n,void 0);H(this,_n,m(e))}ifNotExists(){return new $f({...i(this,_n),node:Jd.cloneWith(i(this,_n).node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return i(this,_n).executor.transformQuery(i(this,_n).node,i(this,_n).queryId)}compile(){return i(this,_n).executor.compileQuery(this.toOperationNode(),i(this,_n).queryId)}async execute(){await i(this,_n).executor.executeQuery(this.compile(),i(this,_n).queryId)}};_n=new WeakMap;let sc=$f;$e(sc,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");const tb=m({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return m({kind:"PrimaryKeyConstraintNode",columns:m(t.map(yt.create)),name:e?ct.create(e):void 0})}});function nb(t){if(Bw.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}var Ue;const Wn=class Wn{constructor(e){D(this,Ue,void 0);H(this,Ue,m(e))}temporary(){return new Wn({...i(this,Ue),node:jn.cloneWith(i(this,Ue).node,{temporary:!0})})}onCommit(e){return new Wn({...i(this,Ue),node:jn.cloneWith(i(this,Ue).node,{onCommit:nb(e)})})}ifNotExists(){return new Wn({...i(this,Ue),node:jn.cloneWith(i(this,Ue).node,{ifNotExists:!0})})}addColumn(e,n,r=xo){const a=r(new di(pt.create(e,Eo(n))));return new Wn({...i(this,Ue),node:jn.cloneWithColumn(i(this,Ue).node,a.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new Wn({...i(this,Ue),node:jn.cloneWithConstraint(i(this,Ue).node,tb.create(n,e))})}addUniqueConstraint(e,n){return new Wn({...i(this,Ue),node:jn.cloneWithConstraint(i(this,Ue).node,Ep.create(n,e))})}addCheckConstraint(e,n){return new Wn({...i(this,Ue),node:jn.cloneWithConstraint(i(this,Ue).node,Pf.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,a,l=xo){const p=l(new Aa(tc.create(n.map(yt.create),mn(r),a.map(yt.create),e)));return new Wn({...i(this,Ue),node:jn.cloneWithConstraint(i(this,Ue).node,p.toOperationNode())})}modifyFront(e){return new Wn({...i(this,Ue),node:jn.cloneWithFrontModifier(i(this,Ue).node,e.toOperationNode())})}modifyEnd(e){return new Wn({...i(this,Ue),node:jn.cloneWithEndModifier(i(this,Ue).node,e.toOperationNode())})}$call(e){return e(this)}toOperationNode(){return i(this,Ue).executor.transformQuery(i(this,Ue).node,i(this,Ue).queryId)}compile(){return i(this,Ue).executor.compileQuery(this.toOperationNode(),i(this,Ue).queryId)}async execute(){await i(this,Ue).executor.executeQuery(this.compile(),i(this,Ue).queryId)}};Ue=new WeakMap;let oc=Wn;$e(oc,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var Pt;const ha=class ha{constructor(e){D(this,Pt,void 0);H(this,Pt,m(e))}on(e){return new ha({...i(this,Pt),node:Wu.cloneWith(i(this,Pt).node,{table:mn(e)})})}ifExists(){return new ha({...i(this,Pt),node:Wu.cloneWith(i(this,Pt).node,{ifExists:!0})})}cascade(){return new ha({...i(this,Pt),node:Wu.cloneWith(i(this,Pt).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return i(this,Pt).executor.transformQuery(i(this,Pt).node,i(this,Pt).queryId)}compile(){return i(this,Pt).executor.compileQuery(this.toOperationNode(),i(this,Pt).queryId)}async execute(){await i(this,Pt).executor.executeQuery(this.compile(),i(this,Pt).queryId)}};Pt=new WeakMap;let ac=ha;$e(ac,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var Zt;const Ec=class Ec{constructor(e){D(this,Zt,void 0);H(this,Zt,m(e))}ifExists(){return new Ec({...i(this,Zt),node:Pl.cloneWith(i(this,Zt).node,{ifExists:!0})})}cascade(){return new Ec({...i(this,Zt),node:Pl.cloneWith(i(this,Zt).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return i(this,Zt).executor.transformQuery(i(this,Zt).node,i(this,Zt).queryId)}compile(){return i(this,Zt).executor.compileQuery(this.toOperationNode(),i(this,Zt).queryId)}async execute(){await i(this,Zt).executor.executeQuery(this.compile(),i(this,Zt).queryId)}};Zt=new WeakMap;let uc=Ec;$e(uc,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var en;const Cc=class Cc{constructor(e){D(this,en,void 0);H(this,en,m(e))}ifExists(){return new Cc({...i(this,en),node:Ml.cloneWith(i(this,en).node,{ifExists:!0})})}cascade(){return new Cc({...i(this,en),node:Ml.cloneWith(i(this,en).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return i(this,en).executor.transformQuery(i(this,en).node,i(this,en).queryId)}compile(){return i(this,en).executor.compileQuery(this.toOperationNode(),i(this,en).queryId)}async execute(){await i(this,en).executor.executeQuery(this.compile(),i(this,en).queryId)}};en=new WeakMap;let cc=Cc;$e(cc,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Kr=m({is(t){return t.kind==="CreateViewNode"},create(t){return m({kind:"CreateViewNode",name:hi.create(t)})},cloneWith(t,e){return m({...t,...e})}});var qc;class rb{constructor(){D(this,qc,new qp)}transformQuery(e){return i(this,qc).transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}qc=new WeakMap;var ut;const Jr=class Jr{constructor(e){D(this,ut,void 0);H(this,ut,m(e))}temporary(){return new Jr({...i(this,ut),node:Kr.cloneWith(i(this,ut).node,{temporary:!0})})}materialized(){return new Jr({...i(this,ut),node:Kr.cloneWith(i(this,ut).node,{materialized:!0})})}ifNotExists(){return new Jr({...i(this,ut),node:Kr.cloneWith(i(this,ut).node,{ifNotExists:!0})})}orReplace(){return new Jr({...i(this,ut),node:Kr.cloneWith(i(this,ut).node,{orReplace:!0})})}columns(e){return new Jr({...i(this,ut),node:Kr.cloneWith(i(this,ut).node,{columns:e.map(tp)})})}as(e){const n=e.withPlugin(new rb).toOperationNode();return new Jr({...i(this,ut),node:Kr.cloneWith(i(this,ut).node,{as:n})})}$call(e){return e(this)}toOperationNode(){return i(this,ut).executor.transformQuery(i(this,ut).node,i(this,ut).queryId)}compile(){return i(this,ut).executor.compileQuery(this.toOperationNode(),i(this,ut).queryId)}async execute(){await i(this,ut).executor.executeQuery(this.compile(),i(this,ut).queryId)}};ut=new WeakMap;let lc=Jr;$e(lc,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Pu=m({is(t){return t.kind==="DropViewNode"},create(t){return m({kind:"DropViewNode",name:hi.create(t)})},cloneWith(t,e){return m({...t,...e})}});var Mt;const da=class da{constructor(e){D(this,Mt,void 0);H(this,Mt,m(e))}materialized(){return new da({...i(this,Mt),node:Pu.cloneWith(i(this,Mt).node,{materialized:!0})})}ifExists(){return new da({...i(this,Mt),node:Pu.cloneWith(i(this,Mt).node,{ifExists:!0})})}cascade(){return new da({...i(this,Mt),node:Pu.cloneWith(i(this,Mt).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return i(this,Mt).executor.transformQuery(i(this,Mt).node,i(this,Mt).queryId)}compile(){return i(this,Mt).executor.compileQuery(this.toOperationNode(),i(this,Mt).queryId)}async execute(){await i(this,Mt).executor.executeQuery(this.compile(),i(this,Mt).queryId)}};Mt=new WeakMap;let fc=da;$e(fc,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const Sp=m({is(t){return t.kind==="CreateTypeNode"},create(t){return m({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return m({...t,enum:Af.create(e.map(n=>ir.createImmediate(n)))})}});var xn;const Qf=class Qf{constructor(e){D(this,xn,void 0);H(this,xn,m(e))}toOperationNode(){return i(this,xn).executor.transformQuery(i(this,xn).node,i(this,xn).queryId)}asEnum(e){return new Qf({...i(this,xn),node:Sp.cloneWithEnum(i(this,xn).node,e)})}$call(e){return e(this)}compile(){return i(this,xn).executor.compileQuery(this.toOperationNode(),i(this,xn).queryId)}async execute(){await i(this,xn).executor.executeQuery(this.compile(),i(this,xn).queryId)}};xn=new WeakMap;let hc=Qf;$e(hc,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const Ap=m({is(t){return t.kind==="DropTypeNode"},create(t){return m({kind:"DropTypeNode",name:t})},cloneWith(t,e){return m({...t,...e})}});var On;const jf=class jf{constructor(e){D(this,On,void 0);H(this,On,m(e))}ifExists(){return new jf({...i(this,On),node:Ap.cloneWith(i(this,On).node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return i(this,On).executor.transformQuery(i(this,On).node,i(this,On).queryId)}compile(){return i(this,On).executor.compileQuery(this.toOperationNode(),i(this,On).queryId)}async execute(){await i(this,On).executor.executeQuery(this.compile(),i(this,On).queryId)}};On=new WeakMap;let dc=jf;$e(dc,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function Wh(t){const e=".";if(t.includes(e)){const n=t.split(e).map(ib);if(n.length===2)return hi.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return hi.create(t)}function ib(t){return t.trim()}var It;const pa=class pa{constructor(e){D(this,It,void 0);H(this,It,e)}createTable(e){return new oc({queryId:nt(),executor:i(this,It),node:jn.create(mn(e))})}dropTable(e){return new cc({queryId:nt(),executor:i(this,It),node:Ml.create(mn(e))})}createIndex(e){return new ic({queryId:nt(),executor:i(this,It),node:Vr.create(e)})}dropIndex(e){return new ac({queryId:nt(),executor:i(this,It),node:Wu.create(e)})}createSchema(e){return new sc({queryId:nt(),executor:i(this,It),node:Jd.create(e)})}dropSchema(e){return new uc({queryId:nt(),executor:i(this,It),node:Pl.create(e)})}alterTable(e){return new Cp({queryId:nt(),executor:i(this,It),node:vt.create(mn(e))})}createView(e){return new lc({queryId:nt(),executor:i(this,It),node:Kr.create(e)})}dropView(e){return new fc({queryId:nt(),executor:i(this,It),node:Pu.create(e)})}createType(e){return new hc({queryId:nt(),executor:i(this,It),node:Sp.create(Wh(e))})}dropType(e){return new dc({queryId:nt(),executor:i(this,It),node:Ap.create(Wh(e))})}withPlugin(e){return new pa(i(this,It).withPlugin(e))}withoutPlugins(){return new pa(i(this,It).withoutPlugins())}withSchema(e){return new pa(i(this,It).withPluginAtFront(new tu(e)))}};It=new WeakMap;let Jl=pa;class sb{ref(e){return new cg(e)}}var lo;class ob{constructor(e){D(this,lo,void 0);H(this,lo,e)}async provideConnection(e){const n=await i(this,lo).acquireConnection();try{return await e(n)}finally{await i(this,lo).releaseConnection(n)}}}lo=new WeakMap;var hr,dr,Cr;const ji=class ji extends dp{constructor(n,r,a,l=[]){super(l);D(this,hr,void 0);D(this,dr,void 0);D(this,Cr,void 0);H(this,hr,n),H(this,dr,r),H(this,Cr,a)}get adapter(){return i(this,dr)}compileQuery(n){return i(this,hr).compileQuery(n)}provideConnection(n){return i(this,Cr).provideConnection(n)}withPlugins(n){return new ji(i(this,hr),i(this,dr),i(this,Cr),[...this.plugins,...n])}withPlugin(n){return new ji(i(this,hr),i(this,dr),i(this,Cr),[...this.plugins,n])}withPluginAtFront(n){return new ji(i(this,hr),i(this,dr),i(this,Cr),[n,...this.plugins])}withConnectionProvider(n){return new ji(i(this,hr),i(this,dr),n,[...this.plugins])}withoutPlugins(){return new ji(i(this,hr),i(this,dr),i(this,Cr),[])}};hr=new WeakMap,dr=new WeakMap,Cr=new WeakMap;let Gl=ji;function Rh(){return typeof performance<"u"&&Ln(performance.now)?performance.now():Date.now()}var Gn,ti,qr,Zi,Ma,Sc,Ip,Ac,Tp,Ic,kp,Tc,Wp,Ba,Yl;class ab{constructor(e,n){D(this,Sc);D(this,Ac);D(this,Ic);D(this,Tc);D(this,Ba);D(this,Gn,void 0);D(this,ti,void 0);D(this,qr,void 0);D(this,Zi,void 0);D(this,Ma,new WeakSet);H(this,Gn,e),H(this,ti,n)}async init(){i(this,qr)||H(this,qr,i(this,Gn).init().catch(e=>(H(this,qr,void 0),Promise.reject(e)))),await i(this,qr)}async acquireConnection(){await this.init();const e=await i(this,Gn).acquireConnection();return i(this,Ma).has(e)||(_e(this,Sc,Ip).call(this)&&_e(this,Ac,Tp).call(this,e),i(this,Ma).add(e)),e}async releaseConnection(e){await i(this,Gn).releaseConnection(e)}beginTransaction(e,n){return i(this,Gn).beginTransaction(e,n)}commitTransaction(e){return i(this,Gn).commitTransaction(e)}rollbackTransaction(e){return i(this,Gn).rollbackTransaction(e)}async destroy(){i(this,qr)&&(await i(this,qr),i(this,Zi)||H(this,Zi,i(this,Gn).destroy().catch(e=>(H(this,Zi,void 0),Promise.reject(e)))),await i(this,Zi))}}Gn=new WeakMap,ti=new WeakMap,qr=new WeakMap,Zi=new WeakMap,Ma=new WeakMap,Sc=new WeakSet,Ip=function(){return i(this,ti).isLevelEnabled("query")||i(this,ti).isLevelEnabled("error")},Ac=new WeakSet,Tp=function(e){const n=e.executeQuery;e.executeQuery=async r=>{const a=Rh();try{return await n.call(e,r)}catch(l){throw await _e(this,Ic,kp).call(this,l,r,a),l}finally{await _e(this,Tc,Wp).call(this,r,a)}}},Ic=new WeakSet,kp=async function(e,n,r){await i(this,ti).error(()=>({level:"error",error:e,query:n,queryDurationMillis:_e(this,Ba,Yl).call(this,r)}))},Tc=new WeakSet,Wp=async function(e,n){await i(this,ti).query(()=>({level:"query",query:e,queryDurationMillis:_e(this,Ba,Yl).call(this,n)}))},Ba=new WeakSet,Yl=function(e){return Rh()-e};var Fa,ni,kc,Dp;class Rp{constructor(e){D(this,kc);D(this,Fa,void 0);D(this,ni,void 0);H(this,Fa,e)}async provideConnection(e){for(;i(this,ni);)await i(this,ni);const n=_e(this,kc,Dp).call(this,e);return H(this,ni,n.then(()=>{H(this,ni,void 0)}).catch(()=>{H(this,ni,void 0)})),n}}Fa=new WeakMap,ni=new WeakMap,kc=new WeakSet,Dp=async function(e){return await e(i(this,Fa))};const ub=["read uncommitted","read committed","repeatable read","serializable"];m(["query","error"]);var ri,es;class cb{constructor(e){D(this,ri,void 0);D(this,es,void 0);Ln(e)?(H(this,es,e),H(this,ri,m({query:!0,error:!0}))):(H(this,es,lb),H(this,ri,m({query:e.includes("query"),error:e.includes("error")})))}isLevelEnabled(e){return i(this,ri)[e]}async query(e){i(this,ri).query&&await i(this,es).call(this,e())}async error(e){i(this,ri).error&&await i(this,es).call(this,e())}}ri=new WeakMap,es=new WeakMap;function lb(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${t}`))}function fb(t){return wr(t)&&Ln(t.compile)}var Bt;const $s=class $s extends Zu{constructor(n){let r,a;if(hb(n))r={executor:n.executor},a={...n};else{const l=n.dialect,p=l.createDriver(),w=l.createQueryCompiler(),v=l.createAdapter(),d=new cb(n.log??[]),A=new ab(p,d),B=new ob(A),F=new Gl(w,v,B,n.plugins??[]);r={executor:F},a={config:n,executor:F,dialect:l,driver:A}}super(r);D(this,Bt,void 0);H(this,Bt,m(a))}get schema(){return new Jl(i(this,Bt).executor)}get dynamic(){return new sb}get introspection(){return i(this,Bt).dialect.createIntrospector(this.withoutPlugins())}case(n){return new yp({node:gr.create(Ks(n)?void 0:nl(n))})}get fn(){return mp()}transaction(){return new pc({...i(this,Bt)})}connection(){return new Lp({...i(this,Bt)})}withPlugin(n){return new $s({...i(this,Bt),executor:i(this,Bt).executor.withPlugin(n)})}withoutPlugins(){return new $s({...i(this,Bt),executor:i(this,Bt).executor.withoutPlugins()})}withSchema(n){return new $s({...i(this,Bt),executor:i(this,Bt).executor.withPluginAtFront(new tu(n))})}withTables(){return new $s({...i(this,Bt)})}async destroy(){await i(this,Bt).driver.destroy()}get isTransaction(){return!1}getExecutor(){return i(this,Bt).executor}executeQuery(n,r=nt()){const a=fb(n)?n.compile():n;return this.getExecutor().executeQuery(a,r)}};Bt=new WeakMap;let Ia=$s;var Yn;const Qs=class Qs extends Ia{constructor(n){super(n);D(this,Yn,void 0);H(this,Yn,n)}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(n){return new Qs({...i(this,Yn),executor:i(this,Yn).executor.withPlugin(n)})}withoutPlugins(){return new Qs({...i(this,Yn),executor:i(this,Yn).executor.withoutPlugins()})}withSchema(n){return new Qs({...i(this,Yn),executor:i(this,Yn).executor.withPluginAtFront(new tu(n))})}withTables(){return new Qs({...i(this,Yn)})}};Yn=new WeakMap;let Xl=Qs;function hb(t){return wr(t)&&wr(t.config)&&wr(t.driver)&&wr(t.executor)&&wr(t.dialect)}var ts;class Lp{constructor(e){D(this,ts,void 0);H(this,ts,m(e))}async execute(e){return i(this,ts).executor.provideConnection(async n=>{const r=i(this,ts).executor.withConnectionProvider(new Rp(n)),a=new Ia({...i(this,ts),executor:r});return await e(a)})}}ts=new WeakMap;$e(Lp,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var Xn;const Vf=class Vf{constructor(e){D(this,Xn,void 0);H(this,Xn,m(e))}setIsolationLevel(e){return new Vf({...i(this,Xn),isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=i(this,Xn),a={isolationLevel:n};return db(a),i(this,Xn).executor.provideConnection(async l=>{const p=i(this,Xn).executor.withConnectionProvider(new Rp(l)),w=new Xl({...r,executor:p});try{await i(this,Xn).driver.beginTransaction(l,a);const v=await e(w);return await i(this,Xn).driver.commitTransaction(l),v}catch(v){throw await i(this,Xn).driver.rollbackTransaction(l),v}})}};Xn=new WeakMap;let pc=Vf;$e(pc,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function db(t){if(t.isolationLevel&&!ub.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}var fn,fo,Mu,Ua,Zl,$a,ef;const Wc=class Wc{constructor(e){D(this,fo);D(this,Ua);D(this,$a);D(this,fn,void 0);H(this,fn,m(e))}get expressionType(){}as(e){return new pb(this,e)}$castTo(){return new Wc({...i(this,fn)})}castTo(){return this.$castTo()}withPlugin(e){return new Wc({...i(this,fn),plugins:i(this,fn).plugins!==void 0?m([...i(this,fn).plugins,e]):m([e])})}toOperationNode(){return _e(this,Ua,Zl).call(this,_e(this,fo,Mu).call(this))}compile(e){return _e(this,$a,ef).call(this,_e(this,fo,Mu).call(this,e))}async execute(e){const n=_e(this,fo,Mu).call(this,e);return n.executeQuery(_e(this,$a,ef).call(this,n),i(this,fn).queryId)}};fn=new WeakMap,fo=new WeakSet,Mu=function(e){const n=e!==void 0?e.getExecutor():Wf;return i(this,fn).plugins!==void 0?n.withPlugins(i(this,fn).plugins):n},Ua=new WeakSet,Zl=function(e){return e.transformQuery(i(this,fn).rawNode,i(this,fn).queryId)},$a=new WeakSet,ef=function(e){return e.compileQuery(_e(this,Ua,Zl).call(this,e),i(this,fn).queryId)};let Hn=Wc;$e(Hn,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var ho,ii;class pb{constructor(e,n){D(this,ho,void 0);D(this,ii,void 0);H(this,ho,e),H(this,ii,n)}get expression(){return i(this,ho)}get alias(){return i(this,ii)}toOperationNode(){return pi.create(i(this,ho).toOperationNode(),Pn(i(this,ii))?i(this,ii).toOperationNode():ct.create(i(this,ii)))}}ho=new WeakMap,ii=new WeakMap;const Cn=Object.assign((t,...e)=>new Hn({queryId:nt(),rawNode:tn.create(t,(e==null?void 0:e.map(Ir))??[])}),{ref(t){return new Hn({queryId:nt(),rawNode:tn.createWithChild(hs(t))})},val(t){return new Hn({queryId:nt(),rawNode:tn.createWithChild(Ir(t))})},value(t){return this.val(t)},table(t){return new Hn({queryId:nt(),rawNode:tn.createWithChild(mn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",new Hn({queryId:nt(),rawNode:tn.create(e,t.map(ct.create))})},lit(t){return new Hn({queryId:nt(),rawNode:tn.createWithChild(ir.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return new Hn({queryId:nt(),rawNode:tn.createWithSql(t)})},join(t,e=Cn`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let a=0;a<t.length;++a)n[2*a]=Ir(t[a]),a!==t.length-1&&(n[2*a+1]=r);return new Hn({queryId:nt(),rawNode:tn.createWithChildren(n)})}});var Rc;class mb{constructor(){ve(this,"nodeStack",[]);D(this,Rc,m({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this)}));ve(this,"visitNode",e=>{this.nodeStack.push(e),i(this,Rc)[e.kind](e),this.nodeStack.pop()})}get parentNode(){return this.nodeStack[this.nodeStack.length-2]}}Rc=new WeakMap;var po,ns;class yb extends mb{constructor(){super(...arguments);D(this,po,"");D(this,ns,[])}get numParameters(){return i(this,ns).length}compileQuery(n){return H(this,po,""),H(this,ns,[]),this.visitNode(n),m({query:n,sql:this.getSql(),parameters:[...i(this,ns)]})}getSql(){return i(this,po)}visitSelectQuery(n){const r=this.parentNode!==void 0&&!mr.is(this.parentNode)&&!Kr.is(this.parentNode)&&!pp.is(this.parentNode);this.parentNode===void 0&&n.explain&&(this.visitNode(n.explain),this.append(" ")),r&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("select "),n.distinctOn&&(this.compileDistinctOn(n.distinctOn),this.append(" ")),n.frontModifiers&&n.frontModifiers.length>0&&(this.compileList(n.frontModifiers," "),this.append(" ")),n.selections&&(this.compileList(n.selections),this.append(" ")),this.visitNode(n.from),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.groupBy&&(this.append(" "),this.visitNode(n.groupBy)),n.having&&(this.append(" "),this.visitNode(n.having)),n.setOperations&&(this.append(" "),this.compileList(n.setOperations," ")),n.orderBy&&(this.append(" "),this.visitNode(n.orderBy)),n.limit&&(this.append(" "),this.visitNode(n.limit)),n.offset&&(this.append(" "),this.visitNode(n.offset)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," ")),r&&this.append(")")}visitFrom(n){this.append("from "),this.compileList(n.froms)}visitSelection(n){this.visitNode(n.selection)}visitColumn(n){this.visitNode(n.column)}compileDistinctOn(n){this.append("distinct on ("),this.compileList(n),this.append(")")}compileList(n,r=", "){const a=n.length-1;for(let l=0;l<=a;l++)this.visitNode(n[l]),l<a&&this.append(r)}visitWhere(n){this.append("where "),this.visitNode(n.where)}visitHaving(n){this.append("having "),this.visitNode(n.having)}visitInsertQuery(n){const r=this.nodeStack.find(Re.is)!==n;!r&&n.explain&&(this.visitNode(n.explain),this.append(" ")),r&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append(n.replace?"replace":"insert"),n.ignore&&this.append(" ignore"),this.append(" into "),this.visitNode(n.into),n.columns&&(this.append(" ("),this.compileList(n.columns),this.append(")")),n.values&&(this.append(" "),this.visitNode(n.values)),n.onConflict&&(this.append(" "),this.visitNode(n.onConflict)),n.onDuplicateKey&&(this.append(" "),this.visitNode(n.onDuplicateKey)),n.returning&&(this.append(" "),this.visitNode(n.returning)),r&&this.append(")")}visitValues(n){this.append("values "),this.compileList(n.values)}visitDeleteQuery(n){const r=this.nodeStack.find(Re.is)!==n;!r&&n.explain&&(this.visitNode(n.explain),this.append(" ")),r&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("delete "),this.visitNode(n.from),n.using&&(this.append(" "),this.visitNode(n.using)),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.orderBy&&(this.append(" "),this.visitNode(n.orderBy)),n.limit&&(this.append(" "),this.visitNode(n.limit)),n.returning&&(this.append(" "),this.visitNode(n.returning)),r&&this.append(")")}visitReturning(n){this.append("returning "),this.compileList(n.selections)}visitAlias(n){this.visitNode(n.node),this.append(" as "),this.visitNode(n.alias)}visitReference(n){n.table&&(this.visitNode(n.table),this.append(".")),this.visitNode(n.column)}visitSelectAll(n){this.append("*")}visitIdentifier(n){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(n),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(n){if(!Dn(n.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(n.name))}visitAnd(n){this.visitNode(n.left),this.append(" and "),this.visitNode(n.right)}visitOr(n){this.visitNode(n.left),this.append(" or "),this.visitNode(n.right)}visitValue(n){n.immediate?this.appendImmediateValue(n.value):this.appendValue(n.value)}visitValueList(n){this.append("("),this.compileList(n.values),this.append(")")}visitPrimitiveValueList(n){this.append("(");const{values:r}=n;for(let a=0;a<r.length;++a)this.appendValue(r[a]),a!==r.length-1&&this.append(", ");this.append(")")}visitParens(n){this.append("("),this.visitNode(n.node),this.append(")")}visitJoin(n){this.append(gb[n.joinType]),this.append(" "),this.visitNode(n.table),n.on&&(this.append(" "),this.visitNode(n.on))}visitOn(n){this.append("on "),this.visitNode(n.on)}visitRaw(n){const{sqlFragments:r,parameters:a}=n;for(let l=0;l<r.length;++l)this.append(r[l]),a.length>l&&this.visitNode(a[l])}visitOperator(n){this.append(n.operator)}visitTable(n){this.visitNode(n.table)}visitSchemableIdentifier(n){n.schema&&(this.visitNode(n.schema),this.append(".")),this.visitNode(n.identifier)}visitCreateTable(n){this.append("create "),n.frontModifiers&&n.frontModifiers.length>0&&(this.compileList(n.frontModifiers," "),this.append(" ")),n.temporary&&this.append("temporary "),this.append("table "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.table),this.append(" ("),this.compileList([...n.columns,...n.constraints??[]]),this.append(")"),n.onCommit&&(this.append(" on commit "),this.append(n.onCommit)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," "))}visitColumnDefinition(n){this.visitNode(n.column),this.append(" "),this.visitNode(n.dataType),n.unsigned&&this.append(" unsigned"),n.frontModifiers&&n.frontModifiers.length>0&&(this.append(" "),this.compileList(n.frontModifiers," ")),n.generated&&(this.append(" "),this.visitNode(n.generated)),n.defaultTo&&(this.append(" "),this.visitNode(n.defaultTo)),n.notNull&&this.append(" not null"),n.unique&&this.append(" unique"),n.primaryKey&&this.append(" primary key"),n.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),n.references&&(this.append(" "),this.visitNode(n.references)),n.check&&(this.append(" "),this.visitNode(n.check)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(n){this.append("references "),this.visitNode(n.table),this.append(" ("),this.compileList(n.columns),this.append(")"),n.onDelete&&(this.append(" on delete "),this.append(n.onDelete)),n.onUpdate&&(this.append(" on update "),this.append(n.onUpdate))}visitDropTable(n){this.append("drop table "),n.ifExists&&this.append("if exists "),this.visitNode(n.table),n.cascade&&this.append(" cascade")}visitDataType(n){this.append(n.dataType)}visitOrderBy(n){this.append("order by "),this.compileList(n.items)}visitOrderByItem(n){this.visitNode(n.orderBy),n.direction&&(this.append(" "),this.visitNode(n.direction))}visitGroupBy(n){this.append("group by "),this.compileList(n.items)}visitGroupByItem(n){this.visitNode(n.groupBy)}visitUpdateQuery(n){const r=this.nodeStack.find(Re.is)!==n;!r&&n.explain&&(this.visitNode(n.explain),this.append(" ")),r&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("update "),this.visitNode(n.table),this.append(" set "),n.updates&&this.compileList(n.updates),n.from&&(this.append(" "),this.visitNode(n.from)),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.returning&&(this.append(" "),this.visitNode(n.returning)),r&&this.append(")")}visitColumnUpdate(n){this.visitNode(n.column),this.append(" = "),this.visitNode(n.value)}visitLimit(n){this.append("limit "),this.visitNode(n.limit)}visitOffset(n){this.append("offset "),this.visitNode(n.offset)}visitOnConflict(n){this.append("on conflict"),n.columns?(this.append(" ("),this.compileList(n.columns),this.append(")")):n.constraint?(this.append(" on constraint "),this.visitNode(n.constraint)):n.indexExpression&&(this.append(" ("),this.visitNode(n.indexExpression),this.append(")")),n.indexWhere&&(this.append(" "),this.visitNode(n.indexWhere)),n.doNothing===!0?this.append(" do nothing"):n.updates&&(this.append(" do update set "),this.compileList(n.updates),n.updateWhere&&(this.append(" "),this.visitNode(n.updateWhere)))}visitOnDuplicateKey(n){this.append("on duplicate key update "),this.compileList(n.updates)}visitCreateIndex(n){this.append("create "),n.unique&&this.append("unique "),this.append("index "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.name),n.table&&(this.append(" on "),this.visitNode(n.table)),n.using&&(this.append(" using "),this.visitNode(n.using)),n.columns&&(this.append(" ("),this.compileList(n.columns),this.append(")")),n.where&&(this.append(" "),this.visitNode(n.where))}visitDropIndex(n){this.append("drop index "),n.ifExists&&this.append("if exists "),this.visitNode(n.name),n.table&&(this.append(" on "),this.visitNode(n.table)),n.cascade&&this.append(" cascade")}visitCreateSchema(n){this.append("create schema "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.schema)}visitDropSchema(n){this.append("drop schema "),n.ifExists&&this.append("if exists "),this.visitNode(n.schema),n.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("primary key ("),this.compileList(n.columns),this.append(")")}visitUniqueConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("unique ("),this.compileList(n.columns),this.append(")")}visitCheckConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("check ("),this.visitNode(n.expression),this.append(")")}visitForeignKeyConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("foreign key ("),this.compileList(n.columns),this.append(") "),this.visitNode(n.references),n.onDelete&&(this.append(" on delete "),this.append(n.onDelete)),n.onUpdate&&(this.append(" on update "),this.append(n.onUpdate))}visitList(n){this.compileList(n.items)}visitWith(n){this.append("with "),n.recursive&&this.append("recursive "),this.compileList(n.expressions)}visitCommonTableExpression(n){this.visitNode(n.name),this.append(" as "),this.visitNode(n.expression)}visitCommonTableExpressionName(n){this.visitNode(n.table),n.columns&&(this.append("("),this.compileList(n.columns),this.append(")"))}visitAlterTable(n){this.append("alter table "),this.visitNode(n.table),this.append(" "),n.renameTo&&(this.append("rename to "),this.visitNode(n.renameTo)),n.setSchema&&(this.append("set schema "),this.visitNode(n.setSchema)),n.addConstraint&&this.visitNode(n.addConstraint),n.dropConstraint&&this.visitNode(n.dropConstraint),n.columnAlterations&&this.compileList(n.columnAlterations)}visitAddColumn(n){this.append("add column "),this.visitNode(n.column)}visitRenameColumn(n){this.append("rename column "),this.visitNode(n.column),this.append(" to "),this.visitNode(n.renameTo)}visitDropColumn(n){this.append("drop column "),this.visitNode(n.column)}visitAlterColumn(n){this.append("alter column "),this.visitNode(n.column),this.append(" "),n.dataType&&(this.append("type "),this.visitNode(n.dataType),n.dataTypeExpression&&(this.append("using "),this.visitNode(n.dataTypeExpression))),n.setDefault&&(this.append("set default "),this.visitNode(n.setDefault)),n.dropDefault&&this.append("drop default"),n.setNotNull&&this.append("set not null"),n.dropNotNull&&this.append("drop not null")}visitModifyColumn(n){this.append("modify column "),this.visitNode(n.column)}visitAddConstraint(n){this.append("add "),this.visitNode(n.constraint)}visitDropConstraint(n){this.append("drop constraint "),n.ifExists&&this.append("if exists "),this.visitNode(n.constraintName),n.modifier==="cascade"?this.append(" cascade"):n.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(n){this.append(n.operator),this.append(" "),n.all&&this.append("all "),this.visitNode(n.expression)}visitCreateView(n){this.append("create "),n.orReplace&&this.append("or replace "),n.materialized&&this.append("materialized "),n.temporary&&this.append("temporary "),this.append("view "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.name),this.append(" "),n.columns&&(this.append("("),this.compileList(n.columns),this.append(") ")),n.as&&(this.append("as "),this.visitNode(n.as))}visitDropView(n){this.append("drop "),n.materialized&&this.append("materialized "),this.append("view "),n.ifExists&&this.append("if exists "),this.visitNode(n.name),n.cascade&&this.append(" cascade")}visitGenerated(n){this.append("generated "),n.always&&this.append("always "),n.byDefault&&this.append("by default "),this.append("as "),n.identity&&this.append("identity"),n.expression&&(this.append("("),this.visitNode(n.expression),this.append(")")),n.stored&&this.append(" stored")}visitDefaultValue(n){this.append("default "),this.visitNode(n.defaultValue)}visitSelectModifier(n){n.rawModifier?this.visitNode(n.rawModifier):this.append(wb[n.modifier])}visitCreateType(n){this.append("create type "),this.visitNode(n.name),n.enum&&(this.append(" as enum "),this.visitNode(n.enum))}visitDropType(n){this.append("drop type "),n.ifExists&&this.append("if exists "),this.visitNode(n.name)}visitExplain(n){this.append("explain"),(n.options||n.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),n.options&&(this.visitNode(n.options),n.format&&this.append(this.getExplainOptionsDelimiter())),n.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(n.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(n){this.append("default")}visitAggregateFunction(n){this.append(n.func),this.append("("),n.distinct&&this.append("distinct "),this.compileList(n.aggregated),this.append(")"),n.filter&&(this.append(" filter("),this.visitNode(n.filter),this.append(")")),n.over&&(this.append(" "),this.visitNode(n.over))}visitOver(n){this.append("over("),n.partitionBy&&(this.visitNode(n.partitionBy),n.orderBy&&this.append(" ")),n.orderBy&&this.visitNode(n.orderBy),this.append(")")}visitPartitionBy(n){this.append("partition by "),this.compileList(n.items)}visitPartitionByItem(n){this.visitNode(n.partitionBy)}visitBinaryOperation(n){this.visitNode(n.leftOperand),this.append(" "),this.visitNode(n.operator),this.append(" "),this.visitNode(n.rightOperand)}visitUnaryOperation(n){this.visitNode(n.operator),this.isMinusOperator(n.operator)||this.append(" "),this.visitNode(n.operand)}isMinusOperator(n){return _a.is(n)&&n.operator==="-"}visitUsing(n){this.append("using "),this.compileList(n.tables)}visitFunction(n){this.append(n.func),this.append("("),this.compileList(n.arguments),this.append(")")}visitCase(n){this.append("case"),n.value&&(this.append(" "),this.visitNode(n.value)),n.when&&(this.append(" "),this.compileList(n.when," ")),n.else&&(this.append(" else "),this.visitNode(n.else)),this.append(" end"),n.isStatement&&this.append(" case")}visitWhen(n){this.append("when "),this.visitNode(n.condition),n.result&&(this.append(" then "),this.visitNode(n.result))}visitJSONReference(n){this.visitNode(n.reference),this.visitNode(n.traversal)}visitJSONPath(n){n.inOperator&&this.visitNode(n.inOperator),this.append("'$");for(const r of n.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(n){const r=n.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(n.value)),r&&this.append("]")}visitJSONOperatorChain(n){for(let r=0,a=n.values.length;r<a;r++)r===a-1?this.visitNode(n.operator):this.append("->"),this.visitNode(n.values[r])}append(n){H(this,po,i(this,po)+n)}appendValue(n){this.addParameter(n),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(n){const r=this.getLeftIdentifierWrapper(),a=this.getRightIdentifierWrapper();let l="";for(const p of n)l+=p,p===r?l+=r:p===a&&(l+=a);return l}addParameter(n){i(this,ns).push(n)}appendImmediateValue(n){if(Dn(n))this.append(`'${n}'`);else if(Lw(n)||zd(n))this.append(n.toString());else if(Kd(n))this.append("null");else if(Pw(n))this.appendImmediateValue(n.toISOString());else if(Mw(n))this.appendImmediateValue(n.toString());else throw new Error(`invalid immediate value ${n}`)}}po=new WeakMap,ns=new WeakMap;const wb=m({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),gb=m({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral"}),dn=m({raw(t,e=[]){return m({sql:t,query:tn.createWithSql(t),parameters:m(e)})}}),bb=/"/g;class Pp extends yb{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(bb,'""')}visitDefaultInsertValue(e){this.append("null")}}const Nb="kysely_migration",vb="kysely_migration_lock";m({__noMigrations__:!0});var mo,Dc,Bp;class Mp{constructor(e){D(this,Dc);D(this,mo,void 0);H(this,mo,e)}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=i(this,mo).selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",Nb).where("name","!=",vb));const r=await n.execute();return Promise.all(r.map(({name:a})=>_e(this,Dc,Bp).call(this,a)))}async getMetadata(e){return{tables:await this.getTables(e)}}}mo=new WeakMap,Dc=new WeakSet,Bp=async function(e){var p,w,v,d,A,B;const n=i(this,mo),r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),a=(B=(A=(d=(v=(w=(p=r.sql)==null?void 0:p.split(/[\(\),]/))==null?void 0:w.find(F=>F.toLowerCase().includes("autoincrement")))==null?void 0:v.trimStart())==null?void 0:d.split(/\s+/))==null?void 0:A[0])==null?void 0:B.replace(/["`]/g,""),l=await n.selectFrom(Cn`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:l.map(F=>({name:F.name,dataType:F.type,isNullable:!F.notnull,isAutoIncrementing:F.name===a,hasDefaultValue:F.dflt_value!=null}))}};class Fp{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(){}async releaseMigrationLock(){}}var Up=class{createQueryCompiler(){return new Pp}createAdapter(){return new Fp}createIntrospector(t){return new Mp(t)}},Qa,zh,$p=(zh=class{constructor(){D(this,Qa,new _b);ve(this,"connection")}async acquireConnection(){return await i(this,Qa).lock(),this.connection}async beginTransaction(t){await t.executeQuery(dn.raw("begin"))}async commitTransaction(t){await t.executeQuery(dn.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(dn.raw("rollback"))}async releaseConnection(){i(this,Qa).unlock()}},Qa=new WeakMap,zh),_b=class{constructor(){ve(this,"promise");ve(this,"resolve")}async lock(){for(;this.promise;)await this.promise;this.promise=new Promise(e=>{this.resolve=e})}unlock(){const e=this.resolve;this.promise=void 0,this.resolve=void 0,e==null||e()}},Qp=class{streamQuery(){throw new Error("Sqlite driver doesn't support streaming")}async executeQuery(t){const{parameters:e,sql:n,query:r}=t;return["SelectQueryNode","RawNode"].includes(r.kind)?{rows:await this.query(n,e)}:{rows:[],...await this.exec(n,e)}}};function xb({func:t,delay:e,maxCalls:n}){let r,a=0,l=null;function p(){r&&clearTimeout(r),a=0,l=null}function w(){a>=n?(t(l),p()):(r&&clearTimeout(r),r=setTimeout(()=>{t(l),p(),r=void 0},e))}return v=>{a++,l=v,r===void 0&&a===0?(t(v),a++):w()}}var Ob=class extends $p{constructor(e){super();ve(this,"config");ve(this,"db");this.config=e}async init(){var e,n,r,a,l,p;if(this.db=typeof this.config.database=="function"?await this.config.database():this.config.database,!this.db)throw new Error("no database");this.connection=new Eb(this.db,(e=this.config.onWrite)==null?void 0:e.func,(n=this.config.onWrite)==null?void 0:n.isThrottle,(r=this.config.onWrite)==null?void 0:r.maxCalls,(a=this.config.onWrite)==null?void 0:a.delay),await((p=(l=this.config).onCreateConnection)==null?void 0:p.call(l,this.connection))}async beginTransaction(e){await e.executeQuery(dn.raw("begin")),e.transactionNum++}async commitTransaction(e){await e.executeQuery(dn.raw("commit")),e.transactionNum--}async rollbackTransaction(e){await e.executeQuery(dn.raw("rollback")),e.transactionNum--}async destroy(){var e;(e=this.db)==null||e.close()}},Eb=class extends Qp{constructor(e,n,r=!1,a=1e3,l=2e3){super();ve(this,"db");ve(this,"onWrite");ve(this,"transactionNum",0);this.db=e,this.onWrite=n?r?xb({func:n,maxCalls:a,delay:l}):n:void 0}query(e,n){const r=this.db.prepare(e);r.bind(n);const a=[];for(;r.step();)a.push(r.getAsObject());return r.free(),a}exec(e,n){this.db.run(e,n);const r=BigInt(this.query("SELECT last_insert_rowid() as id")[0].id),a=BigInt(this.db.getRowsModified());return this.transactionNum===0&&this.onWrite&&this.onWrite(this.db.export()),{numAffectedRows:a,insertId:r}}},ja,Kh,Cb=(Kh=class extends Up{constructor(e){super();D(this,ja,void 0);H(this,ja,e)}createDriver(){return new Ob(i(this,ja))}},ja=new WeakMap,Kh),qb=class extends $p{constructor(e){super();ve(this,"config");ve(this,"db");this.config=e}async init(){var e,n;this.db=typeof this.config.database=="function"?await this.config.database():this.config.database,this.connection=new Sb(this.db),await((n=(e=this.config).onCreateConnection)==null?void 0:n.call(e,this.connection))}async destroy(){var e;await((e=this.db)==null?void 0:e.sqlite.close(this.db.db))}},Sb=class extends Qp{constructor(e){super();ve(this,"sqlite");ve(this,"db");this.db=e.db,this.sqlite=e.sqlite}async run(e){const n=this.sqlite.str_new(this.db,e.sql),r=await this.sqlite.prepare_v2(this.db,this.sqlite.str_value(n));if(r===null)return[];const a=r.stmt;try{typeof e.param<"u"&&this.sqlite.bind_collection(a,e.param);const l=[];let p=[];for(;await this.sqlite.step(a)===100;){p=p.length===0?this.sqlite.column_names(a):p;const w=this.sqlite.row(a);l.push(p.reduce((v,d,A)=>(v[d]=w[A],v),{}))}return l}finally{await this.sqlite.finalize(a)}}async query(e,n){return await this.run({sql:e,param:n})}async exec(e,n){await this.run({sql:e,param:n});const r=await this.run({sql:"SELECT last_insert_rowid() as id"});return{insertId:BigInt(r[0].id),numAffectedRows:BigInt(this.sqlite.changes(this.db))}}},Va,Jh,Ab=(Jh=class extends Up{constructor(e){super();D(this,Va,void 0);H(this,Va,e)}createDriver(){return new qb(i(this,Va))}},Va=new WeakMap,Jh);function Ib(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var a=[null];a.push.apply(a,arguments);var l=Function.bind.apply(e,a);return new l}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var jp={exports:{}};const kb={},Wb=Object.freeze(Object.defineProperty({__proto__:null,default:kb},Symbol.toStringTag,{value:"Module"})),Su=Tb(Wb);(function(t,e){var n=void 0,r=function(a){return n||(n=new Promise(function(l,p){var w=typeof a<"u"?a:{},v=w.onAbort;w.onAbort=function(o){p(new Error(o)),v&&v(o)},w.postRun=w.postRun||[],w.postRun.push(function(){l(w)}),t=void 0;var d;d||(d=typeof w<"u"?w:{}),d.onRuntimeInitialized=function(){function o(S,J){switch(typeof J){case"boolean":bu(S,J?1:0);break;case"number":wu(S,J);break;case"string":Yo(S,J,-1,-1);break;case"object":if(J===null)Go(S);else if(J.length!=null){var s=Ss(J);gu(S,s,J.length,-1),Ii(s)}else Wi(S,"Wrong API use : tried to return a value of an unknown type ("+J+").",-1);break;default:Go(S)}}function c(S,J){for(var s=[],u=0;u<S;u+=1){var f=K(J+4*u,"i32"),y=Jo(f);if(y===1||y===2)f=yu(f);else if(y===3)f=pu(f);else if(y===4){y=f,f=du(y),y=mu(y);for(var _=new Uint8Array(f),k=0;k<f;k+=1)_[k]=pe[y+k];f=_}else f=null;s.push(f)}return s}function h(S,J){this.La=S,this.db=J,this.Ja=1,this.fb=[]}function g(S,J){if(this.db=J,J=rn(S)+1,this.Ya=Ai(J),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");$t(S,qe,this.Ya,J),this.eb=this.Ya,this.Ua=this.ib=null}function O(S){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),S!=null){var J=this.filename,s="/",u=J;if(s&&(s=typeof s=="string"?s:yi(s),u=J?ue(s+"/"+J):s),J=on(!0,!0),u=gi(u,(J!==void 0?J:438)&4095|32768,0),S){if(typeof S=="string"){s=Array(S.length);for(var f=0,y=S.length;f<y;++f)s[f]=S.charCodeAt(f);S=s}Ns(u,J|146),s=or(u,577),ar(s,S,0,S.length,0),Ve(s),Ns(u,J)}}this.handleError(we(this.filename,R)),this.db=K(R,"i32"),Is(this.db),this.Za={},this.Na={}}var R=$n(4),U=d.cwrap,we=U("sqlite3_open","number",["string","number"]),Le=U("sqlite3_close_v2","number",["number"]),We=U("sqlite3_exec","number",["number","string","number","number","number"]),ot=U("sqlite3_changes","number",["number"]),An=U("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Vo=U("sqlite3_sql","string",["number"]),Ho=U("sqlite3_normalized_sql","string",["number"]),ki=U("sqlite3_prepare_v2","number",["number","number","number","number","number"]),sl=U("sqlite3_bind_text","number",["number","number","number","number","number"]),Qn=U("sqlite3_bind_blob","number",["number","number","number","number","number"]),In=U("sqlite3_bind_double","number",["number","number","number"]),su=U("sqlite3_bind_int","number",["number","number","number"]),As=U("sqlite3_bind_parameter_index","number",["number","string"]),ou=U("sqlite3_step","number",["number"]),au=U("sqlite3_errmsg","string",["number"]),ol=U("sqlite3_column_count","number",["number"]),zo=U("sqlite3_data_count","number",["number"]),al=U("sqlite3_column_double","number",["number","number"]),uu=U("sqlite3_column_text","string",["number","number"]),ul=U("sqlite3_column_blob","number",["number","number"]),cu=U("sqlite3_column_bytes","number",["number","number"]),lu=U("sqlite3_column_type","number",["number","number"]),fu=U("sqlite3_column_name","string",["number","number"]),Tn=U("sqlite3_reset","number",["number"]),hu=U("sqlite3_clear_bindings","number",["number"]),cl=U("sqlite3_finalize","number",["number"]),Ko=U("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Jo=U("sqlite3_value_type","number",["number"]),du=U("sqlite3_value_bytes","number",["number"]),pu=U("sqlite3_value_text","string",["number"]),mu=U("sqlite3_value_blob","number",["number"]),yu=U("sqlite3_value_double","number",["number"]),wu=U("sqlite3_result_double","",["number","number"]),Go=U("sqlite3_result_null","",["number"]),Yo=U("sqlite3_result_text","",["number","string","number","number"]),gu=U("sqlite3_result_blob","",["number","number","number","number"]),bu=U("sqlite3_result_int","",["number","number"]),Wi=U("sqlite3_result_error","",["number","string","number"]),Xo=U("sqlite3_aggregate_context","number",["number","number"]),Is=U("RegisterExtensionFunctions","number",["number"]);h.prototype.bind=function(S){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(S)?this.xb(S):S!=null&&typeof S=="object"?this.yb(S):!0},h.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var S=ou(this.La);switch(S){case 100:return!0;case 101:return!1;default:throw this.db.handleError(S)}},h.prototype.sb=function(S){return S==null&&(S=this.Ja,this.Ja+=1),al(this.La,S)},h.prototype.Cb=function(S){if(S==null&&(S=this.Ja,this.Ja+=1),S=uu(this.La,S),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(S)},h.prototype.Db=function(S){return S==null&&(S=this.Ja,this.Ja+=1),uu(this.La,S)},h.prototype.getBlob=function(S){S==null&&(S=this.Ja,this.Ja+=1);var J=cu(this.La,S);S=ul(this.La,S);for(var s=new Uint8Array(J),u=0;u<J;u+=1)s[u]=pe[S+u];return s},h.prototype.get=function(S,J){J=J||{},S!=null&&this.bind(S)&&this.step(),S=[];for(var s=zo(this.La),u=0;u<s;u+=1)switch(lu(this.La,u)){case 1:var f=J.useBigInt?this.Cb(u):this.sb(u);S.push(f);break;case 2:S.push(this.sb(u));break;case 3:S.push(this.Db(u));break;case 4:S.push(this.getBlob(u));break;default:S.push(null)}return S},h.prototype.getColumnNames=function(){for(var S=[],J=ol(this.La),s=0;s<J;s+=1)S.push(fu(this.La,s));return S},h.prototype.getAsObject=function(S,J){S=this.get(S,J),J=this.getColumnNames();for(var s={},u=0;u<J.length;u+=1)s[J[u]]=S[u];return s},h.prototype.getSQL=function(){return Vo(this.La)},h.prototype.getNormalizedSQL=function(){return Ho(this.La)},h.prototype.run=function(S){return S!=null&&this.bind(S),this.step(),this.reset()},h.prototype.nb=function(S,J){J==null&&(J=this.Ja,this.Ja+=1),S=rt(S);var s=Ss(S);this.fb.push(s),this.db.handleError(sl(this.La,J,s,S.length-1,0))},h.prototype.wb=function(S,J){J==null&&(J=this.Ja,this.Ja+=1);var s=Ss(S);this.fb.push(s),this.db.handleError(Qn(this.La,J,s,S.length,0))},h.prototype.mb=function(S,J){J==null&&(J=this.Ja,this.Ja+=1),this.db.handleError((S===(S|0)?su:In)(this.La,J,S))},h.prototype.zb=function(S){S==null&&(S=this.Ja,this.Ja+=1),Qn(this.La,S,0,0,0)},h.prototype.ob=function(S,J){switch(J==null&&(J=this.Ja,this.Ja+=1),typeof S){case"string":this.nb(S,J);return;case"number":this.mb(S,J);return;case"bigint":this.nb(S.toString(),J);return;case"boolean":this.mb(S+0,J);return;case"object":if(S===null){this.zb(J);return}if(S.length!=null){this.wb(S,J);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+S+")."},h.prototype.yb=function(S){var J=this;return Object.keys(S).forEach(function(s){var u=As(J.La,s);u!==0&&J.ob(S[s],u)}),!0},h.prototype.xb=function(S){for(var J=0;J<S.length;J+=1)this.ob(S[J],J+1);return!0},h.prototype.reset=function(){return this.freemem(),hu(this.La)===0&&Tn(this.La)===0},h.prototype.freemem=function(){for(var S;(S=this.fb.pop())!==void 0;)Ii(S)},h.prototype.free=function(){this.freemem();var S=cl(this.La)===0;return delete this.db.Za[this.La],this.La=0,S},g.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var S=Ur(),J=$n(4);ce(R),ce(J);try{this.db.handleError(ki(this.db.db,this.eb,-1,R,J)),this.eb=K(J,"i32");var s=K(R,"i32");return s===0?(this.gb(),{done:!0}):(this.Ua=new h(s,this.db),this.db.Za[s]=this.Ua,{value:this.Ua,done:!1})}catch(u){throw this.ib=Qe(this.eb),this.gb(),u}finally{$r(S)}},g.prototype.gb=function(){Ii(this.Ya),this.Ya=null},g.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:Qe(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(g.prototype[Symbol.iterator]=function(){return this}),O.prototype.run=function(S,J){if(!this.db)throw"Database closed";if(J){S=this.prepare(S,J);try{S.step()}finally{S.free()}}else this.handleError(We(this.db,S,0,0,R));return this},O.prototype.exec=function(S,J,s){if(!this.db)throw"Database closed";var u=Ur(),f=null;try{var y=rn(S)+1,_=$n(y);$t(S,pe,_,y);var k=_,I=$n(4);for(S=[];K(k,"i8")!==0;){ce(R),ce(I),this.handleError(ki(this.db,k,-1,R,I));var j=K(R,"i32");if(k=K(I,"i32"),j!==0){for(y=null,f=new h(j,this),J!=null&&f.bind(J);f.step();)y===null&&(y={columns:f.getColumnNames(),values:[]},S.push(y)),y.values.push(f.get(null,s));f.free()}}return S}catch(L){throw f&&f.free(),L}finally{$r(u)}},O.prototype.each=function(S,J,s,u,f){typeof J=="function"&&(u=s,s=J,J=void 0),S=this.prepare(S,J);try{for(;S.step();)s(S.getAsObject(null,f))}finally{S.free()}if(typeof u=="function")return u()},O.prototype.prepare=function(S,J){if(ce(R),this.handleError(An(this.db,S,-1,R,0)),S=K(R,"i32"),S===0)throw"Nothing to prepare";var s=new h(S,this);return J!=null&&s.bind(J),this.Za[S]=s},O.prototype.iterateStatements=function(S){return new g(S,this)},O.prototype.export=function(){Object.values(this.Za).forEach(function(J){J.free()}),Object.values(this.Na).forEach(Fr),this.Na={},this.handleError(Le(this.db));var S=vs(this.filename);return this.handleError(we(this.filename,R)),this.db=K(R,"i32"),S},O.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(S){S.free()}),Object.values(this.Na).forEach(Fr),this.Na={},this.handleError(Le(this.db)),Ni("/"+this.filename),this.db=null)},O.prototype.handleError=function(S){if(S===0)return null;throw S=au(this.db),Error(S)},O.prototype.getRowsModified=function(){return ot(this.db)},O.prototype.create_function=function(S,J){Object.prototype.hasOwnProperty.call(this.Na,S)&&(Fr(this.Na[S]),delete this.Na[S]);var s=qs(function(u,f,y){f=c(f,y);try{var _=J.apply(null,f)}catch(k){Wi(u,k,-1);return}o(u,_)},"viii");return this.Na[S]=s,this.handleError(Ko(this.db,S,J.length,1,0,s,0,0,0)),this},O.prototype.create_aggregate=function(S,J){var s=J.init||function(){return null},u=J.finalize||function(I){return I},f=J.step;if(!f)throw"An aggregate function must have a step function in "+S;var y={};Object.hasOwnProperty.call(this.Na,S)&&(Fr(this.Na[S]),delete this.Na[S]),J=S+"__finalize",Object.hasOwnProperty.call(this.Na,J)&&(Fr(this.Na[J]),delete this.Na[J]);var _=qs(function(I,j,L){var M=Xo(I,1);Object.hasOwnProperty.call(y,M)||(y[M]=s()),j=c(j,L),j=[y[M]].concat(j);try{y[M]=f.apply(null,j)}catch(ie){delete y[M],Wi(I,ie,-1)}},"viii"),k=qs(function(I){var j=Xo(I,1);try{var L=u(y[j])}catch(M){delete y[j],Wi(I,M,-1);return}o(I,L),delete y[j]},"vi");return this.Na[S]=_,this.Na[J]=k,this.handleError(Ko(this.db,S,f.length-1,1,0,0,_,k,0)),this},d.Database=O};var A=Object.assign({},d),B="./this.program",F=typeof window=="object",Y=typeof importScripts=="function",X=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="",E,N,q,T,ne,ye;X?(b=Y?Su.dirname(b)+"/":__dirname+"/",ye=()=>{ne||(T=Su,ne=Su)},E=function(o,c){return ye(),o=ne.normalize(o),T.readFileSync(o,c?void 0:"utf8")},q=o=>(o=E(o,!0),o.buffer||(o=new Uint8Array(o)),o),N=(o,c,h)=>{ye(),o=ne.normalize(o),T.readFile(o,function(g,O){g?h(g):c(O.buffer)})},1<process.argv.length&&(B=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=d,d.inspect=function(){return"[Emscripten Module object]"}):(F||Y)&&(Y?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),b=b.indexOf("blob:")!==0?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",E=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.send(null),c.responseText},Y&&(q=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),N=(o,c,h)=>{var g=new XMLHttpRequest;g.open("GET",o,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?c(g.response):h()},g.onerror=h,g.send(null)});var ae=d.print||console.log.bind(console),ge=d.printErr||console.warn.bind(console);Object.assign(d,A),A=null,d.thisProgram&&(B=d.thisProgram);var be;d.wasmBinary&&(be=d.wasmBinary),d.noExitRuntime,typeof WebAssembly!="object"&&x("no native wasm support detected");var Ze,ze=!1,Ot=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Et(o,c,h){var g=c+h;for(h=c;o[h]&&!(h>=g);)++h;if(16<h-c&&o.buffer&&Ot)return Ot.decode(o.subarray(c,h));for(g="";c<h;){var O=o[c++];if(O&128){var R=o[c++]&63;if((O&224)==192)g+=String.fromCharCode((O&31)<<6|R);else{var U=o[c++]&63;O=(O&240)==224?(O&15)<<12|R<<6|U:(O&7)<<18|R<<12|U<<6|o[c++]&63,65536>O?g+=String.fromCharCode(O):(O-=65536,g+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else g+=String.fromCharCode(O)}return g}function Qe(o,c){return o?Et(qe,o,c):""}function $t(o,c,h,g){if(!(0<g))return 0;var O=h;g=h+g-1;for(var R=0;R<o.length;++R){var U=o.charCodeAt(R);if(55296<=U&&57343>=U){var we=o.charCodeAt(++R);U=65536+((U&1023)<<10)|we&1023}if(127>=U){if(h>=g)break;c[h++]=U}else{if(2047>=U){if(h+1>=g)break;c[h++]=192|U>>6}else{if(65535>=U){if(h+2>=g)break;c[h++]=224|U>>12}else{if(h+3>=g)break;c[h++]=240|U>>18,c[h++]=128|U>>12&63}c[h++]=128|U>>6&63}c[h++]=128|U&63}}return c[h]=0,h-O}function rn(o){for(var c=0,h=0;h<o.length;++h){var g=o.charCodeAt(h);127>=g?c++:2047>=g?c+=2:55296<=g&&57343>=g?(c+=4,++h):c+=3}return c}var ht,pe,qe,st,de,ke,Wt,br;function ds(){var o=Ze.buffer;ht=o,d.HEAP8=pe=new Int8Array(o),d.HEAP16=st=new Int16Array(o),d.HEAP32=de=new Int32Array(o),d.HEAPU8=qe=new Uint8Array(o),d.HEAPU16=new Uint16Array(o),d.HEAPU32=ke=new Uint32Array(o),d.HEAPF32=Wt=new Float32Array(o),d.HEAPF64=br=new Float64Array(o)}var wn,sn=[],fe=[],Pe=[];function Mn(){var o=d.preRun.shift();sn.unshift(o)}var Qt=0,Ke=null;function x(o){throw d.onAbort&&d.onAbort(o),o="Aborted("+o+")",ge(o),ze=!0,new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info.")}function C(){return W.startsWith("data:application/octet-stream;base64,")}var W;if(W="sql-wasm.wasm",!C()){var P=W;W=d.locateFile?d.locateFile(P,b):b+P}function z(){var o=W;try{if(o==W&&be)return new Uint8Array(be);if(q)return q(o);throw"both async and sync fetching of the wasm failed"}catch(c){x(c)}}function ee(){if(!be&&(F||Y)){if(typeof fetch=="function"&&!W.startsWith("file://"))return fetch(W,{credentials:"same-origin"}).then(function(o){if(!o.ok)throw"failed to load wasm binary file at '"+W+"'";return o.arrayBuffer()}).catch(function(){return z()});if(N)return new Promise(function(o,c){N(W,function(h){o(new Uint8Array(h))},c)})}return Promise.resolve().then(function(){return z()})}var $,V;function re(o){for(;0<o.length;)o.shift()(d)}function K(o,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":return pe[o>>0];case"i8":return pe[o>>0];case"i16":return st[o>>1];case"i32":return de[o>>2];case"i64":return de[o>>2];case"float":return Wt[o>>2];case"double":return br[o>>3];case"*":return ke[o>>2];default:x("invalid type for getValue: "+c)}return null}function ce(o){var c="i32";switch(c.endsWith("*")&&(c="*"),c){case"i1":pe[o>>0]=0;break;case"i8":pe[o>>0]=0;break;case"i16":st[o>>1]=0;break;case"i32":de[o>>2]=0;break;case"i64":V=[0,($=0,1<=+Math.abs($)?0<$?(Math.min(+Math.floor($/4294967296),4294967295)|0)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],de[o>>2]=V[0],de[o+4>>2]=V[1];break;case"float":Wt[o>>2]=0;break;case"double":br[o>>3]=0;break;case"*":ke[o>>2]=0;break;default:x("invalid type for setValue: "+c)}}var oe=(o,c)=>{for(var h=0,g=o.length-1;0<=g;g--){var O=o[g];O==="."?o.splice(g,1):O===".."?(o.splice(g,1),h++):h&&(o.splice(g,1),h--)}if(c)for(;h;h--)o.unshift("..");return o},ue=o=>{var c=o.charAt(0)==="/",h=o.substr(-1)==="/";return(o=oe(o.split("/").filter(g=>!!g),!c).join("/"))||c||(o="."),o&&h&&(o+="/"),(c?"/":"")+o},me=o=>{var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(o).slice(1);return o=c[0],c=c[1],!o&&!c?".":(c&&(c=c.substr(0,c.length-1)),o+c)},Oe=o=>{if(o==="/")return"/";o=ue(o),o=o.replace(/\/$/,"");var c=o.lastIndexOf("/");return c===-1?o:o.substr(c+1)};function je(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var o=new Uint8Array(1);return()=>(crypto.getRandomValues(o),o[0])}if(X)try{var c=Su;return()=>c.randomBytes(1)[0]}catch{}return()=>x("randomDevice")}function De(){for(var o="",c=!1,h=arguments.length-1;-1<=h&&!c;h--){if(c=0<=h?arguments[h]:"/",typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";o=c+"/"+o,c=c.charAt(0)==="/"}return o=oe(o.split("/").filter(g=>!!g),!c).join("/"),(c?"/":"")+o||"."}function rt(o,c){var h=Array(rn(o)+1);return o=$t(o,h,0,h.length),c&&(h.length=o),h}var he=[];function gn(o,c){he[o]={input:[],output:[],Xa:c},wi(o,mi)}var mi={open:function(o){var c=he[o.node.rdev];if(!c)throw new Q(43);o.tty=c,o.seekable=!1},close:function(o){o.tty.Xa.fsync(o.tty)},fsync:function(o){o.tty.Xa.fsync(o.tty)},read:function(o,c,h,g){if(!o.tty||!o.tty.Xa.tb)throw new Q(60);for(var O=0,R=0;R<g;R++){try{var U=o.tty.Xa.tb(o.tty)}catch{throw new Q(29)}if(U===void 0&&O===0)throw new Q(6);if(U==null)break;O++,c[h+R]=U}return O&&(o.node.timestamp=Date.now()),O},write:function(o,c,h,g){if(!o.tty||!o.tty.Xa.jb)throw new Q(60);try{for(var O=0;O<g;O++)o.tty.Xa.jb(o.tty,c[h+O])}catch{throw new Q(29)}return g&&(o.node.timestamp=Date.now()),O}},jt={tb:function(o){if(!o.input.length){var c=null;if(X){var h=Buffer.alloc(256),g=0;try{g=T.readSync(process.stdin.fd,h,0,256,-1)}catch(O){if(O.toString().includes("EOF"))g=0;else throw O}0<g?c=h.slice(0,g).toString("utf-8"):c=null}else typeof window<"u"&&typeof window.prompt=="function"?(c=window.prompt("Input: "),c!==null&&(c+=`
`)):typeof readline=="function"&&(c=readline(),c!==null&&(c+=`
`));if(!c)return null;o.input=rt(c,!0)}return o.input.shift()},jb:function(o,c){c===null||c===10?(ae(Et(o.output,0)),o.output=[]):c!=0&&o.output.push(c)},fsync:function(o){o.output&&0<o.output.length&&(ae(Et(o.output,0)),o.output=[])}},ps={jb:function(o,c){c===null||c===10?(ge(Et(o.output,0)),o.output=[]):c!=0&&o.output.push(c)},fsync:function(o){o.output&&0<o.output.length&&(ge(Et(o.output,0)),o.output=[])}},le={Qa:null,Ra:function(){return le.createNode(null,"/",16895,0)},createNode:function(o,c,h,g){if((h&61440)===24576||(h&61440)===4096)throw new Q(63);return le.Qa||(le.Qa={dir:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa,lookup:le.Ga.lookup,ab:le.Ga.ab,rename:le.Ga.rename,unlink:le.Ga.unlink,rmdir:le.Ga.rmdir,readdir:le.Ga.readdir,symlink:le.Ga.symlink},stream:{Ta:le.Ha.Ta}},file:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa},stream:{Ta:le.Ha.Ta,read:le.Ha.read,write:le.Ha.write,lb:le.Ha.lb,bb:le.Ha.bb,cb:le.Ha.cb}},link:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa,readlink:le.Ga.readlink},stream:{}},pb:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa},stream:gs}}),h=Io(o,c,h,g),(h.mode&61440)===16384?(h.Ga=le.Qa.dir.node,h.Ha=le.Qa.dir.stream,h.Ia={}):(h.mode&61440)===32768?(h.Ga=le.Qa.file.node,h.Ha=le.Qa.file.stream,h.Ma=0,h.Ia=null):(h.mode&61440)===40960?(h.Ga=le.Qa.link.node,h.Ha=le.Qa.link.stream):(h.mode&61440)===8192&&(h.Ga=le.Qa.pb.node,h.Ha=le.Qa.pb.stream),h.timestamp=Date.now(),o&&(o.Ia[c]=h,o.timestamp=h.timestamp),h},Jb:function(o){return o.Ia?o.Ia.subarray?o.Ia.subarray(0,o.Ma):new Uint8Array(o.Ia):new Uint8Array(0)},qb:function(o,c){var h=o.Ia?o.Ia.length:0;h>=c||(c=Math.max(c,h*(1048576>h?2:1.125)>>>0),h!=0&&(c=Math.max(c,256)),h=o.Ia,o.Ia=new Uint8Array(c),0<o.Ma&&o.Ia.set(h.subarray(0,o.Ma),0))},Gb:function(o,c){if(o.Ma!=c)if(c==0)o.Ia=null,o.Ma=0;else{var h=o.Ia;o.Ia=new Uint8Array(c),h&&o.Ia.set(h.subarray(0,Math.min(c,o.Ma))),o.Ma=c}},Ga:{Pa:function(o){var c={};return c.dev=(o.mode&61440)===8192?o.id:1,c.ino=o.id,c.mode=o.mode,c.nlink=1,c.uid=0,c.gid=0,c.rdev=o.rdev,(o.mode&61440)===16384?c.size=4096:(o.mode&61440)===32768?c.size=o.Ma:(o.mode&61440)===40960?c.size=o.link.length:c.size=0,c.atime=new Date(o.timestamp),c.mtime=new Date(o.timestamp),c.ctime=new Date(o.timestamp),c.Ab=4096,c.blocks=Math.ceil(c.size/c.Ab),c},Oa:function(o,c){c.mode!==void 0&&(o.mode=c.mode),c.timestamp!==void 0&&(o.timestamp=c.timestamp),c.size!==void 0&&le.Gb(o,c.size)},lookup:function(){throw Bn[44]},ab:function(o,c,h,g){return le.createNode(o,c,h,g)},rename:function(o,c,h){if((o.mode&61440)===16384){try{var g=sr(c,h)}catch{}if(g)for(var O in g.Ia)throw new Q(55)}delete o.parent.Ia[o.name],o.parent.timestamp=Date.now(),o.name=h,c.Ia[h]=o,c.timestamp=o.parent.timestamp,o.parent=c},unlink:function(o,c){delete o.Ia[c],o.timestamp=Date.now()},rmdir:function(o,c){var h=sr(o,c),g;for(g in h.Ia)throw new Q(55);delete o.Ia[c],o.timestamp=Date.now()},readdir:function(o){var c=[".",".."],h;for(h in o.Ia)o.Ia.hasOwnProperty(h)&&c.push(h);return c},symlink:function(o,c,h){return o=le.createNode(o,c,41471,0),o.link=h,o},readlink:function(o){if((o.mode&61440)!==40960)throw new Q(28);return o.link}},Ha:{read:function(o,c,h,g,O){var R=o.node.Ia;if(O>=o.node.Ma)return 0;if(o=Math.min(o.node.Ma-O,g),8<o&&R.subarray)c.set(R.subarray(O,O+o),h);else for(g=0;g<o;g++)c[h+g]=R[O+g];return o},write:function(o,c,h,g,O,R){if(c.buffer===pe.buffer&&(R=!1),!g)return 0;if(o=o.node,o.timestamp=Date.now(),c.subarray&&(!o.Ia||o.Ia.subarray)){if(R)return o.Ia=c.subarray(h,h+g),o.Ma=g;if(o.Ma===0&&O===0)return o.Ia=c.slice(h,h+g),o.Ma=g;if(O+g<=o.Ma)return o.Ia.set(c.subarray(h,h+g),O),g}if(le.qb(o,O+g),o.Ia.subarray&&c.subarray)o.Ia.set(c.subarray(h,h+g),O);else for(R=0;R<g;R++)o.Ia[O+R]=c[h+R];return o.Ma=Math.max(o.Ma,O+g),g},Ta:function(o,c,h){if(h===1?c+=o.position:h===2&&(o.node.mode&61440)===32768&&(c+=o.node.Ma),0>c)throw new Q(28);return c},lb:function(o,c,h){le.qb(o.node,c+h),o.node.Ma=Math.max(o.node.Ma,c+h)},bb:function(o,c,h,g,O){if((o.node.mode&61440)!==32768)throw new Q(43);if(o=o.node.Ia,O&2||o.buffer!==ht){if((0<h||h+c<o.length)&&(o.subarray?o=o.subarray(h,h+c):o=Array.prototype.slice.call(o,h,h+c)),h=!0,c=65536*Math.ceil(c/65536),(O=Qo(65536,c))?(qe.fill(0,O,O+c),c=O):c=0,!c)throw new Q(48);pe.set(o,c)}else h=!1,c=o.byteOffset;return{Fb:c,vb:h}},cb:function(o,c,h,g,O){if((o.node.mode&61440)!==32768)throw new Q(43);return O&2||le.Ha.write(o,c,0,g,h,!1),0}}},Rt=null,te={},qn=[],Vt=1,bn=null,ms=!0,Q=null,Bn={},Dt=(o,c={})=>{if(o=De("/",o),!o)return{path:"",node:null};if(c=Object.assign({rb:!0,kb:0},c),8<c.kb)throw new Q(32);o=oe(o.split("/").filter(U=>!!U),!1);for(var h=Rt,g="/",O=0;O<o.length;O++){var R=O===o.length-1;if(R&&c.parent)break;if(h=sr(h,o[O]),g=ue(g+"/"+o[O]),h.Va&&(!R||R&&c.rb)&&(h=h.Va.root),!R||c.Sa){for(R=0;(h.mode&61440)===40960;)if(h=Lo(g),g=De(me(g),h),h=Dt(g,{kb:c.kb+1}).node,40<R++)throw new Q(32)}}return{path:g,node:h}},yi=o=>{for(var c;;){if(o===o.parent)return o=o.Ra.ub,c?o[o.length-1]!=="/"?o+"/"+c:o+c:o;c=c?o.name+"/"+c:o.name,o=o.parent}},ys=(o,c)=>{for(var h=0,g=0;g<c.length;g++)h=(h<<5)-h+c.charCodeAt(g)|0;return(o+h>>>0)%bn.length},Nr=o=>{var c=ys(o.parent.id,o.name);if(bn[c]===o)bn[c]=o.Wa;else for(c=bn[c];c;){if(c.Wa===o){c.Wa=o.Wa;break}c=c.Wa}},sr=(o,c)=>{var h;if(h=(h=Dr(o,"x"))?h:o.Ga.lookup?0:2)throw new Q(h,o);for(h=bn[ys(o.id,c)];h;h=h.Wa){var g=h.name;if(h.parent.id===o.id&&g===c)return h}return o.Ga.lookup(o,c)},Io=(o,c,h,g)=>(o=new Uo(o,c,h,g),c=ys(o.parent.id,o.name),o.Wa=bn[c],bn[c]=o),il={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},To=o=>{var c=["r","w","rw"][o&3];return o&512&&(c+="w"),c},Dr=(o,c)=>{if(ms)return 0;if(!c.includes("r")||o.mode&292){if(c.includes("w")&&!(o.mode&146)||c.includes("x")&&!(o.mode&73))return 2}else return 2;return 0},ws=(o,c)=>{try{return sr(o,c),20}catch{}return Dr(o,"wx")},ko=(o,c,h)=>{try{var g=sr(o,c)}catch(O){return O.Ka}if(o=Dr(o,"wx"))return o;if(h){if((g.mode&61440)!==16384)return 54;if(g===g.parent||yi(g)==="/")return 10}else if((g.mode&61440)===16384)return 31;return 0},Wo=(o=0)=>{for(;4096>=o;o++)if(!qn[o])return o;throw new Q(33)},Nn=(o,c)=>(Ei||(Ei=function(){this.$a={}},Ei.prototype={},Object.defineProperties(Ei.prototype,{object:{get:function(){return this.node},set:function(h){this.node=h}},flags:{get:function(){return this.$a.flags},set:function(h){this.$a.flags=h}},position:{get:function(){return this.$a.position},set:function(h){this.$a.position=h}}})),o=Object.assign(new Ei,o),c=Wo(c),o.fd=c,qn[c]=o),gs={open:o=>{o.Ha=te[o.node.rdev].Ha,o.Ha.open&&o.Ha.open(o)},Ta:()=>{throw new Q(70)}},wi=(o,c)=>{te[o]={Ha:c}},Ro=(o,c)=>{var h=c==="/",g=!c;if(h&&Rt)throw new Q(10);if(!h&&!g){var O=Dt(c,{rb:!1});if(c=O.path,O=O.node,O.Va)throw new Q(10);if((O.mode&61440)!==16384)throw new Q(54)}c={type:o,Kb:{},ub:c,Eb:[]},o=o.Ra(c),o.Ra=c,c.root=o,h?Rt=o:O&&(O.Va=c,O.Ra&&O.Ra.Eb.push(c))},gi=(o,c,h)=>{var g=Dt(o,{parent:!0}).node;if(o=Oe(o),!o||o==="."||o==="..")throw new Q(28);var O=ws(g,o);if(O)throw new Q(O);if(!g.Ga.ab)throw new Q(63);return g.Ga.ab(g,o,c,h)},Yt=(o,c)=>gi(o,(c!==void 0?c:511)&1023|16384,0),bi=(o,c,h)=>{typeof h>"u"&&(h=c,c=438),gi(o,c|8192,h)},bs=(o,c)=>{if(!De(o))throw new Q(44);var h=Dt(c,{parent:!0}).node;if(!h)throw new Q(44);c=Oe(c);var g=ws(h,c);if(g)throw new Q(g);if(!h.Ga.symlink)throw new Q(63);h.Ga.symlink(h,c,o)},Do=o=>{var c=Dt(o,{parent:!0}).node;o=Oe(o);var h=sr(c,o),g=ko(c,o,!0);if(g)throw new Q(g);if(!c.Ga.rmdir)throw new Q(63);if(h.Va)throw new Q(10);c.Ga.rmdir(c,o),Nr(h)},Ni=o=>{var c=Dt(o,{parent:!0}).node;if(!c)throw new Q(44);o=Oe(o);var h=sr(c,o),g=ko(c,o,!1);if(g)throw new Q(g);if(!c.Ga.unlink)throw new Q(63);if(h.Va)throw new Q(10);c.Ga.unlink(c,o),Nr(h)},Lo=o=>{if(o=Dt(o).node,!o)throw new Q(44);if(!o.Ga.readlink)throw new Q(28);return De(yi(o.parent),o.Ga.readlink(o))},Lr=(o,c)=>{if(o=Dt(o,{Sa:!c}).node,!o)throw new Q(44);if(!o.Ga.Pa)throw new Q(63);return o.Ga.Pa(o)},Po=o=>Lr(o,!0),Ns=(o,c)=>{if(o=typeof o=="string"?Dt(o,{Sa:!0}).node:o,!o.Ga.Oa)throw new Q(63);o.Ga.Oa(o,{mode:c&4095|o.mode&-4096,timestamp:Date.now()})},Pr=(o,c)=>{if(0>c)throw new Q(28);if(o=typeof o=="string"?Dt(o,{Sa:!0}).node:o,!o.Ga.Oa)throw new Q(63);if((o.mode&61440)===16384)throw new Q(31);if((o.mode&61440)!==32768)throw new Q(28);var h=Dr(o,"w");if(h)throw new Q(h);o.Ga.Oa(o,{size:c,timestamp:Date.now()})},or=(o,c,h)=>{if(o==="")throw new Q(44);if(typeof c=="string"){var g=il[c];if(typeof g>"u")throw Error("Unknown file open mode: "+c);c=g}if(h=c&64?(typeof h>"u"?438:h)&4095|32768:0,typeof o=="object")var O=o;else{o=ue(o);try{O=Dt(o,{Sa:!(c&131072)}).node}catch{}}if(g=!1,c&64)if(O){if(c&128)throw new Q(20)}else O=gi(o,h,0),g=!0;if(!O)throw new Q(44);if((O.mode&61440)===8192&&(c&=-513),c&65536&&(O.mode&61440)!==16384)throw new Q(54);if(!g&&(h=O?(O.mode&61440)===40960?32:(O.mode&61440)===16384&&(To(c)!=="r"||c&512)?31:Dr(O,To(c)):44))throw new Q(h);return c&512&&!g&&Pr(O,0),c&=-131713,O=Nn({node:O,path:yi(O),flags:c,seekable:!0,position:0,Ha:O.Ha,Ib:[],error:!1}),O.Ha.open&&O.Ha.open(O),!d.logReadFiles||c&1||(Ci||(Ci={}),o in Ci||(Ci[o]=1)),O},Ve=o=>{if(o.fd===null)throw new Q(8);o.hb&&(o.hb=null);try{o.Ha.close&&o.Ha.close(o)}catch(c){throw c}finally{qn[o.fd]=null}o.fd=null},Mr=(o,c,h)=>{if(o.fd===null)throw new Q(8);if(!o.seekable||!o.Ha.Ta)throw new Q(70);if(h!=0&&h!=1&&h!=2)throw new Q(28);o.position=o.Ha.Ta(o,c,h),o.Ib=[]},vi=(o,c,h,g,O)=>{if(0>g||0>O)throw new Q(28);if(o.fd===null)throw new Q(8);if((o.flags&2097155)===1)throw new Q(8);if((o.node.mode&61440)===16384)throw new Q(31);if(!o.Ha.read)throw new Q(28);var R=typeof O<"u";if(!R)O=o.position;else if(!o.seekable)throw new Q(70);return c=o.Ha.read(o,c,h,g,O),R||(o.position+=c),c},ar=(o,c,h,g,O)=>{if(0>g||0>O)throw new Q(28);if(o.fd===null)throw new Q(8);if(!(o.flags&2097155))throw new Q(8);if((o.node.mode&61440)===16384)throw new Q(31);if(!o.Ha.write)throw new Q(28);o.seekable&&o.flags&1024&&Mr(o,0,2);var R=typeof O<"u";if(!R)O=o.position;else if(!o.seekable)throw new Q(70);return c=o.Ha.write(o,c,h,g,O,void 0),R||(o.position+=c),c},vs=o=>{var c,h=or(o,h||0);o=Lr(o).size;var g=new Uint8Array(o);return vi(h,g,0,o,0),c=g,Ve(h),c},_i=()=>{Q||(Q=function(o,c){this.node=c,this.Hb=function(h){this.Ka=h},this.Hb(o),this.message="FS error"},Q.prototype=Error(),Q.prototype.constructor=Q,[44].forEach(o=>{Bn[o]=new Q(o),Bn[o].stack="<generic error, no stack>"}))},xi,on=(o,c)=>{var h=0;return o&&(h|=365),c&&(h|=146),h},Sn=(o,c,h)=>{o=ue("/dev/"+o);var g=on(!!c,!!h);Oi||(Oi=64);var O=Oi++<<8|0;wi(O,{open:R=>{R.seekable=!1},close:()=>{h&&h.buffer&&h.buffer.length&&h(10)},read:(R,U,we,Le)=>{for(var We=0,ot=0;ot<Le;ot++){try{var An=c()}catch{throw new Q(29)}if(An===void 0&&We===0)throw new Q(6);if(An==null)break;We++,U[we+ot]=An}return We&&(R.node.timestamp=Date.now()),We},write:(R,U,we,Le)=>{for(var We=0;We<Le;We++)try{h(U[we+We])}catch{throw new Q(29)}return Le&&(R.node.timestamp=Date.now()),We}}),bi(o,g,O)},Oi,Je={},Ei,Ci;function Fn(o,c,h){if(c.charAt(0)==="/")return c;if(o=o===-100?"/":an(o).path,c.length==0){if(!h)throw new Q(44);return o}return ue(o+"/"+c)}function qi(o,c,h){try{var g=o(c)}catch(O){if(O&&O.node&&ue(c)!==ue(yi(O.node)))return-54;throw O}return de[h>>2]=g.dev,de[h+8>>2]=g.ino,de[h+12>>2]=g.mode,ke[h+16>>2]=g.nlink,de[h+20>>2]=g.uid,de[h+24>>2]=g.gid,de[h+28>>2]=g.rdev,V=[g.size>>>0,($=g.size,1<=+Math.abs($)?0<$?(Math.min(+Math.floor($/4294967296),4294967295)|0)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],de[h+40>>2]=V[0],de[h+44>>2]=V[1],de[h+48>>2]=4096,de[h+52>>2]=g.blocks,V=[Math.floor(g.atime.getTime()/1e3)>>>0,($=Math.floor(g.atime.getTime()/1e3),1<=+Math.abs($)?0<$?(Math.min(+Math.floor($/4294967296),4294967295)|0)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],de[h+56>>2]=V[0],de[h+60>>2]=V[1],ke[h+64>>2]=0,V=[Math.floor(g.mtime.getTime()/1e3)>>>0,($=Math.floor(g.mtime.getTime()/1e3),1<=+Math.abs($)?0<$?(Math.min(+Math.floor($/4294967296),4294967295)|0)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],de[h+72>>2]=V[0],de[h+76>>2]=V[1],ke[h+80>>2]=0,V=[Math.floor(g.ctime.getTime()/1e3)>>>0,($=Math.floor(g.ctime.getTime()/1e3),1<=+Math.abs($)?0<$?(Math.min(+Math.floor($/4294967296),4294967295)|0)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],de[h+88>>2]=V[0],de[h+92>>2]=V[1],ke[h+96>>2]=0,V=[g.ino>>>0,($=g.ino,1<=+Math.abs($)?0<$?(Math.min(+Math.floor($/4294967296),4294967295)|0)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],de[h+104>>2]=V[0],de[h+108>>2]=V[1],0}var Br=void 0;function Si(){return Br+=4,de[Br-4>>2]}function an(o){if(o=qn[o],!o)throw new Q(8);return o}function _s(o){return ke[o>>2]+4294967296*de[o+4>>2]}function Mo(o){var c=rn(o)+1,h=Ai(c);return h&&$t(o,pe,h,c),h}function nu(o,c,h){function g(Le){return(Le=Le.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Le[1]:"GMT"}var O=new Date().getFullYear(),R=new Date(O,0,1),U=new Date(O,6,1);O=R.getTimezoneOffset();var we=U.getTimezoneOffset();de[o>>2]=60*Math.max(O,we),de[c>>2]=+(O!=we),o=g(R),c=g(U),o=Mo(o),c=Mo(c),we<O?(ke[h>>2]=o,ke[h+4>>2]=c):(ke[h>>2]=c,ke[h+4>>2]=o)}function xs(o,c,h){xs.Bb||(xs.Bb=!0,nu(o,c,h))}var Bo;Bo=X?()=>{var o=process.hrtime();return 1e3*o[0]+o[1]/1e6}:()=>performance.now();var Os={};function Fo(){if(!Es){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},c;for(c in Os)Os[c]===void 0?delete o[c]:o[c]=Os[c];var h=[];for(c in o)h.push(c+"="+o[c]);Es=h}return Es}var Es,Un=void 0,Cs=[];function qs(o,c){if(!Un){Un=new WeakMap;var h=wn.length;if(Un)for(var g=0;g<0+h;g++){var O=wn.get(g);O&&Un.set(O,g)}}if(Un.has(o))return Un.get(o);if(Cs.length)h=Cs.pop();else{try{wn.grow(1)}catch(we){throw we instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":we}h=wn.length-1}try{wn.set(h,o)}catch(we){if(!(we instanceof TypeError))throw we;if(typeof WebAssembly.Function=="function"){g=WebAssembly.Function,O={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var R={parameters:[],results:c[0]=="v"?[]:[O[c[0]]]},U=1;U<c.length;++U)R.parameters.push(O[c[U]]);c=new g(R,o)}else{for(g=[1,96],O=c.slice(0,1),c=c.slice(1),R={i:127,p:127,j:126,f:125,d:124},U=c.length,128>U?g.push(U):g.push(U%128|128,U>>7),U=0;U<c.length;++U)g.push(R[c[U]]);O=="v"?g.push(0):g.push(1,R[O]),c=[0,97,115,109,1,0,0,0,1],O=g.length,128>O?c.push(O):c.push(O%128|128,O>>7),c.push.apply(c,g),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),c=new WebAssembly.Module(new Uint8Array(c)),c=new WebAssembly.Instance(c,{e:{f:o}}).exports.f}wn.set(h,c)}return Un.set(o,h),h}function Fr(o){Un.delete(wn.get(o)),Cs.push(o)}function Ss(o){var c=Ai(o.length);return o.subarray||o.slice||(o=new Uint8Array(o)),qe.set(o,c),c}function ru(o,c,h,g){var O={string:We=>{var ot=0;if(We!=null&&We!==0){var An=(We.length<<2)+1;ot=$n(An),$t(We,qe,ot,An)}return ot},array:We=>{var ot=$n(We.length);return pe.set(We,ot),ot}};o=d["_"+o];var R=[],U=0;if(g)for(var we=0;we<g.length;we++){var Le=O[h[we]];Le?(U===0&&(U=Ur()),R[we]=Le(g[we])):R[we]=g[we]}return h=o.apply(null,R),h=function(We){return U!==0&&$r(U),c==="string"?Qe(We):c==="boolean"?!!We:We}(h)}function Uo(o,c,h,g){o||(o=this),this.parent=o,this.Ra=o.Ra,this.Va=null,this.id=Vt++,this.name=c,this.mode=h,this.Ga={},this.Ha={},this.rdev=g}Object.defineProperties(Uo.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(o){o?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(o){o?this.mode|=146:this.mode&=-147}}}),_i(),bn=Array(4096),Ro(le,"/"),Yt("/tmp"),Yt("/home"),Yt("/home/web_user"),(()=>{Yt("/dev"),wi(259,{read:()=>0,write:(c,h,g,O)=>O}),bi("/dev/null",259),gn(1280,jt),gn(1536,ps),bi("/dev/tty",1280),bi("/dev/tty1",1536);var o=je();Sn("random",o),Sn("urandom",o),Yt("/dev/shm"),Yt("/dev/shm/tmp")})(),(()=>{Yt("/proc");var o=Yt("/proc/self");Yt("/proc/self/fd"),Ro({Ra:()=>{var c=Io(o,"fd",16895,73);return c.Ga={lookup:(h,g)=>{var O=qn[+g];if(!O)throw new Q(8);return h={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>O.path}},h.parent=h}},c}},"/proc/self/fd")})();var iu={a:function(o,c,h,g){x("Assertion failed: "+Qe(o)+", at: "+[c?Qe(c):"unknown filename",h,g?Qe(g):"unknown function"])},h:function(o,c){try{return o=Qe(o),Ns(o,c),0}catch(h){if(typeof Je>"u"||!(h instanceof Q))throw h;return-h.Ka}},H:function(o,c,h){try{if(c=Qe(c),c=Fn(o,c),h&-8)return-28;var g=Dt(c,{Sa:!0}).node;return g?(o="",h&4&&(o+="r"),h&2&&(o+="w"),h&1&&(o+="x"),o&&Dr(g,o)?-2:0):-44}catch(O){if(typeof Je>"u"||!(O instanceof Q))throw O;return-O.Ka}},i:function(o,c){try{var h=qn[o];if(!h)throw new Q(8);return Ns(h.node,c),0}catch(g){if(typeof Je>"u"||!(g instanceof Q))throw g;return-g.Ka}},g:function(o){try{var c=qn[o];if(!c)throw new Q(8);var h=c.node,g=typeof h=="string"?Dt(h,{Sa:!0}).node:h;if(!g.Ga.Oa)throw new Q(63);return g.Ga.Oa(g,{timestamp:Date.now()}),0}catch(O){if(typeof Je>"u"||!(O instanceof Q))throw O;return-O.Ka}},b:function(o,c,h){Br=h;try{var g=an(o);switch(c){case 0:var O=Si();return 0>O?-28:Nn(g,O).fd;case 1:case 2:return 0;case 3:return g.flags;case 4:return O=Si(),g.flags|=O,0;case 5:return O=Si(),st[O+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return de[$o()>>2]=28,-1;default:return-28}}catch(R){if(typeof Je>"u"||!(R instanceof Q))throw R;return-R.Ka}},G:function(o,c){try{var h=an(o);return qi(Lr,h.path,c)}catch(g){if(typeof Je>"u"||!(g instanceof Q))throw g;return-g.Ka}},l:function(o,c,h){try{if(c=h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN,isNaN(c))return-61;var g=qn[o];if(!g)throw new Q(8);if(!(g.flags&2097155))throw new Q(28);return Pr(g.node,c),0}catch(O){if(typeof Je>"u"||!(O instanceof Q))throw O;return-O.Ka}},B:function(o,c){try{if(c===0)return-28;var h=rn("/")+1;return c<h?-68:($t("/",qe,o,c),h)}catch(g){if(typeof Je>"u"||!(g instanceof Q))throw g;return-g.Ka}},E:function(o,c){try{return o=Qe(o),qi(Po,o,c)}catch(h){if(typeof Je>"u"||!(h instanceof Q))throw h;return-h.Ka}},y:function(o,c,h){try{return c=Qe(c),c=Fn(o,c),c=ue(c),c[c.length-1]==="/"&&(c=c.substr(0,c.length-1)),Yt(c,h),0}catch(g){if(typeof Je>"u"||!(g instanceof Q))throw g;return-g.Ka}},D:function(o,c,h,g){try{c=Qe(c);var O=g&256;return c=Fn(o,c,g&4096),qi(O?Po:Lr,c,h)}catch(R){if(typeof Je>"u"||!(R instanceof Q))throw R;return-R.Ka}},v:function(o,c,h,g){Br=g;try{c=Qe(c),c=Fn(o,c);var O=g?Si():0;return or(c,h,O).fd}catch(R){if(typeof Je>"u"||!(R instanceof Q))throw R;return-R.Ka}},t:function(o,c,h,g){try{if(c=Qe(c),c=Fn(o,c),0>=g)return-28;var O=Lo(c),R=Math.min(g,rn(O)),U=pe[h+R];return $t(O,qe,h,g+1),pe[h+R]=U,R}catch(we){if(typeof Je>"u"||!(we instanceof Q))throw we;return-we.Ka}},s:function(o){try{return o=Qe(o),Do(o),0}catch(c){if(typeof Je>"u"||!(c instanceof Q))throw c;return-c.Ka}},F:function(o,c){try{return o=Qe(o),qi(Lr,o,c)}catch(h){if(typeof Je>"u"||!(h instanceof Q))throw h;return-h.Ka}},p:function(o,c,h){try{return c=Qe(c),c=Fn(o,c),h===0?Ni(c):h===512?Do(c):x("Invalid flags passed to unlinkat"),0}catch(g){if(typeof Je>"u"||!(g instanceof Q))throw g;return-g.Ka}},o:function(o,c,h){try{if(c=Qe(c),c=Fn(o,c,!0),h){var g=_s(h),O=de[h+8>>2];R=1e3*g+O/1e6,h+=16,g=_s(h),O=de[h+8>>2],U=1e3*g+O/1e6}else var R=Date.now(),U=R;o=R;var we=Dt(c,{Sa:!0}).node;return we.Ga.Oa(we,{timestamp:Math.max(o,U)}),0}catch(Le){if(typeof Je>"u"||!(Le instanceof Q))throw Le;return-Le.Ka}},e:function(){return Date.now()},j:function(o,c){o=new Date(1e3*_s(o)),de[c>>2]=o.getSeconds(),de[c+4>>2]=o.getMinutes(),de[c+8>>2]=o.getHours(),de[c+12>>2]=o.getDate(),de[c+16>>2]=o.getMonth(),de[c+20>>2]=o.getFullYear()-1900,de[c+24>>2]=o.getDay();var h=new Date(o.getFullYear(),0,1);de[c+28>>2]=(o.getTime()-h.getTime())/864e5|0,de[c+36>>2]=-(60*o.getTimezoneOffset());var g=new Date(o.getFullYear(),6,1).getTimezoneOffset();h=h.getTimezoneOffset(),de[c+32>>2]=(g!=h&&o.getTimezoneOffset()==Math.min(h,g))|0},w:function(o,c,h,g,O,R){try{var U=an(g);if(c&2&&!(h&2)&&(U.flags&2097155)!==2)throw new Q(2);if((U.flags&2097155)===1)throw new Q(2);if(!U.Ha.bb)throw new Q(43);var we=U.Ha.bb(U,o,O,c,h),Le=we.Fb;return de[R>>2]=we.vb,Le}catch(We){if(typeof Je>"u"||!(We instanceof Q))throw We;return-We.Ka}},x:function(o,c,h,g,O,R){try{var U=an(O);if(h&2){var we=qe.slice(o,o+c);U&&U.Ha.cb&&U.Ha.cb(U,we,R,c,g)}}catch(Le){if(typeof Je>"u"||!(Le instanceof Q))throw Le;return-Le.Ka}},n:xs,q:function(){return 2147483648},d:Bo,c:function(o){var c=qe.length;if(o>>>=0,2147483648<o)return!1;for(var h=1;4>=h;h*=2){var g=c*(1+.2/h);g=Math.min(g,o+100663296);var O=Math;g=Math.max(o,g),O=O.min.call(O,2147483648,g+(65536-g%65536)%65536);e:{try{Ze.grow(O-ht.byteLength+65535>>>16),ds();var R=1;break e}catch{}R=void 0}if(R)return!0}return!1},z:function(o,c){var h=0;return Fo().forEach(function(g,O){var R=c+h;for(O=ke[o+4*O>>2]=R,R=0;R<g.length;++R)pe[O++>>0]=g.charCodeAt(R);pe[O>>0]=0,h+=g.length+1}),0},A:function(o,c){var h=Fo();ke[o>>2]=h.length;var g=0;return h.forEach(function(O){g+=O.length+1}),ke[c>>2]=g,0},f:function(o){try{var c=an(o);return Ve(c),0}catch(h){if(typeof Je>"u"||!(h instanceof Q))throw h;return h.Ka}},m:function(o,c){try{var h=an(o);return pe[c>>0]=h.tty?2:(h.mode&61440)===16384?3:(h.mode&61440)===40960?7:4,0}catch(g){if(typeof Je>"u"||!(g instanceof Q))throw g;return g.Ka}},u:function(o,c,h,g){try{e:{var O=an(o);o=c;for(var R=c=0;R<h;R++){var U=ke[o>>2],we=ke[o+4>>2];o+=8;var Le=vi(O,pe,U,we);if(0>Le){var We=-1;break e}if(c+=Le,Le<we)break}We=c}return ke[g>>2]=We,0}catch(ot){if(typeof Je>"u"||!(ot instanceof Q))throw ot;return ot.Ka}},k:function(o,c,h,g,O){try{if(c=h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN,isNaN(c))return 61;var R=an(o);return Mr(R,c,g),V=[R.position>>>0,($=R.position,1<=+Math.abs($)?0<$?(Math.min(+Math.floor($/4294967296),4294967295)|0)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],de[O>>2]=V[0],de[O+4>>2]=V[1],R.hb&&c===0&&g===0&&(R.hb=null),0}catch(U){if(typeof Je>"u"||!(U instanceof Q))throw U;return U.Ka}},C:function(o){try{var c=an(o);return c.Ha&&c.Ha.fsync?c.Ha.fsync(c):0}catch(h){if(typeof Je>"u"||!(h instanceof Q))throw h;return h.Ka}},r:function(o,c,h,g){try{e:{var O=an(o);o=c;for(var R=c=0;R<h;R++){var U=ke[o>>2],we=ke[o+4>>2];o+=8;var Le=ar(O,pe,U,we);if(0>Le){var We=-1;break e}c+=Le}We=c}return ke[g>>2]=We,0}catch(ot){if(typeof Je>"u"||!(ot instanceof Q))throw ot;return ot.Ka}}};(function(){function o(O){d.asm=O.exports,Ze=d.asm.I,ds(),wn=d.asm.Aa,fe.unshift(d.asm.J),Qt--,d.monitorRunDependencies&&d.monitorRunDependencies(Qt),Qt==0&&Ke&&(O=Ke,Ke=null,O())}function c(O){o(O.instance)}function h(O){return ee().then(function(R){return WebAssembly.instantiate(R,g)}).then(function(R){return R}).then(O,function(R){ge("failed to asynchronously prepare wasm: "+R),x(R)})}var g={a:iu};if(Qt++,d.monitorRunDependencies&&d.monitorRunDependencies(Qt),d.instantiateWasm)try{return d.instantiateWasm(g,o)}catch(O){return ge("Module.instantiateWasm callback failed with error: "+O),!1}return function(){return be||typeof WebAssembly.instantiateStreaming!="function"||C()||W.startsWith("file://")||X||typeof fetch!="function"?h(c):fetch(W,{credentials:"same-origin"}).then(function(O){return WebAssembly.instantiateStreaming(O,g).then(c,function(R){return ge("wasm streaming compile failed: "+R),ge("falling back to ArrayBuffer instantiation"),h(c)})})}(),{}})(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.J).apply(null,arguments)},d._sqlite3_free=function(){return(d._sqlite3_free=d.asm.K).apply(null,arguments)},d._sqlite3_value_double=function(){return(d._sqlite3_value_double=d.asm.L).apply(null,arguments)},d._sqlite3_value_text=function(){return(d._sqlite3_value_text=d.asm.M).apply(null,arguments)};var $o=d.___errno_location=function(){return($o=d.___errno_location=d.asm.N).apply(null,arguments)};d._sqlite3_prepare_v2=function(){return(d._sqlite3_prepare_v2=d.asm.O).apply(null,arguments)},d._sqlite3_step=function(){return(d._sqlite3_step=d.asm.P).apply(null,arguments)},d._sqlite3_finalize=function(){return(d._sqlite3_finalize=d.asm.Q).apply(null,arguments)},d._sqlite3_reset=function(){return(d._sqlite3_reset=d.asm.R).apply(null,arguments)},d._sqlite3_value_int=function(){return(d._sqlite3_value_int=d.asm.S).apply(null,arguments)},d._sqlite3_clear_bindings=function(){return(d._sqlite3_clear_bindings=d.asm.T).apply(null,arguments)},d._sqlite3_value_blob=function(){return(d._sqlite3_value_blob=d.asm.U).apply(null,arguments)},d._sqlite3_value_bytes=function(){return(d._sqlite3_value_bytes=d.asm.V).apply(null,arguments)},d._sqlite3_value_type=function(){return(d._sqlite3_value_type=d.asm.W).apply(null,arguments)},d._sqlite3_result_blob=function(){return(d._sqlite3_result_blob=d.asm.X).apply(null,arguments)},d._sqlite3_result_double=function(){return(d._sqlite3_result_double=d.asm.Y).apply(null,arguments)},d._sqlite3_result_error=function(){return(d._sqlite3_result_error=d.asm.Z).apply(null,arguments)},d._sqlite3_result_int=function(){return(d._sqlite3_result_int=d.asm._).apply(null,arguments)},d._sqlite3_result_int64=function(){return(d._sqlite3_result_int64=d.asm.$).apply(null,arguments)},d._sqlite3_result_null=function(){return(d._sqlite3_result_null=d.asm.aa).apply(null,arguments)},d._sqlite3_result_text=function(){return(d._sqlite3_result_text=d.asm.ba).apply(null,arguments)},d._sqlite3_sql=function(){return(d._sqlite3_sql=d.asm.ca).apply(null,arguments)},d._sqlite3_aggregate_context=function(){return(d._sqlite3_aggregate_context=d.asm.da).apply(null,arguments)},d._sqlite3_column_count=function(){return(d._sqlite3_column_count=d.asm.ea).apply(null,arguments)},d._sqlite3_data_count=function(){return(d._sqlite3_data_count=d.asm.fa).apply(null,arguments)},d._sqlite3_column_blob=function(){return(d._sqlite3_column_blob=d.asm.ga).apply(null,arguments)},d._sqlite3_column_bytes=function(){return(d._sqlite3_column_bytes=d.asm.ha).apply(null,arguments)},d._sqlite3_column_double=function(){return(d._sqlite3_column_double=d.asm.ia).apply(null,arguments)},d._sqlite3_column_text=function(){return(d._sqlite3_column_text=d.asm.ja).apply(null,arguments)},d._sqlite3_column_type=function(){return(d._sqlite3_column_type=d.asm.ka).apply(null,arguments)},d._sqlite3_column_name=function(){return(d._sqlite3_column_name=d.asm.la).apply(null,arguments)},d._sqlite3_bind_blob=function(){return(d._sqlite3_bind_blob=d.asm.ma).apply(null,arguments)},d._sqlite3_bind_double=function(){return(d._sqlite3_bind_double=d.asm.na).apply(null,arguments)},d._sqlite3_bind_int=function(){return(d._sqlite3_bind_int=d.asm.oa).apply(null,arguments)},d._sqlite3_bind_text=function(){return(d._sqlite3_bind_text=d.asm.pa).apply(null,arguments)},d._sqlite3_bind_parameter_index=function(){return(d._sqlite3_bind_parameter_index=d.asm.qa).apply(null,arguments)},d._sqlite3_normalized_sql=function(){return(d._sqlite3_normalized_sql=d.asm.ra).apply(null,arguments)},d._sqlite3_errmsg=function(){return(d._sqlite3_errmsg=d.asm.sa).apply(null,arguments)},d._sqlite3_exec=function(){return(d._sqlite3_exec=d.asm.ta).apply(null,arguments)},d._sqlite3_changes=function(){return(d._sqlite3_changes=d.asm.ua).apply(null,arguments)},d._sqlite3_close_v2=function(){return(d._sqlite3_close_v2=d.asm.va).apply(null,arguments)},d._sqlite3_create_function_v2=function(){return(d._sqlite3_create_function_v2=d.asm.wa).apply(null,arguments)},d._sqlite3_open=function(){return(d._sqlite3_open=d.asm.xa).apply(null,arguments)};var Ai=d._malloc=function(){return(Ai=d._malloc=d.asm.ya).apply(null,arguments)},Ii=d._free=function(){return(Ii=d._free=d.asm.za).apply(null,arguments)};d._RegisterExtensionFunctions=function(){return(d._RegisterExtensionFunctions=d.asm.Ba).apply(null,arguments)};var Qo=d._emscripten_builtin_memalign=function(){return(Qo=d._emscripten_builtin_memalign=d.asm.Ca).apply(null,arguments)},Ur=d.stackSave=function(){return(Ur=d.stackSave=d.asm.Da).apply(null,arguments)},$r=d.stackRestore=function(){return($r=d.stackRestore=d.asm.Ea).apply(null,arguments)},$n=d.stackAlloc=function(){return($n=d.stackAlloc=d.asm.Fa).apply(null,arguments)};d.UTF8ToString=Qe,d.stackAlloc=$n,d.stackSave=Ur,d.stackRestore=$r,d.cwrap=function(o,c,h,g){h=h||[];var O=h.every(R=>R==="number"||R==="boolean");return c!=="string"&&O&&!g?d["_"+o]:function(){return ru(o,c,h,arguments)}};var Ti;Ke=function o(){Ti||jo(),Ti||(Ke=o)};function jo(){function o(){if(!Ti&&(Ti=!0,d.calledRun=!0,!ze)){if(d.noFSInit||xi||(xi=!0,_i(),d.stdin=d.stdin,d.stdout=d.stdout,d.stderr=d.stderr,d.stdin?Sn("stdin",d.stdin):bs("/dev/tty","/dev/stdin"),d.stdout?Sn("stdout",null,d.stdout):bs("/dev/tty","/dev/stdout"),d.stderr?Sn("stderr",null,d.stderr):bs("/dev/tty1","/dev/stderr"),or("/dev/stdin",0),or("/dev/stdout",1),or("/dev/stderr",1)),ms=!1,re(fe),d.onRuntimeInitialized&&d.onRuntimeInitialized(),d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;){var c=d.postRun.shift();Pe.unshift(c)}re(Pe)}}if(!(0<Qt)){if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)Mn();re(sn),0<Qt||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),o()},1)):o())}}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return jo(),w}),n)};t.exports=r,t.exports.default=r})(jp);var Rb=jp.exports;const Db=Ib(Rb),Lb=""+new URL("sql-wasm-18fc45ef.wasm",import.meta.url).href,Pb="sqlitevfs",Fs=new Map,Mb=2048,Bb=65536;class Fb{constructor(e){ve(this,"_data");ve(this,"_size");this._data=e??new Uint8Array,this._size=this._data.length}get size(){return this._size}read(e,n){if(e>=this._size)return 0;const r=this._data.subarray(e,Math.min(this._size,e+n.length));return n.set(r),r.length}reserve(e){if(this._data.length>=e)return;const n=e-this._data.length,r=Math.min(Bb,Math.max(Mb,this._data.length)),a=new Uint8Array(this._data.length+Math.max(r,n));a.set(this._data),this._data=a}write(e,n){return this.reserve(e+n.length),this._data.set(n,e),this._size=Math.max(this._size,e+n.length),n.length}truncate(e){this._size=e}toUint8Array(){return this._data.subarray(0,this._size)}}const Ub=self.indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,Bf=new Promise((t,e)=>{const n=Ub.open(Pb,1);n.onupgradeneeded=()=>n.result.createObjectStore("files",{keyPath:"name"}),n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)});async function $b(t){const e=await Bf,n=await new Promise((r,a)=>{const p=e.transaction("files","readonly").objectStore("files").get(t);p.onsuccess=()=>r(p.result),p.onerror=()=>a(p.error)});if(n&&!Fs.has(t)){const r=new Fb(n.data);return Fs.set(t,r),r}else return Fs.has(t)?Fs.get(t):null}async function Qb(t,e){const n=await Bf;await new Promise((r,a)=>{const p=n.transaction("files","readwrite").objectStore("files").put({name:t,data:e});p.onsuccess=()=>r(!0),p.onerror=()=>a(p.error)})}async function Dh(t){const e=await Bf;await new Promise((n,r)=>{const l=e.transaction("files","readwrite").objectStore("files").delete(t);l.onsuccess=()=>n(!0),l.onerror=()=>r(l.error)})}async function jb(t,e){if(await Qb(t,e),Fs.has(t)){const n=Fs.get(t);n.truncate(0),n.write(0,e)}}var Vb=t=>t==null||typeof t=="bigint"||typeof t=="number"||typeof t=="object"&&"buffer"in t?t:typeof t=="boolean"?`${t}`:t instanceof Date?t.toISOString():JSON.stringify(t),Hb=t=>{if(t==null||typeof t=="bigint"||typeof t=="number"||typeof t=="object"&&"buffer"in t)return t;if(typeof t=="string"){const e=/^\d{4}-\d{2}-\d{2}[T ]\d{2}:\d{2}:\d{2}(?:\.\d+)?Z?$/;if(/^(true|false)$/.test(t))return t==="true";if(e.test(t))return new Date(t);try{return JSON.parse(t,(n,r)=>typeof r=="string"&&e.exec(r)?new Date(r):r)}catch{}}return t},zb=class extends kf{constructor(e){super();ve(this,"serializer");this.serializer=e||Vb}transformPrimitiveValueList(e){return{...e,values:e.values.map(this.serializer)}}transformColumnUpdate(e){const{value:n}=e;if(n.kind!=="ValueNode")return super.transformColumnUpdate(e);const{value:r,...a}=n,l=this.serializer(r);return r===l?super.transformColumnUpdate(e):super.transformColumnUpdate({...e,value:{...a,value:l}})}transformValue(e){return{...e,value:this.serializer(e.value)}}},Kb=class{constructor({deserializer:t,serializer:e}={}){ve(this,"serializeParametersTransformer");ve(this,"deserializer");ve(this,"ctx");this.serializeParametersTransformer=new zb(e),this.deserializer=t||Hb,this.ctx=new WeakMap}transformQuery({node:t,queryId:e}){return t.kind==="SelectQueryNode"&&this.ctx.set(e,t.kind),this.serializeParametersTransformer.transformNode(t)}async parseResult(t){return await Promise.all(t.map(async e=>{const n={...e};for(const r in n)n[r]=await this.deserializer(n[r]);return n}))}async transformResult({result:t,queryId:e}){const{rows:n}=t,r=this.ctx.get(e);return this.ctx.delete(e),n&&r==="SelectQueryNode"?{...t,rows:await this.parseResult(n)}:t}};function vl(t){return typeof t=="string"}function Jb(t){return typeof t=="boolean"}async function Lh(t,e,n,r,a="rowid"){await Cn`
      create trigger if not exists ${Cn.raw(e)}_${Cn.raw(r)}
      after ${Cn.raw(n)}
      on ${Cn.table(e)}
      begin
        update ${Cn.table(e)}
        set ${Cn.ref(r)} = datetime('now','localtime')
        where ${Cn.ref(a)} = NEW.${Cn.ref(a)};
      end
    `.execute(t).catch(l=>{console.error(l)})}function Gb(t){const e=new Map;for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const r=t[n];e.set(n,r)}return e}async function Yb(t,e,n=!1){for(const[r,a]of e){const{columns:l,property:p}=a;n&&await t.schema.dropTable(r).ifExists().execute().catch();let w=t.schema.createTable(r),v="rowid",d=!1,A="createAt",B="updateAt";if(p!=null&&p.timestamp&&!Jb(p.timestamp)){const{create:F,update:Y}=p.timestamp;A=F??"createAt",B=Y??"updateAt"}for(const F in l){if(!Object.prototype.hasOwnProperty.call(l,F))continue;const Y=l[F];let X="text";const{type:b,notNull:E,defaultTo:N}=Y;switch(b){case"boolean":case"date":case"object":case"string":X="text";break;case"increments":v=F;case"number":X="integer";break;case"blob":X="blob"}[A,B].includes(F)||(w=w.addColumn(F,X,q=>b==="increments"?(d=!0,q.autoIncrement().primaryKey()):(E&&(q=q.notNull()),N!==void 0&&(q=q.defaultTo(N instanceof Function?N(Cn):N)),q)))}if(p){const F=p.primary,Y=p.unique;if(p.timestamp&&(A&&(w=w.addColumn(A,"text")),B&&(w=w.addColumn(B,"text"))),!d&&F){const X=vl(F);v=X?F:F[0],w=w.addPrimaryKeyConstraint(`pk_${X?F:F.join("_")}`,X?[F]:F)}Y==null||Y.forEach(X=>{const b=vl(X);v=!F&&!d?b?X:X[0]:v,w=w.addUniqueConstraint(`un_${b?X:X.join("_")}`,b?[X]:X)})}if(await w.ifNotExists().execute(),p!=null&&p.index)for(const F of p.index){const Y=vl(F);let X=t.schema.createIndex(`idx_${Y?F:F.join("_")}`).on(r);X=Y?X.column(F):X.columns(F),await X.ifNotExists().execute()}p!=null&&p.timestamp&&(A&&await Lh(t,r,"insert",A,v),B&&await Lh(t,r,"update",B,v))}}var Xb=class{constructor(t){ve(this,"kysely");ve(this,"status");ve(this,"tableMap");ve(this,"logger");const{dialect:e,tables:n,dropTableBeforeInit:r,onQuery:a,plugins:l,logger:p}=t;this.logger=p;const w=l??[];w.push(new Kb),this.kysely=new Ia({dialect:e,log:v=>{var d;v.level==="error"?(d=this.logger)==null||d.error("Uncaught DB Error",v.error):a==null||a(v.query,v.queryDurationMillis)},plugins:w}),this.status=r?0:1,this.tableMap=Gb(n)}async init(t=!1){const e=t||this.status===0;return await Yb(this.kysely,this.tableMap,e),this.status=2,this}async isEmptyTable(){var t;return this.status!==2&&await this.init(),this.status===2?!1:((t=this.logger)==null||t.error("fail to init table"),!0)}async transaction(t,e){if(!await this.isEmptyTable())return await this.kysely.transaction().execute(t).catch(n=>{var r;e&&((r=this.logger)==null||r.error(e,n))})}async exec(t,e){if(!await this.isEmptyTable())return t(this.kysely).catch(n=>{var r;e&&((r=this.logger)==null||r.error(e,n))})}async execOne(t,e){if(!await this.isEmptyTable())return t(this.kysely).executeTakeFirstOrThrow().catch(n=>{var r;e&&((r=this.logger)==null||r.error(e,n))})}async execList(t,e){if(!await this.isEmptyTable())return t(this.kysely).execute().catch(n=>{var r;e&&((r=this.logger)==null||r.error(e,n))})}async toSQL(t){return t(this.kysely).compile()}async raw(t){if(!await this.isEmptyTable())return t(Cn).execute(this.kysely)}};async function Ff(t){const e=await new Xb({dialect:t,tables:{test:{columns:{id:{type:"increments"},name:{type:"string"},blobtest:{type:"blob"},createAt:{type:"date"},updateAt:{type:"date"}},property:{timestamp:!0}}}}).init();console.log("test"),console.log(await e.raw(n=>n`PRAGMA table_info(${n.table("test")});`)),console.log(await e.raw(n=>n`select last_insert_rowid()`));for(let n=0;n<100;n++)await e.transaction(r=>r.insertInto("test").values({name:`test at ${Date.now()}`,blobtest:Uint8Array.from([2,3,4,5,6,7,8])}).execute());return e.exec(n=>n.selectFrom("test").selectAll().execute())}const Zb=new Cb({async database(){const t=await Db({locateFile:()=>Lb});return new t.Database(await $b("sqljs"))},onWrite:{func(t){console.log(`[sqljs] write to indexeddb, length: ${t.length}`),jb("sqljs",t)},isThrottle:!0}});function eN(){const t=zm();function e(){Ff(Zb).then(n=>{t.value=n})}return{result:t,run:e}}function tN(){return new Worker(""+new URL("sqljsWorker-060b1c67.js",import.meta.url).href)}function nN(){return new Worker(""+new URL("officialWasmWorker-9871f9ca.js",import.meta.url).href)}const He=0,rN=5,Nt=10,Vp=12,Hp=14,Li=21,_l=25,iN=27,Ph=100,sN=101,oN=3850,aN=522,uN=1,cN=2,zp=4,lN=8,Rs=0,Ui=1,Bu=2,fN=3,Fu=4,hN=512,dN=1024,pN=2048,mN=16384,Mh=1,Bh=2,Fh=3,Uh=4,$h=5,Qh=0x7fffffffffffffffn,jh=-0x8000000000000000n;class _r extends Error{constructor(e,n){super(e),this.code=n}}const Ws=!0;function yN(t){const e={},n=t._getSqliteFree(),r=t._malloc(8),a=[r,r+4];function l(b){if(typeof b!="string")return 0;const E=t.lengthBytesUTF8(b),N=t._sqlite3_malloc(E+1);return t.stringToUTF8(b,N,E+1),N}function p(b,E){return BigInt(E)<<32n|BigInt(b)&0xffffffffn}const w=function(){const b=BigInt(Number.MAX_SAFE_INTEGER)>>32n,E=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(N,q){return q>b||q<E?p(N,q):q*4294967296+(N&2147483647)-(N&2147483648)}}(),v=new Set;function d(b){if(!v.has(b))throw new _r("not a database",Li)}const A=new Map;function B(b){if(!A.has(b))throw new _r("not a statement",Li)}e.bind_collection=function(b,E){B(b);const N=Array.isArray(E),q=e.bind_parameter_count(b);for(let T=1;T<=q;++T){const ne=N?T-1:e.bind_parameter_name(b,T),ye=E[ne];ye!==void 0&&e.bind(b,T,ye)}return He},e.bind=function(b,E,N){switch(B(b),typeof N){case"number":return N===(N|0)?e.bind_int(b,E,N):e.bind_double(b,E,N);case"string":return e.bind_text(b,E,N);default:return N instanceof Uint8Array||Array.isArray(N)?e.bind_blob(b,E,N):N===null?e.bind_null(b,E):typeof N=="bigint"?e.bind_int64(b,E,N):N===void 0?iN:(console.warn("unknown binding converted to null",N),e.bind_null(b,E))}},e.bind_blob=function(){const b="sqlite3_bind_blob",E=t.cwrap(b,...Ee("nnnnn:n"));return function(N,q,T){B(N);const ne=T.byteLength??T.length,ye=t._sqlite3_malloc(ne);t.HEAPU8.subarray(ye).set(T);const ae=E(N,q,ye,ne,n);return X(b,ae,A.get(N))}}(),e.bind_parameter_count=function(){const b="sqlite3_bind_parameter_count",E=t.cwrap(b,...Ee("n:n"));return function(N){return B(N),E(N)}}(),e.bind_double=function(){const b="sqlite3_bind_double",E=t.cwrap(b,...Ee("nnn:n"));return function(N,q,T){B(N);const ne=E(N,q,T);return X(b,ne,A.get(N))}}(),e.bind_int=function(){const b="sqlite3_bind_int",E=t.cwrap(b,...Ee("nnn:n"));return function(N,q,T){if(B(N),T>2147483647||T<-2147483648)return _l;const ne=E(N,q,T);return X(b,ne,A.get(N))}}(),e.bind_int64=function(){const b="sqlite3_bind_int64",E=t.cwrap(b,...Ee("nnnn:n"));return function(N,q,T){if(B(N),T>Qh||T<jh)return _l;const ne=T&0xffffffffn,ye=T>>32n,ae=E(N,q,Number(ne),Number(ye));return X(b,ae,A.get(N))}}(),e.bind_null=function(){const b="sqlite3_bind_null",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){B(N);const T=E(N,q);return X(b,T,A.get(N))}}(),e.bind_parameter_name=function(){const b="sqlite3_bind_parameter_name",E=t.cwrap(b,...Ee("n:s"));return function(N,q){return B(N),E(N,q)}}(),e.bind_text=function(){const b="sqlite3_bind_text",E=t.cwrap(b,...Ee("nnnnn:n"));return function(N,q,T){B(N);const ne=l(T),ye=E(N,q,ne,-1,n);return X(b,ye,A.get(N))}}(),e.changes=function(){const b="sqlite3_changes",E=t.cwrap(b,...Ee("n:n"));return function(N){return d(N),E(N)}}(),e.close=function(){const b="sqlite3_close",E=t.cwrap(b,...Ee("n:n"),{async:Ws});return async function(N){d(N);const q=await E(N);return v.delete(N),X(b,q,N)}}(),e.column=function(b,E){B(b);const N=e.column_type(b,E);switch(N){case Uh:return e.column_blob(b,E);case Bh:return e.column_double(b,E);case Mh:const q=e.column_int(b,E),T=t.getTempRet0();return w(q,T);case $h:return null;case Fh:return e.column_text(b,E);default:throw new _r("unknown type",N)}},e.column_blob=function(){const b="sqlite3_column_blob",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){B(N);const T=e.column_bytes(N,q),ne=E(N,q);return t.HEAPU8.subarray(ne,ne+T)}}(),e.column_bytes=function(){const b="sqlite3_column_bytes",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){return B(N),E(N,q)}}(),e.column_count=function(){const b="sqlite3_column_count",E=t.cwrap(b,...Ee("n:n"));return function(N){return B(N),E(N)}}(),e.column_double=function(){const b="sqlite3_column_double",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){return B(N),E(N,q)}}(),e.column_int=function(){const b="sqlite3_column_int64",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){return B(N),E(N,q)}}(),e.column_int64=function(){const b="sqlite3_column_int64",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){B(N);const T=E(N,q),ne=t.getTempRet0();return p(T,ne)}}(),e.column_name=function(){const b="sqlite3_column_name",E=t.cwrap(b,...Ee("nn:s"));return function(N,q){return B(N),E(N,q)}}(),e.column_names=function(b){const E=[],N=e.column_count(b);for(let q=0;q<N;++q)E.push(e.column_name(b,q));return E},e.column_text=function(){const b="sqlite3_column_text",E=t.cwrap(b,...Ee("nn:s"));return function(N,q){return B(N),E(N,q)}}(),e.column_type=function(){const b="sqlite3_column_type",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){return B(N),E(N,q)}}(),e.create_function=function(b,E,N,q,T,ne,ye,ae){if(d(b),ne&&!ye&&!ae){const ge=t.createFunction(b,E,N,q,T,ne);return X("sqlite3_create_function",ge,b)}if(!ne&&ye&&ae){const ge=t.createAggregate(b,E,N,q,T,ye,ae);return X("sqlite3_create_function",ge,b)}throw new _r("invalid function combination",Li)},e.create_module=function(b,E,N,q){d(b);const T=t.createModule(b,E,N,q);return X("sqlite3_create_module",T,b)},e.data_count=function(){const b="sqlite3_data_count",E=t.cwrap(b,...Ee("n:n"));return function(N){return B(N),E(N)}}(),e.declare_vtab=function(){const b="sqlite3_declare_vtab",E=t.cwrap(b,...Ee("ns:n"));return function(N,q){const T=E(N,q);return X("sqlite3_declare_vtab",T)}}(),e.exec=async function(b,E,N){for await(const q of e.statements(b,E)){let T;for(;await e.step(q)===Ph;)if(N){T=T??e.column_names(q);const ne=e.row(q);await N(ne,T)}}return He},e.finalize=function(){const b="sqlite3_finalize",E=t.cwrap(b,...Ee("n:n"),{async:Ws});return async function(N){if(!A.has(N))return Li;const q=await E(N);return A.get(N),A.delete(N),q}}(),e.get_autocommit=function(){const b="sqlite3_get_autocommit",E=t.cwrap(b,...Ee("n:n"));return function(N){return E(N)}}(),e.libversion=function(){const b="sqlite3_libversion",E=t.cwrap(b,...Ee(":s"));return function(){return E()}}(),e.libversion_number=function(){const b="sqlite3_libversion_number",E=t.cwrap(b,...Ee(":n"));return function(){return E()}}(),e.limit=function(){const b="sqlite3_limit",E=t.cwrap(b,...Ee("nnn:n"));return function(N,q,T){return E(N,q,T)}}(),e.open_v2=function(){const b="sqlite3_open_v2",E=t.cwrap(b,...Ee("snnn:n"),{async:Ws});return async function(N,q,T){q=q||zp|cN,T=l(T);const ne=await E(N,a[0],q,T),ye=t.getValue(a[0],"*");return v.add(ye),t._sqlite3_free(T),t.ccall("RegisterExtensionFunctions","void",["number"],[ye]),X(b,ne),ye}}(),e.prepare_v2=function(){const b="sqlite3_prepare_v2",E=t.cwrap(b,...Ee("nnnnn:n"),{async:Ws});return async function(N,q){const T=await E(N,q,-1,a[0],a[1]);X(b,T,N);const ne=t.getValue(a[0],"*");return ne?(A.set(ne,N),{stmt:ne,sql:t.getValue(a[1],"*")}):null}}(),e.progress_handler=function(b,E,N,q){d(b),t.progressHandler(b,E,N,q)},e.reset=function(){const b="sqlite3_reset",E=t.cwrap(b,...Ee("n:n"),{async:Ws});return async function(N){B(N);const q=await E(N);return X(b,q,A.get(N))}}(),e.result=function(b,E){switch(typeof E){case"number":E===(E|0)?e.result_int(b,E):e.result_double(b,E);break;case"string":e.result_text(b,E);break;default:if(E instanceof Uint8Array||Array.isArray(E))e.result_blob(b,E);else if(E===null)e.result_null(b);else{if(typeof E=="bigint")return e.result_int64(b,E);console.warn("unknown result converted to null",E),e.result_null(b)}break}},e.result_blob=function(){const b="sqlite3_result_blob",E=t.cwrap(b,...Ee("nnnn:n"));return function(N,q){const T=q.byteLength??q.length,ne=t._sqlite3_malloc(T);t.HEAPU8.subarray(ne).set(q),E(N,ne,T,n)}}(),e.result_double=function(){const b="sqlite3_result_double",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){E(N,q)}}(),e.result_int=function(){const b="sqlite3_result_int",E=t.cwrap(b,...Ee("nn:n"));return function(N,q){E(N,q)}}(),e.result_int64=function(){const b="sqlite3_result_int64",E=t.cwrap(b,...Ee("nnn:n"));return function(N,q){if(q>Qh||q<jh)return _l;const T=q&0xffffffffn,ne=q>>32n;E(N,Number(T),Number(ne))}}(),e.result_null=function(){const b="sqlite3_result_null",E=t.cwrap(b,...Ee("n:n"));return function(N){E(N)}}(),e.result_text=function(){const b="sqlite3_result_text",E=t.cwrap(b,...Ee("nnnn:n"));return function(N,q){const T=l(q);E(N,T,-1,n)}}(),e.row=function(b){const E=[],N=e.data_count(b);for(let q=0;q<N;++q){const T=e.column(b,q);E.push((T==null?void 0:T.buffer)===t.HEAPU8.buffer?T.slice():T)}return E},e.set_authorizer=function(b,E,N){d(b);const q=t.setAuthorizer(b,E,N);return X("sqlite3_set_authorizer",q,b)},e.sql=function(){const b="sqlite3_sql",E=t.cwrap(b,...Ee("n:s"));return function(N){return B(N),E(N)}}(),e.statements=function(b,E){return async function*(){const N=e.str_new(b,E);let q={stmt:null,sql:e.str_value(N)};try{for(;q=await e.prepare_v2(b,q.sql);)yield q.stmt,e.finalize(q.stmt),q.stmt=null}finally{q!=null&&q.stmt&&e.finalize(q.stmt),e.str_finish(N)}}()},e.step=function(){const b="sqlite3_step",E=t.cwrap(b,...Ee("n:n"),{async:Ws});return async function(N){B(N);const q=await E(N);return X(b,q,A.get(N),[Ph,sN])}}();let F=0;const Y=new Map;e.str_new=function(b,E=""){const N=t.lengthBytesUTF8(E),q=F++&4294967295,T={offset:t._sqlite3_malloc(N+1),bytes:N};return Y.set(q,T),t.stringToUTF8(E,T.offset,T.bytes+1),q},e.str_appendall=function(b,E){if(!Y.has(b))throw new _r("not a string",Li);const N=Y.get(b),q=t.lengthBytesUTF8(E),T=N.bytes+q,ne=t._sqlite3_malloc(T+1);t.HEAPU8.subarray(ne,ne+T+1).set(t.HEAPU8.subarray(N.offset,N.offset+N.bytes)),t.stringToUTF8(E,ne+N.bytes,q+1),t._sqlite3_free(N.offset),N.offset=ne,N.bytes=T,Y.set(b,N)},e.str_finish=function(b){if(!Y.has(b))throw new _r("not a string",Li);const E=Y.get(b);Y.delete(b),t._sqlite3_free(E.offset)},e.str_value=function(b){if(!Y.has(b))throw new _r("not a string",Li);return Y.get(b).offset},e.user_data=function(b){return t.getFunctionUserData(b)},e.value=function(b){const E=e.value_type(b);switch(E){case Uh:return e.value_blob(b);case Bh:return e.value_double(b);case Mh:const N=e.value_int(b),q=t.getTempRet0();return w(N,q);case $h:return null;case Fh:return e.value_text(b);default:throw new _r("unknown type",E)}},e.value_blob=function(){const b="sqlite3_value_blob",E=t.cwrap(b,...Ee("n:n"));return function(N){const q=e.value_bytes(N),T=E(N);return t.HEAPU8.subarray(T,T+q)}}(),e.value_bytes=function(){const b="sqlite3_value_bytes",E=t.cwrap(b,...Ee("n:n"));return function(N){return E(N)}}(),e.value_double=function(){const b="sqlite3_value_double",E=t.cwrap(b,...Ee("n:n"));return function(N){return E(N)}}(),e.value_int=function(){const b="sqlite3_value_int64",E=t.cwrap(b,...Ee("n:n"));return function(N){return E(N)}}(),e.value_int64=function(){const b="sqlite3_value_int64",E=t.cwrap(b,...Ee("n:n"));return function(N){const q=E(N),T=t.getTempRet0();return p(q,T)}}(),e.value_text=function(){const b="sqlite3_value_text",E=t.cwrap(b,...Ee("n:s"));return function(N){return E(N)}}(),e.value_type=function(){const b="sqlite3_value_type",E=t.cwrap(b,...Ee("n:n"));return function(N){return E(N)}}(),e.vfs_register=function(b,E){const N=t.registerVFS(b,E);return X("sqlite3_vfs_register",N)};function X(b,E,N=null,q=[He]){if(q.includes(E))return E;const T=N?t.ccall("sqlite3_errmsg","string",["number"],[N]):b;throw new _r(T,E)}return e}function Ee(t){const e=[],n=t.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null);break}const r=[];for(let a of n[1])switch(a){case"n":r.push("number");break;case"s":r.push("string");break}return e.push(r),e}var wN=(()=>{var t=import.meta.url;return function(e={}){var n;n||(n=typeof e<"u"?e:{});var r,a;n.ready=new Promise((s,u)=>{r=s,a=u});var l=Object.assign({},n),p="./this.program",w=(s,u)=>{throw u},v=typeof window=="object",d=typeof importScripts=="function",A="",B;(v||d)&&(d?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),t&&(A=t),A.indexOf("blob:")!==0?A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):A="",d&&(B=s=>{var u=new XMLHttpRequest;return u.open("GET",s,!1),u.responseType="arraybuffer",u.send(null),new Uint8Array(u.response)}));var F=n.print||console.log.bind(console),Y=n.printErr||console.warn.bind(console);Object.assign(n,l),l=null,n.thisProgram&&(p=n.thisProgram),n.quit&&(w=n.quit);var X;n.wasmBinary&&(X=n.wasmBinary);var b=n.noExitRuntime||!0;typeof WebAssembly!="object"&&st("no native wasm support detected");var E,N=!1,q,T,ne,ye,ae,ge,be,Ze;function ze(){var s=E.buffer;n.HEAP8=T=new Int8Array(s),n.HEAP16=ye=new Int16Array(s),n.HEAP32=ae=new Int32Array(s),n.HEAPU8=ne=new Uint8Array(s),n.HEAPU16=new Uint16Array(s),n.HEAPU32=ge=new Uint32Array(s),n.HEAPF32=be=new Float32Array(s),n.HEAPF64=Ze=new Float64Array(s)}var Ot=[],Et=[],Qe=[],$t=[],rn=0;function ht(){var s=n.preRun.shift();Ot.unshift(s)}var pe=0,qe=null;function st(s){throw n.onAbort&&n.onAbort(s),s="Aborted("+s+")",Y(s),N=!0,q=1,s=new WebAssembly.RuntimeError(s+". Build with -sASSERTIONS for more info."),a(s),s}function de(s){return s.startsWith("data:application/octet-stream;base64,")}var ke;if(n.locateFile){if(ke="wa-sqlite-async.wasm",!de(ke)){var Wt=ke;ke=n.locateFile?n.locateFile(Wt,A):A+Wt}}else ke=new URL(""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,self.location).href;function br(s){try{if(s==ke&&X)return new Uint8Array(X);if(B)return B(s);throw"both async and sync fetching of the wasm failed"}catch(u){st(u)}}function ds(s){return X||!v&&!d||typeof fetch!="function"?Promise.resolve().then(()=>br(s)):fetch(s,{credentials:"same-origin"}).then(u=>{if(!u.ok)throw"failed to load wasm binary file at '"+s+"'";return u.arrayBuffer()}).catch(()=>br(s))}function wn(s,u,f){return ds(s).then(y=>WebAssembly.instantiate(y,u)).then(y=>y).then(f,y=>{Y("failed to asynchronously prepare wasm: "+y),st(y)})}function sn(s,u){var f=ke;return X||typeof WebAssembly.instantiateStreaming!="function"||de(f)||typeof fetch!="function"?wn(f,s,u):fetch(f,{credentials:"same-origin"}).then(y=>WebAssembly.instantiateStreaming(y,s).then(u,function(_){return Y("wasm streaming compile failed: "+_),Y("falling back to ArrayBuffer instantiation"),wn(f,s,u)}))}var fe,Pe;function Mn(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}function Qt(s){for(;0<s.length;)s.shift()(n)}function Ke(s,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":return T[s>>0];case"i8":return T[s>>0];case"i16":return ye[s>>1];case"i32":return ae[s>>2];case"i64":return ae[s>>2];case"float":return be[s>>2];case"double":return Ze[s>>3];case"*":return ge[s>>2];default:st("invalid type for getValue: "+u)}}function x(s,u,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":T[s>>0]=u;break;case"i8":T[s>>0]=u;break;case"i16":ye[s>>1]=u;break;case"i32":ae[s>>2]=u;break;case"i64":Pe=[u>>>0,(fe=u,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[s>>2]=Pe[0],ae[s+4>>2]=Pe[1];break;case"float":be[s>>2]=u;break;case"double":Ze[s>>3]=u;break;case"*":ge[s>>2]=u;break;default:st("invalid type for setValue: "+f)}}var C=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function W(s,u,f){var y=u+f;for(f=u;s[f]&&!(f>=y);)++f;if(16<f-u&&s.buffer&&C)return C.decode(s.subarray(u,f));for(y="";u<f;){var _=s[u++];if(_&128){var k=s[u++]&63;if((_&224)==192)y+=String.fromCharCode((_&31)<<6|k);else{var I=s[u++]&63;_=(_&240)==224?(_&15)<<12|k<<6|I:(_&7)<<18|k<<12|I<<6|s[u++]&63,65536>_?y+=String.fromCharCode(_):(_-=65536,y+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else y+=String.fromCharCode(_)}return y}function P(s,u){return s?W(ne,s,u):""}var z=(s,u)=>{for(var f=0,y=s.length-1;0<=y;y--){var _=s[y];_==="."?s.splice(y,1):_===".."?(s.splice(y,1),f++):f&&(s.splice(y,1),f--)}if(u)for(;f;f--)s.unshift("..");return s},ee=s=>{var u=s.charAt(0)==="/",f=s.substr(-1)==="/";return(s=z(s.split("/").filter(y=>!!y),!u).join("/"))||u||(s="."),s&&f&&(s+="/"),(u?"/":"")+s},$=s=>{var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(s).slice(1);return s=u[0],u=u[1],!s&&!u?".":(u&&(u=u.substr(0,u.length-1)),s+u)},V=s=>{if(s==="/")return"/";s=ee(s),s=s.replace(/\/$/,"");var u=s.lastIndexOf("/");return u===-1?s:s.substr(u+1)};function re(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return s=>crypto.getRandomValues(s);st("initRandomDevice")}function K(s){return(K=re())(s)}function ce(){for(var s="",u=!1,f=arguments.length-1;-1<=f&&!u;f--){if(u=0<=f?arguments[f]:"/",typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";s=u+"/"+s,u=u.charAt(0)==="/"}return s=z(s.split("/").filter(y=>!!y),!u).join("/"),(u?"/":"")+s||"."}function oe(s){for(var u=0,f=0;f<s.length;++f){var y=s.charCodeAt(f);127>=y?u++:2047>=y?u+=2:55296<=y&&57343>=y?(u+=4,++f):u+=3}return u}function ue(s,u,f,y){if(!(0<y))return 0;var _=f;y=f+y-1;for(var k=0;k<s.length;++k){var I=s.charCodeAt(k);if(55296<=I&&57343>=I){var j=s.charCodeAt(++k);I=65536+((I&1023)<<10)|j&1023}if(127>=I){if(f>=y)break;u[f++]=I}else{if(2047>=I){if(f+1>=y)break;u[f++]=192|I>>6}else{if(65535>=I){if(f+2>=y)break;u[f++]=224|I>>12}else{if(f+3>=y)break;u[f++]=240|I>>18,u[f++]=128|I>>12&63}u[f++]=128|I>>6&63}u[f++]=128|I&63}}return u[f]=0,f-_}var me=[];function Oe(s,u){me[s]={input:[],Rb:[],bc:u},ws(s,je)}var je={open:function(s){var u=me[s.node.ec];if(!u)throw new te(43);s.Sb=u,s.seekable=!1},close:function(s){s.Sb.bc.ic(s.Sb)},ic:function(s){s.Sb.bc.ic(s.Sb)},read:function(s,u,f,y){if(!s.Sb||!s.Sb.bc.zc)throw new te(60);for(var _=0,k=0;k<y;k++){try{var I=s.Sb.bc.zc(s.Sb)}catch{throw new te(29)}if(I===void 0&&_===0)throw new te(6);if(I==null)break;_++,u[f+k]=I}return _&&(s.node.timestamp=Date.now()),_},write:function(s,u,f,y){if(!s.Sb||!s.Sb.bc.sc)throw new te(60);try{for(var _=0;_<y;_++)s.Sb.bc.sc(s.Sb,u[f+_])}catch{throw new te(29)}return y&&(s.node.timestamp=Date.now()),_}},De={zc:function(s){if(!s.input.length){var u=null;if(typeof window<"u"&&typeof window.prompt=="function"?(u=window.prompt("Input: "),u!==null&&(u+=`
`)):typeof readline=="function"&&(u=readline(),u!==null&&(u+=`
`)),!u)return null;var f=Array(oe(u)+1);u=ue(u,f,0,f.length),f.length=u,s.input=f}return s.input.shift()},sc:function(s,u){u===null||u===10?(F(W(s.Rb,0)),s.Rb=[]):u!=0&&s.Rb.push(u)},ic:function(s){s.Rb&&0<s.Rb.length&&(F(W(s.Rb,0)),s.Rb=[])}},rt={sc:function(s,u){u===null||u===10?(Y(W(s.Rb,0)),s.Rb=[]):u!=0&&s.Rb.push(u)},ic:function(s){s.Rb&&0<s.Rb.length&&(Y(W(s.Rb,0)),s.Rb=[])}},he={Vb:null,Ub:function(){return he.createNode(null,"/",16895,0)},createNode:function(s,u,f,y){if((f&61440)===24576||(f&61440)===4096)throw new te(63);return he.Vb||(he.Vb={dir:{node:{Tb:he.Cb.Tb,Qb:he.Cb.Qb,cc:he.Cb.cc,jc:he.Cb.jc,Cc:he.Cb.Cc,oc:he.Cb.oc,mc:he.Cb.mc,Bc:he.Cb.Bc,nc:he.Cb.nc},stream:{Zb:he.Mb.Zb}},file:{node:{Tb:he.Cb.Tb,Qb:he.Cb.Qb},stream:{Zb:he.Mb.Zb,read:he.Mb.read,write:he.Mb.write,vc:he.Mb.vc,kc:he.Mb.kc,lc:he.Mb.lc}},link:{node:{Tb:he.Cb.Tb,Qb:he.Cb.Qb,fc:he.Cb.fc},stream:{}},wc:{node:{Tb:he.Cb.Tb,Qb:he.Cb.Qb},stream:Dr}}),f=Dt(s,u,f,y),(f.mode&61440)===16384?(f.Cb=he.Vb.dir.node,f.Mb=he.Vb.dir.stream,f.Nb={}):(f.mode&61440)===32768?(f.Cb=he.Vb.file.node,f.Mb=he.Vb.file.stream,f.Pb=0,f.Nb=null):(f.mode&61440)===40960?(f.Cb=he.Vb.link.node,f.Mb=he.Vb.link.stream):(f.mode&61440)===8192&&(f.Cb=he.Vb.wc.node,f.Mb=he.Vb.wc.stream),f.timestamp=Date.now(),s&&(s.Nb[u]=f,s.timestamp=f.timestamp),f},Uc:function(s){return s.Nb?s.Nb.subarray?s.Nb.subarray(0,s.Pb):new Uint8Array(s.Nb):new Uint8Array(0)},xc:function(s,u){var f=s.Nb?s.Nb.length:0;f>=u||(u=Math.max(u,f*(1048576>f?2:1.125)>>>0),f!=0&&(u=Math.max(u,256)),f=s.Nb,s.Nb=new Uint8Array(u),0<s.Pb&&s.Nb.set(f.subarray(0,s.Pb),0))},Qc:function(s,u){if(s.Pb!=u)if(u==0)s.Nb=null,s.Pb=0;else{var f=s.Nb;s.Nb=new Uint8Array(u),f&&s.Nb.set(f.subarray(0,Math.min(u,s.Pb))),s.Pb=u}},Cb:{Tb:function(s){var u={};return u.Ic=(s.mode&61440)===8192?s.id:1,u.qc=s.id,u.mode=s.mode,u.Oc=1,u.uid=0,u.Lc=0,u.ec=s.ec,(s.mode&61440)===16384?u.size=4096:(s.mode&61440)===32768?u.size=s.Pb:(s.mode&61440)===40960?u.size=s.link.length:u.size=0,u.Ec=new Date(s.timestamp),u.Nc=new Date(s.timestamp),u.Hc=new Date(s.timestamp),u.Fc=4096,u.Gc=Math.ceil(u.size/u.Fc),u},Qb:function(s,u){u.mode!==void 0&&(s.mode=u.mode),u.timestamp!==void 0&&(s.timestamp=u.timestamp),u.size!==void 0&&he.Qc(s,u.size)},cc:function(){throw qn[44]},jc:function(s,u,f,y){return he.createNode(s,u,f,y)},Cc:function(s,u,f){if((s.mode&61440)===16384){try{var y=Bn(u,f)}catch{}if(y)for(var _ in y.Nb)throw new te(55)}delete s.parent.Nb[s.name],s.parent.timestamp=Date.now(),s.name=f,u.Nb[f]=s,u.timestamp=s.parent.timestamp,s.parent=u},oc:function(s,u){delete s.Nb[u],s.timestamp=Date.now()},mc:function(s,u){var f=Bn(s,u),y;for(y in f.Nb)throw new te(55);delete s.Nb[u],s.timestamp=Date.now()},Bc:function(s){var u=[".",".."],f;for(f in s.Nb)s.Nb.hasOwnProperty(f)&&u.push(f);return u},nc:function(s,u,f){return s=he.createNode(s,u,41471,0),s.link=f,s},fc:function(s){if((s.mode&61440)!==40960)throw new te(28);return s.link}},Mb:{read:function(s,u,f,y,_){var k=s.node.Nb;if(_>=s.node.Pb)return 0;if(s=Math.min(s.node.Pb-_,y),8<s&&k.subarray)u.set(k.subarray(_,_+s),f);else for(y=0;y<s;y++)u[f+y]=k[_+y];return s},write:function(s,u,f,y,_,k){if(u.buffer===T.buffer&&(k=!1),!y)return 0;if(s=s.node,s.timestamp=Date.now(),u.subarray&&(!s.Nb||s.Nb.subarray)){if(k)return s.Nb=u.subarray(f,f+y),s.Pb=y;if(s.Pb===0&&_===0)return s.Nb=u.slice(f,f+y),s.Pb=y;if(_+y<=s.Pb)return s.Nb.set(u.subarray(f,f+y),_),y}if(he.xc(s,_+y),s.Nb.subarray&&u.subarray)s.Nb.set(u.subarray(f,f+y),_);else for(k=0;k<y;k++)s.Nb[_+k]=u[f+k];return s.Pb=Math.max(s.Pb,_+y),y},Zb:function(s,u,f){if(f===1?u+=s.position:f===2&&(s.node.mode&61440)===32768&&(u+=s.node.Pb),0>u)throw new te(28);return u},vc:function(s,u,f){he.xc(s.node,u+f),s.node.Pb=Math.max(s.node.Pb,u+f)},kc:function(s,u,f,y,_){if((s.node.mode&61440)!==32768)throw new te(43);if(s=s.node.Nb,_&2||s.buffer!==T.buffer){if((0<f||f+u<s.length)&&(s.subarray?s=s.subarray(f,f+u):s=Array.prototype.slice.call(s,f,f+u)),f=!0,u=65536*Math.ceil(u/65536),(_=mu(65536,u))?(ne.fill(0,_,_+u),u=_):u=0,!u)throw new te(48);T.set(s,u)}else f=!1,u=s.byteOffset;return{Pc:u,Dc:f}},lc:function(s,u,f,y){return he.Mb.write(s,u,0,y,f,!1),0}}},gn=null,mi={},jt=[],ps=1,le=null,Rt=!0,te=null,qn={},Vt=(s,u={})=>{if(s=ce(s),!s)return{path:"",node:null};if(u=Object.assign({yc:!0,tc:0},u),8<u.tc)throw new te(32);s=s.split("/").filter(I=>!!I);for(var f=gn,y="/",_=0;_<s.length;_++){var k=_===s.length-1;if(k&&u.parent)break;if(f=Bn(f,s[_]),y=ee(y+"/"+s[_]),f.$b&&(!k||k&&u.yc)&&(f=f.$b.root),!k||u.Yb){for(k=0;(f.mode&61440)===40960;)if(f=gi(y),y=ce($(y),f),f=Vt(y,{tc:u.tc+1}).node,40<k++)throw new te(32)}}return{path:y,node:f}},bn=s=>{for(var u;;){if(s===s.parent)return s=s.Ub.Ac,u?s[s.length-1]!=="/"?s+"/"+u:s+u:s;u=u?s.name+"/"+u:s.name,s=s.parent}},ms=(s,u)=>{for(var f=0,y=0;y<u.length;y++)f=(f<<5)-f+u.charCodeAt(y)|0;return(s+f>>>0)%le.length},Q=s=>{var u=ms(s.parent.id,s.name);if(le[u]===s)le[u]=s.ac;else for(u=le[u];u;){if(u.ac===s){u.ac=s.ac;break}u=u.ac}},Bn=(s,u)=>{var f;if(f=(f=Nr(s,"x"))?f:s.Cb.cc?0:2)throw new te(f,s);for(f=le[ms(s.id,u)];f;f=f.ac){var y=f.name;if(f.parent.id===s.id&&y===u)return f}return s.Cb.cc(s,u)},Dt=(s,u,f,y)=>(s=new hu(s,u,f,y),u=ms(s.parent.id,s.name),s.ac=le[u],le[u]=s),yi={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},ys=s=>{var u=["r","w","rw"][s&3];return s&512&&(u+="w"),u},Nr=(s,u)=>{if(Rt)return 0;if(!u.includes("r")||s.mode&292){if(u.includes("w")&&!(s.mode&146)||u.includes("x")&&!(s.mode&73))return 2}else return 2;return 0},sr=(s,u)=>{try{return Bn(s,u),20}catch{}return Nr(s,"wx")},Io=(s,u,f)=>{try{var y=Bn(s,u)}catch(_){return _.Ob}if(s=Nr(s,"wx"))return s;if(f){if((y.mode&61440)!==16384)return 54;if(y===y.parent||bn(y)==="/")return 10}else if((y.mode&61440)===16384)return 31;return 0},il=(s=0)=>{for(;4096>=s;s++)if(!jt[s])return s;throw new te(33)},To=(s,u)=>(Mr||(Mr=function(){this.hc={}},Mr.prototype={},Object.defineProperties(Mr.prototype,{object:{get:function(){return this.node},set:function(f){this.node=f}},flags:{get:function(){return this.hc.flags},set:function(f){this.hc.flags=f}},position:{get:function(){return this.hc.position},set:function(f){this.hc.position=f}}})),s=Object.assign(new Mr,s),u=il(u),s.Wb=u,jt[u]=s),Dr={open:s=>{s.Mb=mi[s.node.ec].Mb,s.Mb.open&&s.Mb.open(s)},Zb:()=>{throw new te(70)}},ws=(s,u)=>{mi[s]={Mb:u}},ko=(s,u)=>{var f=u==="/",y=!u;if(f&&gn)throw new te(10);if(!f&&!y){var _=Vt(u,{yc:!1});if(u=_.path,_=_.node,_.$b)throw new te(10);if((_.mode&61440)!==16384)throw new te(54)}u={type:s,Wc:{},Ac:u,Mc:[]},s=s.Ub(u),s.Ub=u,u.root=s,f?gn=s:_&&(_.$b=u,_.Ub&&_.Ub.Mc.push(u))},Wo=(s,u,f)=>{var y=Vt(s,{parent:!0}).node;if(s=V(s),!s||s==="."||s==="..")throw new te(28);var _=sr(y,s);if(_)throw new te(_);if(!y.Cb.jc)throw new te(63);return y.Cb.jc(y,s,u,f)},Nn=(s,u)=>Wo(s,(u!==void 0?u:511)&1023|16384,0),gs=(s,u,f)=>{typeof f>"u"&&(f=u,u=438),Wo(s,u|8192,f)},wi=(s,u)=>{if(!ce(s))throw new te(44);var f=Vt(u,{parent:!0}).node;if(!f)throw new te(44);u=V(u);var y=sr(f,u);if(y)throw new te(y);if(!f.Cb.nc)throw new te(63);f.Cb.nc(f,u,s)},Ro=s=>{var u=Vt(s,{parent:!0}).node;s=V(s);var f=Bn(u,s),y=Io(u,s,!0);if(y)throw new te(y);if(!u.Cb.mc)throw new te(63);if(f.$b)throw new te(10);u.Cb.mc(u,s),Q(f)},gi=s=>{if(s=Vt(s).node,!s)throw new te(44);if(!s.Cb.fc)throw new te(28);return ce(bn(s.parent),s.Cb.fc(s))},Yt=(s,u)=>{if(s=Vt(s,{Yb:!u}).node,!s)throw new te(44);if(!s.Cb.Tb)throw new te(63);return s.Cb.Tb(s)},bi=s=>Yt(s,!0),bs=(s,u)=>{if(s=typeof s=="string"?Vt(s,{Yb:!0}).node:s,!s.Cb.Qb)throw new te(63);s.Cb.Qb(s,{mode:u&4095|s.mode&-4096,timestamp:Date.now()})},Do=(s,u)=>{if(0>u)throw new te(28);if(s=typeof s=="string"?Vt(s,{Yb:!0}).node:s,!s.Cb.Qb)throw new te(63);if((s.mode&61440)===16384)throw new te(31);if((s.mode&61440)!==32768)throw new te(28);var f=Nr(s,"w");if(f)throw new te(f);s.Cb.Qb(s,{size:u,timestamp:Date.now()})},Ni=(s,u,f)=>{if(s==="")throw new te(44);if(typeof u=="string"){var y=yi[u];if(typeof y>"u")throw Error("Unknown file open mode: "+u);u=y}if(f=u&64?(typeof f>"u"?438:f)&4095|32768:0,typeof s=="object")var _=s;else{s=ee(s);try{_=Vt(s,{Yb:!(u&131072)}).node}catch{}}if(y=!1,u&64)if(_){if(u&128)throw new te(20)}else _=Wo(s,f,0),y=!0;if(!_)throw new te(44);if((_.mode&61440)===8192&&(u&=-513),u&65536&&(_.mode&61440)!==16384)throw new te(54);if(!y&&(f=_?(_.mode&61440)===40960?32:(_.mode&61440)===16384&&(ys(u)!=="r"||u&512)?31:Nr(_,ys(u)):44))throw new te(f);return u&512&&!y&&Do(_,0),u&=-131713,_=To({node:_,path:bn(_),flags:u,seekable:!0,position:0,Mb:_.Mb,Tc:[],error:!1}),_.Mb.open&&_.Mb.open(_),!n.logReadFiles||u&1||(vi||(vi={}),s in vi||(vi[s]=1)),_},Lo=(s,u,f)=>{if(s.Wb===null)throw new te(8);if(!s.seekable||!s.Mb.Zb)throw new te(70);if(f!=0&&f!=1&&f!=2)throw new te(28);s.position=s.Mb.Zb(s,u,f),s.Tc=[]},Lr=()=>{te||(te=function(s,u){this.name="ErrnoError",this.node=u,this.Rc=function(f){this.Ob=f},this.Rc(s),this.message="FS error"},te.prototype=Error(),te.prototype.constructor=te,[44].forEach(s=>{qn[s]=new te(s),qn[s].stack="<generic error, no stack>"}))},Po,Ns=(s,u)=>{var f=0;return s&&(f|=365),u&&(f|=146),f},Pr=(s,u,f)=>{s=ee("/dev/"+s);var y=Ns(!!u,!!f);or||(or=64);var _=or++<<8|0;ws(_,{open:k=>{k.seekable=!1},close:()=>{f&&f.buffer&&f.buffer.length&&f(10)},read:(k,I,j,L)=>{for(var M=0,ie=0;ie<L;ie++){try{var G=u()}catch{throw new te(29)}if(G===void 0&&M===0)throw new te(6);if(G==null)break;M++,I[j+ie]=G}return M&&(k.node.timestamp=Date.now()),M},write:(k,I,j,L)=>{for(var M=0;M<L;M++)try{f(I[j+M])}catch{throw new te(29)}return L&&(k.node.timestamp=Date.now()),M}}),gs(s,y,_)},or,Ve={},Mr,vi;function ar(s,u,f){if(u.charAt(0)==="/")return u;if(s=s===-100?"/":on(s).path,u.length==0){if(!f)throw new te(44);return s}return ee(s+"/"+u)}function vs(s,u,f){try{var y=s(u)}catch(k){if(k&&k.node&&ee(u)!==ee(bn(k.node)))return-54;throw k}ae[f>>2]=y.Ic,ae[f+8>>2]=y.qc,ae[f+12>>2]=y.mode,ge[f+16>>2]=y.Oc,ae[f+20>>2]=y.uid,ae[f+24>>2]=y.Lc,ae[f+28>>2]=y.ec,Pe=[y.size>>>0,(fe=y.size,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+40>>2]=Pe[0],ae[f+44>>2]=Pe[1],ae[f+48>>2]=4096,ae[f+52>>2]=y.Gc,s=y.Ec.getTime(),u=y.Nc.getTime();var _=y.Hc.getTime();return Pe=[Math.floor(s/1e3)>>>0,(fe=Math.floor(s/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+56>>2]=Pe[0],ae[f+60>>2]=Pe[1],ge[f+64>>2]=s%1e3*1e3,Pe=[Math.floor(u/1e3)>>>0,(fe=Math.floor(u/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+72>>2]=Pe[0],ae[f+76>>2]=Pe[1],ge[f+80>>2]=u%1e3*1e3,Pe=[Math.floor(_/1e3)>>>0,(fe=Math.floor(_/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+88>>2]=Pe[0],ae[f+92>>2]=Pe[1],ge[f+96>>2]=_%1e3*1e3,Pe=[y.qc>>>0,(fe=y.qc,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+104>>2]=Pe[0],ae[f+108>>2]=Pe[1],0}var _i=void 0;function xi(){return _i+=4,ae[_i-4>>2]}function on(s){if(s=jt[s],!s)throw new te(8);return s}function Sn(s,u,f){return ue(s,ne,u,f)}function Oi(s){return ge[s>>2]+4294967296*ae[s+4>>2]}var Je=[0,31,60,91,121,152,182,213,244,274,305,335],Ei=[0,31,59,90,120,151,181,212,243,273,304,334];function Ci(s){var u=oe(s)+1,f=Jo(u);return f&&Sn(s,f,u),f}var Fn={};function qi(){if(!Br){var s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"},u;for(u in Fn)Fn[u]===void 0?delete s[u]:s[u]=Fn[u];var f=[];for(u in s)f.push(u+"="+s[u]);Br=f}return Br}var Br;function Si(){}function an(){}function _s(){}function Mo(){}function nu(){}function xs(){}function Bo(){}function Os(){}function Fo(){}function Es(){}function Un(){}function Cs(){}function qs(){}function Fr(){}function Ss(){}function ru(){}function Uo(){}function iu(){}function $o(){}function Ai(){}function Ii(){}function Qo(){}function Ur(){}function $r(){}function $n(){}function Ti(){}function jo(){}function o(){}function c(){}function h(){}function g(){}function O(){}function R(){}function U(){}function we(){}function Le(){}function We(){}function ot(){}function An(){}function Vo(s){q=s,b||0<rn||(n.onExit&&n.onExit(s),N=!0),w(s,new Mn(s))}function Ho(s){s instanceof Mn||s=="unwind"||w(1,s)}function ki(s){try{s()}catch(u){st(u)}}function sl(s){var u={},f;for(f in s)(function(y){var _=s[y];u[y]=typeof _=="function"?function(){As.push(y);try{return _.apply(null,arguments)}finally{N||(As.pop()===y||st(),In&&Qn===1&&As.length===0&&(Qn=0,ki(bu),typeof Fibers<"u"&&Fibers.Xc()))}}:_})(f);return u}var Qn=0,In=null,su=0,As=[],ou={},au={},ol=0,zo=null,al=[];function uu(){return new Promise((s,u)=>{zo={resolve:s,reject:u}})}function ul(){var s=Jo(12300),u=s+12;ae[s>>2]=u,ae[s+4>>2]=u+12288,u=As[0];var f=ou[u];return f===void 0&&(f=ol++,ou[u]=f,au[f]=u),ae[s+8>>2]=f,s}function cu(s){if(!N){if(Qn===0){var u=!1,f=!1;s((y=0)=>{if(!N&&(su=y,u=!0,f)){Qn=2,ki(()=>Wi(In)),y=!1;try{var _=(0,n.asm[au[ae[In+8>>2]]])()}catch(j){_=j,y=!0}var k=!1;if(!In){var I=zo;I&&(zo=null,(y?I.reject:I.resolve)(_),k=!0)}if(y&&!k)throw _}}),f=!0,u||(Qn=1,In=ul(),ki(()=>gu(In)))}else Qn===2?(Qn=0,ki(Xo),du(In),In=null,al.forEach(y=>{if(!N)try{if(y(),!(b||0<rn))try{q=y=q,Vo(y)}catch(_){Ho(_)}}catch(_){Ho(_)}})):st("invalid state: "+Qn);return su}}function lu(s){return cu(u=>{s().then(u)})}var fu={};function Tn(s,u,f,y,_){function k(G){return--rn,L!==0&&Go(L),u==="string"?P(G):u==="boolean"?!!G:G}var I={string:G=>{var se=0;if(G!=null&&G!==0){se=oe(G)+1;var Ae=Yo(se);Sn(G,Ae,se),se=Ae}return se},array:G=>{var se=Yo(G.length);return T.set(G,se),se}};s=n["_"+s];var j=[],L=0;if(y)for(var M=0;M<y.length;M++){var ie=I[f[M]];ie?(L===0&&(L=wu()),j[M]=ie(y[M])):j[M]=y[M]}return f=In,y=s.apply(null,j),rn+=1,_=_&&_.async,In!=f?uu().then(k):(y=k(y),_?Promise.resolve(y):y)}function hu(s,u,f,y){s||(s=this),this.parent=s,this.Ub=s.Ub,this.$b=null,this.id=ps++,this.name=u,this.mode=f,this.Cb={},this.Mb={},this.ec=y}Object.defineProperties(hu.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(s){s?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(s){s?this.mode|=146:this.mode&=-147}}}),Lr(),le=Array(4096),ko(he,"/"),Nn("/tmp"),Nn("/home"),Nn("/home/web_user"),(()=>{Nn("/dev"),ws(259,{read:()=>0,write:(y,_,k,I)=>I}),gs("/dev/null",259),Oe(1280,De),Oe(1536,rt),gs("/dev/tty",1280),gs("/dev/tty1",1536);var s=new Uint8Array(1024),u=0,f=()=>(u===0&&(u=K(s).byteLength),s[--u]);Pr("random",f),Pr("urandom",f),Nn("/dev/shm"),Nn("/dev/shm/tmp")})(),(()=>{Nn("/proc");var s=Nn("/proc/self");Nn("/proc/self/fd"),ko({Ub:()=>{var u=Dt(s,"fd",16895,73);return u.Cb={cc:(f,y)=>{var _=jt[+y];if(!_)throw new te(8);return f={parent:null,Ub:{Ac:"fake"},Cb:{fc:()=>_.path}},f.parent=f}},u}},"/proc/self/fd")})(),function(){const s=new Map;n.setAuthorizer=function(u,f,y){return f?s.set(u,{f,uc:y}):s.delete(u),Tn("set_authorizer","number",["number"],[u])},Si=function(u,f,y,_,k,I){if(s.has(u)){const{f:j,uc:L}=s.get(u);return j(L,f,y?P(y):null,_?P(_):null,k?P(k):null,I?P(I):null)}return 0}}(),function(){const s=new Map,u=new Map;n.createFunction=function(f,y,_,k,I,j){const L=s.size;return s.set(L,{f:j,Xb:I}),Tn("create_function","number","number string number number number number".split(" "),[f,y,_,k,L,0])},n.createAggregate=function(f,y,_,k,I,j,L){const M=s.size;return s.set(M,{step:j,Jc:L,Xb:I}),Tn("create_function","number","number string number number number number".split(" "),[f,y,_,k,M,1])},n.getFunctionUserData=function(f){return u.get(f)},_s=function(f,y,_,k){f=s.get(f),u.set(y,f.Xb),f.f(y,new Uint32Array(ne.buffer,k,_)),u.delete(y)},nu=function(f,y,_,k){f=s.get(f),u.set(y,f.Xb),f.step(y,new Uint32Array(ne.buffer,k,_)),u.delete(y)},an=function(f,y){f=s.get(f),u.set(y,f.Xb),f.Jc(y),u.delete(y)}}(),function(){const s=new Map;n.progressHandler=function(u,f,y,_){return y?s.set(u,{f:y,uc:_}):s.delete(u),Tn("progress_handler",null,["number","number"],[u,f])},Mo=function(u){if(s.has(u)){const{f,uc:y}=s.get(u);return f(y)}return 0}}(),function(){function s(L,M){const ie=`get${L}`,G=`set${L}`;return new Proxy(new DataView(ne.buffer,M,L==="Int32"?4:8),{get(se,Ae){if(Ae===ie)return function(Ge,St){if(!St)throw Error("must be little endian");return se[Ae](Ge,St)};if(Ae===G)return function(Ge,St,wt){if(!wt)throw Error("must be little endian");return se[Ae](Ge,St,wt)};if(typeof Ae=="string"&&Ae.match(/^(get)|(set)/))throw Error("invalid type");return se[Ae]}})}const u=typeof fu=="object",f=new Map,y=new Map,_=new Map,k=u?new Set:null,I=u?new Set:null,j=new Map;Qo=function(L,M,ie,G){j.set(P(L),{size:M,dc:Array.from(new Uint32Array(ne.buffer,G,ie))})},n.createModule=function(L,M,ie,G){u&&(ie.handleAsync=lu);const se=f.size;return f.set(se,{module:ie,Xb:G}),G=0,ie.xCreate&&(G|=1),ie.xConnect&&(G|=2),ie.xBestIndex&&(G|=4),ie.xDisconnect&&(G|=8),ie.xDestroy&&(G|=16),ie.xOpen&&(G|=32),ie.xClose&&(G|=64),ie.xFilter&&(G|=128),ie.xNext&&(G|=256),ie.xEof&&(G|=512),ie.xColumn&&(G|=1024),ie.xRowid&&(G|=2048),ie.xUpdate&&(G|=4096),ie.xBegin&&(G|=8192),ie.xSync&&(G|=16384),ie.xCommit&&(G|=32768),ie.xRollback&&(G|=65536),ie.xFindFunction&&(G|=131072),ie.xRename&&(G|=262144),Tn("create_module","number",["number","string","number","number"],[L,M,se,G])},Cs=function(L,M,ie,G,se,Ae){if(M=f.get(M),y.set(se,M),u){k.delete(se);for(const Ge of k)y.delete(Ge)}return G=Array.from(new Uint32Array(ne.buffer,G,ie)).map(Ge=>P(Ge)),M.module.xCreate(L,M.Xb,G,se,s("Int32",Ae))},Un=function(L,M,ie,G,se,Ae){if(M=f.get(M),y.set(se,M),u){k.delete(se);for(const Ge of k)y.delete(Ge)}return G=Array.from(new Uint32Array(ne.buffer,G,ie)).map(Ge=>P(Ge)),M.module.xConnect(L,M.Xb,G,se,s("Int32",Ae))},Bo=function(L,M){var ie=y.get(L),G=j.get("sqlite3_index_info").dc;const se={};se.nConstraint=Ke(M+G[0],"i32"),se.aConstraint=[];for(var Ae=Ke(M+G[1],"*"),Ge=j.get("sqlite3_index_constraint").size,St=0;St<se.nConstraint;++St){var wt=se.aConstraint,un=wt.push,Lt=Ae+St*Ge,Ts=j.get("sqlite3_index_constraint").dc,Qr={};Qr.iColumn=Ke(Lt+Ts[0],"i32"),Qr.op=Ke(Lt+Ts[1],"i8"),Qr.usable=!!Ke(Lt+Ts[2],"i8"),un.call(wt,Qr)}for(se.nOrderBy=Ke(M+G[2],"i32"),se.aOrderBy=[],Ae=Ke(M+G[3],"*"),Ge=j.get("sqlite3_index_orderby").size,St=0;St<se.nOrderBy;++St)wt=se.aOrderBy,un=wt.push,Lt=Ae+St*Ge,Ts=j.get("sqlite3_index_orderby").dc,Qr={},Qr.iColumn=Ke(Lt+Ts[0],"i32"),Qr.desc=!!Ke(Lt+Ts[1],"i8"),un.call(wt,Qr);for(se.aConstraintUsage=[],Ae=0;Ae<se.nConstraint;++Ae)se.aConstraintUsage.push({argvIndex:0,omit:!1});for(se.idxNum=Ke(M+G[5],"i32"),se.idxStr=null,se.orderByConsumed=!!Ke(M+G[8],"i8"),se.estimatedCost=Ke(M+G[9],"double"),se.estimatedRows=Ke(M+G[10],"i64"),se.idxFlags=Ke(M+G[11],"i32"),se.colUsed=Ke(M+G[12],"i64"),L=ie.module.xBestIndex(L,se),ie=j.get("sqlite3_index_info").dc,G=Ke(M+ie[4],"*"),Ae=j.get("sqlite3_index_constraint_usage").size,un=0;un<se.nConstraint;++un)Ge=G+un*Ae,wt=se.aConstraintUsage[un],Lt=j.get("sqlite3_index_constraint_usage").dc,x(Ge+Lt[0],wt.argvIndex,"i32"),x(Ge+Lt[1],wt.omit?1:0,"i8");return x(M+ie[5],se.idxNum,"i32"),typeof se.idxStr=="string"&&(G=oe(se.idxStr),Ae=Tn("sqlite3_malloc","number",["number"],[G+1]),Sn(se.idxStr,Ae,G+1),x(M+ie[6],Ae,"*"),x(M+ie[7],1,"i32")),x(M+ie[8],se.orderByConsumed,"i32"),x(M+ie[9],se.estimatedCost,"double"),x(M+ie[10],se.estimatedRows,"i64"),x(M+ie[11],se.idxFlags,"i32"),L},Fr=function(L){const M=y.get(L);return u?k.add(L):y.delete(L),M.module.xDisconnect(L)},qs=function(L){const M=y.get(L);return u?k.add(L):y.delete(L),M.module.xDestroy(L)},iu=function(L,M){const ie=y.get(L);if(_.set(M,ie),u){I.delete(M);for(const G of I)_.delete(G)}return ie.module.xOpen(L,M)},Os=function(L){const M=_.get(L);return u?I.add(L):_.delete(L),M.module.xClose(L)},Ss=function(L){return _.get(L).module.xEof(L)?1:0},ru=function(L,M,ie,G,se){const Ae=_.get(L);return ie=ie?P(ie):null,se=new Uint32Array(ne.buffer,se,G),Ae.module.xFilter(L,M,ie,se)},Uo=function(L){return _.get(L).module.xNext(L)},Fo=function(L,M,ie){return _.get(L).module.xColumn(L,M,ie)},Ii=function(L,M){return _.get(L).module.xRowid(L,s("BigInt64",M))},$r=function(L,M,ie,G){const se=y.get(L);return ie=new Uint32Array(ne.buffer,ie,M),se.module.xUpdate(L,ie,s("BigInt64",G))},xs=function(L){return y.get(L).module.xBegin(L)},Ur=function(L){return y.get(L).module.xSync(L)},Es=function(L){return y.get(L).module.xCommit(L)},Ai=function(L){return y.get(L).module.xRollback(L)},$o=function(L,M){const ie=y.get(L);return M=P(M),ie.module.xRename(L,M)}}(),function(){function s(I,j){const L=`get${I}`,M=`set${I}`;return new Proxy(new DataView(ne.buffer,j,I==="Int32"?4:8),{get(ie,G){if(G===L)return function(se,Ae){if(!Ae)throw Error("must be little endian");return ie[G](se,Ae)};if(G===M)return function(se,Ae,Ge){if(!Ge)throw Error("must be little endian");return ie[G](se,Ae,Ge)};if(typeof G=="string"&&G.match(/^(get)|(set)/))throw Error("invalid type");return ie[G]}})}function u(I){return I>>=2,ge[I]+ge[I+1]*2**32}const f=typeof fu=="object",y=new Map,_=new Map;n.registerVFS=function(I,j){if(Tn("sqlite3_vfs_find","number",["string"],[I.name]))throw Error(`VFS '${I.name}' already registered`);f&&(I.handleAsync=lu);var L=I.Vc??64;const M=n._malloc(4);return j=Tn("register_vfs","number",["string","number","number","number"],[I.name,L,j?1:0,M]),j||(L=Ke(M,"*"),y.set(L,I)),n._free(M),j};const k=f?new Set:null;jo=function(I){const j=_.get(I);return f?k.add(I):_.delete(I),j.xClose(I)},U=function(I,j,L,M){return _.get(I).xRead(I,ne.subarray(j,j+L),u(M))},An=function(I,j,L,M){return _.get(I).xWrite(I,ne.subarray(j,j+L),u(M))},We=function(I,j){return _.get(I).xTruncate(I,u(j))},Le=function(I,j){return _.get(I).xSync(I,j)},g=function(I,j){const L=_.get(I);return j=s("BigInt64",j),L.xFileSize(I,j)},O=function(I,j){return _.get(I).xLock(I,j)},ot=function(I,j){return _.get(I).xUnlock(I,j)},Ti=function(I,j){const L=_.get(I);return j=s("Int32",j),L.xCheckReservedLock(I,j)},h=function(I,j,L){const M=_.get(I);return L=new DataView(ne.buffer,L),M.xFileControl(I,j,L)},we=function(I){return _.get(I).xSectorSize(I)},c=function(I){return _.get(I).xDeviceCharacteristics(I)},R=function(I,j,L,M,ie){if(I=y.get(I),_.set(L,I),f){k.delete(L);for(var G of k)_.delete(G)}if(G=null,M&64){G=1;const se=[];for(;G;){const Ae=ne[j++];if(Ae)se.push(Ae);else switch(ne[j]||(G=null),G){case 1:se.push(63),G=2;break;case 2:se.push(61),G=3;break;case 3:se.push(38),G=2}}G=new TextDecoder().decode(new Uint8Array(se))}else j&&(G=P(j));return ie=s("Int32",ie),I.xOpen(G,L,M,ie)},o=function(I,j,L){return y.get(I).xDelete(P(j),L)},$n=function(I,j,L,M){return I=y.get(I),M=s("Int32",M),I.xAccess(P(j),L,M)}}();var cl={a:function(s,u,f,y){st("Assertion failed: "+P(s)+", at: "+[u?P(u):"unknown filename",f,y?P(y):"unknown function"])},K:function(s,u){try{return s=P(s),bs(s,u),0}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},M:function(s,u,f){try{if(u=P(u),u=ar(s,u),f&-8)return-28;var y=Vt(u,{Yb:!0}).node;return y?(s="",f&4&&(s+="r"),f&2&&(s+="w"),f&1&&(s+="x"),s&&Nr(y,s)?-2:0):-44}catch(_){if(typeof Ve>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},L:function(s,u){try{var f=jt[s];if(!f)throw new te(8);return bs(f.node,u),0}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},J:function(s){try{var u=jt[s];if(!u)throw new te(8);var f=u.node,y=typeof f=="string"?Vt(f,{Yb:!0}).node:f;if(!y.Cb.Qb)throw new te(63);return y.Cb.Qb(y,{timestamp:Date.now()}),0}catch(_){if(typeof Ve>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},b:function(s,u,f){_i=f;try{var y=on(s);switch(u){case 0:var _=xi();return 0>_?-28:To(y,_).Wb;case 1:case 2:return 0;case 3:return y.flags;case 4:return _=xi(),y.flags|=_,0;case 5:return _=xi(),ye[_+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ae[Ko()>>2]=28,-1;default:return-28}}catch(k){if(typeof Ve>"u"||k.name!=="ErrnoError")throw k;return-k.Ob}},I:function(s,u){try{var f=on(s);return vs(Yt,f.path,u)}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},j:function(s,u,f){try{if(u=f+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*f:NaN,isNaN(u))return-61;var y=jt[s];if(!y)throw new te(8);if(!(y.flags&2097155))throw new te(28);return Do(y.node,u),0}catch(_){if(typeof Ve>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},C:function(s,u){try{if(u===0)return-28;var f=oe("/")+1;return u<f?-68:(Sn("/",s,u),f)}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},F:function(s,u){try{return s=P(s),vs(bi,s,u)}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},z:function(s,u,f){try{return u=P(u),u=ar(s,u),u=ee(u),u[u.length-1]==="/"&&(u=u.substr(0,u.length-1)),Nn(u,f),0}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},E:function(s,u,f,y){try{u=P(u);var _=y&256;return u=ar(s,u,y&4096),vs(_?bi:Yt,u,f)}catch(k){if(typeof Ve>"u"||k.name!=="ErrnoError")throw k;return-k.Ob}},u:function(s,u,f,y){_i=y;try{u=P(u),u=ar(s,u);var _=y?xi():0;return Ni(u,f,_).Wb}catch(k){if(typeof Ve>"u"||k.name!=="ErrnoError")throw k;return-k.Ob}},s:function(s,u,f,y){try{if(u=P(u),u=ar(s,u),0>=y)return-28;var _=gi(u),k=Math.min(y,oe(_)),I=T[f+k];return Sn(_,f,y+1),T[f+k]=I,k}catch(j){if(typeof Ve>"u"||j.name!=="ErrnoError")throw j;return-j.Ob}},r:function(s){try{return s=P(s),Ro(s),0}catch(u){if(typeof Ve>"u"||u.name!=="ErrnoError")throw u;return-u.Ob}},H:function(s,u){try{return s=P(s),vs(Yt,s,u)}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},o:function(s,u,f){try{if(u=P(u),u=ar(s,u),f===0){s=u;var y=Vt(s,{parent:!0}).node;if(!y)throw new te(44);var _=V(s),k=Bn(y,_),I=Io(y,_,!1);if(I)throw new te(I);if(!y.Cb.oc)throw new te(63);if(k.$b)throw new te(10);y.Cb.oc(y,_),Q(k)}else f===512?Ro(u):st("Invalid flags passed to unlinkat");return 0}catch(j){if(typeof Ve>"u"||j.name!=="ErrnoError")throw j;return-j.Ob}},n:function(s,u,f){try{if(u=P(u),u=ar(s,u,!0),f){var y=Oi(f),_=ae[f+8>>2];k=1e3*y+_/1e6,f+=16,y=Oi(f),_=ae[f+8>>2],I=1e3*y+_/1e6}else var k=Date.now(),I=k;s=k;var j=Vt(u,{Yb:!0}).node;return j.Cb.Qb(j,{timestamp:Math.max(s,I)}),0}catch(L){if(typeof Ve>"u"||L.name!=="ErrnoError")throw L;return-L.Ob}},y:function(s,u){s=new Date(1e3*Oi(s)),ae[u>>2]=s.getSeconds(),ae[u+4>>2]=s.getMinutes(),ae[u+8>>2]=s.getHours(),ae[u+12>>2]=s.getDate(),ae[u+16>>2]=s.getMonth(),ae[u+20>>2]=s.getFullYear()-1900,ae[u+24>>2]=s.getDay();var f=s.getFullYear();ae[u+28>>2]=(f%4!==0||f%100===0&&f%400!==0?Ei:Je)[s.getMonth()]+s.getDate()-1|0,ae[u+36>>2]=-(60*s.getTimezoneOffset()),f=new Date(s.getFullYear(),6,1).getTimezoneOffset();var y=new Date(s.getFullYear(),0,1).getTimezoneOffset();ae[u+32>>2]=(f!=y&&s.getTimezoneOffset()==Math.min(y,f))|0},w:function(s,u,f,y,_,k,I){try{var j=on(y);if(u&2&&!(f&2)&&(j.flags&2097155)!==2)throw new te(2);if((j.flags&2097155)===1)throw new te(2);if(!j.Mb.kc)throw new te(43);var L=j.Mb.kc(j,s,_,u,f),M=L.Pc;return ae[k>>2]=L.Dc,ge[I>>2]=M,0}catch(ie){if(typeof Ve>"u"||ie.name!=="ErrnoError")throw ie;return-ie.Ob}},x:function(s,u,f,y,_,k){try{var I=on(_);if(f&2){if((I.node.mode&61440)!==32768)throw new te(43);y&2||I.Mb.lc&&I.Mb.lc(I,ne.slice(s,s+u),k,u,y)}}catch(j){if(typeof Ve>"u"||j.name!=="ErrnoError")throw j;return-j.Ob}},p:function(s,u,f){function y(L){return(L=L.toTimeString().match(/\(([A-Za-z ]+)\)$/))?L[1]:"GMT"}var _=new Date().getFullYear(),k=new Date(_,0,1),I=new Date(_,6,1);_=k.getTimezoneOffset();var j=I.getTimezoneOffset();ge[s>>2]=60*Math.max(_,j),ae[u>>2]=+(_!=j),s=y(k),u=y(I),s=Ci(s),u=Ci(u),j<_?(ge[f>>2]=s,ge[f+4>>2]=u):(ge[f>>2]=u,ge[f+4>>2]=s)},e:function(){return Date.now()},d:()=>performance.now(),l:function(s){var u=ne.length;if(s>>>=0,2147483648<s)return!1;for(var f=1;4>=f;f*=2){var y=u*(1+.2/f);y=Math.min(y,s+100663296);var _=Math,k=_.min;y=Math.max(s,y),y+=(65536-y%65536)%65536;e:{var I=E.buffer;try{E.grow(k.call(_,2147483648,y)-I.byteLength+65535>>>16),ze();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},A:function(s,u){var f=0;return qi().forEach(function(y,_){var k=u+f;for(_=ge[s+4*_>>2]=k,k=0;k<y.length;++k)T[_++>>0]=y.charCodeAt(k);T[_>>0]=0,f+=y.length+1}),0},B:function(s,u){var f=qi();ge[s>>2]=f.length;var y=0;return f.forEach(function(_){y+=_.length+1}),ge[u>>2]=y,0},f:function(s){try{var u=on(s);if(u.Wb===null)throw new te(8);u.pc&&(u.pc=null);try{u.Mb.close&&u.Mb.close(u)}catch(f){throw f}finally{jt[u.Wb]=null}return u.Wb=null,0}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return f.Ob}},m:function(s,u){try{var f=on(s);return T[u>>0]=f.Sb?2:(f.mode&61440)===16384?3:(f.mode&61440)===40960?7:4,ye[u+2>>1]=0,Pe=[0,(fe=0,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[u+8>>2]=Pe[0],ae[u+12>>2]=Pe[1],Pe=[0,(fe=0,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[u+16>>2]=Pe[0],ae[u+20>>2]=Pe[1],0}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return y.Ob}},t:function(s,u,f,y){try{e:{var _=on(s);s=u;for(var k,I=u=0;I<f;I++){var j=ge[s>>2],L=ge[s+4>>2];s+=8;var M=_,ie=j,G=L,se=k,Ae=T;if(0>G||0>se)throw new te(28);if(M.Wb===null)throw new te(8);if((M.flags&2097155)===1)throw new te(8);if((M.node.mode&61440)===16384)throw new te(31);if(!M.Mb.read)throw new te(28);var Ge=typeof se<"u";if(!Ge)se=M.position;else if(!M.seekable)throw new te(70);var St=M.Mb.read(M,Ae,ie,G,se);Ge||(M.position+=St);var wt=St;if(0>wt){var un=-1;break e}if(u+=wt,wt<L)break;typeof k<"u"&&(k+=wt)}un=u}return ge[y>>2]=un,0}catch(Lt){if(typeof Ve>"u"||Lt.name!=="ErrnoError")throw Lt;return Lt.Ob}},i:function(s,u,f,y,_){try{if(u=f+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*f:NaN,isNaN(u))return 61;var k=on(s);return Lo(k,u,y),Pe=[k.position>>>0,(fe=k.position,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[_>>2]=Pe[0],ae[_+4>>2]=Pe[1],k.pc&&u===0&&y===0&&(k.pc=null),0}catch(I){if(typeof Ve>"u"||I.name!=="ErrnoError")throw I;return I.Ob}},D:function(s){try{var u=on(s);return cu(function(f){var y=u.node.Ub;y.type.Sc?y.type.Sc(y,!1,function(_){f(_?function(){return 29}:0)}):f(0)})}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return f.Ob}},q:function(s,u,f,y){try{e:{var _=on(s);s=u;for(var k,I=u=0;I<f;I++){var j=ge[s>>2],L=ge[s+4>>2];s+=8;var M=_,ie=j,G=L,se=k,Ae=T;if(0>G||0>se)throw new te(28);if(M.Wb===null)throw new te(8);if(!(M.flags&2097155))throw new te(8);if((M.node.mode&61440)===16384)throw new te(31);if(!M.Mb.write)throw new te(28);M.seekable&&M.flags&1024&&Lo(M,0,2);var Ge=typeof se<"u";if(!Ge)se=M.position;else if(!M.seekable)throw new te(70);var St=M.Mb.write(M,Ae,ie,G,se,void 0);Ge||(M.position+=St);var wt=St;if(0>wt){var un=-1;break e}u+=wt,typeof k<"u"&&(k+=wt)}un=u}return ge[y>>2]=un,0}catch(Lt){if(typeof Ve>"u"||Lt.name!=="ErrnoError")throw Lt;return Lt.Ob}},ra:Si,N:an,ga:_s,ca:Mo,Y:nu,la:xs,G:Bo,h:Os,oa:Fo,ja:Es,ea:Un,fa:Cs,k:qs,v:Fr,pa:Ss,g:ru,qa:Uo,da:iu,ha:$o,ia:Ai,na:Ii,c:Qo,ka:Ur,ma:$r,aa:$n,V:Ti,$:jo,ba:o,S:c,U:h,Z:g,X:O,R,Q:U,T:we,_:Le,O:We,W:ot,P:An};(function(){function s(f){if(f=f.exports,f=sl(f),n.asm=f,E=n.asm.sa,ze(),Et.unshift(n.asm.ta),pe--,n.monitorRunDependencies&&n.monitorRunDependencies(pe),pe==0&&qe){var y=qe;qe=null,y()}return f}var u={a:cl};if(pe++,n.monitorRunDependencies&&n.monitorRunDependencies(pe),n.instantiateWasm)try{return n.instantiateWasm(u,s)}catch(f){Y("Module.instantiateWasm callback failed with error: "+f),a(f)}return sn(u,function(f){s(f.instance)}).catch(a),{}})(),n._sqlite3_vfs_find=function(){return(n._sqlite3_vfs_find=n.asm.ua).apply(null,arguments)},n._sqlite3_malloc=function(){return(n._sqlite3_malloc=n.asm.va).apply(null,arguments)},n._sqlite3_free=function(){return(n._sqlite3_free=n.asm.wa).apply(null,arguments)},n._sqlite3_prepare_v2=function(){return(n._sqlite3_prepare_v2=n.asm.xa).apply(null,arguments)},n._sqlite3_step=function(){return(n._sqlite3_step=n.asm.ya).apply(null,arguments)},n._sqlite3_column_int64=function(){return(n._sqlite3_column_int64=n.asm.za).apply(null,arguments)},n._sqlite3_column_int=function(){return(n._sqlite3_column_int=n.asm.Aa).apply(null,arguments)},n._sqlite3_finalize=function(){return(n._sqlite3_finalize=n.asm.Ba).apply(null,arguments)},n._sqlite3_reset=function(){return(n._sqlite3_reset=n.asm.Ca).apply(null,arguments)},n._sqlite3_clear_bindings=function(){return(n._sqlite3_clear_bindings=n.asm.Da).apply(null,arguments)},n._sqlite3_value_blob=function(){return(n._sqlite3_value_blob=n.asm.Ea).apply(null,arguments)},n._sqlite3_value_text=function(){return(n._sqlite3_value_text=n.asm.Fa).apply(null,arguments)},n._sqlite3_value_bytes=function(){return(n._sqlite3_value_bytes=n.asm.Ga).apply(null,arguments)},n._sqlite3_value_double=function(){return(n._sqlite3_value_double=n.asm.Ha).apply(null,arguments)},n._sqlite3_value_int=function(){return(n._sqlite3_value_int=n.asm.Ia).apply(null,arguments)},n._sqlite3_value_int64=function(){return(n._sqlite3_value_int64=n.asm.Ja).apply(null,arguments)},n._sqlite3_value_type=function(){return(n._sqlite3_value_type=n.asm.Ka).apply(null,arguments)},n._sqlite3_result_blob=function(){return(n._sqlite3_result_blob=n.asm.La).apply(null,arguments)},n._sqlite3_result_double=function(){return(n._sqlite3_result_double=n.asm.Ma).apply(null,arguments)},n._sqlite3_result_error=function(){return(n._sqlite3_result_error=n.asm.Na).apply(null,arguments)},n._sqlite3_result_int=function(){return(n._sqlite3_result_int=n.asm.Oa).apply(null,arguments)},n._sqlite3_result_int64=function(){return(n._sqlite3_result_int64=n.asm.Pa).apply(null,arguments)},n._sqlite3_result_null=function(){return(n._sqlite3_result_null=n.asm.Qa).apply(null,arguments)},n._sqlite3_result_text=function(){return(n._sqlite3_result_text=n.asm.Ra).apply(null,arguments)},n._sqlite3_column_count=function(){return(n._sqlite3_column_count=n.asm.Sa).apply(null,arguments)},n._sqlite3_data_count=function(){return(n._sqlite3_data_count=n.asm.Ta).apply(null,arguments)},n._sqlite3_column_blob=function(){return(n._sqlite3_column_blob=n.asm.Ua).apply(null,arguments)},n._sqlite3_column_bytes=function(){return(n._sqlite3_column_bytes=n.asm.Va).apply(null,arguments)},n._sqlite3_column_double=function(){return(n._sqlite3_column_double=n.asm.Wa).apply(null,arguments)},n._sqlite3_column_text=function(){return(n._sqlite3_column_text=n.asm.Xa).apply(null,arguments)},n._sqlite3_column_type=function(){return(n._sqlite3_column_type=n.asm.Ya).apply(null,arguments)},n._sqlite3_column_name=function(){return(n._sqlite3_column_name=n.asm.Za).apply(null,arguments)},n._sqlite3_bind_blob=function(){return(n._sqlite3_bind_blob=n.asm._a).apply(null,arguments)},n._sqlite3_bind_double=function(){return(n._sqlite3_bind_double=n.asm.$a).apply(null,arguments)},n._sqlite3_bind_int=function(){return(n._sqlite3_bind_int=n.asm.ab).apply(null,arguments)},n._sqlite3_bind_int64=function(){return(n._sqlite3_bind_int64=n.asm.bb).apply(null,arguments)},n._sqlite3_bind_null=function(){return(n._sqlite3_bind_null=n.asm.cb).apply(null,arguments)},n._sqlite3_bind_text=function(){return(n._sqlite3_bind_text=n.asm.db).apply(null,arguments)},n._sqlite3_bind_parameter_count=function(){return(n._sqlite3_bind_parameter_count=n.asm.eb).apply(null,arguments)},n._sqlite3_bind_parameter_name=function(){return(n._sqlite3_bind_parameter_name=n.asm.fb).apply(null,arguments)},n._sqlite3_sql=function(){return(n._sqlite3_sql=n.asm.gb).apply(null,arguments)},n._sqlite3_exec=function(){return(n._sqlite3_exec=n.asm.hb).apply(null,arguments)},n._sqlite3_errmsg=function(){return(n._sqlite3_errmsg=n.asm.ib).apply(null,arguments)},n._sqlite3_declare_vtab=function(){return(n._sqlite3_declare_vtab=n.asm.jb).apply(null,arguments)},n._sqlite3_libversion=function(){return(n._sqlite3_libversion=n.asm.kb).apply(null,arguments)},n._sqlite3_libversion_number=function(){return(n._sqlite3_libversion_number=n.asm.lb).apply(null,arguments)},n._sqlite3_changes=function(){return(n._sqlite3_changes=n.asm.mb).apply(null,arguments)},n._sqlite3_close=function(){return(n._sqlite3_close=n.asm.nb).apply(null,arguments)},n._sqlite3_limit=function(){return(n._sqlite3_limit=n.asm.ob).apply(null,arguments)},n._sqlite3_open_v2=function(){return(n._sqlite3_open_v2=n.asm.pb).apply(null,arguments)},n._sqlite3_get_autocommit=function(){return(n._sqlite3_get_autocommit=n.asm.qb).apply(null,arguments)};function Ko(){return(Ko=n.asm.rb).apply(null,arguments)}var Jo=n._malloc=function(){return(Jo=n._malloc=n.asm.sb).apply(null,arguments)},du=n._free=function(){return(du=n._free=n.asm.tb).apply(null,arguments)};n._RegisterExtensionFunctions=function(){return(n._RegisterExtensionFunctions=n.asm.ub).apply(null,arguments)},n._set_authorizer=function(){return(n._set_authorizer=n.asm.vb).apply(null,arguments)},n._create_function=function(){return(n._create_function=n.asm.wb).apply(null,arguments)},n._create_module=function(){return(n._create_module=n.asm.xb).apply(null,arguments)},n._progress_handler=function(){return(n._progress_handler=n.asm.yb).apply(null,arguments)},n._register_vfs=function(){return(n._register_vfs=n.asm.zb).apply(null,arguments)},n._getSqliteFree=function(){return(n._getSqliteFree=n.asm.Ab).apply(null,arguments)};var pu=n._main=function(){return(pu=n._main=n.asm.Bb).apply(null,arguments)};function mu(){return(mu=n.asm.Db).apply(null,arguments)}function yu(){return(yu=n.asm.Eb).apply(null,arguments)}function wu(){return(wu=n.asm.Fb).apply(null,arguments)}function Go(){return(Go=n.asm.Gb).apply(null,arguments)}function Yo(){return(Yo=n.asm.Hb).apply(null,arguments)}function gu(){return(gu=n.asm.Ib).apply(null,arguments)}function bu(){return(bu=n.asm.Jb).apply(null,arguments)}function Wi(){return(Wi=n.asm.Kb).apply(null,arguments)}function Xo(){return(Xo=n.asm.Lb).apply(null,arguments)}n.getTempRet0=yu,n.ccall=Tn,n.cwrap=function(s,u,f,y){var _=!f||f.every(k=>k==="number"||k==="boolean");return u!=="string"&&_&&!y?n["_"+s]:function(){return Tn(s,u,f,arguments,y)}},n.setValue=x,n.getValue=Ke,n.UTF8ToString=P,n.stringToUTF8=Sn,n.lengthBytesUTF8=oe;var Is;qe=function s(){Is||S(),Is||(qe=s)};function S(){function s(){if(!Is&&(Is=!0,n.calledRun=!0,!N)){if(n.noFSInit||Po||(Po=!0,Lr(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Pr("stdin",n.stdin):wi("/dev/tty","/dev/stdin"),n.stdout?Pr("stdout",null,n.stdout):wi("/dev/tty","/dev/stdout"),n.stderr?Pr("stderr",null,n.stderr):wi("/dev/tty1","/dev/stderr"),Ni("/dev/stdin",0),Ni("/dev/stdout",1),Ni("/dev/stderr",1)),Rt=!1,Qt(Et),Qt(Qe),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),J){var u=pu;try{var f=u(0,0);q=f,Vo(f)}catch(y){Ho(y)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)u=n.postRun.shift(),$t.unshift(u);Qt($t)}}if(!(0<pe)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ht();Qt(Ot),0<pe||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),s()},1)):s())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var J=!0;return n.noInitialRun&&(J=!1),S(),e.ready}})();class gN{constructor(){ve(this,"mxPathName",64)}xClose(e){return Nt}xRead(e,n,r){return Nt}xWrite(e,n,r){return Nt}xTruncate(e,n){return Nt}xSync(e,n){return He}xFileSize(e,n){return Nt}xLock(e,n){return He}xUnlock(e,n){return He}xCheckReservedLock(e,n){return n.setInt32(0,0,!0),He}xFileControl(e,n,r){return Vp}xSectorSize(e){return 512}xDeviceCharacteristics(e){return 0}xOpen(e,n,r,a){return Hp}xDelete(e,n){return Nt}xAccess(e,n,r){return Nt}handleAsync(e){return e()}}const bN=Rs|Ui|Bu|fN|Fu;var Ft,yo,Ha,za,tf,Lc,Kp,Pc,Jp;class NN{constructor(){D(this,za);D(this,Lc);D(this,Pc);D(this,Ft,Rs);ve(this,"timeoutMillis",0);D(this,yo,new Map);D(this,Ha,Promise.resolve(0))}get state(){return i(this,Ft)}async lock(e){return _e(this,za,tf).call(this,_e(this,Lc,Kp),e)}async unlock(e){return _e(this,za,tf).call(this,_e(this,Pc,Jp),e)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(e,n){return new Promise(async(r,a)=>{try{await navigator.locks.request(e,n,l=>{if(r(l),l)return new Promise(p=>i(this,yo).set(e,p))})}catch(l){a(l)}})}_releaseWebLock(e){var n;(n=i(this,yo).get(e))==null||n(),i(this,yo).delete(e)}async _pollWebLock(e){var r;return(r=(await navigator.locks.query()).held.find(({name:a})=>a===e))==null?void 0:r.mode}_getTimeoutSignal(){if(this.timeoutMillis){const e=new AbortController;return setTimeout(()=>e.abort(),this.timeoutMillis),e.signal}}}Ft=new WeakMap,yo=new WeakMap,Ha=new WeakMap,za=new WeakSet,tf=async function(e,n){const r=n&bN;try{const a=()=>e.call(this,r);return await H(this,Ha,i(this,Ha).then(a,a)),H(this,Ft,r),He}catch(a){return a.name==="AbortError"?rN:(console.error(a),oN)}},Lc=new WeakSet,Kp=async function(e){if(e===i(this,Ft))return He;switch(i(this,Ft)){case Rs:switch(e){case Ui:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}case Ui:switch(e){case Bu:return this._SHAREDtoRESERVED();case Fu:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}case Bu:switch(e){case Fu:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}},Pc=new WeakSet,Jp=async function(e){if(e===i(this,Ft))return He;switch(i(this,Ft)){case Fu:switch(e){case Ui:return this._EXCLUSIVEtoSHARED();case Rs:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}case Bu:switch(e){case Ui:return this._RESERVEDtoSHARED();case Rs:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}case Ui:switch(e){case Rs:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}default:throw new Error(`unexpected transition ${i(this,Ft)} -> ${e}`)}};class vN extends NN{constructor(e){super(),this._lockName=e+"-outer",this._reservedName=e+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}const _N=5e3;let xN=0;const xl=new WeakMap;function lr(...t){}var wo,go,Ka,Tt,Ja,bo,rs,Mc,Gp;class ON{constructor(e,n={durability:"default"}){D(this,Mc);D(this,wo,void 0);D(this,go,void 0);D(this,Ka,void 0);D(this,Tt,null);D(this,Ja,0);D(this,bo,Promise.resolve());D(this,rs,Promise.resolve());H(this,go,Promise.resolve(e).then(r=>H(this,wo,r))),H(this,Ka,n)}async close(){const e=i(this,wo)??await i(this,go);await i(this,bo),await this.sync(),e.close()}async run(e,n){const r=i(this,bo).then(()=>_e(this,Mc,Gp).call(this,e,n));return H(this,bo,r.catch(()=>{})),r}async sync(){await i(this,rs),H(this,rs,Promise.resolve())}}wo=new WeakMap,go=new WeakMap,Ka=new WeakMap,Tt=new WeakMap,Ja=new WeakMap,bo=new WeakMap,rs=new WeakMap,Mc=new WeakSet,Gp=async function(e,n){var a,l;const r=i(this,wo)??await i(this,go);if(e==="readwrite"&&((a=i(this,Tt))==null?void 0:a.mode)==="readonly")H(this,Tt,null);else if(performance.now()-i(this,Ja)>_N){try{(l=i(this,Tt))==null||l.commit()}catch(p){if(p.name!=="InvalidStateError")throw p}await new Promise(p=>setTimeout(p)),H(this,Tt,null)}for(let p=0;p<2;++p){if(!i(this,Tt)){H(this,Tt,r.transaction(r.objectStoreNames,e,i(this,Ka)));const w=H(this,Ja,performance.now());H(this,rs,i(this,rs).then(()=>new Promise((v,d)=>{i(this,Tt).addEventListener("complete",A=>{v(),i(this,Tt)===A.target&&H(this,Tt,null),lr(`transaction ${xl.get(A.target)} complete`)}),i(this,Tt).addEventListener("abort",A=>{console.warn("tx abort",(performance.now()-w)/1e3);const B=A.target.error;d(B),i(this,Tt)===A.target&&H(this,Tt,null),lr(`transaction ${xl.get(A.target)} aborted`,B)})}))),xl.set(i(this,Tt),xN++)}try{const w=Object.fromEntries(Array.from(r.objectStoreNames,v=>[v,new EN(i(this,Tt).objectStore(v))]));return await n(w)}catch(w){if(H(this,Tt,null),p)throw w}}};function Hr(t){return new Promise((e,n)=>{t.addEventListener("success",()=>e(t.result)),t.addEventListener("error",()=>n(t.error))})}var qt;class EN{constructor(e){D(this,qt,void 0);H(this,qt,e)}get(e){lr(`get ${i(this,qt).name}`,e);const n=i(this,qt).get(e);return Hr(n)}getAll(e,n){lr(`getAll ${i(this,qt).name}`,e,n);const r=i(this,qt).getAll(e,n);return Hr(r)}getKey(e){lr(`getKey ${i(this,qt).name}`,e);const n=i(this,qt).getKey(e);return Hr(n)}getAllKeys(e,n){lr(`getAllKeys ${i(this,qt).name}`,e,n);const r=i(this,qt).getAllKeys(e,n);return Hr(r)}put(e,n){lr(`put ${i(this,qt).name}`,e,n);const r=i(this,qt).put(e,n);return Hr(r)}delete(e){lr(`delete ${i(this,qt).name}`,e);const n=i(this,qt).delete(e);return Hr(n)}clear(){lr(`clear ${i(this,qt).name}`);const e=i(this,qt).clear();return Hr(e)}index(e){return new CN(i(this,qt).index(e))}}qt=new WeakMap;var is;class CN{constructor(e){D(this,is,void 0);H(this,is,e)}getAllKeys(e,n){lr(`IDBIndex.getAllKeys ${i(this,is).objectStore.name}<${i(this,is).name}>`,e,n);const r=i(this,is).getAllKeys(e,n);return Hr(r)}}is=new WeakMap;const qN=512,Vh=3e3,Hh={durability:"default",purge:"deferred",purgeAtLeast:16};function cn(...t){}var si,Ut,lt,ss,os,Sr,Ga,nf,Bc,Yp,Fc,Xp,oi,Ds,Uc,Zp;class SN extends gN{constructor(n="wa-sqlite",r=Hh){super();D(this,Ga);D(this,Bc);D(this,Fc);D(this,oi);D(this,Uc);D(this,si,void 0);D(this,Ut,new Map);D(this,lt,void 0);D(this,ss,new Set);D(this,os,performance.now());D(this,Sr,new Set);this.name=n,H(this,si,Object.assign({},Hh,r)),H(this,lt,new ON(AN(n),{durability:i(this,si).durability}))}async close(){var n;for(const r of i(this,Ut).keys())await this.xClose(r);await((n=i(this,lt))==null?void 0:n.close()),H(this,lt,null)}xOpen(n,r,a,l){return this.handleAsync(async()=>{n===null&&(n=`null_${r}`),cn(`xOpen ${n} 0x${r.toString(16)} 0x${a.toString(16)}`);try{const p=new URL(n,"http://localhost/"),w={path:p.pathname,flags:a,block0:null,locks:new vN(p.pathname)};return i(this,Ut).set(r,w),await i(this,lt).run("readwrite",async({blocks:v})=>{if(w.block0=await v.get(_e(this,oi,Ds).call(this,w,0)),!w.block0)if(a&zp)w.block0={path:w.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},v.put(w.block0);else throw new Error(`file not found: ${w.path}`)}),l.setInt32(0,a&uN,!0),He}catch(p){return console.error(p),Hp}})}xClose(n){return this.handleAsync(async()=>{try{const r=i(this,Ut).get(n);return r&&(cn(`xClose ${r.path}`),i(this,Ut).delete(n),r.flags&lN&&i(this,lt).run("readwrite",({blocks:a})=>{a.delete(IDBKeyRange.bound([r.path],[r.path,[]]))})),He}catch(r){return console.error(r),Nt}})}xRead(n,r,a){return this.handleAsync(async()=>{const l=i(this,Ut).get(n);cn(`xRead ${l.path} ${r.byteLength} ${a}`);try{return await i(this,lt).run("readonly",async({blocks:w})=>{let v=0;for(;v<r.byteLength;){const d=a+v,A=d<l.block0.data.byteLength?l.block0:await w.get(_e(this,oi,Ds).call(this,l,-d));if(!A||A.data.byteLength-A.offset<=d)return r.fill(0,v),aN;const B=r.subarray(v),F=d+A.offset,Y=Math.min(Math.max(A.data.byteLength-F,0),B.byteLength);B.set(A.data.subarray(F,F+Y)),v+=Y}return He})}catch(p){return console.error(p),Nt}})}xWrite(n,r,a){const l=i(this,Sr).has(n);if(l||performance.now()-i(this,os)>Vh){const p=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&i(this,Sr).add(n),await new Promise(v=>setTimeout(v));const w=_e(this,Ga,nf).call(this,n,r,a);return H(this,os,performance.now()),w});return l&&i(this,Sr).delete(n),p}return _e(this,Ga,nf).call(this,n,r,a)}xTruncate(n,r){const a=i(this,Ut).get(n);cn(`xTruncate ${a.path} ${r}`);try{Object.assign(a.block0,{fileSize:r,data:a.block0.data.slice(0,r)});const l=Object.assign({},a.block0);return i(this,lt).run("readwrite",({blocks:p})=>{p.delete(_e(this,oi,Ds).call(this,a,-1/0,-r)),p.put(l)}),He}catch(l){return console.error(l),Nt}}xSync(n,r){const a=i(this,Sr).has(n);if(a||i(this,si).durability!=="relaxed"||performance.now()-i(this,os)>Vh){const p=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&i(this,Sr).add(n);const w=await _e(this,Bc,Yp).call(this,n,r);return H(this,os,performance.now()),w});return a&&i(this,Sr).delete(n),p}const l=i(this,Ut).get(n);return cn(`xSync ${l.path} ${r}`),He}xFileSize(n,r){const a=i(this,Ut).get(n);return cn(`xFileSize ${a.path}`),r.setBigInt64(0,BigInt(a.block0.fileSize),!0),He}xLock(n,r){return this.handleAsync(async()=>{const a=i(this,Ut).get(n);cn(`xLock ${a.path} ${r}`);try{const l=await a.locks.lock(r);return l===He&&a.locks.state===Ui&&(a.block0=await i(this,lt).run("readonly",({blocks:p})=>p.get(_e(this,oi,Ds).call(this,a,0)))),l}catch(l){return console.error(l),Nt}})}xUnlock(n,r){return this.handleAsync(async()=>{const a=i(this,Ut).get(n);cn(`xUnlock ${a.path} ${r}`);try{return a.locks.unlock(r)}catch(l){return console.error(l),Nt}})}xCheckReservedLock(n,r){return this.handleAsync(async()=>{const a=i(this,Ut).get(n);cn(`xCheckReservedLock ${a.path}`);const l=await a.locks.isSomewhereReserved();return r.setInt32(0,l?1:0,!0),He})}xSectorSize(n){return qN}xDeviceCharacteristics(n){return mN|hN|dN|pN}xFileControl(n,r,a){const l=i(this,Ut).get(n);switch(cn(`xFileControl ${l.path} ${r}`),r){case 11:return l.overwrite=!0,He;case 21:if(l.overwrite)try{return this.handleAsync(async()=>(await _e(this,Uc,Zp).call(this,l),He))}catch(p){return console.error(p),Nt}return He;case 22:return l.overwrite=!1,He;case 31:return this.handleAsync(async()=>{try{return l.block0.version--,l.changedPages=new Set,i(this,lt).run("readwrite",async({blocks:p})=>{const w=await p.index("version").getAllKeys(IDBKeyRange.bound([l.path],[l.path,l.block0.version]));for(const v of w)p.delete(v)}),He}catch(p){return console.error(p),Nt}});case 32:try{const p=Object.assign({},l.block0);p.data=p.data.slice();const w=l.changedPages;return l.changedPages=null,i(this,lt).run("readwrite",async({blocks:v})=>{v.put(p);const d=await v.get([l.path,"purge",0])??{path:l.path,offset:"purge",version:0,data:new Map,count:0};d.count+=w.size;for(const A of w)d.data.set(A,p.version);v.put(d),_e(this,Fc,Xp).call(this,l.path,d.count)}),He}catch(p){return console.error(p),Nt}case 33:return this.handleAsync(async()=>{try{return l.changedPages=null,l.block0=await i(this,lt).run("readonly",({blocks:p})=>p.get([l.path,0,l.block0.version+1])),He}catch(p){return console.error(p),Nt}});default:return Vp}}xAccess(n,r,a){return this.handleAsync(async()=>{try{const l=new URL(n,"file://localhost/").pathname;cn(`xAccess ${l} ${r}`);const p=await i(this,lt).run("readonly",({blocks:w})=>w.getKey(_e(this,oi,Ds).call(this,{path:l},0)));return a.setInt32(0,p?1:0,!0),He}catch(l){return console.error(l),Nt}})}xDelete(n,r){return this.handleAsync(async()=>{const a=new URL(n,"file://localhost/").pathname;try{return i(this,lt).run("readwrite",({blocks:l})=>l.delete(IDBKeyRange.bound([a],[a,[]]))),r&&await i(this,lt).sync(),He}catch(l){return console.error(l),Nt}})}async purge(n){const r=Date.now();await i(this,lt).run("readwrite",async({blocks:a})=>{const l=await a.get([n,"purge",0]);if(l){for(const[p,w]of l.data)a.delete(IDBKeyRange.bound([n,p,w],[n,p,1/0],!0,!1));await a.delete([n,"purge",0])}cn(`purge ${n} ${(l==null?void 0:l.data.size)??0} pages in ${Date.now()-r} ms`)})}}si=new WeakMap,Ut=new WeakMap,lt=new WeakMap,ss=new WeakMap,os=new WeakMap,Sr=new WeakMap,Ga=new WeakSet,nf=function(n,r,a){const l=i(this,Ut).get(n);cn(`xWrite ${l.path} ${r.byteLength} ${a}`);try{const p=l.block0.fileSize;l.block0.fileSize=Math.max(l.block0.fileSize,a+r.byteLength);const w=a===0?l.block0:{path:l.path,offset:-a,version:l.block0.version,data:null};return w.data=r.slice(),l.changedPages?(p===l.block0.fileSize&&l.changedPages.add(-a),a!==0&&i(this,lt).run("readwrite",({blocks:v})=>v.put(w))):i(this,lt).run("readwrite",({blocks:v})=>v.put(w)),He}catch(p){return console.error(p),Nt}},Bc=new WeakSet,Yp=async function(n,r){const a=i(this,Ut).get(n);cn(`xSync ${a.path} ${r}`);try{await i(this,lt).sync()}catch(l){return console.error(l),Nt}return He},Fc=new WeakSet,Xp=function(n,r){i(this,si).purge==="manual"||i(this,ss).has(n)||r<i(this,si).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(n),i(this,ss).delete(n)}):setTimeout(()=>{this.purge(n),i(this,ss).delete(n)}),i(this,ss).add(n))},oi=new WeakSet,Ds=function(n,r,a=0){const l=!r||-r<n.block0.data.length?-1/0:n.block0.version;return IDBKeyRange.bound([n.path,r,l],[n.path,a,1/0])},Uc=new WeakSet,Zp=async function(n){const r=n.block0.data.length;if(r<18)return;const a=new DataView(n.block0.data.buffer,n.block0.data.byteOffset);let l=a.getUint16(16);if(l===1&&(l=65536),l===r)return;const p=Math.max(r,l),w=p/r,v=p/l,A=a.getUint32(28)*l,B=n.block0.version;await i(this,lt).run("readwrite",async({blocks:F})=>{const Y=await F.index("version").getAllKeys(IDBKeyRange.bound([n.path,B+1],[n.path,1/0]));for(const X of Y)F.delete(X);F.delete([n.path,"purge",0]);for(let X=0;X<A;X+=p){const b=await F.getAll(IDBKeyRange.lowerBound([n.path,-(X+p),1/0]),w);for(const E of b)F.delete([E.path,E.offset,E.version]);if(v===1){const E=new Uint8Array(l);for(const q of b)E.set(q.data,-(X+q.offset));const N={path:n.path,offset:-X,version:B,data:E};N.offset===0&&(N.fileSize=A,n.block0=N),F.put(N)}else{const E=b[0];for(let N=0;N<v;++N){const q=-(X+N*l);if(-q>=A)break;const T={path:E.path,offset:q,version:B,data:E.data.subarray(N*l,(N+1)*l)};T.offset===0&&(T.fileSize=A,n.block0=T),F.put(T)}}}})};function AN(t){return new Promise((e,n)=>{const r=globalThis.indexedDB.open(t,5);r.addEventListener("upgradeneeded",function(){r.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),r.addEventListener("success",()=>{e(r.result)}),r.addEventListener("error",()=>{n(r.error)})})}const IN=""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,TN=new Ab({async database(){const t=await wN({locateFile:()=>IN}),e=yN(t),n="wa-sqlite-test";e.vfs_register(new SN(n));const r=await e.open_v2(n,void 0,n);return{sqlite:e,db:r}}});function kN(){console.log("start wa-sqlite test"),Ff(TN).then(t=>{t==null||t.forEach(e=>console.log("[wa-sqlite]",e))})}function WN(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(a){a(n)}),(r=t.get("*"))&&r.slice().map(function(a){a(e,n)})}}}function RN(t){const e=WN(t);return{...e,once(n,r){const a=l=>{e.off(n,a),r(l)};e.on(n,a)}}}var DN=class{constructor(t){ve(this,"config");ve(this,"worker");ve(this,"connection");ve(this,"connectionMutex",new LN);ve(this,"mitt");this.config=t}async init(){var e,n;this.worker=this.config.worker??new Worker(new URL(""+new URL("worker-568e2893.js",import.meta.url).href,self.location),{type:"module"}),this.mitt=RN(),this.worker.onmessage=({data:{msg:r,type:a}})=>{var l;(l=this.mitt)==null||l.emit(a,r)};const t={type:"init",dbName:this.config.dbName,url:this.config.url};this.worker.postMessage(t),await new Promise((r,a)=>{var l;(l=this.mitt)==null||l.once("init",({err:p})=>{p?a(p):r()})}),this.connection=new PN(this.worker,this.mitt),this.config.usePRAGMA&&await this.optimzePragma(this.connection),await((n=(e=this.config).onCreateConnection)==null?void 0:n.call(e,this.connection))}async optimzePragma(t){await t.executeQuery(dn.raw("PRAGMA cache_size = 4096;")),await t.executeQuery(dn.raw("PRAGMA journal_mode = WAL;")),await t.executeQuery(dn.raw("PRAGMA temp_store = MEMORY;")),await t.executeQuery(dn.raw(`PRAGMA page_size = ${32*1024};`)),await t.executeQuery(dn.raw("PRAGMA synchronous = NORMAL;"))}async acquireConnection(){return await this.connectionMutex.lock(),this.connection}async beginTransaction(t){await t.executeQuery(dn.raw("begin"))}async commitTransaction(t){await t.executeQuery(dn.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(dn.raw("rollback"))}async releaseConnection(){this.connectionMutex.unlock()}async destroy(){if(this.worker)return this.worker.postMessage({type:"close"}),new Promise((t,e)=>{var n;(n=this.mitt)==null||n.once("close",({err:r})=>{var a,l;r?e(r):((a=this.worker)==null||a.terminate(),(l=this.mitt)==null||l.all.clear(),this.mitt=void 0,t())})})}},LN=class{constructor(){ve(this,"promise");ve(this,"resolve")}async lock(){for(;this.promise;)await this.promise;this.promise=new Promise(t=>{this.resolve=t})}unlock(){const t=this.resolve;this.promise=void 0,this.resolve=void 0,t==null||t()}},PN=class{constructor(t,e){ve(this,"worker");ve(this,"mitt");this.worker=t,this.mitt=e}streamQuery(){throw new Error("Sqlite driver doesn't support streaming")}async executeQuery(t){const{parameters:e,sql:n,query:r}=t,l={type:"run",isQuery:["SelectQueryNode","RawNode"].includes(r.kind),sql:n,parameters:e};return this.worker.postMessage(l),new Promise((p,w)=>{this.mitt||w("kysely instance has been destroyed"),this.mitt.once("run",({data:v,err:d})=>{!d&&v?p(v):w(d)})})}},Ya,Gh,MN=(Gh=class{constructor(t){D(this,Ya,void 0);H(this,Ya,t)}createDriver(){return new DN(i(this,Ya))}createQueryCompiler(){return new Pp}createAdapter(){return new Fp}createIntrospector(t){return new Mp(t)}},Ya=new WeakMap,Gh);const BN=new MN({dbName:"wa-sqlite-worker-test"});function FN(){console.log("start wa-sqlite-worker test"),Ff(BN).then(t=>{t==null||t.forEach(e=>console.log("[wa-sqlite-worker]",e))})}const UN=_t("h1",null,[Na(" test "),_t("a",{href:"https://github.com/kysely-org/kysely",target:"_blank"},"Kysely"),Na(" WASM dialect ")],-1),$N=_t("br",null,null,-1),QN=_t("h3",null,"see worker result in console",-1),jN=_t("h3",null,[Na(" you can explore "),_t("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API#origin_private_file_system",target:"_blank"}," OPFS "),Na(" file using "),_t("a",{href:"https://chrome.google.com/webstore/detail/opfs-explorer/acndjpgkpaclldomagafnognkcgjignd",target:"_blank"}," opfs-explorer ")],-1),VN=_t("br",null,null,-1),HN={class:"buttons"},zN=_t("br",null,null,-1),KN=_t("div",null," result run in main thread: ",-1),JN=gy({__name:"App",setup(t){const e=new tN,{result:n,run:r}=eN(),a=new nN;function l(){r()}function p(){e.postMessage("")}function w(){a.postMessage("")}function v(){kN()}function d(){FN()}async function A(){(await window.indexedDB.databases()).forEach(Y=>{window.indexedDB.deleteDatabase(Y.name)})}async function B(){const F=await navigator.storage.getDirectory();await Dh("sqljs"),await Dh("sqlijsWorker"),await A();try{await F.removeEntry("test.db")}catch{}try{await F.removeEntry("test.db-journal")}catch{}console.log("clear all")}return(F,Y)=>(zy(),Gy(Zn,null,[UN,$N,QN,jN,VN,_t("div",HN,[_t("button",{onClick:Y[0]||(Y[0]=X=>l())}," test sqljs in main thread "),_t("button",{onClick:Y[1]||(Y[1]=X=>p())}," test sqljs in Worker "),_t("button",{onClick:Y[2]||(Y[2]=X=>w())}," test officialWasm in Worker "),_t("button",{onClick:Y[3]||(Y[3]=X=>v())}," test wa-sqlite in main thread "),_t("button",{onClick:Y[4]||(Y[4]=X=>d())}," test wa-sqlite in Worker "),_t("button",{onClick:Y[5]||(Y[5]=X=>B())}," clear ")]),zN,KN,_t("pre",null,""+um(bd(n))+`
  `,1)],64))}});Rw(JN).mount("#root");
