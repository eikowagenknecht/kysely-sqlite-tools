var Bo=Object.defineProperty;var Vo=(w,_,Q)=>_ in w?Bo(w,_,{enumerable:!0,configurable:!0,writable:!0,value:Q}):w[_]=Q;var ui=(w,_,Q)=>(Vo(w,typeof _!="symbol"?_+"":_,Q),Q),ai=(w,_,Q)=>{if(!_.has(w))throw TypeError("Cannot "+Q)};var p=(w,_,Q)=>(ai(w,_,"read from private field"),Q?Q.call(w):_.get(w)),se=(w,_,Q)=>{if(_.has(w))throw TypeError("Cannot add the same private member more than once");_ instanceof WeakSet?_.add(w):_.set(w,Q)},Re=(w,_,Q,ne)=>(ai(w,_,"write to private field"),ne?ne.call(w,Q):_.set(w,Q),Q);var pe=(w,_,Q)=>(ai(w,_,"access private method"),Q);var Ho=Object.defineProperty,Qo=Object.getOwnPropertyNames,ei=(w,_)=>function(){return w&&(_=(0,w[Qo(w)[0]])(w=0)),_},co=(w,_)=>{for(var Q in _)Ho(w,Q,{get:_[Q],enumerable:!0})},fe,fo,Ne,qi,ti,rn,Xr,lo,Zr,ho,_o,Si,wo,bo,ni,Gr,mo,po,yo,go,yn,on,Rr,vo,Tr,Eo,xo,Ai,qo,_i,wi,bi,mi,pi,ri=ei({"../../node_modules/.pnpm/@subframe7536+sqlite-wasm@0.1.9/node_modules/@subframe7536/sqlite-wasm/dist/chunk-O5DBLYE3.mjs"(){fe=0,fo=5,Ne=10,qi=12,ti=14,rn=21,Xr=25,lo=27,Zr=100,ho=101,_o=3850,Si=522,wo=1,bo=2,ni=4,Gr=8,mo=256,po=2048,yo=16384,go=524288,yn=0,on=1,Rr=2,vo=3,Tr=4,Eo=512,xo=1024,Ai=2048,qo=16384,_i=1,wi=2,bi=3,mi=4,pi=5}}),Ii,So=ei({"../../node_modules/.pnpm/@subframe7536+sqlite-wasm@0.1.9/node_modules/@subframe7536/sqlite-wasm/dist/chunk-NSEC2EFK.mjs"(){ri(),Ii=class{constructor(){ui(this,"mxPathName",64)}xClose(w){return Ne}xRead(w,_,Q){return Ne}xWrite(w,_,Q){return Ne}xTruncate(w,_){return Ne}xSync(w,_){return fe}xFileSize(w,_){return Ne}xLock(w,_){return fe}xUnlock(w,_){return fe}xCheckReservedLock(w,_){return _.setInt32(0,0,!0),fe}xFileControl(w,_,Q){return qi}xSectorSize(w){return 512}xDeviceCharacteristics(w){return 0}xOpen(w,_,Q,ne){return ti}xDelete(w,_){return Ne}xAccess(w,_,Q){return Ne}handleAsync(w){return w()}}}}),Ao={};co(Ao,{useOpfsStorage:()=>jo});function mn(...w){}async function jo(w,_={}){const Q=await Io(_.url?{locateFile:()=>_.url}:void 0),ne=new Co(w);return await ne.isReady,{sqliteModule:Q,fileName:w,vfs:ne}}var ji,Io,ci,Kr,Ki,Wi,Wr,fi,li,pn,Ji,Xi,Co,Ko=ei({"../../node_modules/.pnpm/@subframe7536+sqlite-wasm@0.1.9/node_modules/@subframe7536/sqlite-wasm/dist/opfs.mjs"(){var w,_,Q,ne,le,xe,bt,Ro,pt,yi,ye,To,Qe,Tn,ge,gi,b,Yr,A,vi,K;So(),ri(),ji=(()=>{var Ae=self.location.href;return function(F={}){var c=F,J,Y;c.ready=new Promise((t,r)=>{J=t,Y=r});var re=Object.assign({},c),Be="./this.program",ke=(t,r)=>{throw r},nt=typeof window=="object",qt=typeof importScripts=="function",St="",Bt;(nt||qt)&&(qt?St=self.location.href:typeof document<"u"&&document.currentScript&&(St=document.currentScript.src),Ae&&(St=Ae),St.indexOf("blob:")!==0?St=St.substr(0,St.replace(/[?#].*/,"").lastIndexOf("/")+1):St="",qt&&(Bt=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var Ci=c.print||console.log.bind(console),gt=c.printErr||console.error.bind(console);Object.assign(c,re),re=null,c.thisProgram&&(Be=c.thisProgram),c.quit&&(ke=c.quit);var Nn;c.wasmBinary&&(Nn=c.wasmBinary),typeof WebAssembly!="object"&&Ke("no native wasm support detected");var lt,ii=!1,Me,ee,Vt,I,g,a,M;function R(){var t=lt.buffer;c.HEAP8=Me=new Int8Array(t),c.HEAP16=Vt=new Int16Array(t),c.HEAPU8=ee=new Uint8Array(t),c.HEAPU16=new Uint16Array(t),c.HEAP32=I=new Int32Array(t),c.HEAPU32=g=new Uint32Array(t),c.HEAPF32=a=new Float32Array(t),c.HEAPF64=M=new Float64Array(t)}var W=[],de=[],_e=[],Ve=[];function Fe(){var t=c.preRun.shift();W.unshift(t)}var Ce=0,Pe=null;function Ke(t){throw c.onAbort&&c.onAbort(t),t="Aborted("+t+")",gt(t),ii=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),Y(t),t}var He=t=>t.startsWith("data:application/octet-stream;base64,"),We;if(c.locateFile){if(We="wa-sqlite.wasm",!He(We)){var Je=We;We=c.locateFile?c.locateFile(Je,St):St+Je}}else We=new URL("wa-sqlite.wasm",self.location.href).href;function Le(t){if(t==We&&Nn)return new Uint8Array(Nn);if(Bt)return Bt(t);throw"both async and sync fetching of the wasm failed"}function ht(t){return Nn||!nt&&!qt||typeof fetch!="function"?Promise.resolve().then(()=>Le(t)):fetch(t,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+t+"'";return r.arrayBuffer()}).catch(()=>Le(t))}function Te(t,r,o){return ht(t).then(u=>WebAssembly.instantiate(u,r)).then(u=>u).then(o,u=>{gt(`failed to asynchronously prepare wasm: ${u}`),Ke(u)})}function Z(t,r){var o=We;return Nn||typeof WebAssembly.instantiateStreaming!="function"||He(o)||typeof fetch!="function"?Te(o,t,r):fetch(o,{credentials:"same-origin"}).then(u=>WebAssembly.instantiateStreaming(u,t).then(r,function(l){return gt(`wasm streaming compile failed: ${l}`),gt("falling back to ArrayBuffer instantiation"),Te(o,t,r)}))}var G,j;function ve(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var Ht=t=>{for(;0<t.length;)t.shift()(c)};function Oe(t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":return Me[t>>0];case"i8":return Me[t>>0];case"i16":return Vt[t>>1];case"i32":return I[t>>2];case"i64":Ke("to do getValue(i64) use WASM_BIGINT");case"float":return a[t>>2];case"double":return M[t>>3];case"*":return g[t>>2];default:Ke(`invalid type for getValue: ${r}`)}}var Nr=c.noExitRuntime||!0;function dt(t,r,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":Me[t>>0]=r;break;case"i8":Me[t>>0]=r;break;case"i16":Vt[t>>1]=r;break;case"i32":I[t>>2]=r;break;case"i64":Ke("to do setValue(i64) use WASM_BIGINT");case"float":a[t>>2]=r;break;case"double":M[t>>3]=r;break;case"*":g[t>>2]=r;break;default:Ke(`invalid type for setValue: ${o}`)}}var On=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,be=(t,r,o)=>{var u=r+o;for(o=r;t[o]&&!(o>=u);)++o;if(16<o-r&&t.buffer&&On)return On.decode(t.subarray(r,o));for(u="";r<o;){var l=t[r++];if(l&128){var v=t[r++]&63;if((l&224)==192)u+=String.fromCharCode((l&31)<<6|v);else{var m=t[r++]&63;l=(l&240)==224?(l&15)<<12|v<<6|m:(l&7)<<18|v<<12|m<<6|t[r++]&63,65536>l?u+=String.fromCharCode(l):(l-=65536,u+=String.fromCharCode(55296|l>>10,56320|l&1023))}}else u+=String.fromCharCode(l)}return u},Mn=(t,r)=>{for(var o=0,u=t.length-1;0<=u;u--){var l=t[u];l==="."?t.splice(u,1):l===".."?(t.splice(u,1),o++):o&&(t.splice(u,1),o--)}if(r)for(;o;o--)t.unshift("..");return t},At=t=>{var r=t.charAt(0)==="/",o=t.substr(-1)==="/";return(t=Mn(t.split("/").filter(u=>!!u),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},Lt=t=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=r[0],r=r[1],!t&&!r?".":(r&&(r=r.substr(0,r.length-1)),t+r)},It=t=>{if(t==="/")return"/";t=At(t),t=t.replace(/\/$/,"");var r=t.lastIndexOf("/");return r===-1?t:t.substr(r+1)},ut=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);Ke("initRandomDevice")},Pn=t=>(Pn=ut())(t);function vt(){for(var t="",r=!1,o=arguments.length-1;-1<=o&&!r;o--){if(r=0<=o?arguments[o]:"/",typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,r=r.charAt(0)==="/"}return t=Mn(t.split("/").filter(u=>!!u),!r).join("/"),(r?"/":"")+t||"."}var gn=[],Ct=t=>{for(var r=0,o=0;o<t.length;++o){var u=t.charCodeAt(o);127>=u?r++:2047>=u?r+=2:55296<=u&&57343>=u?(r+=4,++o):r+=3}return r},Ut=(t,r,o,u)=>{if(!(0<u))return 0;var l=o;u=o+u-1;for(var v=0;v<t.length;++v){var m=t.charCodeAt(v);if(55296<=m&&57343>=m){var D=t.charCodeAt(++v);m=65536+((m&1023)<<10)|D&1023}if(127>=m){if(o>=u)break;r[o++]=m}else{if(2047>=m){if(o+1>=u)break;r[o++]=192|m>>6}else{if(65535>=m){if(o+2>=u)break;r[o++]=224|m>>12}else{if(o+3>=u)break;r[o++]=240|m>>18,r[o++]=128|m>>12&63}r[o++]=128|m>>6&63}r[o++]=128|m&63}}return r[o]=0,o-l},Ln=[];function Or(t,r){Ln[t]={input:[],Nb:[],Zb:r},kt(t,te)}var te={open(t){var r=Ln[t.node.bc];if(!r)throw new P(43);t.Ob=r,t.seekable=!1},close(t){t.Ob.Zb.Wb(t.Ob)},Wb(t){t.Ob.Zb.Wb(t.Ob)},read(t,r,o,u){if(!t.Ob||!t.Ob.Zb.sc)throw new P(60);for(var l=0,v=0;v<u;v++){try{var m=t.Ob.Zb.sc(t.Ob)}catch{throw new P(29)}if(m===void 0&&l===0)throw new P(6);if(m==null)break;l++,r[o+v]=m}return l&&(t.node.timestamp=Date.now()),l},write(t,r,o,u){if(!t.Ob||!t.Ob.Zb.mc)throw new P(60);try{for(var l=0;l<u;l++)t.Ob.Zb.mc(t.Ob,r[o+l])}catch{throw new P(29)}return u&&(t.node.timestamp=Date.now()),l}},Ie={sc(){e:{if(!gn.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){var r=null;break e}r=Array(Ct(t)+1),t=Ut(t,r,0,r.length),r.length=t,gn=r}r=gn.shift()}return r},mc(t,r){r===null||r===10?(Ci(be(t.Nb,0)),t.Nb=[]):r!=0&&t.Nb.push(r)},Wb(t){t.Nb&&0<t.Nb.length&&(Ci(be(t.Nb,0)),t.Nb=[])},Sc(){return{Oc:25856,Qc:5,Nc:191,Pc:35387,Mc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Tc(){return 0},Uc(){return[24,80]}},Mr={mc(t,r){r===null||r===10?(gt(be(t.Nb,0)),t.Nb=[]):r!=0&&t.Nb.push(r)},Wb(t){t.Nb&&0<t.Nb.length&&(gt(be(t.Nb,0)),t.Nb=[])}};function sn(t,r){var o=t.Jb?t.Jb.length:0;o>=r||(r=Math.max(r,o*(1048576>o?2:1.125)>>>0),o!=0&&(r=Math.max(r,256)),o=t.Jb,t.Jb=new Uint8Array(r),0<t.Lb&&t.Jb.set(o.subarray(0,t.Lb),0))}var X={Qb:null,Rb(){return X.createNode(null,"/",16895,0)},createNode(t,r,o,u){if((o&61440)===24576||(o&61440)===4096)throw new P(63);return X.Qb||(X.Qb={dir:{node:{Pb:X.Cb.Pb,Mb:X.Cb.Mb,$b:X.Cb.$b,ec:X.Cb.ec,wc:X.Cb.wc,kc:X.Cb.kc,ic:X.Cb.ic,vc:X.Cb.vc,jc:X.Cb.jc},stream:{Vb:X.Ib.Vb}},file:{node:{Pb:X.Cb.Pb,Mb:X.Cb.Mb},stream:{Vb:X.Ib.Vb,read:X.Ib.read,write:X.Ib.write,pc:X.Ib.pc,fc:X.Ib.fc,hc:X.Ib.hc}},link:{node:{Pb:X.Cb.Pb,Mb:X.Cb.Mb,cc:X.Cb.cc},stream:{}},qc:{node:{Pb:X.Cb.Pb,Mb:X.Cb.Mb},stream:Fr}}),o=kn(t,r,o,u),ot(o.mode)?(o.Cb=X.Qb.dir.node,o.Ib=X.Qb.dir.stream,o.Jb={}):(o.mode&61440)===32768?(o.Cb=X.Qb.file.node,o.Ib=X.Qb.file.stream,o.Lb=0,o.Jb=null):(o.mode&61440)===40960?(o.Cb=X.Qb.link.node,o.Ib=X.Qb.link.stream):(o.mode&61440)===8192&&(o.Cb=X.Qb.qc.node,o.Ib=X.Qb.qc.stream),o.timestamp=Date.now(),t&&(t.Jb[r]=o,t.timestamp=o.timestamp),o},Rc(t){return t.Jb?t.Jb.subarray?t.Jb.subarray(0,t.Lb):new Uint8Array(t.Jb):new Uint8Array(0)},Cb:{Pb(t){var r={};return r.Cc=(t.mode&61440)===8192?t.id:1,r.tc=t.id,r.mode=t.mode,r.Ic=1,r.uid=0,r.Ec=0,r.bc=t.bc,ot(t.mode)?r.size=4096:(t.mode&61440)===32768?r.size=t.Lb:(t.mode&61440)===40960?r.size=t.link.length:r.size=0,r.yc=new Date(t.timestamp),r.Hc=new Date(t.timestamp),r.Bc=new Date(t.timestamp),r.zc=4096,r.Ac=Math.ceil(r.size/r.zc),r},Mb(t,r){if(r.mode!==void 0&&(t.mode=r.mode),r.timestamp!==void 0&&(t.timestamp=r.timestamp),r.size!==void 0&&(r=r.size,t.Lb!=r))if(r==0)t.Jb=null,t.Lb=0;else{var o=t.Jb;t.Jb=new Uint8Array(r),o&&t.Jb.set(o.subarray(0,Math.min(r,t.Lb))),t.Lb=r}},$b(){throw $n[44]},ec(t,r,o,u){return X.createNode(t,r,o,u)},wc(t,r,o){if(ot(t.mode)){try{var u=it(r,o)}catch{}if(u)for(var l in u.Jb)throw new P(55)}delete t.parent.Jb[t.name],t.parent.timestamp=Date.now(),t.name=o,r.Jb[o]=t,r.timestamp=t.parent.timestamp,t.parent=r},kc(t,r){delete t.Jb[r],t.timestamp=Date.now()},ic(t,r){var o=it(t,r),u;for(u in o.Jb)throw new P(55);delete t.Jb[r],t.timestamp=Date.now()},vc(t){var r=[".",".."],o;for(o in t.Jb)t.Jb.hasOwnProperty(o)&&r.push(o);return r},jc(t,r,o){return t=X.createNode(t,r,41471,0),t.link=o,t},cc(t){if((t.mode&61440)!==40960)throw new P(28);return t.link}},Ib:{read(t,r,o,u,l){var v=t.node.Jb;if(l>=t.node.Lb)return 0;if(t=Math.min(t.node.Lb-l,u),8<t&&v.subarray)r.set(v.subarray(l,l+t),o);else for(u=0;u<t;u++)r[o+u]=v[l+u];return t},write(t,r,o,u,l,v){if(r.buffer===Me.buffer&&(v=!1),!u)return 0;if(t=t.node,t.timestamp=Date.now(),r.subarray&&(!t.Jb||t.Jb.subarray)){if(v)return t.Jb=r.subarray(o,o+u),t.Lb=u;if(t.Lb===0&&l===0)return t.Jb=r.slice(o,o+u),t.Lb=u;if(l+u<=t.Lb)return t.Jb.set(r.subarray(o,o+u),l),u}if(sn(t,l+u),t.Jb.subarray&&r.subarray)t.Jb.set(r.subarray(o,o+u),l);else for(v=0;v<u;v++)t.Jb[l+v]=r[o+v];return t.Lb=Math.max(t.Lb,l+u),u},Vb(t,r,o){if(o===1?r+=t.position:o===2&&(t.node.mode&61440)===32768&&(r+=t.node.Lb),0>r)throw new P(28);return r},pc(t,r,o){sn(t.node,r+o),t.node.Lb=Math.max(t.node.Lb,r+o)},fc(t,r,o,u,l){if((t.node.mode&61440)!==32768)throw new P(43);if(t=t.node.Jb,l&2||t.buffer!==Me.buffer){if((0<o||o+r<t.length)&&(t.subarray?t=t.subarray(o,o+r):t=Array.prototype.slice.call(t,o,o+r)),o=!0,r=65536*Math.ceil(r/65536),(l=xr(65536,r))?(ee.fill(0,l,l+r),r=l):r=0,!r)throw new P(48);Me.set(t,r)}else o=!1,r=t.byteOffset;return{Jc:r,xc:o}},hc(t,r,o,u){return X.Ib.write(t,r,0,u,o,!1),0}}},Pr=(t,r)=>{var o=0;return t&&(o|=365),r&&(o|=146),o},at=null,Un={},he=[],Lr=1,Xe=null,Ur=!0,P=null,$n={};function Ye(t,r={}){if(t=vt(t),!t)return{path:"",node:null};if(r=Object.assign({rc:!0,nc:0},r),8<r.nc)throw new P(32);t=t.split("/").filter(m=>!!m);for(var o=at,u="/",l=0;l<t.length;l++){var v=l===t.length-1;if(v&&r.parent)break;if(o=it(o,t[l]),u=At(u+"/"+t[l]),o.Xb&&(!v||v&&r.rc)&&(o=o.Xb.root),!v||r.Ub){for(v=0;(o.mode&61440)===40960;)if(o=cn(u),u=vt(Lt(u),o),o=Ye(u,{nc:r.nc+1}).node,40<v++)throw new P(32)}}return{path:u,node:o}}function $t(t){for(var r;;){if(t===t.parent)return t=t.Rb.uc,r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t;r=r?`${t.name}/${r}`:t.name,t=t.parent}}function un(t,r){for(var o=0,u=0;u<r.length;u++)o=(o<<5)-o+r.charCodeAt(u)|0;return(t+o>>>0)%Xe.length}function Rt(t){var r=un(t.parent.id,t.name);if(Xe[r]===t)Xe[r]=t.Yb;else for(r=Xe[r];r;){if(r.Yb===t){r.Yb=t.Yb;break}r=r.Yb}}function it(t,r){var o;if(o=(o=Qt(t,"x"))?o:t.Cb.$b?0:2)throw new P(o,t);for(o=Xe[un(t.id,r)];o;o=o.Yb){var u=o.name;if(o.parent.id===t.id&&u===r)return o}return t.Cb.$b(t,r)}function kn(t,r,o,u){return t=new yr(t,r,o,u),r=un(t.parent.id,t.name),t.Yb=Xe[r],Xe[r]=t}function ot(t){return(t&61440)===16384}function $r(t){var r=["r","w","rw"][t&3];return t&512&&(r+="w"),r}function Qt(t,r){if(Ur)return 0;if(!r.includes("r")||t.mode&292){if(r.includes("w")&&!(t.mode&146)||r.includes("x")&&!(t.mode&73))return 2}else return 2;return 0}function kr(t,r){try{return it(t,r),20}catch{}return Qt(t,"wx")}function Fn(t,r,o){try{var u=it(t,r)}catch(l){return l.Kb}if(t=Qt(t,"wx"))return t;if(o){if(!ot(u.mode))return 54;if(u===u.parent||$t(u)==="/")return 10}else if(ot(u.mode))return 31;return 0}function ue(){for(var t=0;4096>=t;t++)if(!he[t])return t;throw new P(33)}function Ze(t){if(t=he[t],!t)throw new P(8);return t}function vn(t,r=-1){return Wt||(Wt=function(){this.dc={}},Wt.prototype={},Object.defineProperties(Wt.prototype,{object:{get(){return this.node},set(o){this.node=o}},flags:{get(){return this.dc.flags},set(o){this.dc.flags=o}},position:{get(){return this.dc.position},set(o){this.dc.position=o}}})),t=Object.assign(new Wt,t),r==-1&&(r=ue()),t.Sb=r,he[r]=t}var Fr={open(t){t.Ib=Un[t.node.bc].Ib,t.Ib.open&&t.Ib.open(t)},Vb(){throw new P(70)}};function kt(t,r){Un[t]={Ib:r}}function zr(t,r){var o=r==="/",u=!r;if(o&&at)throw new P(10);if(!o&&!u){var l=Ye(r,{rc:!1});if(r=l.path,l=l.node,l.Xb)throw new P(10);if(!ot(l.mode))throw new P(54)}r={type:t,Wc:{},uc:r,Gc:[]},t=t.Rb(r),t.Rb=r,r.root=t,o?at=t:l&&(l.Xb=r,l.Rb&&l.Rb.Gc.push(r))}function Et(t,r,o){var u=Ye(t,{parent:!0}).node;if(t=It(t),!t||t==="."||t==="..")throw new P(28);var l=kr(u,t);if(l)throw new P(l);if(!u.Cb.ec)throw new P(63);return u.Cb.ec(u,t,r,o)}function _t(t,r){return Et(t,(r!==void 0?r:511)&1023|16384,0)}function L(t,r,o){typeof o>"u"&&(o=r,r=438),Et(t,r|8192,o)}function an(t,r){if(!vt(t))throw new P(44);var o=Ye(r,{parent:!0}).node;if(!o)throw new P(44);r=It(r);var u=kr(o,r);if(u)throw new P(u);if(!o.Cb.jc)throw new P(63);o.Cb.jc(o,r,t)}function Ge(t){var r=Ye(t,{parent:!0}).node;t=It(t);var o=it(r,t),u=Fn(r,t,!0);if(u)throw new P(u);if(!r.Cb.ic)throw new P(63);if(o.Xb)throw new P(10);r.Cb.ic(r,t),Rt(o)}function cn(t){if(t=Ye(t).node,!t)throw new P(44);if(!t.Cb.cc)throw new P(28);return vt($t(t.parent),t.Cb.cc(t))}function jt(t,r){if(t=Ye(t,{Ub:!r}).node,!t)throw new P(44);if(!t.Cb.Pb)throw new P(63);return t.Cb.Pb(t)}function zn(t){return jt(t,!0)}function Tt(t,r){if(t=typeof t=="string"?Ye(t,{Ub:!0}).node:t,!t.Cb.Mb)throw new P(63);t.Cb.Mb(t,{mode:r&4095|t.mode&-4096,timestamp:Date.now()})}function Bn(t,r){if(0>r)throw new P(28);if(t=typeof t=="string"?Ye(t,{Ub:!0}).node:t,!t.Cb.Mb)throw new P(63);if(ot(t.mode))throw new P(31);if((t.mode&61440)!==32768)throw new P(28);var o=Qt(t,"w");if(o)throw new P(o);t.Cb.Mb(t,{size:r,timestamp:Date.now()})}function et(t,r,o){if(t==="")throw new P(44);if(typeof r=="string"){var u={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[r];if(typeof u>"u")throw Error(`Unknown file open mode: ${r}`);r=u}if(o=r&64?(typeof o>"u"?438:o)&4095|32768:0,typeof t=="object")var l=t;else{t=At(t);try{l=Ye(t,{Ub:!(r&131072)}).node}catch{}}if(u=!1,r&64)if(l){if(r&128)throw new P(20)}else l=Et(t,o,0),u=!0;if(!l)throw new P(44);if((l.mode&61440)===8192&&(r&=-513),r&65536&&!ot(l.mode))throw new P(54);if(!u&&(o=l?(l.mode&61440)===40960?32:ot(l.mode)&&($r(r)!=="r"||r&512)?31:Qt(l,$r(r)):44))throw new P(o);return r&512&&!u&&Bn(l,0),r&=-131713,l=vn({node:l,path:$t(l),flags:r,seekable:!0,position:0,Ib:l.Ib,Lc:[],error:!1}),l.Ib.open&&l.Ib.open(l),!c.logReadFiles||r&1||(En||(En={}),t in En||(En[t]=1)),l}function Vn(t,r,o){if(t.Sb===null)throw new P(8);if(!t.seekable||!t.Ib.Vb)throw new P(70);if(o!=0&&o!=1&&o!=2)throw new P(28);t.position=t.Ib.Vb(t,r,o),t.Lc=[]}function Ft(){P||(P=function(t,r){this.name="ErrnoError",this.node=r,this.Kc=function(o){this.Kb=o},this.Kc(t),this.message="FS error"},P.prototype=Error(),P.prototype.constructor=P,[44].forEach(t=>{$n[t]=new P(t),$n[t].stack="<generic error, no stack>"}))}var Hn;function Kt(t,r,o){t=At("/dev/"+t);var u=Pr(!!r,!!o);Qn||(Qn=64);var l=Qn++<<8|0;kt(l,{open(v){v.seekable=!1},close(){o&&o.buffer&&o.buffer.length&&o(10)},read(v,m,D,E){for(var x=0,U=0;U<E;U++){try{var N=r()}catch{throw new P(29)}if(N===void 0&&x===0)throw new P(6);if(N==null)break;x++,m[D+U]=N}return x&&(v.node.timestamp=Date.now()),x},write(v,m,D,E){for(var x=0;x<E;x++)try{o(m[D+x])}catch{throw new P(29)}return E&&(v.node.timestamp=Date.now()),x}}),L(t,u,l)}var Qn,oe={},Wt,En;function xt(t,r,o){if(r.charAt(0)==="/")return r;if(t=t===-100?"/":Ze(t).path,r.length==0){if(!o)throw new P(44);return t}return At(t+"/"+r)}function fn(t,r,o){try{var u=t(r)}catch(v){if(v&&v.node&&At(r)!==At($t(v.node)))return-54;throw v}I[o>>2]=u.Cc,I[o+4>>2]=u.mode,g[o+8>>2]=u.Ic,I[o+12>>2]=u.uid,I[o+16>>2]=u.Ec,I[o+20>>2]=u.bc,j=[u.size>>>0,(G=u.size,1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[o+24>>2]=j[0],I[o+28>>2]=j[1],I[o+32>>2]=4096,I[o+36>>2]=u.Ac,t=u.yc.getTime(),r=u.Hc.getTime();var l=u.Bc.getTime();return j=[Math.floor(t/1e3)>>>0,(G=Math.floor(t/1e3),1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[o+40>>2]=j[0],I[o+44>>2]=j[1],g[o+48>>2]=t%1e3*1e3,j=[Math.floor(r/1e3)>>>0,(G=Math.floor(r/1e3),1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[o+56>>2]=j[0],I[o+60>>2]=j[1],g[o+64>>2]=r%1e3*1e3,j=[Math.floor(l/1e3)>>>0,(G=Math.floor(l/1e3),1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[o+72>>2]=j[0],I[o+76>>2]=j[1],g[o+80>>2]=l%1e3*1e3,j=[u.tc>>>0,(G=u.tc,1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[o+88>>2]=j[0],I[o+92>>2]=j[1],0}var Jt=void 0;function st(){var t=I[+Jt>>2];return Jt+=4,t}var Dt=(t,r)=>r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN,jn=[0,31,60,91,121,152,182,213,244,274,305,335],Br=[0,31,59,90,120,151,181,212,243,273,304,334],Kn=t=>{var r=Ct(t)+1,o=vr(r);return o&&Ut(t,ee,o,r),o},Xt={},Wn=()=>{if(!xn){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Be||"./this.program"},r;for(r in Xt)Xt[r]===void 0?delete t[r]:t[r]=Xt[r];var o=[];for(r in t)o.push(`${r}=${t[r]}`);xn=o}return xn},xn;function Jn(){}function ln(){}function Xn(){}function Yn(){}function Zn(){}function Yt(){}function qn(){}function Se(){}function Zt(){}function hn(){}function Nt(){}function dn(){}function _n(){}function wn(){}function Gt(){}function Vr(){}function Hr(){}function Gn(){}function Sn(){}function er(){}function An(){}function tr(){}function nr(){}function rr(){}function ir(){}function or(){}function sr(){}function ur(){}function ar(){}function cr(){}function fr(){}function lr(){}function hr(){}function dr(){}function _r(){}function wr(){}function br(){}function mr(){}function pr(){}var wt=(t,r,o,u)=>{var l={string:x=>{var U=0;if(x!=null&&x!==0){U=Ct(x)+1;var N=In(U);Ut(x,ee,N,U),U=N}return U},array:x=>{var U=In(x.length);return Me.set(x,U),U}};t=c["_"+t];var v=[],m=0;if(u)for(var D=0;D<u.length;D++){var E=l[o[D]];E?(m===0&&(m=Sr()),v[D]=E(u[D])):v[D]=u[D]}return o=t.apply(null,v),o=function(x){return m!==0&&Ar(m),r==="string"?x?be(ee,x):"":r==="boolean"?!!x:x}(o)};function yr(t,r,o,u){t||(t=this),this.parent=t,this.Rb=t.Rb,this.Xb=null,this.id=Lr++,this.name=r,this.mode=o,this.Cb={},this.Ib={},this.bc=u}Object.defineProperties(yr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(t){t?this.mode|=146:this.mode&=-147}}}),Ft(),Xe=Array(4096),zr(X,"/"),_t("/tmp"),_t("/home"),_t("/home/web_user"),function(){_t("/dev"),kt(259,{read:()=>0,write:(u,l,v,m)=>m}),L("/dev/null",259),Or(1280,Ie),Or(1536,Mr),L("/dev/tty",1280),L("/dev/tty1",1536);var t=new Uint8Array(1024),r=0,o=()=>(r===0&&(r=Pn(t).byteLength),t[--r]);Kt("random",o),Kt("urandom",o),_t("/dev/shm"),_t("/dev/shm/tmp")}(),function(){_t("/proc");var t=_t("/proc/self");_t("/proc/self/fd"),zr({Rb(){var r=kn(t,"fd",16895,73);return r.Cb={$b(o,u){var l=Ze(+u);return o={parent:null,Rb:{uc:"fake"},Cb:{cc:()=>l.path}},o.parent=o}},r}},"/proc/self/fd")}(),function(){const t=new Map;c.setAuthorizer=function(r,o,u){return o?t.set(r,{f:o,oc:u}):t.delete(r),wt("set_authorizer","number",["number"],[r])},Jn=function(r,o,u,l,v,m){if(t.has(r)){const{f:D,oc:E}=t.get(r);return D(E,o,u?u?be(ee,u):"":null,l?l?be(ee,l):"":null,v?v?be(ee,v):"":null,m?m?be(ee,m):"":null)}return 0}}(),function(){const t=new Map,r=new Map;c.createFunction=function(o,u,l,v,m,D){const E=t.size;return t.set(E,{f:D,Tb:m}),wt("create_function","number","number string number number number number".split(" "),[o,u,l,v,E,0])},c.createAggregate=function(o,u,l,v,m,D,E){const x=t.size;return t.set(x,{step:D,Dc:E,Tb:m}),wt("create_function","number","number string number number number number".split(" "),[o,u,l,v,x,1])},c.getFunctionUserData=function(o){return r.get(o)},Xn=function(o,u,l,v){o=t.get(o),r.set(u,o.Tb),o.f(u,new Uint32Array(ee.buffer,v,l)),r.delete(u)},Zn=function(o,u,l,v){o=t.get(o),r.set(u,o.Tb),o.step(u,new Uint32Array(ee.buffer,v,l)),r.delete(u)},ln=function(o,u){o=t.get(o),r.set(u,o.Tb),o.Dc(u),r.delete(u)}}(),function(){const t=new Map;c.progressHandler=function(r,o,u,l){return u?t.set(r,{f:u,oc:l}):t.delete(r),wt("progress_handler",null,["number","number"],[r,o])},Yn=function(r){if(t.has(r)){const{f:o,oc:u}=t.get(r);return o(u)}return 0}}(),function(){function t(E,x){const U=`get${E}`,N=`set${E}`;return new Proxy(new DataView(ee.buffer,x,E==="Int32"?4:8),{get(k,ae){if(ae===U)return function(me,Ue){if(!Ue)throw Error("must be little endian");return k[ae](me,Ue)};if(ae===N)return function(me,Ue,De){if(!De)throw Error("must be little endian");return k[ae](me,Ue,De)};if(typeof ae=="string"&&ae.match(/^(get)|(set)/))throw Error("invalid type");return k[ae]}})}const r=typeof Asyncify=="object",o=new Map,u=new Map,l=new Map,v=r?new Set:null,m=r?new Set:null,D=new Map;tr=function(E,x,U,N){D.set(E?be(ee,E):"",{size:x,ac:Array.from(new Uint32Array(ee.buffer,N,U))})},c.createModule=function(E,x,U,N){r&&(U.handleAsync=Asyncify.Fc);const k=o.size;return o.set(k,{module:U,Tb:N}),N=0,U.xCreate&&(N|=1),U.xConnect&&(N|=2),U.xBestIndex&&(N|=4),U.xDisconnect&&(N|=8),U.xDestroy&&(N|=16),U.xOpen&&(N|=32),U.xClose&&(N|=64),U.xFilter&&(N|=128),U.xNext&&(N|=256),U.xEof&&(N|=512),U.xColumn&&(N|=1024),U.xRowid&&(N|=2048),U.xUpdate&&(N|=4096),U.xBegin&&(N|=8192),U.xSync&&(N|=16384),U.xCommit&&(N|=32768),U.xRollback&&(N|=65536),U.xFindFunction&&(N|=131072),U.xRename&&(N|=262144),wt("create_module","number",["number","string","number","number"],[E,x,k,N])},dn=function(E,x,U,N,k,ae){if(x=o.get(x),u.set(k,x),r){v.delete(k);for(const me of v)u.delete(me)}return N=Array.from(new Uint32Array(ee.buffer,N,U)).map(me=>me?be(ee,me):""),x.module.xCreate(E,x.Tb,N,k,t("Int32",ae))},Nt=function(E,x,U,N,k,ae){if(x=o.get(x),u.set(k,x),r){v.delete(k);for(const me of v)u.delete(me)}return N=Array.from(new Uint32Array(ee.buffer,N,U)).map(me=>me?be(ee,me):""),x.module.xConnect(E,x.Tb,N,k,t("Int32",ae))},qn=function(E,x){var U=u.get(E),N=D.get("sqlite3_index_info").ac;const k={};k.nConstraint=Oe(x+N[0],"i32"),k.aConstraint=[];for(var ae=Oe(x+N[1],"*"),me=D.get("sqlite3_index_constraint").size,Ue=0;Ue<k.nConstraint;++Ue){var De=k.aConstraint,rt=De.push,$e=ae+Ue*me,en=D.get("sqlite3_index_constraint").ac,Ot={};Ot.iColumn=Oe($e+en[0],"i32"),Ot.op=Oe($e+en[1],"i8"),Ot.usable=!!Oe($e+en[2],"i8"),rt.call(De,Ot)}for(k.nOrderBy=Oe(x+N[2],"i32"),k.aOrderBy=[],ae=Oe(x+N[3],"*"),me=D.get("sqlite3_index_orderby").size,Ue=0;Ue<k.nOrderBy;++Ue)De=k.aOrderBy,rt=De.push,$e=ae+Ue*me,en=D.get("sqlite3_index_orderby").ac,Ot={},Ot.iColumn=Oe($e+en[0],"i32"),Ot.desc=!!Oe($e+en[1],"i8"),rt.call(De,Ot);for(k.aConstraintUsage=[],ae=0;ae<k.nConstraint;++ae)k.aConstraintUsage.push({argvIndex:0,omit:!1});for(k.idxNum=Oe(x+N[5],"i32"),k.idxStr=null,k.orderByConsumed=!!Oe(x+N[8],"i8"),k.estimatedCost=Oe(x+N[9],"double"),k.estimatedRows=Oe(x+N[10],"i32"),k.idxFlags=Oe(x+N[11],"i32"),k.colUsed=Oe(x+N[12],"i32"),E=U.module.xBestIndex(E,k),U=D.get("sqlite3_index_info").ac,N=Oe(x+U[4],"*"),ae=D.get("sqlite3_index_constraint_usage").size,rt=0;rt<k.nConstraint;++rt)me=N+rt*ae,De=k.aConstraintUsage[rt],$e=D.get("sqlite3_index_constraint_usage").ac,dt(me+$e[0],De.argvIndex,"i32"),dt(me+$e[1],De.omit?1:0,"i8");return dt(x+U[5],k.idxNum,"i32"),typeof k.idxStr=="string"&&(N=Ct(k.idxStr),ae=wt("sqlite3_malloc","number",["number"],[N+1]),Ut(k.idxStr,ee,ae,N+1),dt(x+U[6],ae,"*"),dt(x+U[7],1,"i32")),dt(x+U[8],k.orderByConsumed,"i32"),dt(x+U[9],k.estimatedCost,"double"),dt(x+U[10],k.estimatedRows,"i32"),dt(x+U[11],k.idxFlags,"i32"),E},wn=function(E){const x=u.get(E);return r?v.add(E):u.delete(E),x.module.xDisconnect(E)},_n=function(E){const x=u.get(E);return r?v.add(E):u.delete(E),x.module.xDestroy(E)},Gn=function(E,x){const U=u.get(E);if(l.set(x,U),r){m.delete(x);for(const N of m)l.delete(N)}return U.module.xOpen(E,x)},Se=function(E){const x=l.get(E);return r?m.add(E):l.delete(E),x.module.xClose(E)},Gt=function(E){return l.get(E).module.xEof(E)?1:0},Vr=function(E,x,U,N,k){const ae=l.get(E);return U=U?U?be(ee,U):"":null,k=new Uint32Array(ee.buffer,k,N),ae.module.xFilter(E,x,U,k)},Hr=function(E){return l.get(E).module.xNext(E)},Zt=function(E,x,U){return l.get(E).module.xColumn(E,x,U)},An=function(E,x){return l.get(E).module.xRowid(E,t("BigInt64",x))},rr=function(E,x,U,N){const k=u.get(E);return U=new Uint32Array(ee.buffer,U,x),k.module.xUpdate(E,U,t("BigInt64",N))},Yt=function(E){return u.get(E).module.xBegin(E)},nr=function(E){return u.get(E).module.xSync(E)},hn=function(E){return u.get(E).module.xCommit(E)},er=function(E){return u.get(E).module.xRollback(E)},Sn=function(E,x){const U=u.get(E);return x=x?be(ee,x):"",U.module.xRename(E,x)}}(),function(){function t(m,D){const E=`get${m}`,x=`set${m}`;return new Proxy(new DataView(ee.buffer,D,m==="Int32"?4:8),{get(U,N){if(N===E)return function(k,ae){if(!ae)throw Error("must be little endian");return U[N](k,ae)};if(N===x)return function(k,ae,me){if(!me)throw Error("must be little endian");return U[N](k,ae,me)};if(typeof N=="string"&&N.match(/^(get)|(set)/))throw Error("invalid type");return U[N]}})}function r(m){return m>>=2,g[m]+g[m+1]*2**32}const o=typeof Asyncify=="object",u=new Map,l=new Map;c.registerVFS=function(m,D){if(wt("sqlite3_vfs_find","number",["string"],[m.name]))throw Error(`VFS '${m.name}' already registered`);o&&(m.handleAsync=Asyncify.Fc);var E=m.Vc??64;const x=c._malloc(4);return D=wt("register_vfs","number",["string","number","number","number"],[m.name,E,D?1:0,x]),D||(E=Oe(x,"*"),u.set(E,m)),c._free(x),D};const v=o?new Set:null;sr=function(m){const D=l.get(m);return o?v.add(m):l.delete(m),D.xClose(m)},dr=function(m,D,E,x){return l.get(m).xRead(m,ee.subarray(D,D+E),r(x))},pr=function(m,D,E,x){return l.get(m).xWrite(m,ee.subarray(D,D+E),r(x))},br=function(m,D){return l.get(m).xTruncate(m,r(D))},wr=function(m,D){return l.get(m).xSync(m,D)},fr=function(m,D){const E=l.get(m);return D=t("BigInt64",D),E.xFileSize(m,D)},lr=function(m,D){return l.get(m).xLock(m,D)},mr=function(m,D){return l.get(m).xUnlock(m,D)},or=function(m,D){const E=l.get(m);return D=t("Int32",D),E.xCheckReservedLock(m,D)},cr=function(m,D,E){const x=l.get(m);return E=new DataView(ee.buffer,E),x.xFileControl(m,D,E)},_r=function(m){return l.get(m).xSectorSize(m)},ar=function(m){return l.get(m).xDeviceCharacteristics(m)},hr=function(m,D,E,x,U){if(m=u.get(m),l.set(E,m),o){v.delete(E);for(var N of v)l.delete(N)}if(N=null,x&64){N=1;const k=[];for(;N;){const ae=ee[D++];if(ae)k.push(ae);else switch(ee[D]||(N=null),N){case 1:k.push(63),N=2;break;case 2:k.push(61),N=3;break;case 3:k.push(38),N=2}}N=new TextDecoder().decode(new Uint8Array(k))}else D&&(N=D?be(ee,D):"");return U=t("Int32",U),m.xOpen(N,E,x,U)},ur=function(m,D,E){return u.get(m).xDelete(D?be(ee,D):"",E)},ir=function(m,D,E,x){return m=u.get(m),x=t("Int32",x),m.xAccess(D?be(ee,D):"",E,x)}}();var Qr={a:(t,r,o,u)=>{Ke(`Assertion failed: ${t?be(ee,t):""}, at: `+[r?r?be(ee,r):"":"unknown filename",o,u?u?be(ee,u):"":"unknown function"])},K:function(t,r){try{return t=t?be(ee,t):"",Tt(t,r),0}catch(o){if(typeof oe>"u"||o.name!=="ErrnoError")throw o;return-o.Kb}},M:function(t,r,o){try{if(r=r?be(ee,r):"",r=xt(t,r),o&-8)return-28;var u=Ye(r,{Ub:!0}).node;return u?(t="",o&4&&(t+="r"),o&2&&(t+="w"),o&1&&(t+="x"),t&&Qt(u,t)?-2:0):-44}catch(l){if(typeof oe>"u"||l.name!=="ErrnoError")throw l;return-l.Kb}},L:function(t,r){try{var o=Ze(t);return Tt(o.node,r),0}catch(u){if(typeof oe>"u"||u.name!=="ErrnoError")throw u;return-u.Kb}},J:function(t){try{var r=Ze(t).node,o=typeof r=="string"?Ye(r,{Ub:!0}).node:r;if(!o.Cb.Mb)throw new P(63);return o.Cb.Mb(o,{timestamp:Date.now()}),0}catch(u){if(typeof oe>"u"||u.name!=="ErrnoError")throw u;return-u.Kb}},b:function(t,r,o){Jt=o;try{var u=Ze(t);switch(r){case 0:var l=st();if(0>l)return-28;for(;he[l];)l++;return vn(u,l).Sb;case 1:case 2:return 0;case 3:return u.flags;case 4:return l=st(),u.flags|=l,0;case 5:return l=st(),Vt[l+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return I[gr()>>2]=28,-1;default:return-28}}catch(v){if(typeof oe>"u"||v.name!=="ErrnoError")throw v;return-v.Kb}},I:function(t,r){try{var o=Ze(t);return fn(jt,o.path,r)}catch(u){if(typeof oe>"u"||u.name!=="ErrnoError")throw u;return-u.Kb}},n:function(t,r,o){r=Dt(r,o);try{if(isNaN(r))return 61;var u=Ze(t);if(!(u.flags&2097155))throw new P(28);return Bn(u.node,r),0}catch(l){if(typeof oe>"u"||l.name!=="ErrnoError")throw l;return-l.Kb}},C:function(t,r){try{if(r===0)return-28;var o=Ct("/")+1;return r<o?-68:(Ut("/",ee,t,r),o)}catch(u){if(typeof oe>"u"||u.name!=="ErrnoError")throw u;return-u.Kb}},F:function(t,r){try{return t=t?be(ee,t):"",fn(zn,t,r)}catch(o){if(typeof oe>"u"||o.name!=="ErrnoError")throw o;return-o.Kb}},z:function(t,r,o){try{return r=r?be(ee,r):"",r=xt(t,r),r=At(r),r[r.length-1]==="/"&&(r=r.substr(0,r.length-1)),_t(r,o),0}catch(u){if(typeof oe>"u"||u.name!=="ErrnoError")throw u;return-u.Kb}},E:function(t,r,o,u){try{r=r?be(ee,r):"";var l=u&256;return r=xt(t,r,u&4096),fn(l?zn:jt,r,o)}catch(v){if(typeof oe>"u"||v.name!=="ErrnoError")throw v;return-v.Kb}},y:function(t,r,o,u){Jt=u;try{r=r?be(ee,r):"",r=xt(t,r);var l=u?st():0;return et(r,o,l).Sb}catch(v){if(typeof oe>"u"||v.name!=="ErrnoError")throw v;return-v.Kb}},w:function(t,r,o,u){try{if(r=r?be(ee,r):"",r=xt(t,r),0>=u)return-28;var l=cn(r),v=Math.min(u,Ct(l)),m=Me[o+v];return Ut(l,ee,o,u+1),Me[o+v]=m,v}catch(D){if(typeof oe>"u"||D.name!=="ErrnoError")throw D;return-D.Kb}},u:function(t){try{return t=t?be(ee,t):"",Ge(t),0}catch(r){if(typeof oe>"u"||r.name!=="ErrnoError")throw r;return-r.Kb}},H:function(t,r){try{return t=t?be(ee,t):"",fn(jt,t,r)}catch(o){if(typeof oe>"u"||o.name!=="ErrnoError")throw o;return-o.Kb}},r:function(t,r,o){try{if(r=r?be(ee,r):"",r=xt(t,r),o===0){t=r;var u=Ye(t,{parent:!0}).node;if(!u)throw new P(44);var l=It(t),v=it(u,l),m=Fn(u,l,!1);if(m)throw new P(m);if(!u.Cb.kc)throw new P(63);if(v.Xb)throw new P(10);u.Cb.kc(u,l),Rt(v)}else o===512?Ge(r):Ke("Invalid flags passed to unlinkat");return 0}catch(D){if(typeof oe>"u"||D.name!=="ErrnoError")throw D;return-D.Kb}},q:function(t,r,o){try{if(r=r?be(ee,r):"",r=xt(t,r,!0),o){var u=g[o>>2]+4294967296*I[o+4>>2],l=I[o+8>>2];v=1e3*u+l/1e6,o+=16,u=g[o>>2]+4294967296*I[o+4>>2],l=I[o+8>>2],m=1e3*u+l/1e6}else var v=Date.now(),m=v;t=v;var D=Ye(r,{Ub:!0}).node;return D.Cb.Mb(D,{timestamp:Math.max(t,m)}),0}catch(E){if(typeof oe>"u"||E.name!=="ErrnoError")throw E;return-E.Kb}},l:function(t,r,o){t=new Date(1e3*Dt(t,r)),I[o>>2]=t.getSeconds(),I[o+4>>2]=t.getMinutes(),I[o+8>>2]=t.getHours(),I[o+12>>2]=t.getDate(),I[o+16>>2]=t.getMonth(),I[o+20>>2]=t.getFullYear()-1900,I[o+24>>2]=t.getDay(),r=t.getFullYear(),I[o+28>>2]=(r%4!==0||r%100===0&&r%400!==0?Br:jn)[t.getMonth()]+t.getDate()-1|0,I[o+36>>2]=-(60*t.getTimezoneOffset()),r=new Date(t.getFullYear(),6,1).getTimezoneOffset();var u=new Date(t.getFullYear(),0,1).getTimezoneOffset();I[o+32>>2]=(r!=u&&t.getTimezoneOffset()==Math.min(u,r))|0},i:function(t,r,o,u,l,v,m,D){l=Dt(l,v);try{if(isNaN(l))return 61;var E=Ze(u);if(r&2&&!(o&2)&&(E.flags&2097155)!==2)throw new P(2);if((E.flags&2097155)===1)throw new P(2);if(!E.Ib.fc)throw new P(43);var x=E.Ib.fc(E,t,l,r,o),U=x.Jc;return I[m>>2]=x.xc,g[D>>2]=U,0}catch(N){if(typeof oe>"u"||N.name!=="ErrnoError")throw N;return-N.Kb}},j:function(t,r,o,u,l,v,m){v=Dt(v,m);try{if(isNaN(v))return 61;var D=Ze(l);if(o&2){if((D.node.mode&61440)!==32768)throw new P(43);u&2||D.Ib.hc&&D.Ib.hc(D,ee.slice(t,t+r),v,r,u)}}catch(E){if(typeof oe>"u"||E.name!=="ErrnoError")throw E;return-E.Kb}},s:(t,r,o)=>{function u(E){return(E=E.toTimeString().match(/\(([A-Za-z ]+)\)$/))?E[1]:"GMT"}var l=new Date().getFullYear(),v=new Date(l,0,1),m=new Date(l,6,1);l=v.getTimezoneOffset();var D=m.getTimezoneOffset();g[t>>2]=60*Math.max(l,D),I[r>>2]=+(l!=D),t=u(v),r=u(m),t=Kn(t),r=Kn(r),D<l?(g[o>>2]=t,g[o+4>>2]=r):(g[o>>2]=r,g[o+4>>2]=t)},e:()=>Date.now(),d:()=>performance.now(),o:t=>{var r=ee.length;if(t>>>=0,2147483648<t)return!1;for(var o=1;4>=o;o*=2){var u=r*(1+.2/o);u=Math.min(u,t+100663296);var l=Math;u=Math.max(t,u);e:{l=(l.min.call(l,2147483648,u+(65536-u%65536)%65536)-lt.buffer.byteLength+65535)/65536;try{lt.grow(l),R();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},A:(t,r)=>{var o=0;return Wn().forEach((u,l)=>{var v=r+o;for(l=g[t+4*l>>2]=v,v=0;v<u.length;++v)Me[l++>>0]=u.charCodeAt(v);Me[l>>0]=0,o+=u.length+1}),0},B:(t,r)=>{var o=Wn();g[t>>2]=o.length;var u=0;return o.forEach(l=>u+=l.length+1),g[r>>2]=u,0},f:function(t){try{var r=Ze(t);if(r.Sb===null)throw new P(8);r.lc&&(r.lc=null);try{r.Ib.close&&r.Ib.close(r)}catch(o){throw o}finally{he[r.Sb]=null}return r.Sb=null,0}catch(o){if(typeof oe>"u"||o.name!=="ErrnoError")throw o;return o.Kb}},p:function(t,r){try{var o=Ze(t);return Me[r>>0]=o.Ob?2:ot(o.mode)?3:(o.mode&61440)===40960?7:4,Vt[r+2>>1]=0,j=[0,(G=0,1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[r+8>>2]=j[0],I[r+12>>2]=j[1],j=[0,(G=0,1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[r+16>>2]=j[0],I[r+20>>2]=j[1],0}catch(u){if(typeof oe>"u"||u.name!=="ErrnoError")throw u;return u.Kb}},x:function(t,r,o,u){try{e:{var l=Ze(t);t=r;for(var v,m=r=0;m<o;m++){var D=g[t>>2],E=g[t+4>>2];t+=8;var x=l,U=D,N=E,k=v,ae=Me;if(0>N||0>k)throw new P(28);if(x.Sb===null)throw new P(8);if((x.flags&2097155)===1)throw new P(8);if(ot(x.node.mode))throw new P(31);if(!x.Ib.read)throw new P(28);var me=typeof k<"u";if(!me)k=x.position;else if(!x.seekable)throw new P(70);var Ue=x.Ib.read(x,ae,U,N,k);me||(x.position+=Ue);var De=Ue;if(0>De){var rt=-1;break e}if(r+=De,De<E)break;typeof v<"u"&&(v+=De)}rt=r}return g[u>>2]=rt,0}catch($e){if(typeof oe>"u"||$e.name!=="ErrnoError")throw $e;return $e.Kb}},m:function(t,r,o,u,l){r=Dt(r,o);try{if(isNaN(r))return 61;var v=Ze(t);return Vn(v,r,u),j=[v.position>>>0,(G=v.position,1<=+Math.abs(G)?0<G?+Math.floor(G/4294967296)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],I[l>>2]=j[0],I[l+4>>2]=j[1],v.lc&&r===0&&u===0&&(v.lc=null),0}catch(m){if(typeof oe>"u"||m.name!=="ErrnoError")throw m;return m.Kb}},D:function(t){try{var r=Ze(t);return r.Ib&&r.Ib.Wb?r.Ib.Wb(r):0}catch(o){if(typeof oe>"u"||o.name!=="ErrnoError")throw o;return o.Kb}},t:function(t,r,o,u){try{e:{var l=Ze(t);t=r;for(var v,m=r=0;m<o;m++){var D=g[t>>2],E=g[t+4>>2];t+=8;var x=l,U=D,N=E,k=v,ae=Me;if(0>N||0>k)throw new P(28);if(x.Sb===null)throw new P(8);if(!(x.flags&2097155))throw new P(8);if(ot(x.node.mode))throw new P(31);if(!x.Ib.write)throw new P(28);x.seekable&&x.flags&1024&&Vn(x,0,2);var me=typeof k<"u";if(!me)k=x.position;else if(!x.seekable)throw new P(70);var Ue=x.Ib.write(x,ae,U,N,k,void 0);me||(x.position+=Ue);var De=Ue;if(0>De){var rt=-1;break e}r+=De,typeof v<"u"&&(v+=De)}rt=r}return g[u>>2]=rt,0}catch($e){if(typeof oe>"u"||$e.name!=="ErrnoError")throw $e;return $e.Kb}},ra:Jn,N:ln,ga:Xn,ca:Yn,Y:Zn,la:Yt,G:qn,h:Se,oa:Zt,ja:hn,ea:Nt,fa:dn,k:_n,v:wn,pa:Gt,g:Vr,qa:Hr,da:Gn,ha:Sn,ia:er,na:An,c:tr,ka:nr,ma:rr,aa:ir,V:or,$:sr,ba:ur,S:ar,U:cr,Z:fr,X:lr,R:hr,Q:dr,T:_r,_:wr,O:br,W:mr,P:pr},H=function(){function t(o){return H=o.exports,lt=H.sa,R(),de.unshift(H.ta),Ce--,c.monitorRunDependencies&&c.monitorRunDependencies(Ce),Ce==0&&Pe&&(o=Pe,Pe=null,o()),H}var r={a:Qr};if(Ce++,c.monitorRunDependencies&&c.monitorRunDependencies(Ce),c.instantiateWasm)try{return c.instantiateWasm(r,t)}catch(o){gt(`Module.instantiateWasm callback failed with error: ${o}`),Y(o)}return Z(r,function(o){t(o.instance)}).catch(Y),{}}();c._sqlite3_vfs_find=t=>(c._sqlite3_vfs_find=H.ua)(t),c._sqlite3_malloc=t=>(c._sqlite3_malloc=H.va)(t),c._sqlite3_free=t=>(c._sqlite3_free=H.wa)(t),c._sqlite3_prepare_v2=(t,r,o,u,l)=>(c._sqlite3_prepare_v2=H.xa)(t,r,o,u,l),c._sqlite3_step=t=>(c._sqlite3_step=H.ya)(t),c._sqlite3_column_int64=(t,r)=>(c._sqlite3_column_int64=H.za)(t,r),c._sqlite3_column_int=(t,r)=>(c._sqlite3_column_int=H.Aa)(t,r),c._sqlite3_finalize=t=>(c._sqlite3_finalize=H.Ba)(t),c._sqlite3_reset=t=>(c._sqlite3_reset=H.Ca)(t),c._sqlite3_clear_bindings=t=>(c._sqlite3_clear_bindings=H.Da)(t),c._sqlite3_value_blob=t=>(c._sqlite3_value_blob=H.Ea)(t),c._sqlite3_value_text=t=>(c._sqlite3_value_text=H.Fa)(t),c._sqlite3_value_bytes=t=>(c._sqlite3_value_bytes=H.Ga)(t),c._sqlite3_value_double=t=>(c._sqlite3_value_double=H.Ha)(t),c._sqlite3_value_int=t=>(c._sqlite3_value_int=H.Ia)(t),c._sqlite3_value_int64=t=>(c._sqlite3_value_int64=H.Ja)(t),c._sqlite3_value_type=t=>(c._sqlite3_value_type=H.Ka)(t),c._sqlite3_result_blob=(t,r,o,u)=>(c._sqlite3_result_blob=H.La)(t,r,o,u),c._sqlite3_result_double=(t,r)=>(c._sqlite3_result_double=H.Ma)(t,r),c._sqlite3_result_error=(t,r,o)=>(c._sqlite3_result_error=H.Na)(t,r,o),c._sqlite3_result_int=(t,r)=>(c._sqlite3_result_int=H.Oa)(t,r),c._sqlite3_result_int64=(t,r,o)=>(c._sqlite3_result_int64=H.Pa)(t,r,o),c._sqlite3_result_null=t=>(c._sqlite3_result_null=H.Qa)(t),c._sqlite3_result_text=(t,r,o,u)=>(c._sqlite3_result_text=H.Ra)(t,r,o,u),c._sqlite3_column_count=t=>(c._sqlite3_column_count=H.Sa)(t),c._sqlite3_data_count=t=>(c._sqlite3_data_count=H.Ta)(t),c._sqlite3_column_blob=(t,r)=>(c._sqlite3_column_blob=H.Ua)(t,r),c._sqlite3_column_bytes=(t,r)=>(c._sqlite3_column_bytes=H.Va)(t,r),c._sqlite3_column_double=(t,r)=>(c._sqlite3_column_double=H.Wa)(t,r),c._sqlite3_column_text=(t,r)=>(c._sqlite3_column_text=H.Xa)(t,r),c._sqlite3_column_type=(t,r)=>(c._sqlite3_column_type=H.Ya)(t,r),c._sqlite3_column_name=(t,r)=>(c._sqlite3_column_name=H.Za)(t,r),c._sqlite3_bind_blob=(t,r,o,u,l)=>(c._sqlite3_bind_blob=H._a)(t,r,o,u,l),c._sqlite3_bind_double=(t,r,o)=>(c._sqlite3_bind_double=H.$a)(t,r,o),c._sqlite3_bind_int=(t,r,o)=>(c._sqlite3_bind_int=H.ab)(t,r,o),c._sqlite3_bind_int64=(t,r,o,u)=>(c._sqlite3_bind_int64=H.bb)(t,r,o,u),c._sqlite3_bind_null=(t,r)=>(c._sqlite3_bind_null=H.cb)(t,r),c._sqlite3_bind_text=(t,r,o,u,l)=>(c._sqlite3_bind_text=H.db)(t,r,o,u,l),c._sqlite3_bind_parameter_count=t=>(c._sqlite3_bind_parameter_count=H.eb)(t),c._sqlite3_bind_parameter_name=(t,r)=>(c._sqlite3_bind_parameter_name=H.fb)(t,r),c._sqlite3_sql=t=>(c._sqlite3_sql=H.gb)(t),c._sqlite3_exec=(t,r,o,u,l)=>(c._sqlite3_exec=H.hb)(t,r,o,u,l),c._sqlite3_errmsg=t=>(c._sqlite3_errmsg=H.ib)(t),c._sqlite3_declare_vtab=(t,r)=>(c._sqlite3_declare_vtab=H.jb)(t,r),c._sqlite3_libversion=()=>(c._sqlite3_libversion=H.kb)(),c._sqlite3_libversion_number=()=>(c._sqlite3_libversion_number=H.lb)(),c._sqlite3_changes=t=>(c._sqlite3_changes=H.mb)(t),c._sqlite3_close=t=>(c._sqlite3_close=H.nb)(t),c._sqlite3_limit=(t,r,o)=>(c._sqlite3_limit=H.ob)(t,r,o),c._sqlite3_open_v2=(t,r,o,u)=>(c._sqlite3_open_v2=H.pb)(t,r,o,u),c._sqlite3_get_autocommit=t=>(c._sqlite3_get_autocommit=H.qb)(t);var gr=()=>(gr=H.rb)(),vr=c._malloc=t=>(vr=c._malloc=H.sb)(t);c._free=t=>(c._free=H.tb)(t),c._RegisterExtensionFunctions=t=>(c._RegisterExtensionFunctions=H.ub)(t),c._set_authorizer=t=>(c._set_authorizer=H.vb)(t),c._create_function=(t,r,o,u,l,v)=>(c._create_function=H.wb)(t,r,o,u,l,v),c._create_module=(t,r,o,u)=>(c._create_module=H.xb)(t,r,o,u),c._progress_handler=(t,r)=>(c._progress_handler=H.yb)(t,r),c._register_vfs=(t,r,o,u)=>(c._register_vfs=H.zb)(t,r,o,u),c._getSqliteFree=()=>(c._getSqliteFree=H.Ab)();var Er=c._main=(t,r)=>(Er=c._main=H.Bb)(t,r),xr=(t,r)=>(xr=H.Db)(t,r),qr=()=>(qr=H.Eb)(),Sr=()=>(Sr=H.Fb)(),Ar=t=>(Ar=H.Gb)(t),In=t=>(In=H.Hb)(t);c.getTempRet0=qr,c.ccall=wt,c.cwrap=(t,r,o,u)=>{var l=!o||o.every(v=>v==="number"||v==="boolean");return r!=="string"&&l&&!u?c["_"+t]:function(){return wt(t,r,o,arguments)}},c.setValue=dt,c.getValue=Oe,c.UTF8ToString=(t,r)=>t?be(ee,t,r):"",c.stringToUTF8=(t,r,o)=>Ut(t,ee,r,o),c.lengthBytesUTF8=Ct;var bn;Pe=function t(){bn||Ir(),bn||(Pe=t)};function Ir(){function t(){if(!bn&&(bn=!0,c.calledRun=!0,!ii)){if(c.noFSInit||Hn||(Hn=!0,Ft(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?Kt("stdin",c.stdin):an("/dev/tty","/dev/stdin"),c.stdout?Kt("stdout",null,c.stdout):an("/dev/tty","/dev/stdout"),c.stderr?Kt("stderr",null,c.stderr):an("/dev/tty1","/dev/stderr"),et("/dev/stdin",0),et("/dev/stdout",1),et("/dev/stderr",1)),Ur=!1,Ht(de),Ht(_e),J(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Cr){var r=Er;try{var o=r(0,0);Nr||(c.onExit&&c.onExit(o),ii=!0),ke(o,new ve(o))}catch(u){u instanceof ve||u=="unwind"||ke(1,u)}}if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)r=c.postRun.shift(),Ve.unshift(r);Ht(Ve)}}if(!(0<Ce)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Fe();Ht(W),0<Ce||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),t()},1)):t())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();var Cr=!0;return c.noInitialRun&&(Cr=!1),Ir(),F.ready}})(),Io=ji,ci=4096,Kr=512,Ki=4,Wi=8,Wr=Kr+Ki,fi=Kr,li=Wr,pn=ci,Ji=mo|po|yo|go,Xi=6,Co=(K=class extends Ii{constructor(F){super();se(this,bt);se(this,pt);se(this,ye);se(this,Qe);se(this,ge);se(this,b);se(this,A);se(this,w,void 0);se(this,_,void 0);se(this,Q,new Map);se(this,ne,new Map);se(this,le,new Set);se(this,xe,new Map);Re(this,w,F),this.isReady=this.reset().then(async()=>{this.getCapacity()===0&&await this.addCapacity(Xi)})}get name(){return"AccessHandlePool"}xOpen(F,c,J,Y){mn(`xOpen ${F} ${c} 0x${J.toString(16)}`);try{const re=F?pe(this,b,Yr).call(this,F):Math.random().toString(36);let Be=p(this,ne).get(re);if(!Be&&J&ni)if(this.getSize()<this.getCapacity())[Be]=p(this,le).keys(),pe(this,Qe,Tn).call(this,Be,re,J);else throw new Error("cannot create file");if(!Be)throw new Error("file not found");const ke={path:re,flags:J,accessHandle:Be};return p(this,xe).set(c,ke),Y.setInt32(0,J,!0),fe}catch(re){return console.error(re.message),ti}}xClose(F){const c=p(this,xe).get(F);return c&&(mn(`xClose ${c.path}`),c.accessHandle.flush(),p(this,xe).delete(F),c.flags&Gr&&pe(this,A,vi).call(this,c.path)),fe}xRead(F,c,J){const Y=p(this,xe).get(F);mn(`xRead ${Y.path} ${c.byteLength} ${J}`);const re=Y.accessHandle.read(c,{at:pn+J});return re<c.byteLength?(c.fill(0,re,c.byteLength),Si):fe}xWrite(F,c,J){const Y=p(this,xe).get(F);return mn(`xWrite ${Y.path} ${c.byteLength} ${J}`),Y.accessHandle.write(c,{at:pn+J})===c.byteLength?fe:Ne}xTruncate(F,c){const J=p(this,xe).get(F);return mn(`xTruncate ${J.path} ${c}`),J.accessHandle.truncate(pn+c),fe}xSync(F,c){const J=p(this,xe).get(F);return mn(`xSync ${J.path} ${c}`),J.accessHandle.flush(),fe}xFileSize(F,c){const J=p(this,xe).get(F),Y=J.accessHandle.getSize()-pn;return mn(`xFileSize ${J.path} ${Y}`),c.setBigInt64(0,BigInt(Y),!0),fe}xSectorSize(F){return ci}xDeviceCharacteristics(F){return Ai}xAccess(F,c,J){const Y=pe(this,b,Yr).call(this,F);return J.setInt32(0,p(this,ne).has(Y)?1:0,!0),fe}xDelete(F,c){const J=pe(this,b,Yr).call(this,F);return pe(this,A,vi).call(this,J),fe}async close(){await pe(this,pt,yi).call(this)}async reset(){await this.isReady;let F=await navigator.storage.getDirectory();for(const c of p(this,w).split("/"))c&&(F=await F.getDirectoryHandle(c,{create:!0}));Re(this,_,F),await pe(this,pt,yi).call(this),await pe(this,bt,Ro).call(this)}getSize(){return p(this,ne).size}getCapacity(){return p(this,Q).size}async addCapacity(F){for(let c=0;c<F;++c){const J=Math.random().toString(36).replace("0.",""),re=await(await p(this,_).getFileHandle(J,{create:!0})).createSyncAccessHandle();p(this,Q).set(re,J),pe(this,Qe,Tn).call(this,re,"",0)}return F}async removeCapacity(F){let c=0;for(const J of Array.from(p(this,le))){if(c==F||this.getSize()===this.getCapacity())return c;const Y=p(this,Q).get(J);await J.close(),await p(this,_).removeEntry(Y),p(this,Q).delete(J),p(this,le).delete(J),++c}return c}},w=new WeakMap,_=new WeakMap,Q=new WeakMap,ne=new WeakMap,le=new WeakMap,xe=new WeakMap,bt=new WeakSet,Ro=async function(){const F=[];for await(const[c,J]of p(this,_))J.kind==="file"&&F.push([c,J]);await Promise.all(F.map(async([c,J])=>{const Y=await J.createSyncAccessHandle();p(this,Q).set(Y,c);const re=pe(this,ye,To).call(this,Y);re?p(this,ne).set(re,Y):p(this,le).add(Y)}))},pt=new WeakSet,yi=function(){for(const F of p(this,Q).keys())F.close();p(this,Q).clear(),p(this,ne).clear(),p(this,le).clear()},ye=new WeakSet,To=function(F){const c=new Uint8Array(Wr);F.read(c,{at:0});const Y=new DataView(c.buffer,c.byteOffset).getUint32(fi);if(c[0]&&(Y&Gr||!(Y&Ji)))return console.warn(`Remove file with unexpected flags ${Y.toString(16)}`),pe(this,Qe,Tn).call(this,F,"",0),"";const re=new Uint32Array(Wi/4);F.read(re,{at:li});const Be=pe(this,ge,gi).call(this,c);if(re.every((ke,nt)=>ke===Be[nt])){const ke=c.findIndex(nt=>nt===0);return ke===0&&F.truncate(pn),new TextDecoder().decode(c.subarray(0,ke))}else return console.warn("Disassociating file with bad digest."),pe(this,Qe,Tn).call(this,F,"",0),""},Qe=new WeakSet,Tn=function(F,c,J){const Y=new Uint8Array(Wr);if(new TextEncoder().encodeInto(c,Y).written>=Kr)throw new Error("path too long");new DataView(Y.buffer,Y.byteOffset).setUint32(fi,J);const ke=pe(this,ge,gi).call(this,Y);F.write(Y,{at:0}),F.write(ke,{at:li}),F.flush(),c?(p(this,ne).set(c,F),p(this,le).delete(F)):(F.truncate(pn),p(this,le).add(F))},ge=new WeakSet,gi=function(F){if(!F[0])return new Uint32Array([4274806656,2899230775]);let c=3735928559,J=1103547991;for(const Y of F)c=Math.imul(c^Y,2654435761),J=Math.imul(J^Y,1597334677);return c=Math.imul(c^c>>>16,2246822507)^Math.imul(J^J>>>13,3266489909),J=Math.imul(J^J>>>16,2246822507)^Math.imul(c^c>>>13,3266489909),new Uint32Array([c>>>0,J>>>0])},b=new WeakSet,Yr=function(F){return(typeof F=="string"?new URL(F,"file://localhost/"):F).pathname},A=new WeakSet,vi=function(F){const c=p(this,ne).get(F);c&&(p(this,ne).delete(F),pe(this,Qe,Tn).call(this,c,"",0))},K)}}),Do={};co(Do,{useIdbStorage:()=>Jo});function Pt(...w){}function nn(w){return new Promise((_,Q)=>{w.addEventListener("success",()=>_(w.result)),w.addEventListener("error",()=>Q(w.error))})}function ft(...w){}function Wo(w){return new Promise((_,Q)=>{const ne=globalThis.indexedDB.open(w,5);ne.addEventListener("upgradeneeded",function(){ne.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),ne.addEventListener("success",()=>{_(ne.result)}),ne.addEventListener("error",()=>{Q(ne.error)})})}async function Jo(w,_={}){const{url:Q,...ne}=_,le=await No(Q?{locateFile:()=>Q}:void 0),xe=new Oo(w,{durability:"relaxed",...ne});return{fileName:w,sqliteModule:le,vfs:xe}}var Yi,No,Zi,Gi,eo,to,no,Jr,ro,io,oo,so,hi,di,Oo,Xo=ei({"../../node_modules/.pnpm/@subframe7536+sqlite-wasm@0.1.9/node_modules/@subframe7536/sqlite-wasm/dist/idb.mjs"(){var w,_,Q,ne,Ei,xe,Mo,mt,Po,yt,ye,we,Qe,Ee,ge,h,b,d,Lo,$,K,Ae,F,c,J,Y,re,Be,ke,nt,qt,xi,Bt,Uo,gt,$o,lt,Dn,Me,ko,Vt;So(),ri(),Yi=(()=>{var I=self.location.href;return function(g={}){var a=g,M,R;a.ready=new Promise((e,n)=>{M=e,R=n});var W=Object.assign({},a),de="./this.program",_e=(e,n)=>{throw n},Ve=typeof window=="object",Fe=typeof importScripts=="function",Ce="",Pe;(Ve||Fe)&&(Fe?Ce=self.location.href:typeof document<"u"&&document.currentScript&&(Ce=document.currentScript.src),I&&(Ce=I),Ce.indexOf("blob:")!==0?Ce=Ce.substr(0,Ce.replace(/[?#].*/,"").lastIndexOf("/")+1):Ce="",Fe&&(Pe=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}));var Ke=a.print||console.log.bind(console),He=a.printErr||console.error.bind(console);Object.assign(a,W),W=null,a.thisProgram&&(de=a.thisProgram),a.quit&&(_e=a.quit);var We;a.wasmBinary&&(We=a.wasmBinary),typeof WebAssembly!="object"&&ut("no native wasm support detected");var Je,Le=!1,ht,Te,Z,G,j,ve,Ht,Oe;function Nr(){var e=Je.buffer;a.HEAP8=Te=new Int8Array(e),a.HEAP16=G=new Int16Array(e),a.HEAPU8=Z=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAP32=j=new Int32Array(e),a.HEAPU32=ve=new Uint32Array(e),a.HEAPF32=Ht=new Float32Array(e),a.HEAPF64=Oe=new Float64Array(e)}var dt=[],On=[],be=[],Mn=[];function At(){var e=a.preRun.shift();dt.unshift(e)}var Lt=0,It=null;function ut(e){throw a.onAbort&&a.onAbort(e),e="Aborted("+e+")",He(e),Le=!0,ht=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),R(e),e}var Pn=e=>e.startsWith("data:application/octet-stream;base64,"),vt;if(a.locateFile){if(vt="wa-sqlite-async.wasm",!Pn(vt)){var gn=vt;vt=a.locateFile?a.locateFile(gn,Ce):Ce+gn}}else vt=new URL("wa-sqlite-async.wasm",self.location.href).href;function Ct(e){if(e==vt&&We)return new Uint8Array(We);if(Pe)return Pe(e);throw"both async and sync fetching of the wasm failed"}function Ut(e){return We||!Ve&&!Fe||typeof fetch!="function"?Promise.resolve().then(()=>Ct(e)):fetch(e,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+e+"'";return n.arrayBuffer()}).catch(()=>Ct(e))}function Ln(e,n,i){return Ut(e).then(s=>WebAssembly.instantiate(s,n)).then(s=>s).then(i,s=>{He(`failed to asynchronously prepare wasm: ${s}`),ut(s)})}function Or(e,n){var i=vt;return We||typeof WebAssembly.instantiateStreaming!="function"||Pn(i)||typeof fetch!="function"?Ln(i,e,n):fetch(i,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,e).then(n,function(f){return He(`wasm streaming compile failed: ${f}`),He("falling back to ArrayBuffer instantiation"),Ln(i,e,n)}))}var te,Ie;function Mr(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var sn=e=>{for(;0<e.length;)e.shift()(a)};function X(e,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":return Te[e>>0];case"i8":return Te[e>>0];case"i16":return G[e>>1];case"i32":return j[e>>2];case"i64":ut("to do getValue(i64) use WASM_BIGINT");case"float":return Ht[e>>2];case"double":return Oe[e>>3];case"*":return ve[e>>2];default:ut(`invalid type for getValue: ${n}`)}}var Pr=a.noExitRuntime||!0;function at(e,n,i="i8"){switch(i.endsWith("*")&&(i="*"),i){case"i1":Te[e>>0]=n;break;case"i8":Te[e>>0]=n;break;case"i16":G[e>>1]=n;break;case"i32":j[e>>2]=n;break;case"i64":ut("to do setValue(i64) use WASM_BIGINT");case"float":Ht[e>>2]=n;break;case"double":Oe[e>>3]=n;break;case"*":ve[e>>2]=n;break;default:ut(`invalid type for setValue: ${i}`)}}var Un=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,he=(e,n,i)=>{var s=n+i;for(i=n;e[i]&&!(i>=s);)++i;if(16<i-n&&e.buffer&&Un)return Un.decode(e.subarray(n,i));for(s="";n<i;){var f=e[n++];if(f&128){var q=e[n++]&63;if((f&224)==192)s+=String.fromCharCode((f&31)<<6|q);else{var y=e[n++]&63;f=(f&240)==224?(f&15)<<12|q<<6|y:(f&7)<<18|q<<12|y<<6|e[n++]&63,65536>f?s+=String.fromCharCode(f):(f-=65536,s+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else s+=String.fromCharCode(f)}return s},Lr=(e,n)=>{for(var i=0,s=e.length-1;0<=s;s--){var f=e[s];f==="."?e.splice(s,1):f===".."?(e.splice(s,1),i++):i&&(e.splice(s,1),i--)}if(n)for(;i;i--)e.unshift("..");return e},Xe=e=>{var n=e.charAt(0)==="/",i=e.substr(-1)==="/";return(e=Lr(e.split("/").filter(s=>!!s),!n).join("/"))||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},Ur=e=>{var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=n[0],n=n[1],!e&&!n?".":(n&&(n=n.substr(0,n.length-1)),e+n)},P=e=>{if(e==="/")return"/";e=Xe(e),e=e.replace(/\/$/,"");var n=e.lastIndexOf("/");return n===-1?e:e.substr(n+1)},$n=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);ut("initRandomDevice")},Ye=e=>(Ye=$n())(e);function $t(){for(var e="",n=!1,i=arguments.length-1;-1<=i&&!n;i--){if(n=0<=i?arguments[i]:"/",typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,n=n.charAt(0)==="/"}return e=Lr(e.split("/").filter(s=>!!s),!n).join("/"),(n?"/":"")+e||"."}var un=[],Rt=e=>{for(var n=0,i=0;i<e.length;++i){var s=e.charCodeAt(i);127>=s?n++:2047>=s?n+=2:55296<=s&&57343>=s?(n+=4,++i):n+=3}return n},it=(e,n,i,s)=>{if(!(0<s))return 0;var f=i;s=i+s-1;for(var q=0;q<e.length;++q){var y=e.charCodeAt(q);if(55296<=y&&57343>=y){var O=e.charCodeAt(++q);y=65536+((y&1023)<<10)|O&1023}if(127>=y){if(i>=s)break;n[i++]=y}else{if(2047>=y){if(i+1>=s)break;n[i++]=192|y>>6}else{if(65535>=y){if(i+2>=s)break;n[i++]=224|y>>12}else{if(i+3>=s)break;n[i++]=240|y>>18,n[i++]=128|y>>12&63}n[i++]=128|y>>6&63}n[i++]=128|y&63}}return n[i]=0,i-f},kn=[];function ot(e,n){kn[e]={input:[],Rb:[],bc:n},xt(e,$r)}var $r={open(e){var n=kn[e.node.ec];if(!n)throw new L(43);e.Sb=n,e.seekable=!1},close(e){e.Sb.bc.ic(e.Sb)},ic(e){e.Sb.bc.ic(e.Sb)},read(e,n,i,s){if(!e.Sb||!e.Sb.bc.xc)throw new L(60);for(var f=0,q=0;q<s;q++){try{var y=e.Sb.bc.xc(e.Sb)}catch{throw new L(29)}if(y===void 0&&f===0)throw new L(6);if(y==null)break;f++,n[i+q]=y}return f&&(e.node.timestamp=Date.now()),f},write(e,n,i,s){if(!e.Sb||!e.Sb.bc.rc)throw new L(60);try{for(var f=0;f<s;f++)e.Sb.bc.rc(e.Sb,n[i+f])}catch{throw new L(29)}return s&&(e.node.timestamp=Date.now()),f}},Qt={xc(){e:{if(!un.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){var n=null;break e}n=Array(Rt(e)+1),e=it(e,n,0,n.length),n.length=e,un=n}n=un.shift()}return n},rc(e,n){n===null||n===10?(Ke(he(e.Rb,0)),e.Rb=[]):n!=0&&e.Rb.push(n)},ic(e){e.Rb&&0<e.Rb.length&&(Ke(he(e.Rb,0)),e.Rb=[])},Yc(){return{Uc:25856,Wc:5,Tc:191,Vc:35387,Sc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Zc(){return 0},$c(){return[24,80]}},kr={rc(e,n){n===null||n===10?(He(he(e.Rb,0)),e.Rb=[]):n!=0&&e.Rb.push(n)},ic(e){e.Rb&&0<e.Rb.length&&(He(he(e.Rb,0)),e.Rb=[])}};function Fn(e,n){var i=e.Nb?e.Nb.length:0;i>=n||(n=Math.max(n,i*(1048576>i?2:1.125)>>>0),i!=0&&(n=Math.max(n,256)),i=e.Nb,e.Nb=new Uint8Array(n),0<e.Pb&&e.Nb.set(i.subarray(0,e.Pb),0))}var ue={Vb:null,Ub(){return ue.createNode(null,"/",16895,0)},createNode(e,n,i,s){if((i&61440)===24576||(i&61440)===4096)throw new L(63);return ue.Vb||(ue.Vb={dir:{node:{Tb:ue.Cb.Tb,Qb:ue.Cb.Qb,cc:ue.Cb.cc,jc:ue.Cb.jc,Bc:ue.Cb.Bc,oc:ue.Cb.oc,mc:ue.Cb.mc,Ac:ue.Cb.Ac,nc:ue.Cb.nc},stream:{Zb:ue.Mb.Zb}},file:{node:{Tb:ue.Cb.Tb,Qb:ue.Cb.Qb},stream:{Zb:ue.Mb.Zb,read:ue.Mb.read,write:ue.Mb.write,uc:ue.Mb.uc,kc:ue.Mb.kc,lc:ue.Mb.lc}},link:{node:{Tb:ue.Cb.Tb,Qb:ue.Cb.Qb,fc:ue.Cb.fc},stream:{}},vc:{node:{Tb:ue.Cb.Tb,Qb:ue.Cb.Qb},stream:En}}),i=Bn(e,n,i,s),et(i.mode)?(i.Cb=ue.Vb.dir.node,i.Mb=ue.Vb.dir.stream,i.Nb={}):(i.mode&61440)===32768?(i.Cb=ue.Vb.file.node,i.Mb=ue.Vb.file.stream,i.Pb=0,i.Nb=null):(i.mode&61440)===40960?(i.Cb=ue.Vb.link.node,i.Mb=ue.Vb.link.stream):(i.mode&61440)===8192&&(i.Cb=ue.Vb.vc.node,i.Mb=ue.Vb.vc.stream),i.timestamp=Date.now(),e&&(e.Nb[n]=i,e.timestamp=i.timestamp),i},Xc(e){return e.Nb?e.Nb.subarray?e.Nb.subarray(0,e.Pb):new Uint8Array(e.Nb):new Uint8Array(0)},Cb:{Tb(e){var n={};return n.Hc=(e.mode&61440)===8192?e.id:1,n.yc=e.id,n.mode=e.mode,n.Nc=1,n.uid=0,n.Kc=0,n.ec=e.ec,et(e.mode)?n.size=4096:(e.mode&61440)===32768?n.size=e.Pb:(e.mode&61440)===40960?n.size=e.link.length:n.size=0,n.Dc=new Date(e.timestamp),n.Mc=new Date(e.timestamp),n.Gc=new Date(e.timestamp),n.Ec=4096,n.Fc=Math.ceil(n.size/n.Ec),n},Qb(e,n){if(n.mode!==void 0&&(e.mode=n.mode),n.timestamp!==void 0&&(e.timestamp=n.timestamp),n.size!==void 0&&(n=n.size,e.Pb!=n))if(n==0)e.Nb=null,e.Pb=0;else{var i=e.Nb;e.Nb=new Uint8Array(n),i&&e.Nb.set(i.subarray(0,Math.min(n,e.Pb))),e.Pb=n}},cc(){throw an[44]},jc(e,n,i,s){return ue.createNode(e,n,i,s)},Bc(e,n,i){if(et(e.mode)){try{var s=Tt(n,i)}catch{}if(s)for(var f in s.Nb)throw new L(55)}delete e.parent.Nb[e.name],e.parent.timestamp=Date.now(),e.name=i,n.Nb[i]=e,n.timestamp=e.parent.timestamp,e.parent=n},oc(e,n){delete e.Nb[n],e.timestamp=Date.now()},mc(e,n){var i=Tt(e,n),s;for(s in i.Nb)throw new L(55);delete e.Nb[n],e.timestamp=Date.now()},Ac(e){var n=[".",".."],i;for(i in e.Nb)e.Nb.hasOwnProperty(i)&&n.push(i);return n},nc(e,n,i){return e=ue.createNode(e,n,41471,0),e.link=i,e},fc(e){if((e.mode&61440)!==40960)throw new L(28);return e.link}},Mb:{read(e,n,i,s,f){var q=e.node.Nb;if(f>=e.node.Pb)return 0;if(e=Math.min(e.node.Pb-f,s),8<e&&q.subarray)n.set(q.subarray(f,f+e),i);else for(s=0;s<e;s++)n[i+s]=q[f+s];return e},write(e,n,i,s,f,q){if(n.buffer===Te.buffer&&(q=!1),!s)return 0;if(e=e.node,e.timestamp=Date.now(),n.subarray&&(!e.Nb||e.Nb.subarray)){if(q)return e.Nb=n.subarray(i,i+s),e.Pb=s;if(e.Pb===0&&f===0)return e.Nb=n.slice(i,i+s),e.Pb=s;if(f+s<=e.Pb)return e.Nb.set(n.subarray(i,i+s),f),s}if(Fn(e,f+s),e.Nb.subarray&&n.subarray)e.Nb.set(n.subarray(i,i+s),f);else for(q=0;q<s;q++)e.Nb[f+q]=n[i+q];return e.Pb=Math.max(e.Pb,f+s),s},Zb(e,n,i){if(i===1?n+=e.position:i===2&&(e.node.mode&61440)===32768&&(n+=e.node.Pb),0>n)throw new L(28);return n},uc(e,n,i){Fn(e.node,n+i),e.node.Pb=Math.max(e.node.Pb,n+i)},kc(e,n,i,s,f){if((e.node.mode&61440)!==32768)throw new L(43);if(e=e.node.Nb,f&2||e.buffer!==Te.buffer){if((0<i||i+n<e.length)&&(e.subarray?e=e.subarray(i,i+n):e=Array.prototype.slice.call(e,i,i+n)),i=!0,n=65536*Math.ceil(n/65536),(f=Li(65536,n))?(Z.fill(0,f,f+n),n=f):n=0,!n)throw new L(48);Te.set(e,n)}else i=!1,n=e.byteOffset;return{Oc:n,Cc:i}},lc(e,n,i,s){return ue.Mb.write(e,n,0,s,i,!1),0}}},Ze=(e,n)=>{var i=0;return e&&(i|=365),n&&(i|=146),i},vn=null,Fr={},kt=[],zr=1,Et=null,_t=!0,L=null,an={};function Ge(e,n={}){if(e=$t(e),!e)return{path:"",node:null};if(n=Object.assign({wc:!0,sc:0},n),8<n.sc)throw new L(32);e=e.split("/").filter(y=>!!y);for(var i=vn,s="/",f=0;f<e.length;f++){var q=f===e.length-1;if(q&&n.parent)break;if(i=Tt(i,e[f]),s=Xe(s+"/"+e[f]),i.$b&&(!q||q&&n.wc)&&(i=i.$b.root),!q||n.Yb){for(q=0;(i.mode&61440)===40960;)if(i=Kn(s),s=$t(Ur(s),i),i=Ge(s,{sc:n.sc+1}).node,40<q++)throw new L(32)}}return{path:s,node:i}}function cn(e){for(var n;;){if(e===e.parent)return e=e.Ub.zc,n?e[e.length-1]!=="/"?`${e}/${n}`:e+n:e;n=n?`${e.name}/${n}`:e.name,e=e.parent}}function jt(e,n){for(var i=0,s=0;s<n.length;s++)i=(i<<5)-i+n.charCodeAt(s)|0;return(e+i>>>0)%Et.length}function zn(e){var n=jt(e.parent.id,e.name);if(Et[n]===e)Et[n]=e.ac;else for(n=Et[n];n;){if(n.ac===e){n.ac=e.ac;break}n=n.ac}}function Tt(e,n){var i;if(i=(i=Ft(e,"x"))?i:e.Cb.cc?0:2)throw new L(i,e);for(i=Et[jt(e.id,n)];i;i=i.ac){var s=i.name;if(i.parent.id===e.id&&s===n)return i}return e.Cb.cc(e,n)}function Bn(e,n,i,s){return e=new Ni(e,n,i,s),n=jt(e.parent.id,e.name),e.ac=Et[n],Et[n]=e}function et(e){return(e&61440)===16384}function Vn(e){var n=["r","w","rw"][e&3];return e&512&&(n+="w"),n}function Ft(e,n){if(_t)return 0;if(!n.includes("r")||e.mode&292){if(n.includes("w")&&!(e.mode&146)||n.includes("x")&&!(e.mode&73))return 2}else return 2;return 0}function Hn(e,n){try{return Tt(e,n),20}catch{}return Ft(e,"wx")}function Kt(e,n,i){try{var s=Tt(e,n)}catch(f){return f.Ob}if(e=Ft(e,"wx"))return e;if(i){if(!et(s.mode))return 54;if(s===s.parent||cn(s)==="/")return 10}else if(et(s.mode))return 31;return 0}function Qn(){for(var e=0;4096>=e;e++)if(!kt[e])return e;throw new L(33)}function oe(e){if(e=kt[e],!e)throw new L(8);return e}function Wt(e,n=-1){return Zt||(Zt=function(){this.hc={}},Zt.prototype={},Object.defineProperties(Zt.prototype,{object:{get(){return this.node},set(i){this.node=i}},flags:{get(){return this.hc.flags},set(i){this.hc.flags=i}},position:{get(){return this.hc.position},set(i){this.hc.position=i}}})),e=Object.assign(new Zt,e),n==-1&&(n=Qn()),e.Wb=n,kt[n]=e}var En={open(e){e.Mb=Fr[e.node.ec].Mb,e.Mb.open&&e.Mb.open(e)},Zb(){throw new L(70)}};function xt(e,n){Fr[e]={Mb:n}}function fn(e,n){var i=n==="/",s=!n;if(i&&vn)throw new L(10);if(!i&&!s){var f=Ge(n,{wc:!1});if(n=f.path,f=f.node,f.$b)throw new L(10);if(!et(f.mode))throw new L(54)}n={type:e,bd:{},zc:n,Lc:[]},e=e.Ub(n),e.Ub=n,n.root=e,i?vn=e:f&&(f.$b=n,f.Ub&&f.Ub.Lc.push(n))}function Jt(e,n,i){var s=Ge(e,{parent:!0}).node;if(e=P(e),!e||e==="."||e==="..")throw new L(28);var f=Hn(s,e);if(f)throw new L(f);if(!s.Cb.jc)throw new L(63);return s.Cb.jc(s,e,n,i)}function st(e,n){return Jt(e,(n!==void 0?n:511)&1023|16384,0)}function Dt(e,n,i){typeof i>"u"&&(i=n,n=438),Jt(e,n|8192,i)}function jn(e,n){if(!$t(e))throw new L(44);var i=Ge(n,{parent:!0}).node;if(!i)throw new L(44);n=P(n);var s=Hn(i,n);if(s)throw new L(s);if(!i.Cb.nc)throw new L(63);i.Cb.nc(i,n,e)}function Br(e){var n=Ge(e,{parent:!0}).node;e=P(e);var i=Tt(n,e),s=Kt(n,e,!0);if(s)throw new L(s);if(!n.Cb.mc)throw new L(63);if(i.$b)throw new L(10);n.Cb.mc(n,e),zn(i)}function Kn(e){if(e=Ge(e).node,!e)throw new L(44);if(!e.Cb.fc)throw new L(28);return $t(cn(e.parent),e.Cb.fc(e))}function Xt(e,n){if(e=Ge(e,{Yb:!n}).node,!e)throw new L(44);if(!e.Cb.Tb)throw new L(63);return e.Cb.Tb(e)}function Wn(e){return Xt(e,!0)}function xn(e,n){if(e=typeof e=="string"?Ge(e,{Yb:!0}).node:e,!e.Cb.Qb)throw new L(63);e.Cb.Qb(e,{mode:n&4095|e.mode&-4096,timestamp:Date.now()})}function Jn(e,n){if(0>n)throw new L(28);if(e=typeof e=="string"?Ge(e,{Yb:!0}).node:e,!e.Cb.Qb)throw new L(63);if(et(e.mode))throw new L(31);if((e.mode&61440)!==32768)throw new L(28);var i=Ft(e,"w");if(i)throw new L(i);e.Cb.Qb(e,{size:n,timestamp:Date.now()})}function ln(e,n,i){if(e==="")throw new L(44);if(typeof n=="string"){var s={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[n];if(typeof s>"u")throw Error(`Unknown file open mode: ${n}`);n=s}if(i=n&64?(typeof i>"u"?438:i)&4095|32768:0,typeof e=="object")var f=e;else{e=Xe(e);try{f=Ge(e,{Yb:!(n&131072)}).node}catch{}}if(s=!1,n&64)if(f){if(n&128)throw new L(20)}else f=Jt(e,i,0),s=!0;if(!f)throw new L(44);if((f.mode&61440)===8192&&(n&=-513),n&65536&&!et(f.mode))throw new L(54);if(!s&&(i=f?(f.mode&61440)===40960?32:et(f.mode)&&(Vn(n)!=="r"||n&512)?31:Ft(f,Vn(n)):44))throw new L(i);return n&512&&!s&&Jn(f,0),n&=-131713,f=Wt({node:f,path:cn(f),flags:n,seekable:!0,position:0,Mb:f.Mb,Rc:[],error:!1}),f.Mb.open&&f.Mb.open(f),!a.logReadFiles||n&1||(hn||(hn={}),e in hn||(hn[e]=1)),f}function Xn(e,n,i){if(e.Wb===null)throw new L(8);if(!e.seekable||!e.Mb.Zb)throw new L(70);if(i!=0&&i!=1&&i!=2)throw new L(28);e.position=e.Mb.Zb(e,n,i),e.Rc=[]}function Yn(){L||(L=function(e,n){this.name="ErrnoError",this.node=n,this.Pc=function(i){this.Ob=i},this.Pc(e),this.message="FS error"},L.prototype=Error(),L.prototype.constructor=L,[44].forEach(e=>{an[e]=new L(e),an[e].stack="<generic error, no stack>"}))}var Zn;function Yt(e,n,i){e=Xe("/dev/"+e);var s=Ze(!!n,!!i);qn||(qn=64);var f=qn++<<8|0;xt(f,{open(q){q.seekable=!1},close(){i&&i.buffer&&i.buffer.length&&i(10)},read(q,y,O,S){for(var C=0,B=0;B<S;B++){try{var T=n()}catch{throw new L(29)}if(T===void 0&&C===0)throw new L(6);if(T==null)break;C++,y[O+B]=T}return C&&(q.node.timestamp=Date.now()),C},write(q,y,O,S){for(var C=0;C<S;C++)try{i(y[O+C])}catch{throw new L(29)}return S&&(q.node.timestamp=Date.now()),C}}),Dt(e,s,f)}var qn,Se={},Zt,hn;function Nt(e,n,i){if(n.charAt(0)==="/")return n;if(e=e===-100?"/":oe(e).path,n.length==0){if(!i)throw new L(44);return e}return Xe(e+"/"+n)}function dn(e,n,i){try{var s=e(n)}catch(q){if(q&&q.node&&Xe(n)!==Xe(cn(q.node)))return-54;throw q}j[i>>2]=s.Hc,j[i+4>>2]=s.mode,ve[i+8>>2]=s.Nc,j[i+12>>2]=s.uid,j[i+16>>2]=s.Kc,j[i+20>>2]=s.ec,Ie=[s.size>>>0,(te=s.size,1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[i+24>>2]=Ie[0],j[i+28>>2]=Ie[1],j[i+32>>2]=4096,j[i+36>>2]=s.Fc,e=s.Dc.getTime(),n=s.Mc.getTime();var f=s.Gc.getTime();return Ie=[Math.floor(e/1e3)>>>0,(te=Math.floor(e/1e3),1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[i+40>>2]=Ie[0],j[i+44>>2]=Ie[1],ve[i+48>>2]=e%1e3*1e3,Ie=[Math.floor(n/1e3)>>>0,(te=Math.floor(n/1e3),1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[i+56>>2]=Ie[0],j[i+60>>2]=Ie[1],ve[i+64>>2]=n%1e3*1e3,Ie=[Math.floor(f/1e3)>>>0,(te=Math.floor(f/1e3),1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[i+72>>2]=Ie[0],j[i+76>>2]=Ie[1],ve[i+80>>2]=f%1e3*1e3,Ie=[s.yc>>>0,(te=s.yc,1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[i+88>>2]=Ie[0],j[i+92>>2]=Ie[1],0}var _n=void 0;function wn(){var e=j[+_n>>2];return _n+=4,e}var Gt=(e,n)=>n+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*n:NaN,Vr=[0,31,60,91,121,152,182,213,244,274,305,335],Hr=[0,31,59,90,120,151,181,212,243,273,304,334],Gn=e=>{var n=Rt(e)+1,i=oi(n);return i&&it(e,Z,i,n),i},Sn={},er=()=>{if(!An){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:de||"./this.program"},n;for(n in Sn)Sn[n]===void 0?delete e[n]:e[n]=Sn[n];var i=[];for(n in e)i.push(`${n}=${e[n]}`);An=i}return An},An;function tr(){}function nr(){}function rr(){}function ir(){}function or(){}function sr(){}function ur(){}function ar(){}function cr(){}function fr(){}function lr(){}function hr(){}function dr(){}function _r(){}function wr(){}function br(){}function mr(){}function pr(){}function wt(){}function yr(){}function Qr(){}function H(){}function gr(){}function vr(){}function Er(){}function xr(){}function qr(){}function Sr(){}function Ar(){}function In(){}function bn(){}function Ir(){}function Cr(){}function t(){}function r(){}function o(){}function u(){}function l(){}function v(){}var m=0,D=e=>{ht=e,Pr||0<m||(a.onExit&&a.onExit(e),Le=!0),_e(e,new Mr(e))},E=e=>{e instanceof Mr||e=="unwind"||_e(1,e)},x=e=>{try{e()}catch(n){ut(n)}};function U(){var e=V,n={},i;for(i in e)(function(s){var f=e[s];n[s]=typeof f=="function"?function(){me.push(s);try{return f.apply(null,arguments)}finally{Le||(me.pop()===s||ut(),k&&N===1&&me.length===0&&(N=0,x(zi),typeof Fibers<"u"&&Fibers.cd()))}}:f})(i);return n}var N=0,k=null,ae=0,me=[],Ue={},De={},rt=0,$e=null,en=[];function Ot(){return new Promise((e,n)=>{$e={resolve:e,reject:n}})}function Fo(){var e=oi(16396),n=e+12;ve[e>>2]=n,ve[e+4>>2]=n+16384,n=me[0];var i=Ue[n];return i===void 0&&(i=rt++,Ue[n]=i,De[i]=n),j[e+8>>2]=i,e}function Ri(e){if(!Le){if(N===0){var n=!1,i=!1;e((s=0)=>{if(!Le&&(ae=s,n=!0,i)){N=2,x(()=>Bi(k)),typeof Browser<"u"&&Browser.qc.Jc&&Browser.qc.resume(),s=!1;try{var f=(0,V[De[j[k+8>>2]]])()}catch(O){f=O,s=!0}var q=!1;if(!k){var y=$e;y&&($e=null,(s?y.reject:y.resolve)(f),q=!0)}if(s&&!q)throw f}}),i=!0,n||(N=1,k=Fo(),typeof Browser<"u"&&Browser.qc.Jc&&Browser.qc.pause(),x(()=>Fi(k)))}else N===2?(N=0,x(Vi),Mi(k),k=null,en.forEach(s=>{if(!Le)try{if(s(),!(Pr||0<m))try{ht=s=ht,D(s)}catch(f){E(f)}}catch(f){E(f)}})):ut(`invalid state: ${N}`);return ae}}function Ti(e){return Ri(n=>{e().then(n)})}var Di={},Mt=(e,n,i,s,f)=>{function q(T){return--m,S!==0&&ki(S),n==="string"?T?he(Z,T):"":n==="boolean"?!!T:T}var y={string:T=>{var z=0;if(T!=null&&T!==0){z=Rt(T)+1;var ce=si(z);it(T,Z,ce,z),z=ce}return z},array:T=>{var z=si(T.length);return Te.set(T,z),z}};e=a["_"+e];var O=[],S=0;if(s)for(var C=0;C<s.length;C++){var B=y[i[C]];B?(S===0&&(S=$i()),O[C]=B(s[C])):O[C]=s[C]}return i=k,s=e.apply(null,O),f=f&&f.async,m+=1,k!=i?Ot().then(q):(s=q(s),f?Promise.resolve(s):s)};function Ni(e,n,i,s){e||(e=this),this.parent=e,this.Ub=e.Ub,this.$b=null,this.id=zr++,this.name=n,this.mode=i,this.Cb={},this.Mb={},this.ec=s}Object.defineProperties(Ni.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Yn(),Et=Array(4096),fn(ue,"/"),st("/tmp"),st("/home"),st("/home/web_user"),function(){st("/dev"),xt(259,{read:()=>0,write:(s,f,q,y)=>y}),Dt("/dev/null",259),ot(1280,Qt),ot(1536,kr),Dt("/dev/tty",1280),Dt("/dev/tty1",1536);var e=new Uint8Array(1024),n=0,i=()=>(n===0&&(n=Ye(e).byteLength),e[--n]);Yt("random",i),Yt("urandom",i),st("/dev/shm"),st("/dev/shm/tmp")}(),function(){st("/proc");var e=st("/proc/self");st("/proc/self/fd"),fn({Ub(){var n=Bn(e,"fd",16895,73);return n.Cb={cc(i,s){var f=oe(+s);return i={parent:null,Ub:{zc:"fake"},Cb:{fc:()=>f.path}},i.parent=i}},n}},"/proc/self/fd")}(),function(){const e=new Map;a.setAuthorizer=function(n,i,s){return i?e.set(n,{f:i,tc:s}):e.delete(n),Mt("set_authorizer","number",["number"],[n])},tr=function(n,i,s,f,q,y){if(e.has(n)){const{f:O,tc:S}=e.get(n);return O(S,i,s?s?he(Z,s):"":null,f?f?he(Z,f):"":null,q?q?he(Z,q):"":null,y?y?he(Z,y):"":null)}return 0}}(),function(){const e=new Map,n=new Map;a.createFunction=function(i,s,f,q,y,O){const S=e.size;return e.set(S,{f:O,Xb:y}),Mt("create_function","number","number string number number number number".split(" "),[i,s,f,q,S,0])},a.createAggregate=function(i,s,f,q,y,O,S){const C=e.size;return e.set(C,{step:O,Ic:S,Xb:y}),Mt("create_function","number","number string number number number number".split(" "),[i,s,f,q,C,1])},a.getFunctionUserData=function(i){return n.get(i)},rr=function(i,s,f,q){i=e.get(i),n.set(s,i.Xb),i.f(s,new Uint32Array(Z.buffer,q,f)),n.delete(s)},or=function(i,s,f,q){i=e.get(i),n.set(s,i.Xb),i.step(s,new Uint32Array(Z.buffer,q,f)),n.delete(s)},nr=function(i,s){i=e.get(i),n.set(s,i.Xb),i.Ic(s),n.delete(s)}}(),function(){const e=new Map;a.progressHandler=function(n,i,s,f){return s?e.set(n,{f:s,tc:f}):e.delete(n),Mt("progress_handler",null,["number","number"],[n,i])},ir=function(n){if(e.has(n)){const{f:i,tc:s}=e.get(n);return i(s)}return 0}}(),function(){function e(S,C){const B=`get${S}`,T=`set${S}`;return new Proxy(new DataView(Z.buffer,C,S==="Int32"?4:8),{get(z,ce){if(ce===B)return function(qe,je){if(!je)throw Error("must be little endian");return z[ce](qe,je)};if(ce===T)return function(qe,je,ze){if(!ze)throw Error("must be little endian");return z[ce](qe,je,ze)};if(typeof ce=="string"&&ce.match(/^(get)|(set)/))throw Error("invalid type");return z[ce]}})}const n=typeof Di=="object",i=new Map,s=new Map,f=new Map,q=n?new Set:null,y=n?new Set:null,O=new Map;H=function(S,C,B,T){O.set(S?he(Z,S):"",{size:C,dc:Array.from(new Uint32Array(Z.buffer,T,B))})},a.createModule=function(S,C,B,T){n&&(B.handleAsync=Ti);const z=i.size;return i.set(z,{module:B,Xb:T}),T=0,B.xCreate&&(T|=1),B.xConnect&&(T|=2),B.xBestIndex&&(T|=4),B.xDisconnect&&(T|=8),B.xDestroy&&(T|=16),B.xOpen&&(T|=32),B.xClose&&(T|=64),B.xFilter&&(T|=128),B.xNext&&(T|=256),B.xEof&&(T|=512),B.xColumn&&(T|=1024),B.xRowid&&(T|=2048),B.xUpdate&&(T|=4096),B.xBegin&&(T|=8192),B.xSync&&(T|=16384),B.xCommit&&(T|=32768),B.xRollback&&(T|=65536),B.xFindFunction&&(T|=131072),B.xRename&&(T|=262144),Mt("create_module","number",["number","string","number","number"],[S,C,z,T])},hr=function(S,C,B,T,z,ce){if(C=i.get(C),s.set(z,C),n){q.delete(z);for(const qe of q)s.delete(qe)}return T=Array.from(new Uint32Array(Z.buffer,T,B)).map(qe=>qe?he(Z,qe):""),C.module.xCreate(S,C.Xb,T,z,e("Int32",ce))},lr=function(S,C,B,T,z,ce){if(C=i.get(C),s.set(z,C),n){q.delete(z);for(const qe of q)s.delete(qe)}return T=Array.from(new Uint32Array(Z.buffer,T,B)).map(qe=>qe?he(Z,qe):""),C.module.xConnect(S,C.Xb,T,z,e("Int32",ce))},ur=function(S,C){var B=s.get(S),T=O.get("sqlite3_index_info").dc;const z={};z.nConstraint=X(C+T[0],"i32"),z.aConstraint=[];for(var ce=X(C+T[1],"*"),qe=O.get("sqlite3_index_constraint").size,je=0;je<z.nConstraint;++je){var ze=z.aConstraint,ct=ze.push,tt=ce+je*qe,Cn=O.get("sqlite3_index_constraint").dc,tn={};tn.iColumn=X(tt+Cn[0],"i32"),tn.op=X(tt+Cn[1],"i8"),tn.usable=!!X(tt+Cn[2],"i8"),ct.call(ze,tn)}for(z.nOrderBy=X(C+T[2],"i32"),z.aOrderBy=[],ce=X(C+T[3],"*"),qe=O.get("sqlite3_index_orderby").size,je=0;je<z.nOrderBy;++je)ze=z.aOrderBy,ct=ze.push,tt=ce+je*qe,Cn=O.get("sqlite3_index_orderby").dc,tn={},tn.iColumn=X(tt+Cn[0],"i32"),tn.desc=!!X(tt+Cn[1],"i8"),ct.call(ze,tn);for(z.aConstraintUsage=[],ce=0;ce<z.nConstraint;++ce)z.aConstraintUsage.push({argvIndex:0,omit:!1});for(z.idxNum=X(C+T[5],"i32"),z.idxStr=null,z.orderByConsumed=!!X(C+T[8],"i8"),z.estimatedCost=X(C+T[9],"double"),z.estimatedRows=X(C+T[10],"i32"),z.idxFlags=X(C+T[11],"i32"),z.colUsed=X(C+T[12],"i32"),S=B.module.xBestIndex(S,z),B=O.get("sqlite3_index_info").dc,T=X(C+B[4],"*"),ce=O.get("sqlite3_index_constraint_usage").size,ct=0;ct<z.nConstraint;++ct)qe=T+ct*ce,ze=z.aConstraintUsage[ct],tt=O.get("sqlite3_index_constraint_usage").dc,at(qe+tt[0],ze.argvIndex,"i32"),at(qe+tt[1],ze.omit?1:0,"i8");return at(C+B[5],z.idxNum,"i32"),typeof z.idxStr=="string"&&(T=Rt(z.idxStr),ce=Mt("sqlite3_malloc","number",["number"],[T+1]),it(z.idxStr,Z,ce,T+1),at(C+B[6],ce,"*"),at(C+B[7],1,"i32")),at(C+B[8],z.orderByConsumed,"i32"),at(C+B[9],z.estimatedCost,"double"),at(C+B[10],z.estimatedRows,"i32"),at(C+B[11],z.idxFlags,"i32"),S},_r=function(S){const C=s.get(S);return n?q.add(S):s.delete(S),C.module.xDisconnect(S)},dr=function(S){const C=s.get(S);return n?q.add(S):s.delete(S),C.module.xDestroy(S)},pr=function(S,C){const B=s.get(S);if(f.set(C,B),n){y.delete(C);for(const T of y)f.delete(T)}return B.module.xOpen(S,C)},ar=function(S){const C=f.get(S);return n?y.add(S):f.delete(S),C.module.xClose(S)},wr=function(S){return f.get(S).module.xEof(S)?1:0},br=function(S,C,B,T,z){const ce=f.get(S);return B=B?B?he(Z,B):"":null,z=new Uint32Array(Z.buffer,z,T),ce.module.xFilter(S,C,B,z)},mr=function(S){return f.get(S).module.xNext(S)},cr=function(S,C,B){return f.get(S).module.xColumn(S,C,B)},Qr=function(S,C){return f.get(S).module.xRowid(S,e("BigInt64",C))},vr=function(S,C,B,T){const z=s.get(S);return B=new Uint32Array(Z.buffer,B,C),z.module.xUpdate(S,B,e("BigInt64",T))},sr=function(S){return s.get(S).module.xBegin(S)},gr=function(S){return s.get(S).module.xSync(S)},fr=function(S){return s.get(S).module.xCommit(S)},yr=function(S){return s.get(S).module.xRollback(S)},wt=function(S,C){const B=s.get(S);return C=C?he(Z,C):"",B.module.xRename(S,C)}}(),function(){function e(y,O){const S=`get${y}`,C=`set${y}`;return new Proxy(new DataView(Z.buffer,O,y==="Int32"?4:8),{get(B,T){if(T===S)return function(z,ce){if(!ce)throw Error("must be little endian");return B[T](z,ce)};if(T===C)return function(z,ce,qe){if(!qe)throw Error("must be little endian");return B[T](z,ce,qe)};if(typeof T=="string"&&T.match(/^(get)|(set)/))throw Error("invalid type");return B[T]}})}function n(y){return y>>=2,ve[y]+ve[y+1]*2**32}const i=typeof Di=="object",s=new Map,f=new Map;a.registerVFS=function(y,O){if(Mt("sqlite3_vfs_find","number",["string"],[y.name]))throw Error(`VFS '${y.name}' already registered`);i&&(y.handleAsync=Ti);var S=y.ad??64;const C=a._malloc(4);return O=Mt("register_vfs","number",["string","number","number","number"],[y.name,S,O?1:0,C]),O||(S=X(C,"*"),s.set(S,y)),a._free(C),O};const q=i?new Set:null;qr=function(y){const O=f.get(y);return i?q.add(y):f.delete(y),O.xClose(y)},t=function(y,O,S,C){return f.get(y).xRead(y,Z.subarray(O,O+S),n(C))},v=function(y,O,S,C){return f.get(y).xWrite(y,Z.subarray(O,O+S),n(C))},u=function(y,O){return f.get(y).xTruncate(y,n(O))},o=function(y,O){return f.get(y).xSync(y,O)},bn=function(y,O){const S=f.get(y);return O=e("BigInt64",O),S.xFileSize(y,O)},Ir=function(y,O){return f.get(y).xLock(y,O)},l=function(y,O){return f.get(y).xUnlock(y,O)},xr=function(y,O){const S=f.get(y);return O=e("Int32",O),S.xCheckReservedLock(y,O)},In=function(y,O,S){const C=f.get(y);return S=new DataView(Z.buffer,S),C.xFileControl(y,O,S)},r=function(y){return f.get(y).xSectorSize(y)},Ar=function(y){return f.get(y).xDeviceCharacteristics(y)},Cr=function(y,O,S,C,B){if(y=s.get(y),f.set(S,y),i){q.delete(S);for(var T of q)f.delete(T)}if(T=null,C&64){T=1;const z=[];for(;T;){const ce=Z[O++];if(ce)z.push(ce);else switch(Z[O]||(T=null),T){case 1:z.push(63),T=2;break;case 2:z.push(61),T=3;break;case 3:z.push(38),T=2}}T=new TextDecoder().decode(new Uint8Array(z))}else O&&(T=O?he(Z,O):"");return B=e("Int32",B),y.xOpen(T,S,C,B)},Sr=function(y,O,S){return s.get(y).xDelete(O?he(Z,O):"",S)},Er=function(y,O,S,C){return y=s.get(y),C=e("Int32",C),y.xAccess(O?he(Z,O):"",S,C)}}();var zo={a:(e,n,i,s)=>{ut(`Assertion failed: ${e?he(Z,e):""}, at: `+[n?n?he(Z,n):"":"unknown filename",i,s?s?he(Z,s):"":"unknown function"])},K:function(e,n){try{return e=e?he(Z,e):"",xn(e,n),0}catch(i){if(typeof Se>"u"||i.name!=="ErrnoError")throw i;return-i.Ob}},M:function(e,n,i){try{if(n=n?he(Z,n):"",n=Nt(e,n),i&-8)return-28;var s=Ge(n,{Yb:!0}).node;return s?(e="",i&4&&(e+="r"),i&2&&(e+="w"),i&1&&(e+="x"),e&&Ft(s,e)?-2:0):-44}catch(f){if(typeof Se>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},L:function(e,n){try{var i=oe(e);return xn(i.node,n),0}catch(s){if(typeof Se>"u"||s.name!=="ErrnoError")throw s;return-s.Ob}},J:function(e){try{var n=oe(e).node,i=typeof n=="string"?Ge(n,{Yb:!0}).node:n;if(!i.Cb.Qb)throw new L(63);return i.Cb.Qb(i,{timestamp:Date.now()}),0}catch(s){if(typeof Se>"u"||s.name!=="ErrnoError")throw s;return-s.Ob}},b:function(e,n,i){_n=i;try{var s=oe(e);switch(n){case 0:var f=wn();if(0>f)return-28;for(;kt[f];)f++;return Wt(s,f).Wb;case 1:case 2:return 0;case 3:return s.flags;case 4:return f=wn(),s.flags|=f,0;case 5:return f=wn(),G[f+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return j[Oi()>>2]=28,-1;default:return-28}}catch(q){if(typeof Se>"u"||q.name!=="ErrnoError")throw q;return-q.Ob}},I:function(e,n){try{var i=oe(e);return dn(Xt,i.path,n)}catch(s){if(typeof Se>"u"||s.name!=="ErrnoError")throw s;return-s.Ob}},n:function(e,n,i){n=Gt(n,i);try{if(isNaN(n))return 61;var s=oe(e);if(!(s.flags&2097155))throw new L(28);return Jn(s.node,n),0}catch(f){if(typeof Se>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},C:function(e,n){try{if(n===0)return-28;var i=Rt("/")+1;return n<i?-68:(it("/",Z,e,n),i)}catch(s){if(typeof Se>"u"||s.name!=="ErrnoError")throw s;return-s.Ob}},F:function(e,n){try{return e=e?he(Z,e):"",dn(Wn,e,n)}catch(i){if(typeof Se>"u"||i.name!=="ErrnoError")throw i;return-i.Ob}},z:function(e,n,i){try{return n=n?he(Z,n):"",n=Nt(e,n),n=Xe(n),n[n.length-1]==="/"&&(n=n.substr(0,n.length-1)),st(n,i),0}catch(s){if(typeof Se>"u"||s.name!=="ErrnoError")throw s;return-s.Ob}},E:function(e,n,i,s){try{n=n?he(Z,n):"";var f=s&256;return n=Nt(e,n,s&4096),dn(f?Wn:Xt,n,i)}catch(q){if(typeof Se>"u"||q.name!=="ErrnoError")throw q;return-q.Ob}},y:function(e,n,i,s){_n=s;try{n=n?he(Z,n):"",n=Nt(e,n);var f=s?wn():0;return ln(n,i,f).Wb}catch(q){if(typeof Se>"u"||q.name!=="ErrnoError")throw q;return-q.Ob}},w:function(e,n,i,s){try{if(n=n?he(Z,n):"",n=Nt(e,n),0>=s)return-28;var f=Kn(n),q=Math.min(s,Rt(f)),y=Te[i+q];return it(f,Z,i,s+1),Te[i+q]=y,q}catch(O){if(typeof Se>"u"||O.name!=="ErrnoError")throw O;return-O.Ob}},u:function(e){try{return e=e?he(Z,e):"",Br(e),0}catch(n){if(typeof Se>"u"||n.name!=="ErrnoError")throw n;return-n.Ob}},H:function(e,n){try{return e=e?he(Z,e):"",dn(Xt,e,n)}catch(i){if(typeof Se>"u"||i.name!=="ErrnoError")throw i;return-i.Ob}},r:function(e,n,i){try{if(n=n?he(Z,n):"",n=Nt(e,n),i===0){e=n;var s=Ge(e,{parent:!0}).node;if(!s)throw new L(44);var f=P(e),q=Tt(s,f),y=Kt(s,f,!1);if(y)throw new L(y);if(!s.Cb.oc)throw new L(63);if(q.$b)throw new L(10);s.Cb.oc(s,f),zn(q)}else i===512?Br(n):ut("Invalid flags passed to unlinkat");return 0}catch(O){if(typeof Se>"u"||O.name!=="ErrnoError")throw O;return-O.Ob}},q:function(e,n,i){try{if(n=n?he(Z,n):"",n=Nt(e,n,!0),i){var s=ve[i>>2]+4294967296*j[i+4>>2],f=j[i+8>>2];q=1e3*s+f/1e6,i+=16,s=ve[i>>2]+4294967296*j[i+4>>2],f=j[i+8>>2],y=1e3*s+f/1e6}else var q=Date.now(),y=q;e=q;var O=Ge(n,{Yb:!0}).node;return O.Cb.Qb(O,{timestamp:Math.max(e,y)}),0}catch(S){if(typeof Se>"u"||S.name!=="ErrnoError")throw S;return-S.Ob}},l:function(e,n,i){e=new Date(1e3*Gt(e,n)),j[i>>2]=e.getSeconds(),j[i+4>>2]=e.getMinutes(),j[i+8>>2]=e.getHours(),j[i+12>>2]=e.getDate(),j[i+16>>2]=e.getMonth(),j[i+20>>2]=e.getFullYear()-1900,j[i+24>>2]=e.getDay(),n=e.getFullYear(),j[i+28>>2]=(n%4!==0||n%100===0&&n%400!==0?Hr:Vr)[e.getMonth()]+e.getDate()-1|0,j[i+36>>2]=-(60*e.getTimezoneOffset()),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var s=new Date(e.getFullYear(),0,1).getTimezoneOffset();j[i+32>>2]=(n!=s&&e.getTimezoneOffset()==Math.min(s,n))|0},i:function(e,n,i,s,f,q,y,O){f=Gt(f,q);try{if(isNaN(f))return 61;var S=oe(s);if(n&2&&!(i&2)&&(S.flags&2097155)!==2)throw new L(2);if((S.flags&2097155)===1)throw new L(2);if(!S.Mb.kc)throw new L(43);var C=S.Mb.kc(S,e,f,n,i),B=C.Oc;return j[y>>2]=C.Cc,ve[O>>2]=B,0}catch(T){if(typeof Se>"u"||T.name!=="ErrnoError")throw T;return-T.Ob}},j:function(e,n,i,s,f,q,y){q=Gt(q,y);try{if(isNaN(q))return 61;var O=oe(f);if(i&2){if((O.node.mode&61440)!==32768)throw new L(43);s&2||O.Mb.lc&&O.Mb.lc(O,Z.slice(e,e+n),q,n,s)}}catch(S){if(typeof Se>"u"||S.name!=="ErrnoError")throw S;return-S.Ob}},s:(e,n,i)=>{function s(S){return(S=S.toTimeString().match(/\(([A-Za-z ]+)\)$/))?S[1]:"GMT"}var f=new Date().getFullYear(),q=new Date(f,0,1),y=new Date(f,6,1);f=q.getTimezoneOffset();var O=y.getTimezoneOffset();ve[e>>2]=60*Math.max(f,O),j[n>>2]=+(f!=O),e=s(q),n=s(y),e=Gn(e),n=Gn(n),O<f?(ve[i>>2]=e,ve[i+4>>2]=n):(ve[i>>2]=n,ve[i+4>>2]=e)},e:()=>Date.now(),d:()=>performance.now(),o:e=>{var n=Z.length;if(e>>>=0,2147483648<e)return!1;for(var i=1;4>=i;i*=2){var s=n*(1+.2/i);s=Math.min(s,e+100663296);var f=Math;s=Math.max(e,s);e:{f=(f.min.call(f,2147483648,s+(65536-s%65536)%65536)-Je.buffer.byteLength+65535)/65536;try{Je.grow(f),Nr();var q=1;break e}catch{}q=void 0}if(q)return!0}return!1},A:(e,n)=>{var i=0;return er().forEach((s,f)=>{var q=n+i;for(f=ve[e+4*f>>2]=q,q=0;q<s.length;++q)Te[f++>>0]=s.charCodeAt(q);Te[f>>0]=0,i+=s.length+1}),0},B:(e,n)=>{var i=er();ve[e>>2]=i.length;var s=0;return i.forEach(f=>s+=f.length+1),ve[n>>2]=s,0},f:function(e){try{var n=oe(e);if(n.Wb===null)throw new L(8);n.pc&&(n.pc=null);try{n.Mb.close&&n.Mb.close(n)}catch(i){throw i}finally{kt[n.Wb]=null}return n.Wb=null,0}catch(i){if(typeof Se>"u"||i.name!=="ErrnoError")throw i;return i.Ob}},p:function(e,n){try{var i=oe(e);return Te[n>>0]=i.Sb?2:et(i.mode)?3:(i.mode&61440)===40960?7:4,G[n+2>>1]=0,Ie=[0,(te=0,1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[n+8>>2]=Ie[0],j[n+12>>2]=Ie[1],Ie=[0,(te=0,1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[n+16>>2]=Ie[0],j[n+20>>2]=Ie[1],0}catch(s){if(typeof Se>"u"||s.name!=="ErrnoError")throw s;return s.Ob}},x:function(e,n,i,s){try{e:{var f=oe(e);e=n;for(var q,y=n=0;y<i;y++){var O=ve[e>>2],S=ve[e+4>>2];e+=8;var C=f,B=O,T=S,z=q,ce=Te;if(0>T||0>z)throw new L(28);if(C.Wb===null)throw new L(8);if((C.flags&2097155)===1)throw new L(8);if(et(C.node.mode))throw new L(31);if(!C.Mb.read)throw new L(28);var qe=typeof z<"u";if(!qe)z=C.position;else if(!C.seekable)throw new L(70);var je=C.Mb.read(C,ce,B,T,z);qe||(C.position+=je);var ze=je;if(0>ze){var ct=-1;break e}if(n+=ze,ze<S)break;typeof q<"u"&&(q+=ze)}ct=n}return ve[s>>2]=ct,0}catch(tt){if(typeof Se>"u"||tt.name!=="ErrnoError")throw tt;return tt.Ob}},m:function(e,n,i,s,f){n=Gt(n,i);try{if(isNaN(n))return 61;var q=oe(e);return Xn(q,n,s),Ie=[q.position>>>0,(te=q.position,1<=+Math.abs(te)?0<te?+Math.floor(te/4294967296)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],j[f>>2]=Ie[0],j[f+4>>2]=Ie[1],q.pc&&n===0&&s===0&&(q.pc=null),0}catch(y){if(typeof Se>"u"||y.name!=="ErrnoError")throw y;return y.Ob}},D:function(e){try{var n=oe(e);return Ri(i=>{var s=n.node.Ub;s.type.Qc?s.type.Qc(s,!1,f=>{i(f?29:0)}):i(0)})}catch(i){if(typeof Se>"u"||i.name!=="ErrnoError")throw i;return i.Ob}},t:function(e,n,i,s){try{e:{var f=oe(e);e=n;for(var q,y=n=0;y<i;y++){var O=ve[e>>2],S=ve[e+4>>2];e+=8;var C=f,B=O,T=S,z=q,ce=Te;if(0>T||0>z)throw new L(28);if(C.Wb===null)throw new L(8);if(!(C.flags&2097155))throw new L(8);if(et(C.node.mode))throw new L(31);if(!C.Mb.write)throw new L(28);C.seekable&&C.flags&1024&&Xn(C,0,2);var qe=typeof z<"u";if(!qe)z=C.position;else if(!C.seekable)throw new L(70);var je=C.Mb.write(C,ce,B,T,z,void 0);qe||(C.position+=je);var ze=je;if(0>ze){var ct=-1;break e}n+=ze,typeof q<"u"&&(q+=ze)}ct=n}return ve[s>>2]=ct,0}catch(tt){if(typeof Se>"u"||tt.name!=="ErrnoError")throw tt;return tt.Ob}},ra:tr,N:nr,ga:rr,ca:ir,Y:or,la:sr,G:ur,h:ar,oa:cr,ja:fr,ea:lr,fa:hr,k:dr,v:_r,pa:wr,g:br,qa:mr,da:pr,ha:wt,ia:yr,na:Qr,c:H,ka:gr,ma:vr,aa:Er,V:xr,$:qr,ba:Sr,S:Ar,U:In,Z:bn,X:Ir,R:Cr,Q:t,T:r,_:o,O:u,W:l,P:v},V=function(){function e(i){return V=i.exports,V=U(),Je=V.sa,Nr(),On.unshift(V.ta),Lt--,a.monitorRunDependencies&&a.monitorRunDependencies(Lt),Lt==0&&It&&(i=It,It=null,i()),V}var n={a:zo};if(Lt++,a.monitorRunDependencies&&a.monitorRunDependencies(Lt),a.instantiateWasm)try{return a.instantiateWasm(n,e)}catch(i){He(`Module.instantiateWasm callback failed with error: ${i}`),R(i)}return Or(n,function(i){e(i.instance)}).catch(R),{}}();a._sqlite3_vfs_find=e=>(a._sqlite3_vfs_find=V.ua)(e),a._sqlite3_malloc=e=>(a._sqlite3_malloc=V.va)(e),a._sqlite3_free=e=>(a._sqlite3_free=V.wa)(e),a._sqlite3_prepare_v2=(e,n,i,s,f)=>(a._sqlite3_prepare_v2=V.xa)(e,n,i,s,f),a._sqlite3_step=e=>(a._sqlite3_step=V.ya)(e),a._sqlite3_column_int64=(e,n)=>(a._sqlite3_column_int64=V.za)(e,n),a._sqlite3_column_int=(e,n)=>(a._sqlite3_column_int=V.Aa)(e,n),a._sqlite3_finalize=e=>(a._sqlite3_finalize=V.Ba)(e),a._sqlite3_reset=e=>(a._sqlite3_reset=V.Ca)(e),a._sqlite3_clear_bindings=e=>(a._sqlite3_clear_bindings=V.Da)(e),a._sqlite3_value_blob=e=>(a._sqlite3_value_blob=V.Ea)(e),a._sqlite3_value_text=e=>(a._sqlite3_value_text=V.Fa)(e),a._sqlite3_value_bytes=e=>(a._sqlite3_value_bytes=V.Ga)(e),a._sqlite3_value_double=e=>(a._sqlite3_value_double=V.Ha)(e),a._sqlite3_value_int=e=>(a._sqlite3_value_int=V.Ia)(e),a._sqlite3_value_int64=e=>(a._sqlite3_value_int64=V.Ja)(e),a._sqlite3_value_type=e=>(a._sqlite3_value_type=V.Ka)(e),a._sqlite3_result_blob=(e,n,i,s)=>(a._sqlite3_result_blob=V.La)(e,n,i,s),a._sqlite3_result_double=(e,n)=>(a._sqlite3_result_double=V.Ma)(e,n),a._sqlite3_result_error=(e,n,i)=>(a._sqlite3_result_error=V.Na)(e,n,i),a._sqlite3_result_int=(e,n)=>(a._sqlite3_result_int=V.Oa)(e,n),a._sqlite3_result_int64=(e,n,i)=>(a._sqlite3_result_int64=V.Pa)(e,n,i),a._sqlite3_result_null=e=>(a._sqlite3_result_null=V.Qa)(e),a._sqlite3_result_text=(e,n,i,s)=>(a._sqlite3_result_text=V.Ra)(e,n,i,s),a._sqlite3_column_count=e=>(a._sqlite3_column_count=V.Sa)(e),a._sqlite3_data_count=e=>(a._sqlite3_data_count=V.Ta)(e),a._sqlite3_column_blob=(e,n)=>(a._sqlite3_column_blob=V.Ua)(e,n),a._sqlite3_column_bytes=(e,n)=>(a._sqlite3_column_bytes=V.Va)(e,n),a._sqlite3_column_double=(e,n)=>(a._sqlite3_column_double=V.Wa)(e,n),a._sqlite3_column_text=(e,n)=>(a._sqlite3_column_text=V.Xa)(e,n),a._sqlite3_column_type=(e,n)=>(a._sqlite3_column_type=V.Ya)(e,n),a._sqlite3_column_name=(e,n)=>(a._sqlite3_column_name=V.Za)(e,n),a._sqlite3_bind_blob=(e,n,i,s,f)=>(a._sqlite3_bind_blob=V._a)(e,n,i,s,f),a._sqlite3_bind_double=(e,n,i)=>(a._sqlite3_bind_double=V.$a)(e,n,i),a._sqlite3_bind_int=(e,n,i)=>(a._sqlite3_bind_int=V.ab)(e,n,i),a._sqlite3_bind_int64=(e,n,i,s)=>(a._sqlite3_bind_int64=V.bb)(e,n,i,s),a._sqlite3_bind_null=(e,n)=>(a._sqlite3_bind_null=V.cb)(e,n),a._sqlite3_bind_text=(e,n,i,s,f)=>(a._sqlite3_bind_text=V.db)(e,n,i,s,f),a._sqlite3_bind_parameter_count=e=>(a._sqlite3_bind_parameter_count=V.eb)(e),a._sqlite3_bind_parameter_name=(e,n)=>(a._sqlite3_bind_parameter_name=V.fb)(e,n),a._sqlite3_sql=e=>(a._sqlite3_sql=V.gb)(e),a._sqlite3_exec=(e,n,i,s,f)=>(a._sqlite3_exec=V.hb)(e,n,i,s,f),a._sqlite3_errmsg=e=>(a._sqlite3_errmsg=V.ib)(e),a._sqlite3_declare_vtab=(e,n)=>(a._sqlite3_declare_vtab=V.jb)(e,n),a._sqlite3_libversion=()=>(a._sqlite3_libversion=V.kb)(),a._sqlite3_libversion_number=()=>(a._sqlite3_libversion_number=V.lb)(),a._sqlite3_changes=e=>(a._sqlite3_changes=V.mb)(e),a._sqlite3_close=e=>(a._sqlite3_close=V.nb)(e),a._sqlite3_limit=(e,n,i)=>(a._sqlite3_limit=V.ob)(e,n,i),a._sqlite3_open_v2=(e,n,i,s)=>(a._sqlite3_open_v2=V.pb)(e,n,i,s),a._sqlite3_get_autocommit=e=>(a._sqlite3_get_autocommit=V.qb)(e);var Oi=()=>(Oi=V.rb)(),oi=a._malloc=e=>(oi=a._malloc=V.sb)(e),Mi=a._free=e=>(Mi=a._free=V.tb)(e);a._RegisterExtensionFunctions=e=>(a._RegisterExtensionFunctions=V.ub)(e),a._set_authorizer=e=>(a._set_authorizer=V.vb)(e),a._create_function=(e,n,i,s,f,q)=>(a._create_function=V.wb)(e,n,i,s,f,q),a._create_module=(e,n,i,s)=>(a._create_module=V.xb)(e,n,i,s),a._progress_handler=(e,n)=>(a._progress_handler=V.yb)(e,n),a._register_vfs=(e,n,i,s)=>(a._register_vfs=V.zb)(e,n,i,s),a._getSqliteFree=()=>(a._getSqliteFree=V.Ab)();var Pi=a._main=(e,n)=>(Pi=a._main=V.Bb)(e,n),Li=(e,n)=>(Li=V.Db)(e,n),Ui=()=>(Ui=V.Eb)(),$i=()=>($i=V.Fb)(),ki=e=>(ki=V.Gb)(e),si=e=>(si=V.Hb)(e),Fi=e=>(Fi=V.Ib)(e),zi=()=>(zi=V.Jb)(),Bi=e=>(Bi=V.Kb)(e),Vi=()=>(Vi=V.Lb)();a.getTempRet0=Ui,a.ccall=Mt,a.cwrap=(e,n,i,s)=>{var f=!i||i.every(q=>q==="number"||q==="boolean");return n!=="string"&&f&&!s?a["_"+e]:function(){return Mt(e,n,i,arguments,s)}},a.setValue=at,a.getValue=X,a.UTF8ToString=(e,n)=>e?he(Z,e,n):"",a.stringToUTF8=(e,n,i)=>it(e,Z,n,i),a.lengthBytesUTF8=Rt;var jr;It=function e(){jr||Hi(),jr||(It=e)};function Hi(){function e(){if(!jr&&(jr=!0,a.calledRun=!0,!Le)){if(a.noFSInit||Zn||(Zn=!0,Yn(),a.stdin=a.stdin,a.stdout=a.stdout,a.stderr=a.stderr,a.stdin?Yt("stdin",a.stdin):jn("/dev/tty","/dev/stdin"),a.stdout?Yt("stdout",null,a.stdout):jn("/dev/tty","/dev/stdout"),a.stderr?Yt("stderr",null,a.stderr):jn("/dev/tty1","/dev/stderr"),ln("/dev/stdin",0),ln("/dev/stdout",1),ln("/dev/stderr",1)),_t=!1,sn(On),sn(be),M(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Qi){var n=Pi;try{var i=n(0,0);ht=i,D(i)}catch(s){E(s)}}if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)n=a.postRun.shift(),Mn.unshift(n);sn(Mn)}}if(!(0<Lt)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)At();sn(dt),0<Lt||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();var Qi=!0;return a.noInitialRun&&(Qi=!1),Hi(),g.ready}})(),No=Yi,Zi=yn|on|Rr|vo|Tr,Gi=(yt=class{constructor(){se(this,ne);se(this,xe);se(this,mt);se(this,w,yn);ui(this,"timeoutMillis",0);se(this,_,new Map);se(this,Q,Promise.resolve(0))}get state(){return p(this,w)}async lock(I){return pe(this,ne,Ei).call(this,pe(this,xe,Mo),I)}async unlock(I){return pe(this,ne,Ei).call(this,pe(this,mt,Po),I)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(I,g){return new Promise(async(a,M)=>{try{await navigator.locks.request(I,g,R=>{if(a(R),R)return new Promise(W=>p(this,_).set(I,W))})}catch(R){M(R)}})}_releaseWebLock(I){p(this,_).get(I)?.(),p(this,_).delete(I)}async _pollWebLock(I){return(await navigator.locks.query()).held.find(({name:a})=>a===I)?.mode}_getTimeoutSignal(){if(this.timeoutMillis){const I=new AbortController;return setTimeout(()=>I.abort(),this.timeoutMillis),I.signal}}},w=new WeakMap,_=new WeakMap,Q=new WeakMap,ne=new WeakSet,Ei=async function(I,g){const a=g&Zi;try{const M=()=>I.call(this,a);return await Re(this,Q,p(this,Q).then(M,M)),Re(this,w,a),fe}catch(M){return M.name==="AbortError"?fo:(console.error(M),_o)}},xe=new WeakSet,Mo=async function(I){if(I===p(this,w))return fe;switch(p(this,w)){case yn:switch(I){case on:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}case on:switch(I){case Rr:return this._SHAREDtoRESERVED();case Tr:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}case Rr:switch(I){case Tr:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}},mt=new WeakSet,Po=async function(I){if(I===p(this,w))return fe;switch(p(this,w)){case Tr:switch(I){case on:return this._EXCLUSIVEtoSHARED();case yn:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}case Rr:switch(I){case on:return this._RESERVEDtoSHARED();case yn:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}case on:switch(I){case yn:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}default:throw new Error(`unexpected transition ${p(this,w)} -> ${I}`)}},yt),eo=class extends Gi{constructor(I){super(),this._lockName=I+"-outer",this._reservedName=I+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}},to=5e3,no=0,Jr=new WeakMap,ro=($=class{constructor(I,g={durability:"default"}){se(this,d);se(this,ye,void 0);se(this,we,void 0);se(this,Qe,void 0);se(this,Ee,null);se(this,ge,0);se(this,h,Promise.resolve());se(this,b,Promise.resolve());Re(this,we,Promise.resolve(I).then(a=>Re(this,ye,a))),Re(this,Qe,g)}async close(){const I=p(this,ye)??await p(this,we);await p(this,h),await this.sync(),I.close()}async run(I,g){const a=p(this,h).then(()=>pe(this,d,Lo).call(this,I,g));return Re(this,h,a.catch(()=>{})),a}async sync(){await p(this,h),await p(this,b),Re(this,b,Promise.resolve())}},ye=new WeakMap,we=new WeakMap,Qe=new WeakMap,Ee=new WeakMap,ge=new WeakMap,h=new WeakMap,b=new WeakMap,d=new WeakSet,Lo=async function(I,g){const a=p(this,ye)??await p(this,we);if(I==="readwrite"&&p(this,Ee)?.mode==="readonly")Re(this,Ee,null);else if(performance.now()-p(this,ge)>to){try{p(this,Ee)?.commit()}catch(M){if(M.name!=="InvalidStateError")throw M}await new Promise(M=>setTimeout(M)),Re(this,Ee,null)}for(let M=0;M<2;++M){if(!p(this,Ee)){Re(this,Ee,a.transaction(a.objectStoreNames,I,p(this,Qe)));const R=Re(this,ge,performance.now());Re(this,b,p(this,b).then(()=>new Promise((W,de)=>{p(this,Ee).addEventListener("complete",_e=>{W(),p(this,Ee)===_e.target&&Re(this,Ee,null),Pt(`transaction ${Jr.get(_e.target)} complete`)}),p(this,Ee).addEventListener("abort",_e=>{console.warn("tx abort",(performance.now()-R)/1e3);const Ve=_e.target.error;de(Ve),p(this,Ee)===_e.target&&Re(this,Ee,null),Pt(`transaction ${Jr.get(_e.target)} aborted`,Ve)})}))),Jr.set(p(this,Ee),no++)}try{const R=Object.fromEntries(Array.from(a.objectStoreNames,W=>[W,new io(p(this,Ee).objectStore(W))]));return await g(R)}catch(R){if(Re(this,Ee,null),M)throw R}}},$),io=(Ae=class{constructor(I){se(this,K,void 0);Re(this,K,I)}get(I){Pt(`get ${p(this,K).name}`,I);const g=p(this,K).get(I);return nn(g)}getAll(I,g){Pt(`getAll ${p(this,K).name}`,I,g);const a=p(this,K).getAll(I,g);return nn(a)}getKey(I){Pt(`getKey ${p(this,K).name}`,I);const g=p(this,K).getKey(I);return nn(g)}getAllKeys(I,g){Pt(`getAllKeys ${p(this,K).name}`,I,g);const a=p(this,K).getAllKeys(I,g);return nn(a)}put(I,g){Pt(`put ${p(this,K).name}`,I,g);const a=p(this,K).put(I,g);return nn(a)}delete(I){Pt(`delete ${p(this,K).name}`,I);const g=p(this,K).delete(I);return nn(g)}clear(){Pt(`clear ${p(this,K).name}`);const I=p(this,K).clear();return nn(I)}index(I){return new oo(p(this,K).index(I))}},K=new WeakMap,Ae),oo=(c=class{constructor(I){se(this,F,void 0);Re(this,F,I)}getAllKeys(I,g){Pt(`IDBIndex.getAllKeys ${p(this,F).objectStore.name}<${p(this,F).name}>`,I,g);const a=p(this,F).getAllKeys(I,g);return nn(a)}},F=new WeakMap,c),so=512,hi=3e3,di={durability:"default",purge:"deferred",purgeAtLeast:16},Oo=(Vt=class extends Ii{constructor(g="wa-sqlite",a=di){super();se(this,qt);se(this,Bt);se(this,gt);se(this,lt);se(this,Me);se(this,J,void 0);se(this,Y,new Map);se(this,re,void 0);se(this,Be,new Set);se(this,ke,performance.now());se(this,nt,new Set);this.name=g,Re(this,J,Object.assign({},di,a)),Re(this,re,new ro(Wo(g),{durability:p(this,J).durability}))}async close(){for(const g of p(this,Y).keys())await this.xClose(g);await p(this,re)?.close(),Re(this,re,null)}xOpen(g,a,M,R){return this.handleAsync(async()=>{g===null&&(g=`null_${a}`),ft(`xOpen ${g} 0x${a.toString(16)} 0x${M.toString(16)}`);try{const W=new URL(g,"http://localhost/"),de={path:W.pathname,flags:M,block0:null,isMetadataChanged:!0,locks:new eo(W.pathname)};return p(this,Y).set(a,de),await p(this,re).run("readwrite",async({blocks:_e})=>{if(de.block0=await _e.get(pe(this,lt,Dn).call(this,de,0)),!de.block0)if(M&ni)de.block0={path:de.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},_e.put(de.block0);else throw new Error(`file not found: ${de.path}`)}),R.setInt32(0,M&wo,!0),fe}catch(W){return console.error(W),ti}})}xClose(g){return this.handleAsync(async()=>{try{const a=p(this,Y).get(g);return a&&(ft(`xClose ${a.path}`),p(this,Y).delete(g),a.flags&Gr&&p(this,re).run("readwrite",({blocks:M})=>{M.delete(IDBKeyRange.bound([a.path],[a.path,[]]))})),fe}catch(a){return console.error(a),Ne}})}xRead(g,a,M){return this.handleAsync(async()=>{const R=p(this,Y).get(g);ft(`xRead ${R.path} ${a.byteLength} ${M}`);try{return await p(this,re).run("readonly",async({blocks:de})=>{let _e=0;for(;_e<a.byteLength;){const Ve=M+_e,Fe=Ve<R.block0.data.byteLength?R.block0:await de.get(pe(this,lt,Dn).call(this,R,-Ve));if(!Fe||Fe.data.byteLength-Fe.offset<=Ve)return a.fill(0,_e),Si;const Ce=a.subarray(_e),Pe=Ve+Fe.offset,Ke=Math.min(Math.max(Fe.data.byteLength-Pe,0),Ce.byteLength);Ce.set(Fe.data.subarray(Pe,Pe+Ke)),_e+=Ke}return fe})}catch(W){return console.error(W),Ne}})}xWrite(g,a,M){const R=p(this,nt).has(g);if(R||performance.now()-p(this,ke)>hi){const W=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&p(this,nt).add(g),await new Promise(_e=>setTimeout(_e));const de=pe(this,qt,xi).call(this,g,a,M);return Re(this,ke,performance.now()),de});return R&&p(this,nt).delete(g),W}return pe(this,qt,xi).call(this,g,a,M)}xTruncate(g,a){const M=p(this,Y).get(g);ft(`xTruncate ${M.path} ${a}`);try{Object.assign(M.block0,{fileSize:a,data:M.block0.data.slice(0,a)});const R=Object.assign({},M.block0);return p(this,re).run("readwrite",({blocks:W})=>{W.delete(pe(this,lt,Dn).call(this,M,-1/0,-a)),W.put(R)}),fe}catch(R){return console.error(R),Ne}}xSync(g,a){const M=p(this,nt).has(g);if(M||p(this,J).durability!=="relaxed"||performance.now()-p(this,ke)>hi){const W=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&p(this,nt).add(g);const de=await pe(this,Bt,Uo).call(this,g,a);return Re(this,ke,performance.now()),de});return M&&p(this,nt).delete(g),W}const R=p(this,Y).get(g);return ft(`xSync ${R.path} ${a}`),fe}xFileSize(g,a){const M=p(this,Y).get(g);return ft(`xFileSize ${M.path}`),a.setBigInt64(0,BigInt(M.block0.fileSize),!0),fe}xLock(g,a){return this.handleAsync(async()=>{const M=p(this,Y).get(g);ft(`xLock ${M.path} ${a}`);try{const R=await M.locks.lock(a);return R===fe&&M.locks.state===on&&(M.block0=await p(this,re).run("readonly",({blocks:W})=>W.get(pe(this,lt,Dn).call(this,M,0)))),R}catch(R){return console.error(R),Ne}})}xUnlock(g,a){return this.handleAsync(async()=>{const M=p(this,Y).get(g);ft(`xUnlock ${M.path} ${a}`);try{return M.locks.unlock(a)}catch(R){return console.error(R),Ne}})}xCheckReservedLock(g,a){return this.handleAsync(async()=>{const M=p(this,Y).get(g);ft(`xCheckReservedLock ${M.path}`);const R=await M.locks.isSomewhereReserved();return a.setInt32(0,R?1:0,!0),fe})}xSectorSize(g){return so}xDeviceCharacteristics(g){return qo|Eo|xo|Ai}xFileControl(g,a,M){const R=p(this,Y).get(g);switch(ft(`xFileControl ${R.path} ${a}`),a){case 11:return R.overwrite=!0,fe;case 21:if(R.overwrite)try{return this.handleAsync(async()=>(await pe(this,Me,ko).call(this,R),fe))}catch(W){return console.error(W),Ne}if(R.isMetadataChanged)try{p(this,re).run("readwrite",async({blocks:W})=>{await W.put(R.block0)}),R.isMetadataChanged=!1}catch(W){return console.error(W),Ne}return fe;case 22:return R.overwrite=!1,fe;case 31:return this.handleAsync(async()=>{try{return R.block0.version--,R.changedPages=new Set,p(this,re).run("readwrite",async({blocks:W})=>{const de=await W.index("version").getAllKeys(IDBKeyRange.bound([R.path],[R.path,R.block0.version]));for(const _e of de)W.delete(_e)}),fe}catch(W){return console.error(W),Ne}});case 32:try{const W=Object.assign({},R.block0);W.data=W.data.slice();const de=R.changedPages;return R.changedPages=null,R.isMetadataChanged=!1,p(this,re).run("readwrite",async({blocks:_e})=>{_e.put(W);const Ve=await _e.get([R.path,"purge",0])??{path:R.path,offset:"purge",version:0,data:new Map,count:0};Ve.count+=de.size;for(const Fe of de)Ve.data.set(Fe,W.version);_e.put(Ve),pe(this,gt,$o).call(this,R.path,Ve.count)}),fe}catch(W){return console.error(W),Ne}case 33:return this.handleAsync(async()=>{try{return R.changedPages=null,R.isMetadataChanged=!1,R.block0=await p(this,re).run("readonly",({blocks:W})=>W.get([R.path,0,R.block0.version+1])),fe}catch(W){return console.error(W),Ne}});default:return qi}}xAccess(g,a,M){return this.handleAsync(async()=>{try{const R=new URL(g,"file://localhost/").pathname;ft(`xAccess ${R} ${a}`);const W=await p(this,re).run("readonly",({blocks:de})=>de.getKey(pe(this,lt,Dn).call(this,{path:R},0)));return M.setInt32(0,W?1:0,!0),fe}catch(R){return console.error(R),Ne}})}xDelete(g,a){return this.handleAsync(async()=>{const M=new URL(g,"file://localhost/").pathname;try{return p(this,re).run("readwrite",({blocks:R})=>R.delete(IDBKeyRange.bound([M],[M,[]]))),a&&await p(this,re).sync(),fe}catch(R){return console.error(R),Ne}})}async purge(g){const a=Date.now();await p(this,re).run("readwrite",async({blocks:M})=>{const R=await M.get([g,"purge",0]);if(R){for(const[W,de]of R.data)M.delete(IDBKeyRange.bound([g,W,de],[g,W,1/0],!0,!1));await M.delete([g,"purge",0])}ft(`purge ${g} ${R?.data.size??0} pages in ${Date.now()-a} ms`)})}},J=new WeakMap,Y=new WeakMap,re=new WeakMap,Be=new WeakMap,ke=new WeakMap,nt=new WeakMap,qt=new WeakSet,xi=function(g,a,M){const R=p(this,Y).get(g);ft(`xWrite ${R.path} ${a.byteLength} ${M}`);try{const W=R.block0.fileSize;R.block0.fileSize<M+a.byteLength&&(R.block0.fileSize=M+a.byteLength,R.isMetadataChanged=!0);const de=M===0?R.block0:{path:R.path,offset:-M,version:R.block0.version,data:null};return de.data=a.slice(),R.changedPages?(W===R.block0.fileSize&&R.changedPages.add(-M),M!==0&&p(this,re).run("readwrite",({blocks:_e})=>_e.put(de))):p(this,re).run("readwrite",({blocks:_e})=>_e.put(de)),R.isMetadataChanged=M===0?!1:R.isMetadataChanged,fe}catch(W){return console.error(W),Ne}},Bt=new WeakSet,Uo=async function(g,a){const M=p(this,Y).get(g);ft(`xSync ${M.path} ${a}`);try{M.isMetadataChanged&&(p(this,re).run("readwrite",async({blocks:R})=>{await R.put(M.block0)}),M.isMetadataChanged=!1),await p(this,re).sync()}catch(R){return console.error(R),Ne}return fe},gt=new WeakSet,$o=function(g,a){p(this,J).purge==="manual"||p(this,Be).has(g)||a<p(this,J).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(g),p(this,Be).delete(g)}):setTimeout(()=>{this.purge(g),p(this,Be).delete(g)}),p(this,Be).add(g))},lt=new WeakSet,Dn=function(g,a,M=0){const R=!a||-a<g.block0.data.length?-1/0:g.block0.version;return IDBKeyRange.bound([g.path,a,R],[g.path,M,1/0])},Me=new WeakSet,ko=async function(g){const a=g.block0.data.length;if(a<18)return;const M=new DataView(g.block0.data.buffer,g.block0.data.byteOffset);let R=M.getUint16(16);if(R===1&&(R=65536),R===a)return;const W=Math.max(a,R),de=W/a,_e=W/R,Fe=M.getUint32(28)*R,Ce=g.block0.version;await p(this,re).run("readwrite",async({blocks:Pe})=>{const Ke=await Pe.index("version").getAllKeys(IDBKeyRange.bound([g.path,Ce+1],[g.path,1/0]));for(const He of Ke)Pe.delete(He);Pe.delete([g.path,"purge",0]);for(let He=0;He<Fe;He+=W){const We=await Pe.getAll(IDBKeyRange.lowerBound([g.path,-(He+W),1/0]),de);for(const Je of We)Pe.delete([Je.path,Je.offset,Je.version]);if(_e===1){const Je=new Uint8Array(R);for(const ht of We)Je.set(ht.data,-(He+ht.offset));const Le={path:g.path,offset:-He,version:Ce,data:Je};Le.offset===0&&(Le.fileSize=Fe,g.block0=Le),Pe.put(Le)}else{const Je=We[0];for(let Le=0;Le<_e;++Le){const ht=-(He+Le*R);if(-ht>=Fe)break;const Te={path:Je.path,offset:ht,version:Ce,data:Je.data.subarray(Le*R,(Le+1)*R)};Te.offset===0&&(Te.fileSize=Fe,g.block0=Te),Pe.put(Te)}}}})},Vt)}});ri();var uo=0x7fffffffffffffffn,ao=-0x8000000000000000n,zt=class extends Error{constructor(w,_){super(w),this.code=_}},Rn=!0;function Yo(w){const _={},Q=w._getSqliteFree(),ne=w._malloc(8),le=[ne,ne+4];function xe(h){if(typeof h!="string")return 0;const b=w.lengthBytesUTF8(h),d=w._sqlite3_malloc(b+1);return w.stringToUTF8(h,d,b+1),d}function bt(h,b){return BigInt(b)<<32n|BigInt(h)&0xffffffffn}const mt=function(){const h=BigInt(Number.MAX_SAFE_INTEGER)>>32n,b=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(d,A){return A>h||A<b?bt(d,A):A*4294967296+(d&2147483647)-(d&2147483648)}}(),pt=new Set;function yt(h){if(!pt.has(h))throw new zt("not a database",rn)}const ye=new Map;function we(h){if(!ye.has(h))throw new zt("not a statement",rn)}_.bind_collection=function(h,b){we(h);const d=Array.isArray(b),A=_.bind_parameter_count(h);for(let $=1;$<=A;++$){const K=d?$-1:_.bind_parameter_name(h,$),Ae=b[K];Ae!==void 0&&_.bind(h,$,Ae)}return fe},_.bind=function(h,b,d){switch(we(h),typeof d){case"number":return d===(d|0)?_.bind_int(h,b,d):_.bind_double(h,b,d);case"string":return _.bind_text(h,b,d);default:return d instanceof Uint8Array||Array.isArray(d)?_.bind_blob(h,b,d):d===null?_.bind_null(h,b):typeof d=="bigint"?_.bind_int64(h,b,d):d===void 0?lo:(console.warn("unknown binding converted to null",d),_.bind_null(h,b))}},_.bind_blob=function(){const h="sqlite3_bind_blob",b=w.cwrap(h,...ie("nnnnn:n"));return function(d,A,$){we(d);const K=$.byteLength??$.length,Ae=w._sqlite3_malloc(K);w.HEAPU8.subarray(Ae).set($);const F=b(d,A,Ae,K,Q);return ge(h,F,ye.get(d))}}(),_.bind_parameter_count=function(){const h="sqlite3_bind_parameter_count",b=w.cwrap(h,...ie("n:n"));return function(d){return we(d),b(d)}}(),_.bind_double=function(){const h="sqlite3_bind_double",b=w.cwrap(h,...ie("nnn:n"));return function(d,A,$){we(d);const K=b(d,A,$);return ge(h,K,ye.get(d))}}(),_.bind_int=function(){const h="sqlite3_bind_int",b=w.cwrap(h,...ie("nnn:n"));return function(d,A,$){if(we(d),$>2147483647||$<-2147483648)return Xr;const K=b(d,A,$);return ge(h,K,ye.get(d))}}(),_.bind_int64=function(){const h="sqlite3_bind_int64",b=w.cwrap(h,...ie("nnnn:n"));return function(d,A,$){if(we(d),$>uo||$<ao)return Xr;const K=$&0xffffffffn,Ae=$>>32n,F=b(d,A,Number(K),Number(Ae));return ge(h,F,ye.get(d))}}(),_.bind_null=function(){const h="sqlite3_bind_null",b=w.cwrap(h,...ie("nn:n"));return function(d,A){we(d);const $=b(d,A);return ge(h,$,ye.get(d))}}(),_.bind_parameter_name=function(){const h="sqlite3_bind_parameter_name",b=w.cwrap(h,...ie("n:s"));return function(d,A){return we(d),b(d,A)}}(),_.bind_text=function(){const h="sqlite3_bind_text",b=w.cwrap(h,...ie("nnnnn:n"));return function(d,A,$){we(d);const K=xe($),Ae=b(d,A,K,-1,Q);return ge(h,Ae,ye.get(d))}}(),_.changes=function(){const h="sqlite3_changes",b=w.cwrap(h,...ie("n:n"));return function(d){return yt(d),b(d)}}(),_.close=function(){const h="sqlite3_close",b=w.cwrap(h,...ie("n:n"),{async:Rn});return async function(d){yt(d);const A=await b(d);return pt.delete(d),ge(h,A,d)}}(),_.column=function(h,b){we(h);const d=_.column_type(h,b);switch(d){case mi:return _.column_blob(h,b);case wi:return _.column_double(h,b);case _i:const A=_.column_int(h,b),$=w.getTempRet0();return mt(A,$);case pi:return null;case bi:return _.column_text(h,b);default:throw new zt("unknown type",d)}},_.column_blob=function(){const h="sqlite3_column_blob",b=w.cwrap(h,...ie("nn:n"));return function(d,A){we(d);const $=_.column_bytes(d,A),K=b(d,A);return w.HEAPU8.subarray(K,K+$)}}(),_.column_bytes=function(){const h="sqlite3_column_bytes",b=w.cwrap(h,...ie("nn:n"));return function(d,A){return we(d),b(d,A)}}(),_.column_count=function(){const h="sqlite3_column_count",b=w.cwrap(h,...ie("n:n"));return function(d){return we(d),b(d)}}(),_.column_double=function(){const h="sqlite3_column_double",b=w.cwrap(h,...ie("nn:n"));return function(d,A){return we(d),b(d,A)}}(),_.column_int=function(){const h="sqlite3_column_int64",b=w.cwrap(h,...ie("nn:n"));return function(d,A){return we(d),b(d,A)}}(),_.column_int64=function(){const h="sqlite3_column_int64",b=w.cwrap(h,...ie("nn:n"));return function(d,A){we(d);const $=b(d,A),K=w.getTempRet0();return bt($,K)}}(),_.column_name=function(){const h="sqlite3_column_name",b=w.cwrap(h,...ie("nn:s"));return function(d,A){return we(d),b(d,A)}}(),_.column_names=function(h){const b=[],d=_.column_count(h);for(let A=0;A<d;++A)b.push(_.column_name(h,A));return b},_.column_text=function(){const h="sqlite3_column_text",b=w.cwrap(h,...ie("nn:s"));return function(d,A){return we(d),b(d,A)}}(),_.column_type=function(){const h="sqlite3_column_type",b=w.cwrap(h,...ie("nn:n"));return function(d,A){return we(d),b(d,A)}}(),_.create_function=function(h,b,d,A,$,K,Ae,F){if(yt(h),K&&!Ae&&!F){const c=w.createFunction(h,b,d,A,$,K);return ge("sqlite3_create_function",c,h)}if(!K&&Ae&&F){const c=w.createAggregate(h,b,d,A,$,Ae,F);return ge("sqlite3_create_function",c,h)}throw new zt("invalid function combination",rn)},_.create_module=function(h,b,d,A){yt(h);const $=w.createModule(h,b,d,A);return ge("sqlite3_create_module",$,h)},_.data_count=function(){const h="sqlite3_data_count",b=w.cwrap(h,...ie("n:n"));return function(d){return we(d),b(d)}}(),_.declare_vtab=function(){const h="sqlite3_declare_vtab",b=w.cwrap(h,...ie("ns:n"));return function(d,A){const $=b(d,A);return ge("sqlite3_declare_vtab",$)}}(),_.exec=async function(h,b,d){for await(const A of _.statements(h,b)){let $;for(;await _.step(A)===Zr;)if(d){$=$??_.column_names(A);const K=_.row(A);await d(K,$)}}return fe},_.finalize=function(){const h="sqlite3_finalize",b=w.cwrap(h,...ie("n:n"),{async:Rn});return async function(d){if(!ye.has(d))return rn;const A=await b(d);return ye.get(d),ye.delete(d),A}}(),_.get_autocommit=function(){const h="sqlite3_get_autocommit",b=w.cwrap(h,...ie("n:n"));return function(d){return b(d)}}(),_.libversion=function(){const h="sqlite3_libversion",b=w.cwrap(h,...ie(":s"));return function(){return b()}}(),_.libversion_number=function(){const h="sqlite3_libversion_number",b=w.cwrap(h,...ie(":n"));return function(){return b()}}(),_.limit=function(){const h="sqlite3_limit",b=w.cwrap(h,...ie("nnn:n"));return function(d,A,$){return b(d,A,$)}}(),_.open_v2=function(){const h="sqlite3_open_v2",b=w.cwrap(h,...ie("snnn:n"),{async:Rn});return async function(d,A,$){A=A||ni|bo,$=xe($);const K=await b(d,le[0],A,$),Ae=w.getValue(le[0],"*");return pt.add(Ae),w._sqlite3_free($),w.ccall("RegisterExtensionFunctions","void",["number"],[Ae]),ge(h,K),Ae}}(),_.prepare_v2=function(){const h="sqlite3_prepare_v2",b=w.cwrap(h,...ie("nnnnn:n"),{async:Rn});return async function(d,A){const $=await b(d,A,-1,le[0],le[1]);ge(h,$,d);const K=w.getValue(le[0],"*");return K?(ye.set(K,d),{stmt:K,sql:w.getValue(le[1],"*")}):null}}(),_.progress_handler=function(h,b,d,A){yt(h),w.progressHandler(h,b,d,A)},_.reset=function(){const h="sqlite3_reset",b=w.cwrap(h,...ie("n:n"),{async:Rn});return async function(d){we(d);const A=await b(d);return ge(h,A,ye.get(d))}}(),_.result=function(h,b){switch(typeof b){case"number":b===(b|0)?_.result_int(h,b):_.result_double(h,b);break;case"string":_.result_text(h,b);break;default:if(b instanceof Uint8Array||Array.isArray(b))_.result_blob(h,b);else if(b===null)_.result_null(h);else{if(typeof b=="bigint")return _.result_int64(h,b);console.warn("unknown result converted to null",b),_.result_null(h)}break}},_.result_blob=function(){const h="sqlite3_result_blob",b=w.cwrap(h,...ie("nnnn:n"));return function(d,A){const $=A.byteLength??A.length,K=w._sqlite3_malloc($);w.HEAPU8.subarray(K).set(A),b(d,K,$,Q)}}(),_.result_double=function(){const h="sqlite3_result_double",b=w.cwrap(h,...ie("nn:n"));return function(d,A){b(d,A)}}(),_.result_int=function(){const h="sqlite3_result_int",b=w.cwrap(h,...ie("nn:n"));return function(d,A){b(d,A)}}(),_.result_int64=function(){const h="sqlite3_result_int64",b=w.cwrap(h,...ie("nnn:n"));return function(d,A){if(A>uo||A<ao)return Xr;const $=A&0xffffffffn,K=A>>32n;b(d,Number($),Number(K))}}(),_.result_null=function(){const h="sqlite3_result_null",b=w.cwrap(h,...ie("n:n"));return function(d){b(d)}}(),_.result_text=function(){const h="sqlite3_result_text",b=w.cwrap(h,...ie("nnnn:n"));return function(d,A){const $=xe(A);b(d,$,-1,Q)}}(),_.row=function(h){const b=[],d=_.data_count(h);for(let A=0;A<d;++A){const $=_.column(h,A);b.push($?.buffer===w.HEAPU8.buffer?$.slice():$)}return b},_.set_authorizer=function(h,b,d){yt(h);const A=w.setAuthorizer(h,b,d);return ge("sqlite3_set_authorizer",A,h)},_.sql=function(){const h="sqlite3_sql",b=w.cwrap(h,...ie("n:s"));return function(d){return we(d),b(d)}}(),_.statements=function(h,b){return async function*(){const d=_.str_new(h,b);let A={stmt:null,sql:_.str_value(d)};try{for(;A=await _.prepare_v2(h,A.sql);)yield A.stmt,_.finalize(A.stmt),A.stmt=null}finally{A?.stmt&&_.finalize(A.stmt),_.str_finish(d)}}()},_.step=function(){const h="sqlite3_step",b=w.cwrap(h,...ie("n:n"),{async:Rn});return async function(d){we(d);const A=await b(d);return ge(h,A,ye.get(d),[Zr,ho])}}();let Qe=0;const Ee=new Map;_.str_new=function(h,b=""){const d=w.lengthBytesUTF8(b),A=Qe++&4294967295,$={offset:w._sqlite3_malloc(d+1),bytes:d};return Ee.set(A,$),w.stringToUTF8(b,$.offset,$.bytes+1),A},_.str_appendall=function(h,b){if(!Ee.has(h))throw new zt("not a string",rn);const d=Ee.get(h),A=w.lengthBytesUTF8(b),$=d.bytes+A,K=w._sqlite3_malloc($+1);w.HEAPU8.subarray(K,K+$+1).set(w.HEAPU8.subarray(d.offset,d.offset+d.bytes)),w.stringToUTF8(b,K+d.bytes,A+1),w._sqlite3_free(d.offset),d.offset=K,d.bytes=$,Ee.set(h,d)},_.str_finish=function(h){if(!Ee.has(h))throw new zt("not a string",rn);const b=Ee.get(h);Ee.delete(h),w._sqlite3_free(b.offset)},_.str_value=function(h){if(!Ee.has(h))throw new zt("not a string",rn);return Ee.get(h).offset},_.user_data=function(h){return w.getFunctionUserData(h)},_.value=function(h){const b=_.value_type(h);switch(b){case mi:return _.value_blob(h);case wi:return _.value_double(h);case _i:const d=_.value_int(h),A=w.getTempRet0();return mt(d,A);case pi:return null;case bi:return _.value_text(h);default:throw new zt("unknown type",b)}},_.value_blob=function(){const h="sqlite3_value_blob",b=w.cwrap(h,...ie("n:n"));return function(d){const A=_.value_bytes(d),$=b(d);return w.HEAPU8.subarray($,$+A)}}(),_.value_bytes=function(){const h="sqlite3_value_bytes",b=w.cwrap(h,...ie("n:n"));return function(d){return b(d)}}(),_.value_double=function(){const h="sqlite3_value_double",b=w.cwrap(h,...ie("n:n"));return function(d){return b(d)}}(),_.value_int=function(){const h="sqlite3_value_int64",b=w.cwrap(h,...ie("n:n"));return function(d){return b(d)}}(),_.value_int64=function(){const h="sqlite3_value_int64",b=w.cwrap(h,...ie("n:n"));return function(d){const A=b(d),$=w.getTempRet0();return bt(A,$)}}(),_.value_text=function(){const h="sqlite3_value_text",b=w.cwrap(h,...ie("n:s"));return function(d){return b(d)}}(),_.value_type=function(){const h="sqlite3_value_type",b=w.cwrap(h,...ie("n:n"));return function(d){return b(d)}}(),_.vfs_register=function(h,b){const d=w.registerVFS(h,b);return ge("sqlite3_vfs_register",d)};function ge(h,b,d=null,A=[fe]){if(A.includes(b))return b;const $=d?w.ccall("sqlite3_errmsg","string",["number"],[d]):h;throw new zt($,b)}return _}function ie(w){const _=[],Q=w.match(/([ns@]*):([nsv@])/);switch(Q[2]){case"n":_.push("number");break;case"s":_.push("string");break;case"v":_.push(null);break}const ne=[];for(let le of Q[1])switch(le){case"n":ne.push("number");break;case"s":ne.push("string");break}return _.push(ne),_}async function Zo(w){const{fileName:_,sqliteModule:Q,vfs:ne}=await w,le=Yo(Q);le.vfs_register(ne);const xe=await le.open_v2(_);return{db:xe,sqlite:le,async close(){await le.close(xe)},changes(){return le.changes(xe)},async lastInsertRowId(){return await new Promise(bt=>le.exec(xe,"SELECT last_insert_rowid()",([mt])=>bt(mt)))},async run(bt,mt){const pt=le.str_new(xe,bt);try{const yt=await le.prepare_v2(xe,le.str_value(pt));if(!yt)return[];const ye=yt.stmt;try{mt?.length&&le.bind_collection(ye,mt);const we=[],Qe=le.column_names(ye);for(;await le.step(ye)===Zr;){const Ee=le.row(ye);we.push(Object.fromEntries(Qe.map((ge,h)=>[ge,Ee[h]])))}return we}finally{await le.finalize(ye)}}finally{le.str_finish(pt)}}}}var Dr;async function Go({fileName:w,useOPFS:_,url:Q}){Dr=await Zo((_?(await Promise.resolve().then(()=>(Ko(),Ao))).useOpfsStorage:(await Promise.resolve().then(()=>(Xo(),Do))).useIdbStorage)(w,{url:Q}))}async function es({isSelect:w,sql:_,parameters:Q}){const ne=await Dr.run(_,Q);return w||ne.length?{rows:ne}:{rows:ne,insertId:BigInt(await Dr.lastInsertRowId()),numAffectedRows:BigInt(Dr.changes())}}onmessage=async w=>{const _=w.data,Q={type:_.type,data:null,err:null};try{switch(_.type){case"init":await Go(_);break;case"run":Q.data=await es(_);break;case"close":await Dr.close();break}}catch(ne){Q.err=ne}postMessage(Q)};
