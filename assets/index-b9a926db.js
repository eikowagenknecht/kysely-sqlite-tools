var Vp=Object.defineProperty;var zp=(t,e,n)=>e in t?Vp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Te=(t,e,n)=>(zp(t,typeof e!="symbol"?e+"":e,n),n),al=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var r=(t,e,n)=>(al(t,e,"read from private field"),n?n.call(t):e.get(t)),F=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},J=(t,e,n,i)=>(al(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);var Oe=(t,e,n)=>(al(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Kl(t,e){const n=Object.create(null),i=t.split(",");for(let a=0;a<i.length;a++)n[i[a]]=!0;return e?a=>!!n[a.toLowerCase()]:a=>!!n[a]}function Jl(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],a=Pt(i)?Xp(i):Jl(i);if(a)for(const l in a)e[l]=a[l]}return e}else{if(Pt(t))return t;if(wt(t))return t}}const Kp=/;(?![^(]*\))/g,Jp=/:([^]+)/,Gp=/\/\*.*?\*\//gs;function Xp(t){const e={};return t.replace(Gp,"").split(Kp).forEach(n=>{if(n){const i=n.split(Jp);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Gl(t){let e="";if(Pt(t))e=t;else if(Ie(t))for(let n=0;n<t.length;n++){const i=Gl(t[n]);i&&(e+=i+" ")}else if(wt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Yp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zp=Kl(Yp);function Bh(t){return!!t||t===""}const em=t=>Pt(t)?t:t==null?"":Ie(t)||wt(t)&&(t.toString===Qh||!Se(t.toString))?JSON.stringify(t,Fh,2):String(t),Fh=(t,e)=>e&&e.__v_isRef?Fh(t,e.value):Us(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,a])=>(n[`${i} =>`]=a,n),{})}:Uh(e)?{[`Set(${e.size})`]:[...e.values()]}:wt(e)&&!Ie(e)&&!jh(e)?String(e):e,ft={},Fs=[],fr=()=>{},tm=()=>!1,nm=/^on[^a-z]/,Dc=t=>nm.test(t),Xl=t=>t.startsWith("onUpdate:"),on=Object.assign,Yl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},rm=Object.prototype.hasOwnProperty,Fe=(t,e)=>rm.call(t,e),Ie=Array.isArray,Us=t=>Lc(t)==="[object Map]",Uh=t=>Lc(t)==="[object Set]",Se=t=>typeof t=="function",Pt=t=>typeof t=="string",Zl=t=>typeof t=="symbol",wt=t=>t!==null&&typeof t=="object",$h=t=>wt(t)&&Se(t.then)&&Se(t.catch),Qh=Object.prototype.toString,Lc=t=>Qh.call(t),im=t=>Lc(t).slice(8,-1),jh=t=>Lc(t)==="[object Object]",ef=t=>Pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qu=Kl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},sm=/-(\w)/g,mo=Pc(t=>t.replace(sm,(e,n)=>n?n.toUpperCase():"")),om=/\B([A-Z])/g,Eo=Pc(t=>t.replace(om,"-$1").toLowerCase()),Hh=Pc(t=>t.charAt(0).toUpperCase()+t.slice(1)),ul=Pc(t=>t?`on${Hh(t)}`:""),la=(t,e)=>!Object.is(t,e),cl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Pu=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},am=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Sf;const um=()=>Sf||(Sf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Yn;class cm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!e&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Yn;try{return Yn=this,e()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function lm(t,e=Yn){e&&e.active&&e.effects.push(t)}function fm(){return Yn}const tf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Vh=t=>(t.w&pi)>0,zh=t=>(t.n&pi)>0,hm=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=pi},dm=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const a=e[i];Vh(a)&&!zh(a)?a.delete(t):e[n++]=a,a.w&=~pi,a.n&=~pi}e.length=n}},Nl=new WeakMap;let Yo=0,pi=1;const vl=30;let ar;const us=Symbol(""),_l=Symbol("");class nf{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,lm(this,i)}run(){if(!this.active)return this.fn();let e=ar,n=fi;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ar,ar=this,fi=!0,pi=1<<++Yo,Yo<=vl?hm(this):Rf(this),this.fn()}finally{Yo<=vl&&dm(this),pi=1<<--Yo,ar=this.parent,fi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ar===this?this.deferStop=!0:this.active&&(Rf(this),this.onStop&&this.onStop(),this.active=!1)}}function Rf(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let fi=!0;const Kh=[];function Co(){Kh.push(fi),fi=!1}function qo(){const t=Kh.pop();fi=t===void 0?!0:t}function xn(t,e,n){if(fi&&ar){let i=Nl.get(t);i||Nl.set(t,i=new Map);let a=i.get(n);a||i.set(n,a=tf()),Jh(a)}}function Jh(t,e){let n=!1;Yo<=vl?zh(t)||(t.n|=pi,n=!Vh(t)):n=!t.has(ar),n&&(t.add(ar),ar.deps.push(t))}function Br(t,e,n,i,a,l){const m=Nl.get(t);if(!m)return;let w=[];if(e==="clear")w=[...m.values()];else if(n==="length"&&Ie(t)){const v=Number(i);m.forEach((d,I)=>{(I==="length"||I>=v)&&w.push(d)})}else switch(n!==void 0&&w.push(m.get(n)),e){case"add":Ie(t)?ef(n)&&w.push(m.get("length")):(w.push(m.get(us)),Us(t)&&w.push(m.get(_l)));break;case"delete":Ie(t)||(w.push(m.get(us)),Us(t)&&w.push(m.get(_l)));break;case"set":Us(t)&&w.push(m.get(us));break}if(w.length===1)w[0]&&xl(w[0]);else{const v=[];for(const d of w)d&&v.push(...d);xl(tf(v))}}function xl(t,e){const n=Ie(t)?t:[...t];for(const i of n)i.computed&&Df(i);for(const i of n)i.computed||Df(i)}function Df(t,e){(t!==ar||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const pm=Kl("__proto__,__v_isRef,__isVue"),Gh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Zl)),mm=rf(),ym=rf(!1,!0),wm=rf(!0),Lf=gm();function gm(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ue(this);for(let l=0,m=this.length;l<m;l++)xn(i,"get",l+"");const a=i[e](...n);return a===-1||a===!1?i[e](...n.map(Ue)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Co();const i=Ue(this)[e].apply(this,n);return qo(),i}}),t}function bm(t){const e=Ue(this);return xn(e,"has",t),e.hasOwnProperty(t)}function rf(t=!1,e=!1){return function(i,a,l){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&l===(t?e?Dm:td:e?ed:Zh).get(i))return i;const m=Ie(i);if(!t){if(m&&Fe(Lf,a))return Reflect.get(Lf,a,l);if(a==="hasOwnProperty")return bm}const w=Reflect.get(i,a,l);return(Zl(a)?Gh.has(a):pm(a))||(t||xn(i,"get",a),e)?w:rn(w)?m&&ef(a)?w:w.value:wt(w)?t?nd(w):af(w):w}}const Nm=Xh(),vm=Xh(!0);function Xh(t=!1){return function(n,i,a,l){let m=n[i];if(yo(m)&&rn(m)&&!rn(a))return!1;if(!t&&(!Mu(a)&&!yo(a)&&(m=Ue(m),a=Ue(a)),!Ie(n)&&rn(m)&&!rn(a)))return m.value=a,!0;const w=Ie(n)&&ef(i)?Number(i)<n.length:Fe(n,i),v=Reflect.set(n,i,a,l);return n===Ue(l)&&(w?la(a,m)&&Br(n,"set",i,a):Br(n,"add",i,a)),v}}function _m(t,e){const n=Fe(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Br(t,"delete",e,void 0),i}function xm(t,e){const n=Reflect.has(t,e);return(!Zl(e)||!Gh.has(e))&&xn(t,"has",e),n}function Em(t){return xn(t,"iterate",Ie(t)?"length":us),Reflect.ownKeys(t)}const Yh={get:mm,set:Nm,deleteProperty:_m,has:xm,ownKeys:Em},Cm={get:wm,set(t,e){return!0},deleteProperty(t,e){return!0}},qm=on({},Yh,{get:ym,set:vm}),sf=t=>t,Mc=t=>Reflect.getPrototypeOf(t);function yu(t,e,n=!1,i=!1){t=t.__v_raw;const a=Ue(t),l=Ue(e);n||(e!==l&&xn(a,"get",e),xn(a,"get",l));const{has:m}=Mc(a),w=i?sf:n?cf:fa;if(m.call(a,e))return w(t.get(e));if(m.call(a,l))return w(t.get(l));t!==a&&t.get(e)}function wu(t,e=!1){const n=this.__v_raw,i=Ue(n),a=Ue(t);return e||(t!==a&&xn(i,"has",t),xn(i,"has",a)),t===a?n.has(t):n.has(t)||n.has(a)}function gu(t,e=!1){return t=t.__v_raw,!e&&xn(Ue(t),"iterate",us),Reflect.get(t,"size",t)}function Pf(t){t=Ue(t);const e=Ue(this);return Mc(e).has.call(e,t)||(e.add(t),Br(e,"add",t,t)),this}function Mf(t,e){e=Ue(e);const n=Ue(this),{has:i,get:a}=Mc(n);let l=i.call(n,t);l||(t=Ue(t),l=i.call(n,t));const m=a.call(n,t);return n.set(t,e),l?la(e,m)&&Br(n,"set",t,e):Br(n,"add",t,e),this}function Bf(t){const e=Ue(this),{has:n,get:i}=Mc(e);let a=n.call(e,t);a||(t=Ue(t),a=n.call(e,t)),i&&i.call(e,t);const l=e.delete(t);return a&&Br(e,"delete",t,void 0),l}function Ff(){const t=Ue(this),e=t.size!==0,n=t.clear();return e&&Br(t,"clear",void 0,void 0),n}function bu(t,e){return function(i,a){const l=this,m=l.__v_raw,w=Ue(m),v=e?sf:t?cf:fa;return!t&&xn(w,"iterate",us),m.forEach((d,I)=>i.call(a,v(d),v(I),l))}}function Nu(t,e,n){return function(...i){const a=this.__v_raw,l=Ue(a),m=Us(l),w=t==="entries"||t===Symbol.iterator&&m,v=t==="keys"&&m,d=a[t](...i),I=n?sf:e?cf:fa;return!e&&xn(l,"iterate",v?_l:us),{next(){const{value:M,done:B}=d.next();return B?{value:M,done:B}:{value:w?[I(M[0]),I(M[1])]:I(M),done:B}},[Symbol.iterator](){return this}}}}function Xr(t){return function(...e){return t==="delete"?!1:this}}function Om(){const t={get(l){return yu(this,l)},get size(){return gu(this)},has:wu,add:Pf,set:Mf,delete:Bf,clear:Ff,forEach:bu(!1,!1)},e={get(l){return yu(this,l,!1,!0)},get size(){return gu(this)},has:wu,add:Pf,set:Mf,delete:Bf,clear:Ff,forEach:bu(!1,!0)},n={get(l){return yu(this,l,!0)},get size(){return gu(this,!0)},has(l){return wu.call(this,l,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:bu(!0,!1)},i={get(l){return yu(this,l,!0,!0)},get size(){return gu(this,!0)},has(l){return wu.call(this,l,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:bu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=Nu(l,!1,!1),n[l]=Nu(l,!0,!1),e[l]=Nu(l,!1,!0),i[l]=Nu(l,!0,!0)}),[t,n,e,i]}const[Wm,Im,Am,Tm]=Om();function of(t,e){const n=e?t?Tm:Am:t?Im:Wm;return(i,a,l)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?i:Reflect.get(Fe(n,a)&&a in i?n:i,a,l)}const km={get:of(!1,!1)},Sm={get:of(!1,!0)},Rm={get:of(!0,!1)},Zh=new WeakMap,ed=new WeakMap,td=new WeakMap,Dm=new WeakMap;function Lm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pm(t){return t.__v_skip||!Object.isExtensible(t)?0:Lm(im(t))}function af(t){return yo(t)?t:uf(t,!1,Yh,km,Zh)}function Mm(t){return uf(t,!1,qm,Sm,ed)}function nd(t){return uf(t,!0,Cm,Rm,td)}function uf(t,e,n,i,a){if(!wt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=a.get(t);if(l)return l;const m=Pm(t);if(m===0)return t;const w=new Proxy(t,m===2?i:n);return a.set(t,w),w}function $s(t){return yo(t)?$s(t.__v_raw):!!(t&&t.__v_isReactive)}function yo(t){return!!(t&&t.__v_isReadonly)}function Mu(t){return!!(t&&t.__v_isShallow)}function rd(t){return $s(t)||yo(t)}function Ue(t){const e=t&&t.__v_raw;return e?Ue(e):t}function id(t){return Pu(t,"__v_skip",!0),t}const fa=t=>wt(t)?af(t):t,cf=t=>wt(t)?nd(t):t;function sd(t){fi&&ar&&(t=Ue(t),Jh(t.dep||(t.dep=tf())))}function od(t,e){t=Ue(t);const n=t.dep;n&&xl(n)}function rn(t){return!!(t&&t.__v_isRef===!0)}function Bm(t){return Fm(t,!1)}function Fm(t,e){return rn(t)?t:new Um(t,e)}class Um{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ue(e),this._value=n?e:fa(e)}get value(){return sd(this),this._value}set value(e){const n=this.__v_isShallow||Mu(e)||yo(e);e=n?e:Ue(e),la(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:fa(e),od(this))}}function ad(t){return rn(t)?t.value:t}const $m={get:(t,e,n)=>ad(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const a=t[e];return rn(a)&&!rn(n)?(a.value=n,!0):Reflect.set(t,e,n,i)}};function ud(t){return $s(t)?t:new Proxy(t,$m)}var cd;class Qm{constructor(e,n,i,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[cd]=!1,this._dirty=!0,this.effect=new nf(e,()=>{this._dirty||(this._dirty=!0,od(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=i}get value(){const e=Ue(this);return sd(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}cd="__v_isReadonly";function jm(t,e,n=!1){let i,a;const l=Se(t);return l?(i=t,a=fr):(i=t.get,a=t.set),new Qm(i,a,l||!a,n)}function hi(t,e,n,i){let a;try{a=i?t(...i):t()}catch(l){Bc(l,e,n)}return a}function Qn(t,e,n,i){if(Se(t)){const l=hi(t,e,n,i);return l&&$h(l)&&l.catch(m=>{Bc(m,e,n)}),l}const a=[];for(let l=0;l<t.length;l++)a.push(Qn(t[l],e,n,i));return a}function Bc(t,e,n,i=!0){const a=e?e.vnode:null;if(e){let l=e.parent;const m=e.proxy,w=n;for(;l;){const d=l.ec;if(d){for(let I=0;I<d.length;I++)if(d[I](t,m,w)===!1)return}l=l.parent}const v=e.appContext.config.errorHandler;if(v){hi(v,null,10,[t,m,w]);return}}Hm(t,n,a,i)}function Hm(t,e,n,i=!0){console.error(t)}let ha=!1,El=!1;const nn=[];let Er=0;const Qs=[];let Tr=null,Ui=0;const ld=Promise.resolve();let lf=null;function Vm(t){const e=lf||ld;return t?e.then(this?t.bind(this):t):e}function zm(t){let e=Er+1,n=nn.length;for(;e<n;){const i=e+n>>>1;da(nn[i])<t?e=i+1:n=i}return e}function ff(t){(!nn.length||!nn.includes(t,ha&&t.allowRecurse?Er+1:Er))&&(t.id==null?nn.push(t):nn.splice(zm(t.id),0,t),fd())}function fd(){!ha&&!El&&(El=!0,lf=ld.then(dd))}function Km(t){const e=nn.indexOf(t);e>Er&&nn.splice(e,1)}function Jm(t){Ie(t)?Qs.push(...t):(!Tr||!Tr.includes(t,t.allowRecurse?Ui+1:Ui))&&Qs.push(t),fd()}function Uf(t,e=ha?Er+1:0){for(;e<nn.length;e++){const n=nn[e];n&&n.pre&&(nn.splice(e,1),e--,n())}}function hd(t){if(Qs.length){const e=[...new Set(Qs)];if(Qs.length=0,Tr){Tr.push(...e);return}for(Tr=e,Tr.sort((n,i)=>da(n)-da(i)),Ui=0;Ui<Tr.length;Ui++)Tr[Ui]();Tr=null,Ui=0}}const da=t=>t.id==null?1/0:t.id,Gm=(t,e)=>{const n=da(t)-da(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function dd(t){El=!1,ha=!0,nn.sort(Gm);const e=fr;try{for(Er=0;Er<nn.length;Er++){const n=nn[Er];n&&n.active!==!1&&hi(n,null,14)}}finally{Er=0,nn.length=0,hd(),ha=!1,lf=null,(nn.length||Qs.length)&&dd()}}function Xm(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ft;let a=n;const l=e.startsWith("update:"),m=l&&e.slice(7);if(m&&m in i){const I=`${m==="modelValue"?"model":m}Modifiers`,{number:M,trim:B}=i[I]||ft;B&&(a=n.map(Y=>Pt(Y)?Y.trim():Y)),M&&(a=n.map(am))}let w,v=i[w=ul(e)]||i[w=ul(mo(e))];!v&&l&&(v=i[w=ul(Eo(e))]),v&&Qn(v,t,6,a);const d=i[w+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,Qn(d,t,6,a)}}function pd(t,e,n=!1){const i=e.emitsCache,a=i.get(t);if(a!==void 0)return a;const l=t.emits;let m={},w=!1;if(!Se(t)){const v=d=>{const I=pd(d,e,!0);I&&(w=!0,on(m,I))};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}return!l&&!w?(wt(t)&&i.set(t,null),null):(Ie(l)?l.forEach(v=>m[v]=null):on(m,l),wt(t)&&i.set(t,m),m)}function Fc(t,e){return!t||!Dc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Fe(t,e[0].toLowerCase()+e.slice(1))||Fe(t,Eo(e))||Fe(t,e))}let ur=null,md=null;function Bu(t){const e=ur;return ur=t,md=t&&t.type.__scopeId||null,e}function Ym(t,e=ur,n){if(!e||t._n)return t;const i=(...a)=>{i._d&&Gf(-1);const l=Bu(e);let m;try{m=t(...a)}finally{Bu(l),i._d&&Gf(1)}return m};return i._n=!0,i._c=!0,i._d=!0,i}function ll(t){const{type:e,vnode:n,proxy:i,withProxy:a,props:l,propsOptions:[m],slots:w,attrs:v,emit:d,render:I,renderCache:M,data:B,setupState:Y,ctx:Z,inheritAttrs:b}=t;let C,N;const O=Bu(t);try{if(n.shapeFlag&4){const ne=a||i;C=_r(I.call(ne,ne,M,l,Y,B,Z)),N=v}else{const ne=e;C=_r(ne.length>1?ne(l,{attrs:v,slots:w,emit:d}):ne(l,null)),N=e.props?v:Zm(v)}}catch(ne){na.length=0,Bc(ne,t,1),C=cs(Dr)}let T=C;if(N&&b!==!1){const ne=Object.keys(N),{shapeFlag:Ne}=T;ne.length&&Ne&7&&(m&&ne.some(Xl)&&(N=ey(N,m)),T=mi(T,N))}return n.dirs&&(T=mi(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),C=T,Bu(O),C}const Zm=t=>{let e;for(const n in t)(n==="class"||n==="style"||Dc(n))&&((e||(e={}))[n]=t[n]);return e},ey=(t,e)=>{const n={};for(const i in t)(!Xl(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function ty(t,e,n){const{props:i,children:a,component:l}=t,{props:m,children:w,patchFlag:v}=e,d=l.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&v>=0){if(v&1024)return!0;if(v&16)return i?$f(i,m,d):!!m;if(v&8){const I=e.dynamicProps;for(let M=0;M<I.length;M++){const B=I[M];if(m[B]!==i[B]&&!Fc(d,B))return!0}}}else return(a||w)&&(!w||!w.$stable)?!0:i===m?!1:i?m?$f(i,m,d):!0:!!m;return!1}function $f(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let a=0;a<i.length;a++){const l=i[a];if(e[l]!==t[l]&&!Fc(n,l))return!0}return!1}function ny({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const ry=t=>t.__isSuspense;function iy(t,e){e&&e.pendingBranch?Ie(t)?e.effects.push(...t):e.effects.push(t):Jm(t)}function sy(t,e){if(Ot){let n=Ot.provides;const i=Ot.parent&&Ot.parent.provides;i===n&&(n=Ot.provides=Object.create(i)),n[t]=e}}function Ou(t,e,n=!1){const i=Ot||ur;if(i){const a=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(a&&t in a)return a[t];if(arguments.length>1)return n&&Se(e)?e.call(i.proxy):e}}const vu={};function fl(t,e,n){return yd(t,e,n)}function yd(t,e,{immediate:n,deep:i,flush:a,onTrack:l,onTrigger:m}=ft){const w=fm()===(Ot==null?void 0:Ot.scope)?Ot:null;let v,d=!1,I=!1;if(rn(t)?(v=()=>t.value,d=Mu(t)):$s(t)?(v=()=>t,i=!0):Ie(t)?(I=!0,d=t.some(T=>$s(T)||Mu(T)),v=()=>t.map(T=>{if(rn(T))return T.value;if($s(T))return Ds(T);if(Se(T))return hi(T,w,2)})):Se(t)?e?v=()=>hi(t,w,2):v=()=>{if(!(w&&w.isUnmounted))return M&&M(),Qn(t,w,3,[B])}:v=fr,e&&i){const T=v;v=()=>Ds(T())}let M,B=T=>{M=N.onStop=()=>{hi(T,w,4)}},Y;if(ya)if(B=fr,e?n&&Qn(e,w,3,[v(),I?[]:void 0,B]):v(),a==="sync"){const T=iw();Y=T.__watcherHandles||(T.__watcherHandles=[])}else return fr;let Z=I?new Array(t.length).fill(vu):vu;const b=()=>{if(N.active)if(e){const T=N.run();(i||d||(I?T.some((ne,Ne)=>la(ne,Z[Ne])):la(T,Z)))&&(M&&M(),Qn(e,w,3,[T,Z===vu?void 0:I&&Z[0]===vu?[]:Z,B]),Z=T)}else N.run()};b.allowRecurse=!!e;let C;a==="sync"?C=b:a==="post"?C=()=>bn(b,w&&w.suspense):(b.pre=!0,w&&(b.id=w.uid),C=()=>ff(b));const N=new nf(v,C);e?n?b():Z=N.run():a==="post"?bn(N.run.bind(N),w&&w.suspense):N.run();const O=()=>{N.stop(),w&&w.scope&&Yl(w.scope.effects,N)};return Y&&Y.push(O),O}function oy(t,e,n){const i=this.proxy,a=Pt(t)?t.includes(".")?wd(i,t):()=>i[t]:t.bind(i,i);let l;Se(e)?l=e:(l=e.handler,n=e);const m=Ot;wo(this);const w=yd(a,l.bind(i),n);return m?wo(m):ls(),w}function wd(t,e){const n=e.split(".");return()=>{let i=t;for(let a=0;a<n.length&&i;a++)i=i[n[a]];return i}}function Ds(t,e){if(!wt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),rn(t))Ds(t.value,e);else if(Ie(t))for(let n=0;n<t.length;n++)Ds(t[n],e);else if(Uh(t)||Us(t))t.forEach(n=>{Ds(n,e)});else if(jh(t))for(const n in t)Ds(t[n],e);return t}function ay(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vd(()=>{t.isMounted=!0}),_d(()=>{t.isUnmounting=!0}),t}const Mn=[Function,Array],uy={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mn,onEnter:Mn,onAfterEnter:Mn,onEnterCancelled:Mn,onBeforeLeave:Mn,onLeave:Mn,onAfterLeave:Mn,onLeaveCancelled:Mn,onBeforeAppear:Mn,onAppear:Mn,onAfterAppear:Mn,onAppearCancelled:Mn},setup(t,{slots:e}){const n=Gy(),i=ay();let a;return()=>{const l=e.default&&bd(e.default(),!0);if(!l||!l.length)return;let m=l[0];if(l.length>1){for(const b of l)if(b.type!==Dr){m=b;break}}const w=Ue(t),{mode:v}=w;if(i.isLeaving)return hl(m);const d=Qf(m);if(!d)return hl(m);const I=Cl(d,w,i,n);ql(d,I);const M=n.subTree,B=M&&Qf(M);let Y=!1;const{getTransitionKey:Z}=d.type;if(Z){const b=Z();a===void 0?a=b:b!==a&&(a=b,Y=!0)}if(B&&B.type!==Dr&&(!$i(d,B)||Y)){const b=Cl(B,w,i,n);if(ql(B,b),v==="out-in")return i.isLeaving=!0,b.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},hl(m);v==="in-out"&&d.type!==Dr&&(b.delayLeave=(C,N,O)=>{const T=gd(i,B);T[String(B.key)]=B,C._leaveCb=()=>{N(),C._leaveCb=void 0,delete I.delayedLeave},I.delayedLeave=O})}return m}}},cy=uy;function gd(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Cl(t,e,n,i){const{appear:a,mode:l,persisted:m=!1,onBeforeEnter:w,onEnter:v,onAfterEnter:d,onEnterCancelled:I,onBeforeLeave:M,onLeave:B,onAfterLeave:Y,onLeaveCancelled:Z,onBeforeAppear:b,onAppear:C,onAfterAppear:N,onAppearCancelled:O}=e,T=String(t.key),ne=gd(n,t),Ne=(xe,nt)=>{xe&&Qn(xe,i,9,nt)},ae=(xe,nt)=>{const Ke=nt[1];Ne(xe,nt),Ie(xe)?xe.every(Wt=>Wt.length<=1)&&Ke():xe.length<=1&&Ke()},_e={mode:l,persisted:m,beforeEnter(xe){let nt=w;if(!n.isMounted)if(a)nt=b||w;else return;xe._leaveCb&&xe._leaveCb(!0);const Ke=ne[T];Ke&&$i(t,Ke)&&Ke.el._leaveCb&&Ke.el._leaveCb(),Ne(nt,[xe])},enter(xe){let nt=v,Ke=d,Wt=I;if(!n.isMounted)if(a)nt=C||v,Ke=N||d,Wt=O||I;else return;let It=!1;const je=xe._enterCb=Jt=>{It||(It=!0,Jt?Ne(Wt,[xe]):Ne(Ke,[xe]),_e.delayedLeave&&_e.delayedLeave(),xe._enterCb=void 0)};nt?ae(nt,[xe,je]):je()},leave(xe,nt){const Ke=String(t.key);if(xe._enterCb&&xe._enterCb(!0),n.isUnmounting)return nt();Ne(M,[xe]);let Wt=!1;const It=xe._leaveCb=je=>{Wt||(Wt=!0,nt(),je?Ne(Z,[xe]):Ne(Y,[xe]),xe._leaveCb=void 0,ne[Ke]===t&&delete ne[Ke])};ne[Ke]=t,B?ae(B,[xe,It]):It()},clone(xe){return Cl(xe,e,n,i)}};return _e}function hl(t){if(Uc(t))return t=mi(t),t.children=null,t}function Qf(t){return Uc(t)?t.children?t.children[0]:void 0:t}function ql(t,e){t.shapeFlag&6&&t.component?ql(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bd(t,e=!1,n){let i=[],a=0;for(let l=0;l<t.length;l++){let m=t[l];const w=n==null?m.key:String(n)+String(m.key!=null?m.key:l);m.type===or?(m.patchFlag&128&&a++,i=i.concat(bd(m.children,e,w))):(e||m.type!==Dr)&&i.push(w!=null?mi(m,{key:w}):m)}if(a>1)for(let l=0;l<i.length;l++)i[l].patchFlag=-2;return i}function ly(t){return Se(t)?{setup:t,name:t.name}:t}const Wu=t=>!!t.type.__asyncLoader,Uc=t=>t.type.__isKeepAlive;function fy(t,e){Nd(t,"a",e)}function hy(t,e){Nd(t,"da",e)}function Nd(t,e,n=Ot){const i=t.__wdc||(t.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if($c(e,i,n),n){let a=n.parent;for(;a&&a.parent;)Uc(a.parent.vnode)&&dy(i,e,n,a),a=a.parent}}function dy(t,e,n,i){const a=$c(e,t,i,!0);xd(()=>{Yl(i[e],a)},n)}function $c(t,e,n=Ot,i=!1){if(n){const a=n[t]||(n[t]=[]),l=e.__weh||(e.__weh=(...m)=>{if(n.isUnmounted)return;Co(),wo(n);const w=Qn(e,n,t,m);return ls(),qo(),w});return i?a.unshift(l):a.push(l),l}}const Ur=t=>(e,n=Ot)=>(!ya||t==="sp")&&$c(t,(...i)=>e(...i),n),py=Ur("bm"),vd=Ur("m"),my=Ur("bu"),yy=Ur("u"),_d=Ur("bum"),xd=Ur("um"),wy=Ur("sp"),gy=Ur("rtg"),by=Ur("rtc");function Ny(t,e=Ot){$c("ec",t,e)}function Pi(t,e,n,i){const a=t.dirs,l=e&&e.dirs;for(let m=0;m<a.length;m++){const w=a[m];l&&(w.oldValue=l[m].value);let v=w.dir[i];v&&(Co(),Qn(v,n,8,[t.el,w,t,e]),qo())}}const vy=Symbol(),Ol=t=>t?Sd(t)?mf(t)||t.proxy:Ol(t.parent):null,ta=on(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ol(t.parent),$root:t=>Ol(t.root),$emit:t=>t.emit,$options:t=>hf(t),$forceUpdate:t=>t.f||(t.f=()=>ff(t.update)),$nextTick:t=>t.n||(t.n=Vm.bind(t.proxy)),$watch:t=>oy.bind(t)}),dl=(t,e)=>t!==ft&&!t.__isScriptSetup&&Fe(t,e),_y={get({_:t},e){const{ctx:n,setupState:i,data:a,props:l,accessCache:m,type:w,appContext:v}=t;let d;if(e[0]!=="$"){const Y=m[e];if(Y!==void 0)switch(Y){case 1:return i[e];case 2:return a[e];case 4:return n[e];case 3:return l[e]}else{if(dl(i,e))return m[e]=1,i[e];if(a!==ft&&Fe(a,e))return m[e]=2,a[e];if((d=t.propsOptions[0])&&Fe(d,e))return m[e]=3,l[e];if(n!==ft&&Fe(n,e))return m[e]=4,n[e];Wl&&(m[e]=0)}}const I=ta[e];let M,B;if(I)return e==="$attrs"&&xn(t,"get",e),I(t);if((M=w.__cssModules)&&(M=M[e]))return M;if(n!==ft&&Fe(n,e))return m[e]=4,n[e];if(B=v.config.globalProperties,Fe(B,e))return B[e]},set({_:t},e,n){const{data:i,setupState:a,ctx:l}=t;return dl(a,e)?(a[e]=n,!0):i!==ft&&Fe(i,e)?(i[e]=n,!0):Fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:a,propsOptions:l}},m){let w;return!!n[m]||t!==ft&&Fe(t,m)||dl(e,m)||(w=l[0])&&Fe(w,m)||Fe(i,m)||Fe(ta,m)||Fe(a.config.globalProperties,m)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Wl=!0;function xy(t){const e=hf(t),n=t.proxy,i=t.ctx;Wl=!1,e.beforeCreate&&jf(e.beforeCreate,t,"bc");const{data:a,computed:l,methods:m,watch:w,provide:v,inject:d,created:I,beforeMount:M,mounted:B,beforeUpdate:Y,updated:Z,activated:b,deactivated:C,beforeDestroy:N,beforeUnmount:O,destroyed:T,unmounted:ne,render:Ne,renderTracked:ae,renderTriggered:_e,errorCaptured:xe,serverPrefetch:nt,expose:Ke,inheritAttrs:Wt,components:It,directives:je,filters:Jt}=e;if(d&&Ey(d,i,null,t.appContext.config.unwrapInjectedRef),m)for(const ge in m){const qe=m[ge];Se(qe)&&(i[ge]=qe.bind(n))}if(a){const ge=a.call(n,n);wt(ge)&&(t.data=af(ge))}if(Wl=!0,l)for(const ge in l){const qe=l[ge],ct=Se(qe)?qe.bind(n,n):Se(qe.get)?qe.get.bind(n,n):fr,we=!Se(qe)&&Se(qe.set)?qe.set.bind(n):fr,De=nw({get:ct,set:we});Object.defineProperty(i,ge,{enumerable:!0,configurable:!0,get:()=>De.value,set:Mt=>De.value=Mt})}if(w)for(const ge in w)Ed(w[ge],i,n,ge);if(v){const ge=Se(v)?v.call(n):v;Reflect.ownKeys(ge).forEach(qe=>{sy(qe,ge[qe])})}I&&jf(I,t,"c");function gt(ge,qe){Ie(qe)?qe.forEach(ct=>ge(ct.bind(n))):qe&&ge(qe.bind(n))}if(gt(py,M),gt(vd,B),gt(my,Y),gt(yy,Z),gt(fy,b),gt(hy,C),gt(Ny,xe),gt(by,ae),gt(gy,_e),gt(_d,O),gt(xd,ne),gt(wy,nt),Ie(Ke))if(Ke.length){const ge=t.exposed||(t.exposed={});Ke.forEach(qe=>{Object.defineProperty(ge,qe,{get:()=>n[qe],set:ct=>n[qe]=ct})})}else t.exposed||(t.exposed={});Ne&&t.render===fr&&(t.render=Ne),Wt!=null&&(t.inheritAttrs=Wt),It&&(t.components=It),je&&(t.directives=je)}function Ey(t,e,n=fr,i=!1){Ie(t)&&(t=Il(t));for(const a in t){const l=t[a];let m;wt(l)?"default"in l?m=Ou(l.from||a,l.default,!0):m=Ou(l.from||a):m=Ou(l),rn(m)&&i?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>m.value,set:w=>m.value=w}):e[a]=m}}function jf(t,e,n){Qn(Ie(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ed(t,e,n,i){const a=i.includes(".")?wd(n,i):()=>n[i];if(Pt(t)){const l=e[t];Se(l)&&fl(a,l)}else if(Se(t))fl(a,t.bind(n));else if(wt(t))if(Ie(t))t.forEach(l=>Ed(l,e,n,i));else{const l=Se(t.handler)?t.handler.bind(n):e[t.handler];Se(l)&&fl(a,l,t)}}function hf(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:a,optionsCache:l,config:{optionMergeStrategies:m}}=t.appContext,w=l.get(e);let v;return w?v=w:!a.length&&!n&&!i?v=e:(v={},a.length&&a.forEach(d=>Fu(v,d,m,!0)),Fu(v,e,m)),wt(e)&&l.set(e,v),v}function Fu(t,e,n,i=!1){const{mixins:a,extends:l}=e;l&&Fu(t,l,n,!0),a&&a.forEach(m=>Fu(t,m,n,!0));for(const m in e)if(!(i&&m==="expose")){const w=Cy[m]||n&&n[m];t[m]=w?w(t[m],e[m]):e[m]}return t}const Cy={data:Hf,props:Fi,emits:Fi,methods:Fi,computed:Fi,beforeCreate:un,created:un,beforeMount:un,mounted:un,beforeUpdate:un,updated:un,beforeDestroy:un,beforeUnmount:un,destroyed:un,unmounted:un,activated:un,deactivated:un,errorCaptured:un,serverPrefetch:un,components:Fi,directives:Fi,watch:Oy,provide:Hf,inject:qy};function Hf(t,e){return e?t?function(){return on(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function qy(t,e){return Fi(Il(t),Il(e))}function Il(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function un(t,e){return t?[...new Set([].concat(t,e))]:e}function Fi(t,e){return t?on(on(Object.create(null),t),e):e}function Oy(t,e){if(!t)return e;if(!e)return t;const n=on(Object.create(null),t);for(const i in e)n[i]=un(t[i],e[i]);return n}function Wy(t,e,n,i=!1){const a={},l={};Pu(l,jc,1),t.propsDefaults=Object.create(null),Cd(t,e,a,l);for(const m in t.propsOptions[0])m in a||(a[m]=void 0);n?t.props=i?a:Mm(a):t.type.props?t.props=a:t.props=l,t.attrs=l}function Iy(t,e,n,i){const{props:a,attrs:l,vnode:{patchFlag:m}}=t,w=Ue(a),[v]=t.propsOptions;let d=!1;if((i||m>0)&&!(m&16)){if(m&8){const I=t.vnode.dynamicProps;for(let M=0;M<I.length;M++){let B=I[M];if(Fc(t.emitsOptions,B))continue;const Y=e[B];if(v)if(Fe(l,B))Y!==l[B]&&(l[B]=Y,d=!0);else{const Z=mo(B);a[Z]=Al(v,w,Z,Y,t,!1)}else Y!==l[B]&&(l[B]=Y,d=!0)}}}else{Cd(t,e,a,l)&&(d=!0);let I;for(const M in w)(!e||!Fe(e,M)&&((I=Eo(M))===M||!Fe(e,I)))&&(v?n&&(n[M]!==void 0||n[I]!==void 0)&&(a[M]=Al(v,w,M,void 0,t,!0)):delete a[M]);if(l!==w)for(const M in l)(!e||!Fe(e,M))&&(delete l[M],d=!0)}d&&Br(t,"set","$attrs")}function Cd(t,e,n,i){const[a,l]=t.propsOptions;let m=!1,w;if(e)for(let v in e){if(qu(v))continue;const d=e[v];let I;a&&Fe(a,I=mo(v))?!l||!l.includes(I)?n[I]=d:(w||(w={}))[I]=d:Fc(t.emitsOptions,v)||(!(v in i)||d!==i[v])&&(i[v]=d,m=!0)}if(l){const v=Ue(n),d=w||ft;for(let I=0;I<l.length;I++){const M=l[I];n[M]=Al(a,v,M,d[M],t,!Fe(d,M))}}return m}function Al(t,e,n,i,a,l){const m=t[n];if(m!=null){const w=Fe(m,"default");if(w&&i===void 0){const v=m.default;if(m.type!==Function&&Se(v)){const{propsDefaults:d}=a;n in d?i=d[n]:(wo(a),i=d[n]=v.call(null,e),ls())}else i=v}m[0]&&(l&&!w?i=!1:m[1]&&(i===""||i===Eo(n))&&(i=!0))}return i}function qd(t,e,n=!1){const i=e.propsCache,a=i.get(t);if(a)return a;const l=t.props,m={},w=[];let v=!1;if(!Se(t)){const I=M=>{v=!0;const[B,Y]=qd(M,e,!0);on(m,B),Y&&w.push(...Y)};!n&&e.mixins.length&&e.mixins.forEach(I),t.extends&&I(t.extends),t.mixins&&t.mixins.forEach(I)}if(!l&&!v)return wt(t)&&i.set(t,Fs),Fs;if(Ie(l))for(let I=0;I<l.length;I++){const M=mo(l[I]);Vf(M)&&(m[M]=ft)}else if(l)for(const I in l){const M=mo(I);if(Vf(M)){const B=l[I],Y=m[M]=Ie(B)||Se(B)?{type:B}:Object.assign({},B);if(Y){const Z=Jf(Boolean,Y.type),b=Jf(String,Y.type);Y[0]=Z>-1,Y[1]=b<0||Z<b,(Z>-1||Fe(Y,"default"))&&w.push(M)}}}const d=[m,w];return wt(t)&&i.set(t,d),d}function Vf(t){return t[0]!=="$"}function zf(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Kf(t,e){return zf(t)===zf(e)}function Jf(t,e){return Ie(e)?e.findIndex(n=>Kf(n,t)):Se(e)&&Kf(e,t)?0:-1}const Od=t=>t[0]==="_"||t==="$stable",df=t=>Ie(t)?t.map(_r):[_r(t)],Ay=(t,e,n)=>{if(e._n)return e;const i=Ym((...a)=>df(e(...a)),n);return i._c=!1,i},Wd=(t,e,n)=>{const i=t._ctx;for(const a in t){if(Od(a))continue;const l=t[a];if(Se(l))e[a]=Ay(a,l,i);else if(l!=null){const m=df(l);e[a]=()=>m}}},Id=(t,e)=>{const n=df(e);t.slots.default=()=>n},Ty=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ue(e),Pu(e,"_",n)):Wd(e,t.slots={})}else t.slots={},e&&Id(t,e);Pu(t.slots,jc,1)},ky=(t,e,n)=>{const{vnode:i,slots:a}=t;let l=!0,m=ft;if(i.shapeFlag&32){const w=e._;w?n&&w===1?l=!1:(on(a,e),!n&&w===1&&delete a._):(l=!e.$stable,Wd(e,a)),m=e}else e&&(Id(t,e),m={default:1});if(l)for(const w in a)!Od(w)&&!(w in m)&&delete a[w]};function Ad(){return{app:null,config:{isNativeTag:tm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sy=0;function Ry(t,e){return function(i,a=null){Se(i)||(i=Object.assign({},i)),a!=null&&!wt(a)&&(a=null);const l=Ad(),m=new Set;let w=!1;const v=l.app={_uid:Sy++,_component:i,_props:a,_container:null,_context:l,_instance:null,version:sw,get config(){return l.config},set config(d){},use(d,...I){return m.has(d)||(d&&Se(d.install)?(m.add(d),d.install(v,...I)):Se(d)&&(m.add(d),d(v,...I))),v},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),v},component(d,I){return I?(l.components[d]=I,v):l.components[d]},directive(d,I){return I?(l.directives[d]=I,v):l.directives[d]},mount(d,I,M){if(!w){const B=cs(i,a);return B.appContext=l,I&&e?e(B,d):t(B,d,M),w=!0,v._container=d,d.__vue_app__=v,mf(B.component)||B.component.proxy}},unmount(){w&&(t(null,v._container),delete v._container.__vue_app__)},provide(d,I){return l.provides[d]=I,v}};return v}}function Tl(t,e,n,i,a=!1){if(Ie(t)){t.forEach((B,Y)=>Tl(B,e&&(Ie(e)?e[Y]:e),n,i,a));return}if(Wu(i)&&!a)return;const l=i.shapeFlag&4?mf(i.component)||i.component.proxy:i.el,m=a?null:l,{i:w,r:v}=t,d=e&&e.r,I=w.refs===ft?w.refs={}:w.refs,M=w.setupState;if(d!=null&&d!==v&&(Pt(d)?(I[d]=null,Fe(M,d)&&(M[d]=null)):rn(d)&&(d.value=null)),Se(v))hi(v,w,12,[m,I]);else{const B=Pt(v),Y=rn(v);if(B||Y){const Z=()=>{if(t.f){const b=B?Fe(M,v)?M[v]:I[v]:v.value;a?Ie(b)&&Yl(b,l):Ie(b)?b.includes(l)||b.push(l):B?(I[v]=[l],Fe(M,v)&&(M[v]=I[v])):(v.value=[l],t.k&&(I[t.k]=v.value))}else B?(I[v]=m,Fe(M,v)&&(M[v]=m)):Y&&(v.value=m,t.k&&(I[t.k]=m))};m?(Z.id=-1,bn(Z,n)):Z()}}}const bn=iy;function Dy(t){return Ly(t)}function Ly(t,e){const n=um();n.__VUE__=!0;const{insert:i,remove:a,patchProp:l,createElement:m,createText:w,createComment:v,setText:d,setElementText:I,parentNode:M,nextSibling:B,setScopeId:Y=fr,insertStaticContent:Z}=t,b=(x,q,S,L=null,z=null,ee=null,Q=!1,V=null,re=!!q.dynamicChildren)=>{if(x===q)return;x&&!$i(x,q)&&(L=fe(x),Mt(x,z,ee,!0),x=null),q.patchFlag===-2&&(re=!1,q.dynamicChildren=null);const{type:K,ref:ce,shapeFlag:oe}=q;switch(K){case Qc:C(x,q,S,L);break;case Dr:N(x,q,S,L);break;case pl:x==null&&O(q,S,L,Q);break;case or:It(x,q,S,L,z,ee,Q,V,re);break;default:oe&1?Ne(x,q,S,L,z,ee,Q,V,re):oe&6?je(x,q,S,L,z,ee,Q,V,re):(oe&64||oe&128)&&K.process(x,q,S,L,z,ee,Q,V,re,Hn)}ce!=null&&z&&Tl(ce,x&&x.ref,ee,q||x,!q)},C=(x,q,S,L)=>{if(x==null)i(q.el=w(q.children),S,L);else{const z=q.el=x.el;q.children!==x.children&&d(z,q.children)}},N=(x,q,S,L)=>{x==null?i(q.el=v(q.children||""),S,L):q.el=x.el},O=(x,q,S,L)=>{[x.el,x.anchor]=Z(x.children,q,S,L,x.el,x.anchor)},T=({el:x,anchor:q},S,L)=>{let z;for(;x&&x!==q;)z=B(x),i(x,S,L),x=z;i(q,S,L)},ne=({el:x,anchor:q})=>{let S;for(;x&&x!==q;)S=B(x),a(x),x=S;a(q)},Ne=(x,q,S,L,z,ee,Q,V,re)=>{Q=Q||q.type==="svg",x==null?ae(q,S,L,z,ee,Q,V,re):nt(x,q,z,ee,Q,V,re)},ae=(x,q,S,L,z,ee,Q,V)=>{let re,K;const{type:ce,props:oe,shapeFlag:ue,transition:be,dirs:Ee}=x;if(re=x.el=m(x.type,ee,oe&&oe.is,oe),ue&8?I(re,x.children):ue&16&&xe(x.children,re,null,L,z,ee&&ce!=="foreignObject",Q,V),Ee&&Pi(x,null,L,"created"),_e(re,x,x.scopeId,Q,L),oe){for(const Pe in oe)Pe!=="value"&&!qu(Pe)&&l(re,Pe,null,oe[Pe],ee,x.children,L,z,pn);"value"in oe&&l(re,"value",null,oe.value),(K=oe.onVnodeBeforeMount)&&yr(K,L,x)}Ee&&Pi(x,null,L,"beforeMount");const He=(!z||z&&!z.pendingBranch)&&be&&!be.persisted;He&&be.beforeEnter(re),i(re,q,S),((K=oe&&oe.onVnodeMounted)||He||Ee)&&bn(()=>{K&&yr(K,L,x),He&&be.enter(re),Ee&&Pi(x,null,L,"mounted")},z)},_e=(x,q,S,L,z)=>{if(S&&Y(x,S),L)for(let ee=0;ee<L.length;ee++)Y(x,L[ee]);if(z){let ee=z.subTree;if(q===ee){const Q=z.vnode;_e(x,Q,Q.scopeId,Q.slotScopeIds,z.parent)}}},xe=(x,q,S,L,z,ee,Q,V,re=0)=>{for(let K=re;K<x.length;K++){const ce=x[K]=V?ei(x[K]):_r(x[K]);b(null,ce,q,S,L,z,ee,Q,V)}},nt=(x,q,S,L,z,ee,Q)=>{const V=q.el=x.el;let{patchFlag:re,dynamicChildren:K,dirs:ce}=q;re|=x.patchFlag&16;const oe=x.props||ft,ue=q.props||ft;let be;S&&Mi(S,!1),(be=ue.onVnodeBeforeUpdate)&&yr(be,S,q,x),ce&&Pi(q,x,S,"beforeUpdate"),S&&Mi(S,!0);const Ee=z&&q.type!=="foreignObject";if(K?Ke(x.dynamicChildren,K,V,S,L,Ee,ee):Q||qe(x,q,V,null,S,L,Ee,ee,!1),re>0){if(re&16)Wt(V,q,oe,ue,S,L,z);else if(re&2&&oe.class!==ue.class&&l(V,"class",null,ue.class,z),re&4&&l(V,"style",oe.style,ue.style,z),re&8){const He=q.dynamicProps;for(let Pe=0;Pe<He.length;Pe++){const st=He[Pe],me=oe[st],Cn=ue[st];(Cn!==me||st==="value")&&l(V,st,me,Cn,z,x.children,S,L,pn)}}re&1&&x.children!==q.children&&I(V,q.children)}else!Q&&K==null&&Wt(V,q,oe,ue,S,L,z);((be=ue.onVnodeUpdated)||ce)&&bn(()=>{be&&yr(be,S,q,x),ce&&Pi(q,x,S,"updated")},L)},Ke=(x,q,S,L,z,ee,Q)=>{for(let V=0;V<q.length;V++){const re=x[V],K=q[V],ce=re.el&&(re.type===or||!$i(re,K)||re.shapeFlag&70)?M(re.el):S;b(re,K,ce,null,L,z,ee,Q,!0)}},Wt=(x,q,S,L,z,ee,Q)=>{if(S!==L){if(S!==ft)for(const V in S)!qu(V)&&!(V in L)&&l(x,V,S[V],null,Q,q.children,z,ee,pn);for(const V in L){if(qu(V))continue;const re=L[V],K=S[V];re!==K&&V!=="value"&&l(x,V,K,re,Q,q.children,z,ee,pn)}"value"in L&&l(x,"value",S.value,L.value)}},It=(x,q,S,L,z,ee,Q,V,re)=>{const K=q.el=x?x.el:w(""),ce=q.anchor=x?x.anchor:w("");let{patchFlag:oe,dynamicChildren:ue,slotScopeIds:be}=q;be&&(V=V?V.concat(be):be),x==null?(i(K,S,L),i(ce,S,L),xe(q.children,S,ce,z,ee,Q,V,re)):oe>0&&oe&64&&ue&&x.dynamicChildren?(Ke(x.dynamicChildren,ue,S,z,ee,Q,V),(q.key!=null||z&&q===z.subTree)&&Td(x,q,!0)):qe(x,q,S,ce,z,ee,Q,V,re)},je=(x,q,S,L,z,ee,Q,V,re)=>{q.slotScopeIds=V,x==null?q.shapeFlag&512?z.ctx.activate(q,S,L,Q,re):Jt(q,S,L,z,ee,Q,re):dn(x,q,re)},Jt=(x,q,S,L,z,ee,Q)=>{const V=x.component=Jy(x,L,z);if(Uc(x)&&(V.ctx.renderer=Hn),Xy(V),V.asyncDep){if(z&&z.registerDep(V,gt),!x.el){const re=V.subTree=cs(Dr);N(null,re,q,S)}return}gt(V,x,q,S,z,ee,Q)},dn=(x,q,S)=>{const L=q.component=x.component;if(ty(x,q,S))if(L.asyncDep&&!L.asyncResolved){ge(L,q,S);return}else L.next=q,Km(L.update),L.update();else q.el=x.el,L.vnode=q},gt=(x,q,S,L,z,ee,Q)=>{const V=()=>{if(x.isMounted){let{next:ce,bu:oe,u:ue,parent:be,vnode:Ee}=x,He=ce,Pe;Mi(x,!1),ce?(ce.el=Ee.el,ge(x,ce,Q)):ce=Ee,oe&&cl(oe),(Pe=ce.props&&ce.props.onVnodeBeforeUpdate)&&yr(Pe,be,ce,Ee),Mi(x,!0);const st=ll(x),me=x.subTree;x.subTree=st,b(me,st,M(me.el),fe(me),x,z,ee),ce.el=st.el,He===null&&ny(x,st.el),ue&&bn(ue,z),(Pe=ce.props&&ce.props.onVnodeUpdated)&&bn(()=>yr(Pe,be,ce,Ee),z)}else{let ce;const{el:oe,props:ue}=q,{bm:be,m:Ee,parent:He}=x,Pe=Wu(q);if(Mi(x,!1),be&&cl(be),!Pe&&(ce=ue&&ue.onVnodeBeforeMount)&&yr(ce,He,q),Mi(x,!0),oe&&Je){const st=()=>{x.subTree=ll(x),Je(oe,x.subTree,x,z,null)};Pe?q.type.__asyncLoader().then(()=>!x.isUnmounted&&st()):st()}else{const st=x.subTree=ll(x);b(null,st,S,L,x,z,ee),q.el=st.el}if(Ee&&bn(Ee,z),!Pe&&(ce=ue&&ue.onVnodeMounted)){const st=q;bn(()=>yr(ce,He,st),z)}(q.shapeFlag&256||He&&Wu(He.vnode)&&He.vnode.shapeFlag&256)&&x.a&&bn(x.a,z),x.isMounted=!0,q=S=L=null}},re=x.effect=new nf(V,()=>ff(K),x.scope),K=x.update=()=>re.run();K.id=x.uid,Mi(x,!0),K()},ge=(x,q,S)=>{q.component=x;const L=x.vnode.props;x.vnode=q,x.next=null,Iy(x,q.props,L,S),ky(x,q.children,S),Co(),Uf(),qo()},qe=(x,q,S,L,z,ee,Q,V,re=!1)=>{const K=x&&x.children,ce=x?x.shapeFlag:0,oe=q.children,{patchFlag:ue,shapeFlag:be}=q;if(ue>0){if(ue&128){we(K,oe,S,L,z,ee,Q,V,re);return}else if(ue&256){ct(K,oe,S,L,z,ee,Q,V,re);return}}be&8?(ce&16&&pn(K,z,ee),oe!==K&&I(S,oe)):ce&16?be&16?we(K,oe,S,L,z,ee,Q,V,re):pn(K,z,ee,!0):(ce&8&&I(S,""),be&16&&xe(oe,S,L,z,ee,Q,V,re))},ct=(x,q,S,L,z,ee,Q,V,re)=>{x=x||Fs,q=q||Fs;const K=x.length,ce=q.length,oe=Math.min(K,ce);let ue;for(ue=0;ue<oe;ue++){const be=q[ue]=re?ei(q[ue]):_r(q[ue]);b(x[ue],be,S,null,z,ee,Q,V,re)}K>ce?pn(x,z,ee,!0,!1,oe):xe(q,S,L,z,ee,Q,V,re,oe)},we=(x,q,S,L,z,ee,Q,V,re)=>{let K=0;const ce=q.length;let oe=x.length-1,ue=ce-1;for(;K<=oe&&K<=ue;){const be=x[K],Ee=q[K]=re?ei(q[K]):_r(q[K]);if($i(be,Ee))b(be,Ee,S,null,z,ee,Q,V,re);else break;K++}for(;K<=oe&&K<=ue;){const be=x[oe],Ee=q[ue]=re?ei(q[ue]):_r(q[ue]);if($i(be,Ee))b(be,Ee,S,null,z,ee,Q,V,re);else break;oe--,ue--}if(K>oe){if(K<=ue){const be=ue+1,Ee=be<ce?q[be].el:L;for(;K<=ue;)b(null,q[K]=re?ei(q[K]):_r(q[K]),S,Ee,z,ee,Q,V,re),K++}}else if(K>ue)for(;K<=oe;)Mt(x[K],z,ee,!0),K++;else{const be=K,Ee=K,He=new Map;for(K=Ee;K<=ue;K++){const le=q[K]=re?ei(q[K]):_r(q[K]);le.key!=null&&He.set(le.key,K)}let Pe,st=0;const me=ue-Ee+1;let Cn=!1,gi=0;const Xt=new Array(me);for(K=0;K<me;K++)Xt[K]=0;for(K=be;K<=oe;K++){const le=x[K];if(st>=me){Mt(le,z,ee,!0);continue}let Bt;if(le.key!=null)Bt=He.get(le.key);else for(Pe=Ee;Pe<=ue;Pe++)if(Xt[Pe-Ee]===0&&$i(le,q[Pe])){Bt=Pe;break}Bt===void 0?Mt(le,z,ee,!0):(Xt[Bt-Ee]=K+1,Bt>=gi?gi=Bt:Cn=!0,b(le,q[Bt],S,null,z,ee,Q,V,re),st++)}const ds=Cn?Py(Xt):Fs;for(Pe=ds.length-1,K=me-1;K>=0;K--){const le=Ee+K,Bt=q[le],te=le+1<ce?q[le+1].el:L;Xt[K]===0?b(null,Bt,S,te,z,ee,Q,V,re):Cn&&(Pe<0||K!==ds[Pe]?De(Bt,S,te,2):Pe--)}}},De=(x,q,S,L,z=null)=>{const{el:ee,type:Q,transition:V,children:re,shapeFlag:K}=x;if(K&6){De(x.component.subTree,q,S,L);return}if(K&128){x.suspense.move(q,S,L);return}if(K&64){Q.move(x,q,S,Hn);return}if(Q===or){i(ee,q,S);for(let oe=0;oe<re.length;oe++)De(re[oe],q,S,L);i(x.anchor,q,S);return}if(Q===pl){T(x,q,S);return}if(L!==2&&K&1&&V)if(L===0)V.beforeEnter(ee),i(ee,q,S),bn(()=>V.enter(ee),z);else{const{leave:oe,delayLeave:ue,afterLeave:be}=V,Ee=()=>i(ee,q,S),He=()=>{oe(ee,()=>{Ee(),be&&be()})};ue?ue(ee,Ee,He):He()}else i(ee,q,S)},Mt=(x,q,S,L=!1,z=!1)=>{const{type:ee,props:Q,ref:V,children:re,dynamicChildren:K,shapeFlag:ce,patchFlag:oe,dirs:ue}=x;if(V!=null&&Tl(V,null,S,x,!0),ce&256){q.ctx.deactivate(x);return}const be=ce&1&&ue,Ee=!Wu(x);let He;if(Ee&&(He=Q&&Q.onVnodeBeforeUnmount)&&yr(He,q,x),ce&6)En(x.component,S,L);else{if(ce&128){x.suspense.unmount(S,L);return}be&&Pi(x,null,q,"beforeUnmount"),ce&64?x.type.remove(x,q,S,z,Hn,L):K&&(ee!==or||oe>0&&oe&64)?pn(K,q,S,!1,!0):(ee===or&&oe&384||!z&&ce&16)&&pn(re,q,S),L&&Or(x)}(Ee&&(He=Q&&Q.onVnodeUnmounted)||be)&&bn(()=>{He&&yr(He,q,x),be&&Pi(x,null,q,"unmounted")},S)},Or=x=>{const{type:q,el:S,anchor:L,transition:z}=x;if(q===or){hs(S,L);return}if(q===pl){ne(x);return}const ee=()=>{a(S),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(x.shapeFlag&1&&z&&!z.persisted){const{leave:Q,delayLeave:V}=z,re=()=>Q(S,ee);V?V(x.el,ee,re):re()}else ee()},hs=(x,q)=>{let S;for(;x!==q;)S=B(x),a(x),x=S;a(q)},En=(x,q,S)=>{const{bum:L,scope:z,update:ee,subTree:Q,um:V}=x;L&&cl(L),z.stop(),ee&&(ee.active=!1,Mt(Q,x,q,S)),V&&bn(V,q),bn(()=>{x.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},pn=(x,q,S,L=!1,z=!1,ee=0)=>{for(let Q=ee;Q<x.length;Q++)Mt(x[Q],q,S,L,z)},fe=x=>x.shapeFlag&6?fe(x.component.subTree):x.shapeFlag&128?x.suspense.next():B(x.anchor||x.el),Be=(x,q,S)=>{x==null?q._vnode&&Mt(q._vnode,null,null,!0):b(q._vnode||null,x,q,null,null,null,S),Uf(),hd(),q._vnode=x},Hn={p:b,um:Mt,m:De,r:Or,mt:Jt,mc:xe,pc:qe,pbc:Ke,n:fe,o:t};let Gt,Je;return e&&([Gt,Je]=e(Hn)),{render:Be,hydrate:Gt,createApp:Ry(Be,Gt)}}function Mi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Td(t,e,n=!1){const i=t.children,a=e.children;if(Ie(i)&&Ie(a))for(let l=0;l<i.length;l++){const m=i[l];let w=a[l];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=a[l]=ei(a[l]),w.el=m.el),n||Td(m,w)),w.type===Qc&&(w.el=m.el)}}function Py(t){const e=t.slice(),n=[0];let i,a,l,m,w;const v=t.length;for(i=0;i<v;i++){const d=t[i];if(d!==0){if(a=n[n.length-1],t[a]<d){e[i]=a,n.push(i);continue}for(l=0,m=n.length-1;l<m;)w=l+m>>1,t[n[w]]<d?l=w+1:m=w;d<t[n[l]]&&(l>0&&(e[i]=n[l-1]),n[l]=i)}}for(l=n.length,m=n[l-1];l-- >0;)n[l]=m,m=e[m];return n}const My=t=>t.__isTeleport,or=Symbol(void 0),Qc=Symbol(void 0),Dr=Symbol(void 0),pl=Symbol(void 0),na=[];let cr=null;function By(t=!1){na.push(cr=t?null:[])}function Fy(){na.pop(),cr=na[na.length-1]||null}let pa=1;function Gf(t){pa+=t}function Uy(t){return t.dynamicChildren=pa>0?cr||Fs:null,Fy(),pa>0&&cr&&cr.push(t),t}function $y(t,e,n,i,a,l){return Uy(qt(t,e,n,i,a,l,!0))}function Qy(t){return t?t.__v_isVNode===!0:!1}function $i(t,e){return t.type===e.type&&t.key===e.key}const jc="__vInternal",kd=({key:t})=>t??null,Iu=({ref:t,ref_key:e,ref_for:n})=>t!=null?Pt(t)||rn(t)||Se(t)?{i:ur,r:t,k:e,f:!!n}:t:null;function qt(t,e=null,n=null,i=0,a=null,l=t===or?0:1,m=!1,w=!1){const v={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kd(e),ref:e&&Iu(e),scopeId:md,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:ur};return w?(pf(v,n),l&128&&t.normalize(v)):n&&(v.shapeFlag|=Pt(n)?8:16),pa>0&&!m&&cr&&(v.patchFlag>0||l&6)&&v.patchFlag!==32&&cr.push(v),v}const cs=jy;function jy(t,e=null,n=null,i=0,a=null,l=!1){if((!t||t===vy)&&(t=Dr),Qy(t)){const w=mi(t,e,!0);return n&&pf(w,n),pa>0&&!l&&cr&&(w.shapeFlag&6?cr[cr.indexOf(t)]=w:cr.push(w)),w.patchFlag|=-2,w}if(tw(t)&&(t=t.__vccOpts),e){e=Hy(e);let{class:w,style:v}=e;w&&!Pt(w)&&(e.class=Gl(w)),wt(v)&&(rd(v)&&!Ie(v)&&(v=on({},v)),e.style=Jl(v))}const m=Pt(t)?1:ry(t)?128:My(t)?64:wt(t)?4:Se(t)?2:0;return qt(t,e,n,i,a,m,l,!0)}function Hy(t){return t?rd(t)||jc in t?on({},t):t:null}function mi(t,e,n=!1){const{props:i,ref:a,patchFlag:l,children:m}=t,w=e?Vy(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:w,key:w&&kd(w),ref:e&&e.ref?n&&a?Ie(a)?a.concat(Iu(e)):[a,Iu(e)]:Iu(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:m,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==or?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mi(t.ssContent),ssFallback:t.ssFallback&&mi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ma(t=" ",e=0){return cs(Qc,null,t,e)}function _r(t){return t==null||typeof t=="boolean"?cs(Dr):Ie(t)?cs(or,null,t.slice()):typeof t=="object"?ei(t):cs(Qc,null,String(t))}function ei(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mi(t)}function pf(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ie(e))n=16;else if(typeof e=="object")if(i&65){const a=e.default;a&&(a._c&&(a._d=!1),pf(t,a()),a._c&&(a._d=!0));return}else{n=32;const a=e._;!a&&!(jc in e)?e._ctx=ur:a===3&&ur&&(ur.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:ur},n=32):(e=String(e),i&64?(n=16,e=[ma(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vy(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const a in i)if(a==="class")e.class!==i.class&&(e.class=Gl([e.class,i.class]));else if(a==="style")e.style=Jl([e.style,i.style]);else if(Dc(a)){const l=e[a],m=i[a];m&&l!==m&&!(Ie(l)&&l.includes(m))&&(e[a]=l?[].concat(l,m):m)}else a!==""&&(e[a]=i[a])}return e}function yr(t,e,n,i=null){Qn(t,e,7,[n,i])}const zy=Ad();let Ky=0;function Jy(t,e,n){const i=t.type,a=(e?e.appContext:t.appContext)||zy,l={uid:Ky++,vnode:t,type:i,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new cm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qd(i,a),emitsOptions:pd(i,a),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:i.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=Xm.bind(null,l),t.ce&&t.ce(l),l}let Ot=null;const Gy=()=>Ot||ur,wo=t=>{Ot=t,t.scope.on()},ls=()=>{Ot&&Ot.scope.off(),Ot=null};function Sd(t){return t.vnode.shapeFlag&4}let ya=!1;function Xy(t,e=!1){ya=e;const{props:n,children:i}=t.vnode,a=Sd(t);Wy(t,n,a,e),Ty(t,i);const l=a?Yy(t,e):void 0;return ya=!1,l}function Yy(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=id(new Proxy(t.ctx,_y));const{setup:i}=n;if(i){const a=t.setupContext=i.length>1?ew(t):null;wo(t),Co();const l=hi(i,t,0,[t.props,a]);if(qo(),ls(),$h(l)){if(l.then(ls,ls),e)return l.then(m=>{Xf(t,m,e)}).catch(m=>{Bc(m,t,0)});t.asyncDep=l}else Xf(t,l,e)}else Rd(t,e)}function Xf(t,e,n){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:wt(e)&&(t.setupState=ud(e)),Rd(t,n)}let Yf;function Rd(t,e,n){const i=t.type;if(!t.render){if(!e&&Yf&&!i.render){const a=i.template||hf(t).template;if(a){const{isCustomElement:l,compilerOptions:m}=t.appContext.config,{delimiters:w,compilerOptions:v}=i,d=on(on({isCustomElement:l,delimiters:w},m),v);i.render=Yf(a,d)}}t.render=i.render||fr}wo(t),Co(),xy(t),qo(),ls()}function Zy(t){return new Proxy(t.attrs,{get(e,n){return xn(t,"get","$attrs"),e[n]}})}function ew(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=Zy(t))},slots:t.slots,emit:t.emit,expose:e}}function mf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ud(id(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ta)return ta[n](t)},has(e,n){return n in e||n in ta}}))}function tw(t){return Se(t)&&"__vccOpts"in t}const nw=(t,e)=>jm(t,e,ya),rw=Symbol(""),iw=()=>Ou(rw),sw="3.2.47",ow="http://www.w3.org/2000/svg",Qi=typeof document<"u"?document:null,Zf=Qi&&Qi.createElement("template"),aw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const a=e?Qi.createElementNS(ow,t):Qi.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:t=>Qi.createTextNode(t),createComment:t=>Qi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Qi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,a,l){const m=n?n.previousSibling:e.lastChild;if(a&&(a===l||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{Zf.innerHTML=i?`<svg>${t}</svg>`:t;const w=Zf.content;if(i){const v=w.firstChild;for(;v.firstChild;)w.appendChild(v.firstChild);w.removeChild(v)}e.insertBefore(w,n)}return[m?m.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function uw(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function cw(t,e,n){const i=t.style,a=Pt(n);if(n&&!a){if(e&&!Pt(e))for(const l in e)n[l]==null&&kl(i,l,"");for(const l in n)kl(i,l,n[l])}else{const l=i.display;a?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=l)}}const eh=/\s*!important$/;function kl(t,e,n){if(Ie(n))n.forEach(i=>kl(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=lw(t,e);eh.test(n)?t.setProperty(Eo(i),n.replace(eh,""),"important"):t[i]=n}}const th=["Webkit","Moz","ms"],ml={};function lw(t,e){const n=ml[e];if(n)return n;let i=mo(e);if(i!=="filter"&&i in t)return ml[e]=i;i=Hh(i);for(let a=0;a<th.length;a++){const l=th[a]+i;if(l in t)return ml[e]=l}return e}const nh="http://www.w3.org/1999/xlink";function fw(t,e,n,i,a){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(nh,e.slice(6,e.length)):t.setAttributeNS(nh,e,n);else{const l=Zp(e);n==null||l&&!Bh(n)?t.removeAttribute(e):t.setAttribute(e,l?"":n)}}function hw(t,e,n,i,a,l,m){if(e==="innerHTML"||e==="textContent"){i&&m(i,a,l),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const v=n??"";(t.value!==v||t.tagName==="OPTION")&&(t.value=v),n==null&&t.removeAttribute(e);return}let w=!1;if(n===""||n==null){const v=typeof t[e];v==="boolean"?n=Bh(n):n==null&&v==="string"?(n="",w=!0):v==="number"&&(n=0,w=!0)}try{t[e]=n}catch{}w&&t.removeAttribute(e)}function dw(t,e,n,i){t.addEventListener(e,n,i)}function pw(t,e,n,i){t.removeEventListener(e,n,i)}function mw(t,e,n,i,a=null){const l=t._vei||(t._vei={}),m=l[e];if(i&&m)m.value=i;else{const[w,v]=yw(e);if(i){const d=l[e]=bw(i,a);dw(t,w,d,v)}else m&&(pw(t,w,m,v),l[e]=void 0)}}const rh=/(?:Once|Passive|Capture)$/;function yw(t){let e;if(rh.test(t)){e={};let i;for(;i=t.match(rh);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Eo(t.slice(2)),e]}let yl=0;const ww=Promise.resolve(),gw=()=>yl||(ww.then(()=>yl=0),yl=Date.now());function bw(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Qn(Nw(i,n.value),e,5,[i])};return n.value=t,n.attached=gw(),n}function Nw(t,e){if(Ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>a=>!a._stopped&&i&&i(a))}else return e}const ih=/^on[a-z]/,vw=(t,e,n,i,a=!1,l,m,w,v)=>{e==="class"?uw(t,i,a):e==="style"?cw(t,n,i):Dc(e)?Xl(e)||mw(t,e,n,i,m):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_w(t,e,i,a))?hw(t,e,i,l,m,w,v):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),fw(t,e,i,a))};function _w(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&ih.test(e)&&Se(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ih.test(e)&&Pt(n)?!1:e in t}const xw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};cy.props;const Ew=on({patchProp:vw},aw);let sh;function Cw(){return sh||(sh=Dy(Ew))}const qw=(...t)=>{const e=Cw().createApp(...t),{mount:n}=e;return e.mount=i=>{const a=Ow(i);if(!a)return;const l=e._component;!Se(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const m=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),m},e};function Ow(t){return Pt(t)?document.querySelector(t):t}function ra(t){return typeof t>"u"||t===void 0}function hr(t){return typeof t=="string"}function Ww(t){return typeof t=="number"}function Dd(t){return typeof t=="boolean"}function Ld(t){return t===null}function Iw(t){return t instanceof Date}function Aw(t){return typeof t=="bigint"}function jn(t){return typeof t=="function"}function Cr(t){return typeof t=="object"&&t!==null}function p(t){return Object.freeze(t)}function Ka(t){return Array.isArray(t)}function go(t){return t}const Ct=p({is(t){return t.kind==="AlterTableNode"},create(t){return p({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return p({...t,...e})},cloneWithColumnAlteration(t,e){return p({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),yt=p({is(t){return t.kind==="IdentifierNode"},create(t){return p({kind:"IdentifierNode",name:t})}}),Yr=p({is(t){return t.kind==="CreateIndexNode"},create(t){return p({kind:"CreateIndexNode",name:yt.create(t)})},cloneWith(t,e){return p({...t,...e})},cloneWithColumns(t,e){return p({...t,columns:[...t.columns||[],...e]})}}),Pd=p({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return p({kind:"CreateSchemaNode",schema:yt.create(t),...e})},cloneWith(t,e){return p({...t,...e})}}),Tw=["preserve rows","delete rows","drop"],Xn=p({is(t){return t.kind==="CreateTableNode"},create(t){return p({kind:"CreateTableNode",table:t,columns:p([])})},cloneWithColumn(t,e){return p({...t,columns:p([...t.columns,e])})},cloneWithConstraint(t,e){return p({...t,constraints:t.constraints?p([...t.constraints,e]):p([e])})},cloneWithFrontModifier(t,e){return p({...t,frontModifiers:t.frontModifiers?p([...t.frontModifiers,e]):p([e])})},cloneWithEndModifier(t,e){return p({...t,endModifiers:t.endModifiers?p([...t.endModifiers,e]):p([e])})},cloneWith(t,e){return p({...t,...e})}}),yi=p({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return p({kind:"SchemableIdentifierNode",identifier:yt.create(t)})},createWithSchema(t,e){return p({kind:"SchemableIdentifierNode",schema:yt.create(t),identifier:yt.create(e)})}}),Au=p({is(t){return t.kind==="DropIndexNode"},create(t,e){return p({kind:"DropIndexNode",name:yi.create(t),...e})},cloneWith(t,e){return p({...t,...e})}}),Sl=p({is(t){return t.kind==="DropSchemaNode"},create(t,e){return p({kind:"DropSchemaNode",schema:yt.create(t),...e})},cloneWith(t,e){return p({...t,...e})}}),Rl=p({is(t){return t.kind==="DropTableNode"},create(t,e){return p({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return p({...t,...e})}}),fs=p({is(t){return t.kind==="AliasNode"},create(t,e){return p({kind:"AliasNode",node:t,alias:e})}}),di=p({is(t){return t.kind==="TableNode"},create(t){return p({kind:"TableNode",table:yi.create(t)})},createWithSchema(t,e){return p({kind:"TableNode",table:yi.createWithSchema(t,e)})}});function hn(t){return Cr(t)&&jn(t.toOperationNode)}function kw(t){return Cr(t)&&"expressionType"in t&&hn(t)}function Sw(t){return Cr(t)&&"expression"in t&&hr(t.alias)&&hn(t)}const Ir=p({is(t){return t.kind==="SelectModifierNode"},create(t){return p({kind:"SelectModifierNode",modifier:t})},createWithExpression(t){return p({kind:"SelectModifierNode",rawModifier:t})}}),wa=p({is(t){return t.kind==="AndNode"},create(t,e){return p({kind:"AndNode",left:t,right:e})}}),ga=p({is(t){return t.kind==="OrNode"},create(t,e){return p({kind:"OrNode",left:t,right:e})}}),Go=p({is(t){return t.kind==="OnNode"},create(t){return p({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return p({...t,on:e==="And"?wa.create(t.on,n):ga.create(t.on,n)})}}),$n=p({is(t){return t.kind==="JoinNode"},create(t,e){return p({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return p({kind:"JoinNode",joinType:t,table:e,on:Go.create(n)})},cloneWithOn(t,e){return p({...t,on:t.on?Go.cloneWithOperation(t.on,"And",e):Go.create(e)})},cloneWithOrOn(t,e){return p({...t,on:t.on?Go.cloneWithOperation(t.on,"Or",e):Go.create(e)})}}),Hc=p({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return p({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),en=p({is(t){return t.kind==="RawNode"},create(t,e){return p({kind:"RawNode",sqlFragments:p(t),parameters:p(e)})},createWithSql(t){return en.create([t],[])},createWithChild(t){return en.create(["",""],[t])},createWithChildren(t){return en.create(new Array(t.length+1).fill(""),t)}}),Md=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->"],Rw=["+","-","*","/","%","^","&","|","#","<<",">>"],Bd=[...Md,...Rw,"&&","||"],Dw=["exists","not exists"],Lw=["not","-",...Dw],Pw=[...Bd,...Lw],yf=p({is(t){return t.kind==="OperatorNode"},create(t){return p({kind:"OperatorNode",operator:t})}});function Fd(t){return hr(t)&&Bd.includes(t)}function Ud(t){return hr(t)&&Md.includes(t)}const js=p({is(t){return t.kind==="ParensNode"},create(t){return p({kind:"ParensNode",node:t})}}),vt=p({is(t){return t.kind==="ColumnNode"},create(t){return p({kind:"ColumnNode",column:yt.create(t)})}}),wf=p({is(t){return t.kind==="SelectAllNode"},create(){return p({kind:"SelectAllNode"})}}),Vc=p({is(t){return t.kind==="ReferenceNode"},create(t,e){return p({kind:"ReferenceNode",table:t,column:e})},createSelectAll(t){return p({kind:"ReferenceNode",table:t,column:wf.create()})}}),Mw=p({is(t){return t.kind==="OrderByItemNode"},create(t,e){return p({kind:"OrderByItemNode",orderBy:t,direction:e})}});function Bw(t){return t==="asc"||t==="desc"}function zc(t,e){return Mw.create(Fw(t),Uw(e))}function Fw(t){return Fr(t)}function Uw(t){if(t)return t==="asc"||t==="desc"?en.createWithSql(t):t.toOperationNode()}function $d(t){return hr(t)?bo(t):t.toOperationNode()}function ba(t){return Ka(t)?t.map(e=>Fr(e)):[Fr(t)]}function Fr(t){return Zc(t)?Yc(t):$d(t)}function bo(t){const e=".";if(t.includes(e)){const n=t.split(e).map(gf);if(n.length===3)return Qw(n);if(n.length===2)return jw(n);throw new Error(`invalid column reference ${t}`)}else return vt.create(t)}function $w(t){const e=" as ";if(t.includes(e)){const[n,i]=t.split(e).map(gf);return fs.create(bo(n),yt.create(i))}else return bo(t)}function Qd(t){return vt.create(t)}function oh(t){const e=" ";if(t.includes(e)){const[n,i]=t.split(e).map(gf);if(!Bw(i))throw new Error(`invalid order direction "${i}" next to "${n}"`);return zc(n,i)}else return Qd(t)}function Qw(t){const[e,n,i]=t;return Vc.create(di.createWithSchema(e,n),vt.create(i))}function jw(t){const[e,n]=t;return Vc.create(di.create(e),vt.create(n))}function gf(t){return t.trim()}const jd=p({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return p({kind:"PrimitiveValueListNode",values:p([...t])})}}),bf=p({is(t){return t.kind==="ValueListNode"},create(t){return p({kind:"ValueListNode",values:p(t)})}}),qr=p({is(t){return t.kind==="ValueNode"},create(t){return p({kind:"ValueNode",value:t})},createImmediate(t){return p({kind:"ValueNode",value:t,immediate:!0})}});function Hd(t){return Ka(t)?Hw(t):Lr(t)}function Lr(t){return Zc(t)?Yc(t):qr.create(t)}function Hw(t){return t.some(Zc)?bf.create(t.map(e=>Lr(e))):jd.create(t)}const No=p({is(t){return t.kind==="OrderByNode"},create(t){return p({kind:"OrderByNode",items:p([t])})},cloneWithItem(t,e){return p({...t,items:p([...t.items,e])})}}),ah=p({is(t){return t.kind==="PartitionByNode"},create(t){return p({kind:"PartitionByNode",items:p(t)})},cloneWithItems(t,e){return p({...t,items:p([...t.items,...e])})}}),Dl=p({is(t){return t.kind==="OverNode"},create(){return p({kind:"OverNode"})},cloneWithOrderByItem(t,e){return p({...t,orderBy:t.orderBy?No.cloneWithItem(t.orderBy,e):No.create(e)})},cloneWithPartitionByItems(t,e){return p({...t,partitionBy:t.partitionBy?ah.cloneWithItems(t.partitionBy,e):ah.create(e)})}}),Uu=p({is(t){return t.kind==="FromNode"},create(t){return p({kind:"FromNode",froms:p(t)})},cloneWithFroms(t,e){return p({...t,froms:p([...t.froms,...e])})}}),uh=p({is(t){return t.kind==="GroupByNode"},create(t){return p({kind:"GroupByNode",items:p(t)})},cloneWithItems(t,e){return p({...t,items:p([...t.items,...e])})}}),_u=p({is(t){return t.kind==="HavingNode"},create(t){return p({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return p({...t,having:e==="And"?wa.create(t.having,n):ga.create(t.having,n)})}}),We=p({is(t){return t.kind==="SelectQueryNode"},create(t,e){return p({kind:"SelectQueryNode",from:Uu.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return p({...t,selections:t.selections?p([...t.selections,...e]):p(e)})},cloneWithDistinctOn(t,e){return p({...t,distinctOn:t.distinctOn?p([...t.distinctOn,...e]):p(e)})},cloneWithFrontModifier(t,e){return p({...t,frontModifiers:t.frontModifiers?p([...t.frontModifiers,e]):p([e])})},cloneWithEndModifier(t,e){return p({...t,endModifiers:t.endModifiers?p([...t.endModifiers,e]):p([e])})},cloneWithOrderByItem(t,e){return p({...t,orderBy:t.orderBy?No.cloneWithItem(t.orderBy,e):No.create(e)})},cloneWithGroupByItems(t,e){return p({...t,groupBy:t.groupBy?uh.cloneWithItems(t.groupBy,e):uh.create(e)})},cloneWithLimit(t,e){return p({...t,limit:e})},cloneWithOffset(t,e){return p({...t,offset:e})},cloneWithHaving(t,e){return p({...t,having:t.having?_u.cloneWithOperation(t.having,"And",e):_u.create(e)})},cloneWithOrHaving(t,e){return p({...t,having:t.having?_u.cloneWithOperation(t.having,"Or",e):_u.create(e)})},cloneWithSetOperation(t,e){return p({...t,setOperations:t.setOperations?p([...t.setOperations,e]):p([e])})},cloneWithoutSelections(t){return p({...t,selections:[]})},cloneWithoutLimit(t){return p({...t,limit:void 0})},cloneWithoutOffset(t){return p({...t,offset:void 0})},cloneWithoutOrderBy(t){return p({...t,orderBy:void 0})}}),Vd=p({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return p({kind:"UnaryOperationNode",operator:t,operand:e})}});function sn(t){return Nf("exists",t)}function zt(t){return Nf("not exists",t)}function Nf(t,e){return Vd.create(yf.create(t),Fr(e))}function Qe(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var ht;const Zn=class{constructor(e){F(this,ht,void 0);J(this,ht,p(e))}on(...e){return new Zn({...r(this,ht),joinNode:$n.cloneWithOn(r(this,ht).joinNode,Nh(e))})}orOn(...e){return new Zn({...r(this,ht),joinNode:$n.cloneWithOrOn(r(this,ht).joinNode,Nh(e))})}onRef(e,n,i){return new Zn({...r(this,ht),joinNode:$n.cloneWithOn(r(this,ht).joinNode,Kt(e,n,i))})}orOnRef(e,n,i){return new Zn({...r(this,ht),joinNode:$n.cloneWithOrOn(r(this,ht).joinNode,Kt(e,n,i))})}onExists(e){return new Zn({...r(this,ht),joinNode:$n.cloneWithOn(r(this,ht).joinNode,sn(e))})}onNotExists(e){return new Zn({...r(this,ht),joinNode:$n.cloneWithOn(r(this,ht).joinNode,zt(e))})}orOnExists(e){return new Zn({...r(this,ht),joinNode:$n.cloneWithOrOn(r(this,ht).joinNode,sn(e))})}orOnNotExists(e){return new Zn({...r(this,ht),joinNode:$n.cloneWithOrOn(r(this,ht).joinNode,zt(e))})}onTrue(){return new Zn({...r(this,ht),joinNode:$n.cloneWithOn(r(this,ht).joinNode,en.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return r(this,ht).joinNode}};let $u=Zn;ht=new WeakMap;Qe($u,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const Vw=p({is(t){return t.kind==="PartitionByItemNode"},create(t){return p({kind:"PartitionByItemNode",partitionBy:t})}});function zw(t){return ba(t).map(Vw.create)}var Ji;const fc=class{constructor(e){F(this,Ji,void 0);J(this,Ji,p(e))}orderBy(e,n){return new fc({overNode:Dl.cloneWithOrderByItem(r(this,Ji).overNode,zc(e,n))})}partitionBy(e){return new fc({overNode:Dl.cloneWithPartitionByItems(r(this,Ji).overNode,zw(e))})}$call(e){return e(this)}toOperationNode(){return r(this,Ji).overNode}};let Qu=fc;Ji=new WeakMap;Qe(Qu,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const ia=p({is(t){return t.kind==="SelectionNode"},create(t){return p({kind:"SelectionNode",selection:t})},createSelectAll(){return p({kind:"SelectionNode",selection:wf.create()})},createSelectAllFromTable(t){return p({kind:"SelectionNode",selection:Vc.createSelectAll(t)})}});var Hs;class Kw{constructor(e){F(this,Hs,void 0);J(this,Hs,e)}get dynamicReference(){return r(this,Hs)}get refType(){}toOperationNode(){return $d(r(this,Hs))}}Hs=new WeakMap;function Jw(t){return Cr(t)&&hn(t)&&hr(t.dynamicReference)}function Ja(t){return jn(t)?Ja(t(Pr())):Ka(t)?t.map(e=>ch(e)):[ch(t)]}function ch(t){return hr(t)?ia.create($w(t)):Jw(t)?ia.create(t.toOperationNode()):ia.create(lp(t))}function Ga(t){return t?Array.isArray(t)?t.map(lh):[lh(t)]:[ia.createSelectAll()]}function lh(t){if(hr(t))return ia.createSelectAllFromTable(_n(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const Gw=p({is(t){return t.kind==="ValuesNode"},create(t){return p({kind:"ValuesNode",values:p(t)})}}),Xw=p({is(t){return t.kind==="DefaultInsertValueNode"},create(){return p({kind:"DefaultInsertValueNode"})}});function Yw(t){const e=jn(t)?t(Pr()):t,n=Ka(e)?e:p([e]);return Zw(n)}function Zw(t){const e=eg(t);return[p([...e.keys()].map(vt.create)),Gw.create(t.map(n=>tg(n,e)))]}function eg(t){const e=new Map;for(const n of t){const i=Object.keys(n);for(const a of i)!e.has(a)&&n[a]!==void 0&&e.set(a,e.size)}return e}function tg(t,e){const n=Object.keys(t),i=Array.from({length:e.size});let a=!1;for(const m of n){const w=e.get(m);if(ra(w))continue;const v=t[m];(ra(v)||Zc(v))&&(a=!0),i[w]=v}if(n.length<e.size||a){const m=Xw.create();return bf.create(i.map(w=>ra(w)?m:Lr(w)))}return jd.create(i)}const xr=p({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return p({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},cloneWith(t,e){return p({...t,...e})}}),ju=p({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return p({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},cloneWithFromItems(t,e){return p({...t,from:t.from?Uu.cloneWithFroms(t.from,e):Uu.create(e)})},cloneWithUpdates(t,e){return p({...t,updates:t.updates?p([...t.updates,...e]):e})}}),fh=p({is(t){return t.kind==="UsingNode"},create(t){return p({kind:"UsingNode",tables:p(t)})},cloneWithTables(t,e){return p({...t,tables:p([...t.tables,...e])})}}),sa=p({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return p({kind:"DeleteQueryNode",from:Uu.create(t),...e&&{with:e}})},cloneWithOrderByItem(t,e){return p({...t,orderBy:t.orderBy?No.cloneWithItem(t.orderBy,e):No.create(e)})},cloneWithLimit(t,e){return p({...t,limit:e})},cloneWithUsing(t,e){return p({...t,using:t.using!==void 0?fh.cloneWithTables(t.using,e):fh.create(e)})}}),tn=p({is(t){return t.kind==="WhereNode"},create(t){return p({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return p({...t,where:e==="And"?wa.create(t.where,n):ga.create(t.where,n)})}}),hh=p({is(t){return t.kind==="ReturningNode"},create(t){return p({kind:"ReturningNode",selections:p(t)})},cloneWithSelections(t,e){return p({...t,selections:t.selections?p([...t.selections,...e]):p(e)})}}),ng=p({is(t){return t.kind==="ExplainNode"},create(t,e){return p({kind:"ExplainNode",format:t,options:e})}}),ye=p({is(t){return We.is(t)||xr.is(t)||ju.is(t)||sa.is(t)},cloneWithWhere(t,e){return p({...t,where:t.where?tn.cloneWithOperation(t.where,"And",e):tn.create(e)})},cloneWithOrWhere(t,e){return p({...t,where:t.where?tn.cloneWithOperation(t.where,"Or",e):tn.create(e)})},cloneWithJoin(t,e){return p({...t,joins:t.joins?p([...t.joins,e]):p([e])})},cloneWithReturning(t,e){return p({...t,returning:t.returning?hh.cloneWithSelections(t.returning,e):hh.create(e)})},cloneWithoutWhere(t){return p({...t,where:void 0})},cloneWithExplain(t,e,n){return p({...t,explain:ng.create(e,n==null?void 0:n.toOperationNode())})}}),rg=p({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return p({kind:"ColumnUpdateNode",column:t,value:e})}});function vf(t){const e=jn(t)?t(Pr()):t;return Object.entries(e).filter(([n,i])=>i!==void 0).map(([n,i])=>rg.create(vt.create(n),Lr(i)))}const ig=p({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return p({kind:"OnDuplicateKeyNode",updates:t})}});var Ca,qa;class zd{constructor(e,n){F(this,Ca,void 0);F(this,qa,void 0);J(this,Ca,e),J(this,qa,n)}get insertId(){return r(this,Ca)}get numInsertedOrUpdatedRows(){return r(this,qa)}}Ca=new WeakMap,qa=new WeakMap;for(const t of["insertId","numInsertedOrUpdatedRows"])Object.defineProperty(zd.prototype,t,{enumerable:!0});class Kc extends Error{constructor(n){super("no result");Te(this,"node");this.node=n}}function Jc(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const ut=p({is(t){return t.kind==="OnConflictNode"},create(){return p({kind:"OnConflictNode"})},cloneWith(t,e){return p({...t,...e})},cloneWithIndexWhere(t,e){return p({...t,indexWhere:t.indexWhere?tn.cloneWithOperation(t.indexWhere,"And",e):tn.create(e)})},cloneWithIndexOrWhere(t,e){return p({...t,indexWhere:t.indexWhere?tn.cloneWithOperation(t.indexWhere,"Or",e):tn.create(e)})},cloneWithUpdateWhere(t,e){return p({...t,updateWhere:t.updateWhere?tn.cloneWithOperation(t.updateWhere,"And",e):tn.create(e)})},cloneWithUpdateOrWhere(t,e){return p({...t,updateWhere:t.updateWhere?tn.cloneWithOperation(t.updateWhere,"Or",e):tn.create(e)})},cloneWithoutIndexWhere(t){return p({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return p({...t,updateWhere:void 0})}});var Re;const cn=class{constructor(e){F(this,Re,void 0);J(this,Re,p(e))}column(e){const n=vt.create(e);return new cn({...r(this,Re),onConflictNode:ut.cloneWith(r(this,Re).onConflictNode,{columns:r(this,Re).onConflictNode.columns?p([...r(this,Re).onConflictNode.columns,n]):p([n])})})}columns(e){const n=e.map(vt.create);return new cn({...r(this,Re),onConflictNode:ut.cloneWith(r(this,Re).onConflictNode,{columns:r(this,Re).onConflictNode.columns?p([...r(this,Re).onConflictNode.columns,...n]):p(n)})})}constraint(e){return new cn({...r(this,Re),onConflictNode:ut.cloneWith(r(this,Re).onConflictNode,{constraint:yt.create(e)})})}expression(e){return new cn({...r(this,Re),onConflictNode:ut.cloneWith(r(this,Re).onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexWhere(r(this,Re).onConflictNode,kn(e))})}whereRef(e,n,i){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexWhere(r(this,Re).onConflictNode,Kt(e,n,i))})}orWhere(...e){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexOrWhere(r(this,Re).onConflictNode,kn(e))})}orWhereRef(e,n,i){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexOrWhere(r(this,Re).onConflictNode,Kt(e,n,i))})}whereExists(e){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexWhere(r(this,Re).onConflictNode,sn(e))})}whereNotExists(e){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexWhere(r(this,Re).onConflictNode,zt(e))})}orWhereExists(e){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexOrWhere(r(this,Re).onConflictNode,sn(e))})}orWhereNotExists(e){return new cn({...r(this,Re),onConflictNode:ut.cloneWithIndexOrWhere(r(this,Re).onConflictNode,zt(e))})}clearWhere(){return new cn({...r(this,Re),onConflictNode:ut.cloneWithoutIndexWhere(r(this,Re).onConflictNode)})}doNothing(){return new Kd({...r(this,Re),onConflictNode:ut.cloneWith(r(this,Re).onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new Vu({...r(this,Re),onConflictNode:ut.cloneWith(r(this,Re).onConflictNode,{updates:vf(e)})})}$call(e){return e(this)}};let Hu=cn;Re=new WeakMap;Qe(Hu,"don't await OnConflictBuilder instances.");var Oa;class Kd{constructor(e){F(this,Oa,void 0);J(this,Oa,p(e))}toOperationNode(){return r(this,Oa).onConflictNode}}Oa=new WeakMap;Qe(Kd,"don't await OnConflictDoNothingBuilder instances.");var dt;const er=class{constructor(e){F(this,dt,void 0);J(this,dt,p(e))}where(...e){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateWhere(r(this,dt).onConflictNode,kn(e))})}whereRef(e,n,i){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateWhere(r(this,dt).onConflictNode,Kt(e,n,i))})}orWhere(...e){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateOrWhere(r(this,dt).onConflictNode,kn(e))})}orWhereRef(e,n,i){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateOrWhere(r(this,dt).onConflictNode,Kt(e,n,i))})}whereExists(e){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateWhere(r(this,dt).onConflictNode,sn(e))})}whereNotExists(e){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateWhere(r(this,dt).onConflictNode,zt(e))})}orWhereExists(e){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateOrWhere(r(this,dt).onConflictNode,sn(e))})}orWhereNotExists(e){return new er({...r(this,dt),onConflictNode:ut.cloneWithUpdateOrWhere(r(this,dt).onConflictNode,zt(e))})}clearWhere(){return new er({...r(this,dt),onConflictNode:ut.cloneWithoutUpdateWhere(r(this,dt).onConflictNode)})}$call(e){return e(this)}toOperationNode(){return r(this,dt).onConflictNode}};let Vu=er;dt=new WeakMap;Qe(Vu,"don't await OnConflictUpdateBuilder instances.");var ke;const kt=class{constructor(e){F(this,ke,void 0);J(this,ke,p(e))}values(e){const[n,i]=Yw(e);return new kt({...r(this,ke),queryNode:xr.cloneWith(r(this,ke).queryNode,{columns:n,values:i})})}columns(e){return new kt({...r(this,ke),queryNode:xr.cloneWith(r(this,ke).queryNode,{columns:p(e.map(vt.create))})})}expression(e){return new kt({...r(this,ke),queryNode:xr.cloneWith(r(this,ke).queryNode,{values:Yc(e)})})}ignore(){return new kt({...r(this,ke),queryNode:xr.cloneWith(r(this,ke).queryNode,{ignore:!0})})}onConflict(e){return new kt({...r(this,ke),queryNode:xr.cloneWith(r(this,ke).queryNode,{onConflict:e(new Hu({onConflictNode:ut.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new kt({...r(this,ke),queryNode:xr.cloneWith(r(this,ke).queryNode,{onDuplicateKey:ig.create(vf(e))})})}returning(e){return new kt({...r(this,ke),queryNode:ye.cloneWithReturning(r(this,ke).queryNode,Ja(e))})}returningAll(){return new kt({...r(this,ke),queryNode:ye.cloneWithReturning(r(this,ke).queryNode,Ga())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new kt({...r(this,ke)})}if(e,n){return e?n(this):new kt({...r(this,ke)})}$castTo(){return new kt(r(this,ke))}castTo(){return this.$castTo()}$narrowType(){return new kt(r(this,ke))}$assertType(){return new kt(r(this,ke))}assertType(){return new kt(r(this,ke))}withPlugin(e){return new kt({...r(this,ke),executor:r(this,ke).executor.withPlugin(e)})}toOperationNode(){return r(this,ke).executor.transformQuery(r(this,ke).queryNode,r(this,ke).queryId)}compile(){return r(this,ke).executor.compileQuery(this.toOperationNode(),r(this,ke).queryId)}async execute(){const e=this.compile(),n=e.query,i=await r(this,ke).executor.executeQuery(e,r(this,ke).queryId);return r(this,ke).executor.adapter.supportsReturning&&n.returning?i.rows:[new zd(i.insertId,i.numAffectedRows??i.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Kc){const n=await this.executeTakeFirst();if(n===void 0)throw Jc(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,ke).executor.stream(n,e,r(this,ke).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new kt({...r(this,ke),queryNode:ye.cloneWithExplain(r(this,ke).queryNode,e,n)}).execute()}};let Na=kt;ke=new WeakMap;Qe(Na,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Wa;class Jd{constructor(e){F(this,Wa,void 0);J(this,Wa,e)}get numDeletedRows(){return r(this,Wa)}}Wa=new WeakMap;Object.defineProperty(Jd.prototype,"numDeletedRows",{enumerable:!0});const Gd=p({is(t){return t.kind==="LimitNode"},create(t){return p({kind:"LimitNode",limit:qr.create(t)})}});var de;const Ye=class{constructor(e){F(this,de,void 0);J(this,de,p(e))}where(...e){return new Ye({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,kn(e))})}whereRef(e,n,i){return new Ye({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,Kt(e,n,i))})}orWhere(...e){return new Ye({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,kn(e))})}orWhereRef(e,n,i){return new Ye({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,Kt(e,n,i))})}whereExists(e){return new Ye({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,sn(e))})}whereNotExists(e){return new Ye({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,zt(e))})}orWhereExists(e){return new Ye({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,sn(e))})}orWhereNotExists(e){return new Ye({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,zt(e))})}clearWhere(){return new Ye({...r(this,de),queryNode:ye.cloneWithoutWhere(r(this,de).queryNode)})}using(e){return new Ye({...r(this,de),queryNode:sa.cloneWithUsing(r(this,de).queryNode,_o(e))})}innerJoin(...e){return new Ye({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("InnerJoin",e))})}leftJoin(...e){return new Ye({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("LeftJoin",e))})}rightJoin(...e){return new Ye({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("RightJoin",e))})}fullJoin(...e){return new Ye({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("FullJoin",e))})}returning(e){return new Ye({...r(this,de),queryNode:ye.cloneWithReturning(r(this,de).queryNode,Ja(e))})}returningAll(e){return new Ye({...r(this,de),queryNode:ye.cloneWithReturning(r(this,de).queryNode,Ga(e))})}orderBy(e,n){return new Ye({...r(this,de),queryNode:sa.cloneWithOrderByItem(r(this,de).queryNode,zc(e,n))})}limit(e){return new Ye({...r(this,de),queryNode:sa.cloneWithLimit(r(this,de).queryNode,Gd.create(e))})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new Ye({...r(this,de)})}if(e,n){return this.$if(e,n)}$castTo(){return new Ye(r(this,de))}castTo(){return this.$castTo()}$narrowType(){return new Ye(r(this,de))}$assertType(){return new Ye(r(this,de))}assertType(){return new Ye(r(this,de))}withPlugin(e){return new Ye({...r(this,de),executor:r(this,de).executor.withPlugin(e)})}toOperationNode(){return r(this,de).executor.transformQuery(r(this,de).queryNode,r(this,de).queryId)}compile(){return r(this,de).executor.compileQuery(this.toOperationNode(),r(this,de).queryId)}async execute(){const e=this.compile(),n=e.query,i=await r(this,de).executor.executeQuery(e,r(this,de).queryId);return r(this,de).executor.adapter.supportsReturning&&n.returning?i.rows:[new Jd(i.numAffectedRows??i.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Kc){const n=await this.executeTakeFirst();if(n===void 0)throw Jc(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,de).executor.stream(n,e,r(this,de).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new Ye({...r(this,de),queryNode:ye.cloneWithExplain(r(this,de).queryNode,e,n)}).execute()}};let zu=Ye;de=new WeakMap;Qe(zu,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Ia;class Xd{constructor(e){F(this,Ia,void 0);J(this,Ia,e)}get numUpdatedRows(){return r(this,Ia)}}Ia=new WeakMap;Object.defineProperty(Xd.prototype,"numUpdatedRows",{enumerable:!0});var pe;const rt=class{constructor(e){F(this,pe,void 0);J(this,pe,p(e))}where(...e){return new rt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,kn(e))})}whereRef(e,n,i){return new rt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,Kt(e,n,i))})}orWhere(...e){return new rt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,kn(e))})}orWhereRef(e,n,i){return new rt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,Kt(e,n,i))})}whereExists(e){return new rt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,sn(e))})}whereNotExists(e){return new rt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,zt(e))})}orWhereExists(e){return new rt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,sn(e))})}orWhereNotExists(e){return new rt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,zt(e))})}clearWhere(){return new rt({...r(this,pe),queryNode:ye.cloneWithoutWhere(r(this,pe).queryNode)})}from(e){return new rt({...r(this,pe),queryNode:ju.cloneWithFromItems(r(this,pe).queryNode,_o(e))})}innerJoin(...e){return new rt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("InnerJoin",e))})}leftJoin(...e){return new rt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("LeftJoin",e))})}rightJoin(...e){return new rt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("RightJoin",e))})}fullJoin(...e){return new rt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("FullJoin",e))})}set(e){return new rt({...r(this,pe),queryNode:ju.cloneWithUpdates(r(this,pe).queryNode,vf(e))})}returning(e){return new rt({...r(this,pe),queryNode:ye.cloneWithReturning(r(this,pe).queryNode,Ja(e))})}returningAll(){return new rt({...r(this,pe),queryNode:ye.cloneWithReturning(r(this,pe).queryNode,Ga())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new rt({...r(this,pe)})}if(e,n){return this.$if(e,n)}$castTo(){return new rt(r(this,pe))}castTo(){return this.$castTo()}$narrowType(){return new rt(r(this,pe))}$assertType(){return new rt(r(this,pe))}assertType(){return new rt(r(this,pe))}withPlugin(e){return new rt({...r(this,pe),executor:r(this,pe).executor.withPlugin(e)})}toOperationNode(){return r(this,pe).executor.transformQuery(r(this,pe).queryNode,r(this,pe).queryId)}compile(){return r(this,pe).executor.compileQuery(this.toOperationNode(),r(this,pe).queryId)}async execute(){const e=this.compile(),n=e.query,i=await r(this,pe).executor.executeQuery(e,r(this,pe).queryId);return r(this,pe).executor.adapter.supportsReturning&&n.returning?i.rows:[new Xd(i.numAffectedRows??i.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Kc){const n=await this.executeTakeFirst();if(n===void 0)throw Jc(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,pe).executor.stream(n,e,r(this,pe).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new rt({...r(this,pe),queryNode:ye.cloneWithExplain(r(this,pe).queryNode,e,n)}).execute()}};let Ku=rt;pe=new WeakMap;Qe(Ku,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const sg=p({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return p({kind:"CommonTableExpressionNode",name:t,expression:e})}}),dh=p({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return p({kind:"CommonTableExpressionNameNode",table:di.create(t),columns:e?p(e.map(vt.create)):void 0})}});function ph(t,e){const n=e(mg());return sg.create(og(t),n.toOperationNode())}function og(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],i=e[1].split(",").map(a=>a.trim());return dh.create(n,i)}else return dh.create(t)}const xu=p({is(t){return t.kind==="WithNode"},create(t,e){return p({kind:"WithNode",expressions:p([t]),...e})},cloneWithExpression(t,e){return p({...t,expressions:p([...t.expressions,e])})}}),mh=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function ag(t){let e="";for(let n=0;n<t;++n)e+=ug();return e}function ug(){return mh[~~(Math.random()*mh.length)]}function tt(){return new cg}var Vs;class cg{constructor(){F(this,Vs,void 0)}get queryId(){return r(this,Vs)===void 0&&J(this,Vs,ag(8)),r(this,Vs)}}Vs=new WeakMap;var hc;class _f{constructor(){Te(this,"nodeStack",[]);F(this,hc,p({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this)}))}transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),p(n)}transformNodeImpl(e){return r(this,hc)[e.kind](e)}transformNodeList(e){return e&&p(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",table:this.transformNode(e.table),column:this.transformNode(e.column)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:p([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where)}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}hc=new WeakMap;const lg=p({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0});var zs,Gi,dc,Yd,pc,Zd,Xi,Zo,Aa,Ll,mc,ep;class fg extends _f{constructor(n){super();F(this,dc);F(this,pc);F(this,Xi);F(this,Aa);F(this,mc);F(this,zs,void 0);F(this,Gi,new Set);J(this,zs,n)}transformNodeImpl(n){if(!Oe(this,dc,Yd).call(this,n))return super.transformNodeImpl(n);const i=Oe(this,pc,Zd).call(this,n);for(const l of i)r(this,Gi).add(l);const a=super.transformNodeImpl(n);for(const l of i)r(this,Gi).delete(l);return a}transformSchemableIdentifier(n){const i=super.transformSchemableIdentifier(n);return i.schema||!r(this,Gi).has(n.identifier.name)?i:{...i,schema:yt.create(r(this,zs))}}transformReferences(n){const i=super.transformReferences(n);return i.table.table.schema?i:{...i,table:di.createWithSchema(r(this,zs),i.table.table.identifier.name)}}}zs=new WeakMap,Gi=new WeakMap,dc=new WeakSet,Yd=function(n){return n.kind in lg},pc=new WeakSet,Zd=function(n){const i=new Set;if("name"in n&&n.name&&yi.is(n.name)&&Oe(this,Aa,Ll).call(this,n.name,i),"from"in n&&n.from)for(const a of n.from.froms)Oe(this,Xi,Zo).call(this,a,i);if("into"in n&&n.into&&Oe(this,Xi,Zo).call(this,n.into,i),"table"in n&&n.table&&Oe(this,Xi,Zo).call(this,n.table,i),"joins"in n&&n.joins)for(const a of n.joins)Oe(this,Xi,Zo).call(this,a.table,i);return"with"in n&&n.with&&Oe(this,mc,ep).call(this,n.with,i),i},Xi=new WeakSet,Zo=function(n,i){const a=di.is(n)?n:fs.is(n)&&di.is(n.node)?n.node:null;a&&Oe(this,Aa,Ll).call(this,a.table,i)},Aa=new WeakSet,Ll=function(n,i){r(this,Gi).has(n.identifier.name)||i.add(n.identifier.name)},mc=new WeakSet,ep=function(n,i){for(const a of n.expressions)i.delete(a.name.table.table.identifier.name)};var Ta;class Xa{constructor(e){F(this,Ta,void 0);J(this,Ta,new fg(e))}transformQuery(e){return r(this,Ta).transformNode(e.node)}async transformResult(e){return e.result}}Ta=new WeakMap;var it;const Vi=class{constructor(e){F(this,it,void 0);J(this,it,p(e))}selectFrom(e){return new vo({queryId:tt(),executor:r(this,it).executor,queryNode:We.create(_o(e),r(this,it).withNode)})}insertInto(e){return new Na({queryId:tt(),executor:r(this,it).executor,queryNode:xr.create(_n(e),r(this,it).withNode)})}replaceInto(e){return new Na({queryId:tt(),executor:r(this,it).executor,queryNode:xr.create(_n(e),r(this,it).withNode,!0)})}deleteFrom(e){return new zu({queryId:tt(),executor:r(this,it).executor,queryNode:sa.create(_o(e),r(this,it).withNode)})}updateTable(e){return new Ku({queryId:tt(),executor:r(this,it).executor,queryNode:ju.create(_a(e),r(this,it).withNode)})}with(e,n){const i=ph(e,n);return new Vi({...r(this,it),withNode:r(this,it).withNode?xu.cloneWithExpression(r(this,it).withNode,i):xu.create(i)})}withRecursive(e,n){const i=ph(e,n);return new Vi({...r(this,it),withNode:r(this,it).withNode?xu.cloneWithExpression(r(this,it).withNode,i):xu.create(i,{recursive:!0})})}withPlugin(e){return new Vi({...r(this,it),executor:r(this,it).executor.withPlugin(e)})}withoutPlugins(){return new Vi({...r(this,it),executor:r(this,it).executor.withoutPlugins()})}withSchema(e){return new Vi({...r(this,it),executor:r(this,it).executor.withPluginAtFront(new Xa(e))})}};let Ju=Vi;it=new WeakMap;var ka,Ks,Js;class yh{constructor(){F(this,ka,void 0);F(this,Ks,void 0);F(this,Js,void 0);Te(this,"resolve",e=>{r(this,Ks)&&r(this,Ks).call(this,e)});Te(this,"reject",e=>{r(this,Js)&&r(this,Js).call(this,e)});J(this,ka,new Promise((e,n)=>{J(this,Js,n),J(this,Ks,e)}))}get promise(){return r(this,ka)}}ka=new WeakMap,Ks=new WeakMap,Js=new WeakMap;const wh=new Set;function hg(t){wh.has(t)||(wh.add(t),console.log(t))}const dg=p([]);var Yi,Sa,Pl;class tp{constructor(e=dg){F(this,Sa);F(this,Yi,void 0);J(this,Yi,e)}get plugins(){return r(this,Yi)}transformQuery(e,n){for(const i of r(this,Yi)){const a=i.transformQuery({node:e,queryId:n});if(a.kind===e.kind)e=a;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${a.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async i=>{const a=await i.executeQuery(e),l=await Oe(this,Sa,Pl).call(this,a,n);return pg(a,l),l})}async*stream(e,n,i){const a=new yh,l=new yh;this.provideConnection(async w=>(a.resolve(w),await l.promise)).catch(w=>a.reject(w));const m=await a.promise;try{for await(const w of m.streamQuery(e,n))yield await Oe(this,Sa,Pl).call(this,w,i)}finally{l.resolve()}}}Yi=new WeakMap,Sa=new WeakSet,Pl=async function(e,n){for(const i of r(this,Yi))e=await i.transformResult({result:e,queryId:n});return e};function pg(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||hg("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Ls extends tp{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Ls([...this.plugins,e])}withPlugins(e){return new Ls([...this.plugins,...e])}withPluginAtFront(e){return new Ls([e,...this.plugins])}withoutPlugins(){return new Ls([])}}const Gc=new Ls;function gh(){return new vo({queryId:tt(),executor:Gc,queryNode:We.create(_o([]))})}function mg(){return new Ju({executor:Gc})}function np(t,e){return new $u({joinNode:$n.create(t,_a(e))})}function yg(){return new Qu({overNode:Dl.create()})}const xf=p({is(t){return t.kind==="WhenNode"},create(t){return p({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return p({...t,result:e})}}),lr=p({is(t){return t.kind==="CaseNode"},create(t){return p({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return p({...t,when:p(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return p({...t,when:t.when?p([...t.when.slice(0,-1),xf.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return p({...t,...e})}});function Ml(t,e,n){if(!Fd(e)&&!hn(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return bg(e,n)?Ng(t,e,n):Hc.create(Fr(t),Ef(e),Hd(n))}function wg(t,e,n){if(!Fd(e)&&!hn(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return Hc.create(Fr(t),Ef(e),Fr(n))}function gg(t,e,n){if(!Ud(e)&&!hn(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return Ml(t,e,n)}function Kt(t,e,n){if(!Ud(e)&&!hn(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return wg(t,e,n)}function kn(t){return Xc("where",t)}function bh(t){return Xc("having",t)}function Nh(t){return Xc("on",t)}function rp(t){return Xc("when",t)}function Xc(t,e){if(e.length===3)return gg(e[0],e[1],e[2]);if(e.length===1)return vg(t,e[0]);throw ip(t,e)}function bg(t,e){return(t==="is"||t==="is not")&&(Ld(e)||Dd(e))}function Ng(t,e,n){return Hc.create(Fr(t),Ef(e),qr.createImmediate(n))}function Ef(t){if(hr(t)&&Pw.includes(t))return yf.create(t);if(hn(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function vg(t,e){if(jn(e)){if(t==="when")throw new Error("when method doesn't accept a callback as an argument");return _g[t](e)}else if(hn(e)){const n=e.toOperationNode();if(en.is(n)||Hc.is(n)||Vd.is(n)||js.is(n)||lr.is(n))return n}else if(t==="when")return qr.create(e);throw ip(t,e)}function ip(t,e){return new Error(`invalid arguments passed to a '${t}' method: ${JSON.stringify(e)}`)}const _g=p({where(t){const e=gh(),n=Pr(),a=t(Object.assign(e,n)).toOperationNode();if(We.is(a)){if(!a.where)throw new Error("no `where` methods called inside a group callback");return js.create(a.where.where)}else return a},having(t){const e=gh(),n=Pr(),a=t(Object.assign(e,n)).toOperationNode();if(We.is(a)){if(!a.having)throw new Error("no `having` methods called inside a group callback");return js.create(a.having.having)}else return a},on(t){const e=np("InnerJoin","table"),n=Pr(),a=t(Object.assign(e,n)).toOperationNode();if($n.is(a)){if(!a.on)throw new Error("no `on` methods called inside a group callback");return js.create(a.on.on)}else return a}});function vn(t,e){if(e.length===3)return Eg(t,e[0],e[1],e[2]);if(e.length===2)return xg(t,e[0],e[1]);throw new Error("not implemented")}function xg(t,e,n){return n(np(t,e)).toOperationNode()}function Eg(t,e,n,i){return $n.createWithOn(t,_a(e),Kt(n,"=",i))}const Cg=p({is(t){return t.kind==="OffsetNode"},create(t){return p({kind:"OffsetNode",offset:qr.create(t)})}}),qg=p({is(t){return t.kind==="GroupByItemNode"},create(t){return p({kind:"GroupByItemNode",groupBy:t})}});function Og(t){return t=jn(t)?t(Pr()):t,ba(t).map(qg.create)}const sp=p({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return p({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function Ts(t,e,n){return sp.create(t,e.toOperationNode(),n)}var U;const he=class{constructor(e){F(this,U,void 0);J(this,U,p(e))}get expressionType(){}where(...e){return new he({...r(this,U),queryNode:ye.cloneWithWhere(r(this,U).queryNode,kn(e))})}whereRef(e,n,i){return new he({...r(this,U),queryNode:ye.cloneWithWhere(r(this,U).queryNode,Kt(e,n,i))})}orWhere(...e){return new he({...r(this,U),queryNode:ye.cloneWithOrWhere(r(this,U).queryNode,kn(e))})}orWhereRef(e,n,i){return new he({...r(this,U),queryNode:ye.cloneWithOrWhere(r(this,U).queryNode,Kt(e,n,i))})}whereExists(e){return new he({...r(this,U),queryNode:ye.cloneWithWhere(r(this,U).queryNode,sn(e))})}whereNotExists(e){return new he({...r(this,U),queryNode:ye.cloneWithWhere(r(this,U).queryNode,zt(e))})}orWhereExists(e){return new he({...r(this,U),queryNode:ye.cloneWithOrWhere(r(this,U).queryNode,sn(e))})}orWhereNotExists(e){return new he({...r(this,U),queryNode:ye.cloneWithOrWhere(r(this,U).queryNode,zt(e))})}having(...e){return new he({...r(this,U),queryNode:We.cloneWithHaving(r(this,U).queryNode,bh(e))})}havingRef(e,n,i){return new he({...r(this,U),queryNode:We.cloneWithHaving(r(this,U).queryNode,Kt(e,n,i))})}orHaving(...e){return new he({...r(this,U),queryNode:We.cloneWithOrHaving(r(this,U).queryNode,bh(e))})}orHavingRef(e,n,i){return new he({...r(this,U),queryNode:We.cloneWithOrHaving(r(this,U).queryNode,Kt(e,n,i))})}havingExists(e){return new he({...r(this,U),queryNode:We.cloneWithHaving(r(this,U).queryNode,sn(e))})}havingNotExist(e){return new he({...r(this,U),queryNode:We.cloneWithHaving(r(this,U).queryNode,zt(e))})}havingNotExists(e){return new he({...r(this,U),queryNode:We.cloneWithHaving(r(this,U).queryNode,zt(e))})}orHavingExists(e){return new he({...r(this,U),queryNode:We.cloneWithOrHaving(r(this,U).queryNode,sn(e))})}orHavingNotExists(e){return new he({...r(this,U),queryNode:We.cloneWithOrHaving(r(this,U).queryNode,zt(e))})}select(e){return new he({...r(this,U),queryNode:We.cloneWithSelections(r(this,U).queryNode,Ja(e))})}distinctOn(e){return new he({...r(this,U),queryNode:We.cloneWithDistinctOn(r(this,U).queryNode,ba(e))})}modifyFront(e){return new he({...r(this,U),queryNode:We.cloneWithFrontModifier(r(this,U).queryNode,Ir.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new he({...r(this,U),queryNode:We.cloneWithEndModifier(r(this,U).queryNode,Ir.createWithExpression(e.toOperationNode()))})}distinct(){return new he({...r(this,U),queryNode:We.cloneWithFrontModifier(r(this,U).queryNode,Ir.create("Distinct"))})}forUpdate(){return new he({...r(this,U),queryNode:We.cloneWithEndModifier(r(this,U).queryNode,Ir.create("ForUpdate"))})}forShare(){return new he({...r(this,U),queryNode:We.cloneWithEndModifier(r(this,U).queryNode,Ir.create("ForShare"))})}forKeyShare(){return new he({...r(this,U),queryNode:We.cloneWithEndModifier(r(this,U).queryNode,Ir.create("ForKeyShare"))})}forNoKeyUpdate(){return new he({...r(this,U),queryNode:We.cloneWithEndModifier(r(this,U).queryNode,Ir.create("ForNoKeyUpdate"))})}skipLocked(){return new he({...r(this,U),queryNode:We.cloneWithEndModifier(r(this,U).queryNode,Ir.create("SkipLocked"))})}noWait(){return new he({...r(this,U),queryNode:We.cloneWithEndModifier(r(this,U).queryNode,Ir.create("NoWait"))})}selectAll(e){return new he({...r(this,U),queryNode:We.cloneWithSelections(r(this,U).queryNode,Ga(e))})}innerJoin(...e){return new he({...r(this,U),queryNode:ye.cloneWithJoin(r(this,U).queryNode,vn("InnerJoin",e))})}leftJoin(...e){return new he({...r(this,U),queryNode:ye.cloneWithJoin(r(this,U).queryNode,vn("LeftJoin",e))})}rightJoin(...e){return new he({...r(this,U),queryNode:ye.cloneWithJoin(r(this,U).queryNode,vn("RightJoin",e))})}fullJoin(...e){return new he({...r(this,U),queryNode:ye.cloneWithJoin(r(this,U).queryNode,vn("FullJoin",e))})}innerJoinLateral(...e){return new he({...r(this,U),queryNode:ye.cloneWithJoin(r(this,U).queryNode,vn("LateralInnerJoin",e))})}leftJoinLateral(...e){return new he({...r(this,U),queryNode:ye.cloneWithJoin(r(this,U).queryNode,vn("LateralLeftJoin",e))})}orderBy(e,n){return new he({...r(this,U),queryNode:We.cloneWithOrderByItem(r(this,U).queryNode,zc(e,n))})}groupBy(e){return new he({...r(this,U),queryNode:We.cloneWithGroupByItems(r(this,U).queryNode,Og(e))})}limit(e){return new he({...r(this,U),queryNode:We.cloneWithLimit(r(this,U).queryNode,Gd.create(e))})}offset(e){return new he({...r(this,U),queryNode:We.cloneWithOffset(r(this,U).queryNode,Cg.create(e))})}union(e){return new he({...r(this,U),queryNode:We.cloneWithSetOperation(r(this,U).queryNode,Ts("union",e,!1))})}unionAll(e){return new he({...r(this,U),queryNode:We.cloneWithSetOperation(r(this,U).queryNode,Ts("union",e,!0))})}intersect(e){return new he({...r(this,U),queryNode:We.cloneWithSetOperation(r(this,U).queryNode,Ts("intersect",e,!1))})}intersectAll(e){return new he({...r(this,U),queryNode:We.cloneWithSetOperation(r(this,U).queryNode,Ts("intersect",e,!0))})}except(e){return new he({...r(this,U),queryNode:We.cloneWithSetOperation(r(this,U).queryNode,Ts("except",e,!1))})}exceptAll(e){return new he({...r(this,U),queryNode:We.cloneWithSetOperation(r(this,U).queryNode,Ts("except",e,!0))})}as(e){return new Wg(this,e)}clearSelect(){return new he({...r(this,U),queryNode:We.cloneWithoutSelections(r(this,U).queryNode)})}clearWhere(){return new he({...r(this,U),queryNode:ye.cloneWithoutWhere(r(this,U).queryNode)})}clearLimit(){return new he({...r(this,U),queryNode:We.cloneWithoutLimit(r(this,U).queryNode)})}clearOffset(){return new he({...r(this,U),queryNode:We.cloneWithoutOffset(r(this,U).queryNode)})}clearOrderBy(){return new he({...r(this,U),queryNode:We.cloneWithoutOrderBy(r(this,U).queryNode)})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new he({...r(this,U)})}if(e,n){return this.$if(e,n)}$castTo(){return new he(r(this,U))}castTo(){return this.$castTo()}$narrowType(){return new he(r(this,U))}$assertType(){return new he(r(this,U))}assertType(){return new he(r(this,U))}withPlugin(e){return new he({...r(this,U),executor:r(this,U).executor.withPlugin(e)})}toOperationNode(){return r(this,U).executor.transformQuery(r(this,U).queryNode,r(this,U).queryId)}compile(){return r(this,U).executor.compileQuery(this.toOperationNode(),r(this,U).queryId)}async execute(){const e=this.compile();return(await r(this,U).executor.executeQuery(e,r(this,U).queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Kc){const n=await this.executeTakeFirst();if(n===void 0)throw Jc(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,U).executor.stream(n,e,r(this,U).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new he({...r(this,U),queryNode:ye.cloneWithExplain(r(this,U).queryNode,e,n)}).execute()}};let vo=he;U=new WeakMap;Qe(vo,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Gs,Xs;class Wg{constructor(e,n){F(this,Gs,void 0);F(this,Xs,void 0);J(this,Gs,e),J(this,Xs,n)}get expression(){return r(this,Gs)}get alias(){return r(this,Xs)}toOperationNode(){return fs.create(r(this,Gs).toOperationNode(),yt.create(r(this,Xs)))}}Gs=new WeakMap,Xs=new WeakMap;var Ys;const Wf=class{constructor(e){F(this,Ys,void 0);J(this,Ys,e)}get expressionType(){}as(e){return new Ig(this,e)}$castTo(){return new Wf(r(this,Ys))}toOperationNode(){return r(this,Ys)}};let Lt=Wf;Ys=new WeakMap;var Zs,ii;class Ig{constructor(e,n){F(this,Zs,void 0);F(this,ii,void 0);J(this,Zs,e),J(this,ii,n)}get expression(){return r(this,Zs)}get alias(){return r(this,ii)}toOperationNode(){return fs.create(r(this,Zs).toOperationNode(),hn(r(this,ii))?r(this,ii).toOperationNode():yt.create(r(this,ii)))}}Zs=new WeakMap,ii=new WeakMap;const Bn=p({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return p({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return p({...t,distinct:!0})},cloneWithFilter(t,e){return p({...t,filter:t.filter?tn.cloneWithOperation(t.filter,"And",e):tn.create(e)})},cloneWithOrFilter(t,e){return p({...t,filter:t.filter?tn.cloneWithOperation(t.filter,"Or",e):tn.create(e)})},cloneWithOver(t,e){return p({...t,over:e})}}),Ag=p({is(t){return t.kind==="FunctionNode"},create(t,e){return p({kind:"FunctionNode",func:t,arguments:e})}});var ot;const Fn=class{constructor(e){F(this,ot,void 0);J(this,ot,p(e))}get expressionType(){}as(e){return new Tg(this,e)}distinct(){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithDistinct(r(this,ot).aggregateFunctionNode)})}filterWhere(...e){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithFilter(r(this,ot).aggregateFunctionNode,kn(e))})}filterWhereExists(e){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithFilter(r(this,ot).aggregateFunctionNode,sn(e))})}filterWhereNotExists(e){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithFilter(r(this,ot).aggregateFunctionNode,zt(e))})}filterWhereRef(e,n,i){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithFilter(r(this,ot).aggregateFunctionNode,Kt(e,n,i))})}orFilterWhere(...e){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithOrFilter(r(this,ot).aggregateFunctionNode,kn(e))})}orFilterWhereExists(e){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithOrFilter(r(this,ot).aggregateFunctionNode,sn(e))})}orFilterWhereNotExists(e){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithOrFilter(r(this,ot).aggregateFunctionNode,zt(e))})}orFilterWhereRef(e,n,i){return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithOrFilter(r(this,ot).aggregateFunctionNode,Kt(e,n,i))})}over(e){const n=yg();return new Fn({...r(this,ot),aggregateFunctionNode:Bn.cloneWithOver(r(this,ot).aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}toOperationNode(){return r(this,ot).aggregateFunctionNode}};let va=Fn;ot=new WeakMap;Qe(va,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var eo,to;class Tg{constructor(e,n){F(this,eo,void 0);F(this,to,void 0);J(this,eo,e),J(this,to,n)}get expression(){return r(this,eo)}get alias(){return r(this,to)}toOperationNode(){return fs.create(r(this,eo).toOperationNode(),yt.create(r(this,to)))}}eo=new WeakMap,to=new WeakMap;function op(){const t=(n,i)=>new Lt(Ag.create(n,ba(i))),e=(n,i)=>new va({aggregateFunctionNode:Bn.create(n,i?ba(i):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(n,...i){return t("coalesce",[n,...i])},count(n){return e("count",[n])},countAll(n){return new va({aggregateFunctionNode:Bn.create("count",Ga(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])}})}var no;class ap{constructor(e){F(this,no,void 0);J(this,no,p(e))}when(...e){return new up({...r(this,no),node:lr.cloneWithWhen(r(this,no).node,xf.create(rp(e)))})}}no=new WeakMap;var ro;class up{constructor(e){F(this,ro,void 0);J(this,ro,p(e))}then(e){return new kg({...r(this,ro),node:lr.cloneWithThen(r(this,ro).node,Lr(e))})}}ro=new WeakMap;var br;class kg{constructor(e){F(this,br,void 0);J(this,br,p(e))}when(...e){return new up({...r(this,br),node:lr.cloneWithWhen(r(this,br).node,xf.create(rp(e)))})}else(e){return new Sg({...r(this,br),node:lr.cloneWith(r(this,br).node,{else:Lr(e)})})}end(){return new Lt(lr.cloneWith(r(this,br).node,{isStatement:!1}))}endCase(){return new Lt(lr.cloneWith(r(this,br).node,{isStatement:!0}))}}br=new WeakMap;var io;class Sg{constructor(e){F(this,io,void 0);J(this,io,p(e))}end(){return new Lt(lr.cloneWith(r(this,io).node,{isStatement:!1}))}endCase(){return new Lt(lr.cloneWith(r(this,io).node,{isStatement:!0}))}}io=new WeakMap;function cp(t=Gc){function e(n,i){return new Lt(Nf(n,i))}return{get fn(){return op()},selectFrom(n){return new vo({queryId:tt(),executor:t,queryNode:We.create(_o(n))})},case(n){return new ap({node:lr.create(ra(n)?void 0:Fr(n))})},ref(n){return new Lt(bo(n))},val(n){return new Lt(Hd(n))},cmpr(n,i,a){return new Lt(Ml(n,i,a))},bxp(n,i,a){return new Lt(Ml(n,i,a))},unary:e,not(n){return e("not",n)},exists(n){return e("exists",n)},neg(n){return e("-",n)},and(n){if(n.length===0)return new Lt(qr.createImmediate(!0));if(n.length===1)return new Lt(n[0].toOperationNode());let i=wa.create(n[0].toOperationNode(),n[1].toOperationNode());for(let a=2;a<n.length;++a)i=wa.create(i,n[a].toOperationNode());return new Lt(js.create(i))},or(n){if(n.length===0)return new Lt(qr.createImmediate(!1));if(n.length===1)return new Lt(n[0].toOperationNode());let i=ga.create(n[0].toOperationNode(),n[1].toOperationNode());for(let a=2;a<n.length;++a)i=ga.create(i,n[a].toOperationNode());return new Lt(js.create(i))},withSchema(n){return cp(t.withPluginAtFront(new Xa(n)))}}}function Pr(t){return cp()}function Yc(t){if(hn(t))return t.toOperationNode();if(jn(t))return t(Pr()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function lp(t){if(hn(t))return t.toOperationNode();if(jn(t))return t(Pr()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Zc(t){return kw(t)||Sw(t)||jn(t)}function _o(t){return Ka(t)?t.map(e=>_a(e)):[_a(t)]}function _a(t){return hr(t)?Rg(t):lp(t)}function Rg(t){const e=" as ";if(t.includes(e)){const[n,i]=t.split(e).map(fp);return fs.create(_n(n),yt.create(i))}else return _n(t)}function _n(t){const e=".";if(t.includes(e)){const[n,i]=t.split(e).map(fp);return di.createWithSchema(n,i)}else return di.create(t)}function fp(t){return t.trim()}const hp=p({is(t){return t.kind==="AddColumnNode"},create(t){return p({kind:"AddColumnNode",column:t})}}),ji=p({is(t){return t.kind==="AlterColumnNode"},create(t){return p({kind:"AlterColumnNode",column:vt.create(t)})},cloneWith(t,e){return p({...t,...e})}}),Nt=p({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return p({kind:"ColumnDefinitionNode",column:vt.create(t),dataType:e})},cloneWithFrontModifier(t,e){return p({...t,frontModifiers:t.frontModifiers?p([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return p({...t,endModifiers:t.endModifiers?p([...t.endModifiers,e]):[e]})},cloneWith(t,e){return p({...t,...e})}}),dp=p({is(t){return t.kind==="DropColumnNode"},create(t){return p({kind:"DropColumnNode",column:vt.create(t)})}}),pp=p({is(t){return t.kind==="RenameColumnNode"},create(t,e){return p({kind:"RenameColumnNode",column:vt.create(t),renameTo:vt.create(e)})}}),Cf=p({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return p({kind:"CheckConstraintNode",expression:t,name:e?yt.create(e):void 0})}}),Dg=["no action","restrict","cascade","set null","set default"],Tu=p({is(t){return t.kind==="ReferencesNode"},create(t,e){return p({kind:"ReferencesNode",table:t,columns:p([...e])})},cloneWithOnDelete(t,e){return p({...t,onDelete:e})},cloneWithOnUpdate(t,e){return p({...t,onUpdate:e})}});function mp(t){return hn(t)?t.toOperationNode():qr.createImmediate(t)}const Eu=p({is(t){return t.kind==="GeneratedNode"},create(t){return p({kind:"GeneratedNode",...t})},createWithExpression(t){return p({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return p({...t,...e})}}),Lg=p({is(t){return t.kind==="DefaultValueNode"},create(t){return p({kind:"DefaultValueNode",defaultValue:t})}});function Gu(t){if(Dg.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}var Ze;const St=class{constructor(e){F(this,Ze,void 0);J(this,Ze,e)}autoIncrement(){return new St(Nt.cloneWith(r(this,Ze),{autoIncrement:!0}))}primaryKey(){return new St(Nt.cloneWith(r(this,Ze),{primaryKey:!0}))}references(e){const n=bo(e);if(!Vc.is(n)||wf.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new St(Nt.cloneWith(r(this,Ze),{references:Tu.create(n.table,[n.column])}))}onDelete(e){if(!r(this,Ze).references)throw new Error("on delete constraint can only be added for foreign keys");return new St(Nt.cloneWith(r(this,Ze),{references:Tu.cloneWithOnDelete(r(this,Ze).references,Gu(e))}))}onUpdate(e){if(!r(this,Ze).references)throw new Error("on update constraint can only be added for foreign keys");return new St(Nt.cloneWith(r(this,Ze),{references:Tu.cloneWithOnUpdate(r(this,Ze).references,Gu(e))}))}unique(){return new St(Nt.cloneWith(r(this,Ze),{unique:!0}))}notNull(){return new St(Nt.cloneWith(r(this,Ze),{notNull:!0}))}unsigned(){return new St(Nt.cloneWith(r(this,Ze),{unsigned:!0}))}defaultTo(e){return new St(Nt.cloneWith(r(this,Ze),{defaultTo:Lg.create(mp(e))}))}check(e){return new St(Nt.cloneWith(r(this,Ze),{check:Cf.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new St(Nt.cloneWith(r(this,Ze),{generated:Eu.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new St(Nt.cloneWith(r(this,Ze),{generated:Eu.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new St(Nt.cloneWith(r(this,Ze),{generated:Eu.create({identity:!0,byDefault:!0})}))}stored(){if(!r(this,Ze).generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new St(Nt.cloneWith(r(this,Ze),{generated:Eu.cloneWith(r(this,Ze).generated,{stored:!0})}))}modifyFront(e){return new St(Nt.cloneWithFrontModifier(r(this,Ze),e.toOperationNode()))}modifyEnd(e){return new St(Nt.cloneWithEndModifier(r(this,Ze),e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return r(this,Ze)}};let wi=St;Ze=new WeakMap;Qe(wi,"don't await ColumnDefinitionBuilder instances directly.");const yp=p({is(t){return t.kind==="ModifyColumnNode"},create(t){return p({kind:"ModifyColumnNode",column:t})}}),Pg=p({is(t){return t.kind==="DataTypeNode"},create(t){return p({kind:"DataTypeNode",dataType:t})}});function xo(t){return hn(t)?t.toOperationNode():Pg.create(t)}const Xu=p({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,i){return p({kind:"ForeignKeyConstraintNode",columns:t,references:Tu.create(e,n),name:i?yt.create(i):void 0})},cloneWith(t,e){return p({...t,...e})}});var Zi;const yc=class{constructor(e){F(this,Zi,void 0);J(this,Zi,e)}onDelete(e){return new yc(Xu.cloneWith(r(this,Zi),{onDelete:Gu(e)}))}onUpdate(e){return new yc(Xu.cloneWith(r(this,Zi),{onUpdate:Gu(e)}))}$call(e){return e(this)}toOperationNode(){return r(this,Zi)}};let xa=yc;Zi=new WeakMap;Qe(xa,"don't await ForeignKeyConstraintBuilder instances directly.");const Bl=p({is(t){return t.kind==="AddConstraintNode"},create(t){return p({kind:"AddConstraintNode",constraint:t})}}),wp=p({is(t){return t.kind==="UniqueConstraintNode"},create(t,e){return p({kind:"UniqueConstraintNode",columns:p(t.map(vt.create)),name:e?yt.create(e):void 0})}}),ku=p({is(t){return t.kind==="DropConstraintNode"},create(t){return p({kind:"DropConstraintNode",constraintName:yt.create(t)})},cloneWith(t,e){return p({...t,...e})}});class el{constructor(e){Te(this,"alterColumnNode");this.alterColumnNode=e}setDataType(e){return new Xo(ji.cloneWith(this.alterColumnNode,{dataType:xo(e)}))}setDefault(e){return new Xo(ji.cloneWith(this.alterColumnNode,{setDefault:mp(e)}))}dropDefault(){return new Xo(ji.cloneWith(this.alterColumnNode,{dropDefault:!0}))}setNotNull(){return new Xo(ji.cloneWith(this.alterColumnNode,{setNotNull:!0}))}dropNotNull(){return new Xo(ji.cloneWith(this.alterColumnNode,{dropNotNull:!0}))}$call(e){return e(this)}}class Xo extends el{toOperationNode(){return this.alterColumnNode}}var nr;class ea{constructor(e){F(this,nr,void 0);J(this,nr,p(e))}toOperationNode(){return r(this,nr).executor.transformQuery(r(this,nr).node,r(this,nr).queryId)}compile(){return r(this,nr).executor.compileQuery(this.toOperationNode(),r(this,nr).queryId)}async execute(){await r(this,nr).executor.executeQuery(this.compile(),r(this,nr).queryId)}}nr=new WeakMap;Qe(ea,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var Zt;const wc=class{constructor(e){F(this,Zt,void 0);J(this,Zt,p(e))}onDelete(e){return new wc({...r(this,Zt),constraintBuilder:r(this,Zt).constraintBuilder.onDelete(e)})}onUpdate(e){return new wc({...r(this,Zt),constraintBuilder:r(this,Zt).constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return r(this,Zt).executor.transformQuery(Ct.cloneWithTableProps(r(this,Zt).node,{addConstraint:Bl.create(r(this,Zt).constraintBuilder.toOperationNode())}),r(this,Zt).queryId)}compile(){return r(this,Zt).executor.compileQuery(this.toOperationNode(),r(this,Zt).queryId)}async execute(){await r(this,Zt).executor.executeQuery(this.compile(),r(this,Zt).queryId)}};let Yu=wc;Zt=new WeakMap;Qe(Yu,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var xt;const oa=class{constructor(e){F(this,xt,void 0);J(this,xt,p(e))}ifExists(){return new oa({...r(this,xt),node:Ct.cloneWithTableProps(r(this,xt).node,{dropConstraint:ku.cloneWith(r(this,xt).node.dropConstraint,{ifExists:!0})})})}cascade(){return new oa({...r(this,xt),node:Ct.cloneWithTableProps(r(this,xt).node,{dropConstraint:ku.cloneWith(r(this,xt).node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new oa({...r(this,xt),node:Ct.cloneWithTableProps(r(this,xt).node,{dropConstraint:ku.cloneWith(r(this,xt).node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return r(this,xt).executor.transformQuery(r(this,xt).node,r(this,xt).queryId)}compile(){return r(this,xt).executor.compileQuery(this.toOperationNode(),r(this,xt).queryId)}async execute(){await r(this,xt).executor.executeQuery(this.compile(),r(this,xt).queryId)}};let Zu=oa;xt=new WeakMap;Qe(Zu,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");var at;class gp{constructor(e){F(this,at,void 0);J(this,at,p(e))}renameTo(e){return new ea({...r(this,at),node:Ct.cloneWithTableProps(r(this,at).node,{renameTo:_n(e)})})}setSchema(e){return new ea({...r(this,at),node:Ct.cloneWithTableProps(r(this,at).node,{setSchema:yt.create(e)})})}alterColumn(e,n){const i=n(new el(ji.create(e)));return new ri({...r(this,at),node:Ct.cloneWithColumnAlteration(r(this,at).node,i.toOperationNode())})}dropColumn(e){return new ri({...r(this,at),node:Ct.cloneWithColumnAlteration(r(this,at).node,dp.create(e))})}renameColumn(e,n){return new ri({...r(this,at),node:Ct.cloneWithColumnAlteration(r(this,at).node,pp.create(e,n))})}addColumn(e,n,i=go){const a=i(new wi(Nt.create(e,xo(n))));return new ri({...r(this,at),node:Ct.cloneWithColumnAlteration(r(this,at).node,hp.create(a.toOperationNode()))})}modifyColumn(e,n,i=go){const a=i(new wi(Nt.create(e,xo(n))));return new ri({...r(this,at),node:Ct.cloneWithColumnAlteration(r(this,at).node,yp.create(a.toOperationNode()))})}addUniqueConstraint(e,n){return new ea({...r(this,at),node:Ct.cloneWithTableProps(r(this,at).node,{addConstraint:Bl.create(wp.create(n,e))})})}addCheckConstraint(e,n){return new ea({...r(this,at),node:Ct.cloneWithTableProps(r(this,at).node,{addConstraint:Bl.create(Cf.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,i,a){return new Yu({...r(this,at),constraintBuilder:new xa(Xu.create(n.map(vt.create),_n(i),a.map(vt.create),e))})}dropConstraint(e){return new Zu({...r(this,at),node:Ct.cloneWithTableProps(r(this,at).node,{dropConstraint:ku.create(e)})})}$call(e){return e(this)}call(e){return this.$call(e)}}at=new WeakMap;var bt;const zi=class{constructor(e){F(this,bt,void 0);J(this,bt,p(e))}alterColumn(e,n){const i=n(new el(ji.create(e)));return new zi({...r(this,bt),node:Ct.cloneWithColumnAlteration(r(this,bt).node,i.toOperationNode())})}dropColumn(e){return new zi({...r(this,bt),node:Ct.cloneWithColumnAlteration(r(this,bt).node,dp.create(e))})}renameColumn(e,n){return new zi({...r(this,bt),node:Ct.cloneWithColumnAlteration(r(this,bt).node,pp.create(e,n))})}addColumn(e,n,i=go){const a=i(new wi(Nt.create(e,xo(n))));return new zi({...r(this,bt),node:Ct.cloneWithColumnAlteration(r(this,bt).node,hp.create(a.toOperationNode()))})}modifyColumn(e,n,i=go){const a=i(new wi(Nt.create(e,xo(n))));return new zi({...r(this,bt),node:Ct.cloneWithColumnAlteration(r(this,bt).node,yp.create(a.toOperationNode()))})}toOperationNode(){return r(this,bt).executor.transformQuery(r(this,bt).node,r(this,bt).queryId)}compile(){return r(this,bt).executor.compileQuery(this.toOperationNode(),r(this,bt).queryId)}async execute(){await r(this,bt).executor.executeQuery(this.compile(),r(this,bt).queryId)}};let ri=zi;bt=new WeakMap;Qe(gp,"don't await AlterTableBuilder instances");Qe(el,"don't await AlterColumnBuilder instances");Qe(ri,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class bp extends _f{transformValue(e){return{...super.transformValue(e),immediate:!0}}}var et;const wr=class{constructor(e){F(this,et,void 0);J(this,et,p(e))}ifNotExists(){return new wr({...r(this,et),node:Yr.cloneWith(r(this,et).node,{ifNotExists:!0})})}unique(){return new wr({...r(this,et),node:Yr.cloneWith(r(this,et).node,{unique:!0})})}on(e){return new wr({...r(this,et),node:Yr.cloneWith(r(this,et).node,{table:_n(e)})})}column(e){return new wr({...r(this,et),node:Yr.cloneWithColumns(r(this,et).node,[oh(e)])})}columns(e){return new wr({...r(this,et),node:Yr.cloneWithColumns(r(this,et).node,e.map(oh))})}expression(e){return new wr({...r(this,et),node:Yr.cloneWithColumns(r(this,et).node,[e.toOperationNode()])})}using(e){return new wr({...r(this,et),node:Yr.cloneWith(r(this,et).node,{using:en.createWithSql(e)})})}where(...e){const n=new bp;return new wr({...r(this,et),node:ye.cloneWithWhere(r(this,et).node,n.transformNode(kn(e)))})}$call(e){return e(this)}toOperationNode(){return r(this,et).executor.transformQuery(r(this,et).node,r(this,et).queryId)}compile(){return r(this,et).executor.compileQuery(this.toOperationNode(),r(this,et).queryId)}async execute(){await r(this,et).executor.executeQuery(this.compile(),r(this,et).queryId)}};let ec=wr;et=new WeakMap;Qe(ec,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var Wn;const If=class{constructor(e){F(this,Wn,void 0);J(this,Wn,p(e))}ifNotExists(){return new If({...r(this,Wn),node:Pd.cloneWith(r(this,Wn).node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,Wn).executor.transformQuery(r(this,Wn).node,r(this,Wn).queryId)}compile(){return r(this,Wn).executor.compileQuery(this.toOperationNode(),r(this,Wn).queryId)}async execute(){await r(this,Wn).executor.executeQuery(this.compile(),r(this,Wn).queryId)}};let tc=If;Wn=new WeakMap;Qe(tc,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");const Mg=p({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return p({kind:"PrimaryKeyConstraintNode",columns:p(t.map(vt.create)),name:e?yt.create(e):void 0})}});function Bg(t){if(Tw.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}var $e;const Un=class{constructor(e){F(this,$e,void 0);J(this,$e,p(e))}temporary(){return new Un({...r(this,$e),node:Xn.cloneWith(r(this,$e).node,{temporary:!0})})}onCommit(e){return new Un({...r(this,$e),node:Xn.cloneWith(r(this,$e).node,{onCommit:Bg(e)})})}ifNotExists(){return new Un({...r(this,$e),node:Xn.cloneWith(r(this,$e).node,{ifNotExists:!0})})}addColumn(e,n,i=go){const a=i(new wi(Nt.create(e,xo(n))));return new Un({...r(this,$e),node:Xn.cloneWithColumn(r(this,$e).node,a.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new Un({...r(this,$e),node:Xn.cloneWithConstraint(r(this,$e).node,Mg.create(n,e))})}addUniqueConstraint(e,n){return new Un({...r(this,$e),node:Xn.cloneWithConstraint(r(this,$e).node,wp.create(n,e))})}addCheckConstraint(e,n){return new Un({...r(this,$e),node:Xn.cloneWithConstraint(r(this,$e).node,Cf.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,i,a,l=go){const m=l(new xa(Xu.create(n.map(vt.create),_n(i),a.map(vt.create),e)));return new Un({...r(this,$e),node:Xn.cloneWithConstraint(r(this,$e).node,m.toOperationNode())})}modifyFront(e){return new Un({...r(this,$e),node:Xn.cloneWithFrontModifier(r(this,$e).node,e.toOperationNode())})}modifyEnd(e){return new Un({...r(this,$e),node:Xn.cloneWithEndModifier(r(this,$e).node,e.toOperationNode())})}$call(e){return e(this)}call(e){return this.$call(e)}toOperationNode(){return r(this,$e).executor.transformQuery(r(this,$e).node,r(this,$e).queryId)}compile(){return r(this,$e).executor.compileQuery(this.toOperationNode(),r(this,$e).queryId)}async execute(){await r(this,$e).executor.executeQuery(this.compile(),r(this,$e).queryId)}};let nc=Un;$e=new WeakMap;Qe(nc,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var $t;const aa=class{constructor(e){F(this,$t,void 0);J(this,$t,p(e))}on(e){return new aa({...r(this,$t),node:Au.cloneWith(r(this,$t).node,{table:_n(e)})})}ifExists(){return new aa({...r(this,$t),node:Au.cloneWith(r(this,$t).node,{ifExists:!0})})}cascade(){return new aa({...r(this,$t),node:Au.cloneWith(r(this,$t).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,$t).executor.transformQuery(r(this,$t).node,r(this,$t).queryId)}compile(){return r(this,$t).executor.compileQuery(this.toOperationNode(),r(this,$t).queryId)}async execute(){await r(this,$t).executor.executeQuery(this.compile(),r(this,$t).queryId)}};let rc=aa;$t=new WeakMap;Qe(rc,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var ln;const gc=class{constructor(e){F(this,ln,void 0);J(this,ln,p(e))}ifExists(){return new gc({...r(this,ln),node:Sl.cloneWith(r(this,ln).node,{ifExists:!0})})}cascade(){return new gc({...r(this,ln),node:Sl.cloneWith(r(this,ln).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,ln).executor.transformQuery(r(this,ln).node,r(this,ln).queryId)}compile(){return r(this,ln).executor.compileQuery(this.toOperationNode(),r(this,ln).queryId)}async execute(){await r(this,ln).executor.executeQuery(this.compile(),r(this,ln).queryId)}};let ic=gc;ln=new WeakMap;Qe(ic,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var fn;const bc=class{constructor(e){F(this,fn,void 0);J(this,fn,p(e))}ifExists(){return new bc({...r(this,fn),node:Rl.cloneWith(r(this,fn).node,{ifExists:!0})})}cascade(){return new bc({...r(this,fn),node:Rl.cloneWith(r(this,fn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,fn).executor.transformQuery(r(this,fn).node,r(this,fn).queryId)}compile(){return r(this,fn).executor.compileQuery(this.toOperationNode(),r(this,fn).queryId)}async execute(){await r(this,fn).executor.executeQuery(this.compile(),r(this,fn).queryId)}};let sc=bc;fn=new WeakMap;Qe(sc,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const ti=p({is(t){return t.kind==="CreateViewNode"},create(t){return p({kind:"CreateViewNode",name:yi.create(t)})},cloneWith(t,e){return p({...t,...e})}});var Nc;class Fg{constructor(){F(this,Nc,new bp)}transformQuery(e){return r(this,Nc).transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}Nc=new WeakMap;var pt;const ni=class{constructor(e){F(this,pt,void 0);J(this,pt,p(e))}temporary(){return new ni({...r(this,pt),node:ti.cloneWith(r(this,pt).node,{temporary:!0})})}materialized(){return new ni({...r(this,pt),node:ti.cloneWith(r(this,pt).node,{materialized:!0})})}ifNotExists(){return new ni({...r(this,pt),node:ti.cloneWith(r(this,pt).node,{ifNotExists:!0})})}orReplace(){return new ni({...r(this,pt),node:ti.cloneWith(r(this,pt).node,{orReplace:!0})})}columns(e){return new ni({...r(this,pt),node:ti.cloneWith(r(this,pt).node,{columns:e.map(Qd)})})}as(e){const n=e.withPlugin(new Fg).toOperationNode();return new ni({...r(this,pt),node:ti.cloneWith(r(this,pt).node,{as:n})})}$call(e){return e(this)}toOperationNode(){return r(this,pt).executor.transformQuery(r(this,pt).node,r(this,pt).queryId)}compile(){return r(this,pt).executor.compileQuery(this.toOperationNode(),r(this,pt).queryId)}async execute(){await r(this,pt).executor.executeQuery(this.compile(),r(this,pt).queryId)}};let oc=ni;pt=new WeakMap;Qe(oc,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Su=p({is(t){return t.kind==="DropViewNode"},create(t){return p({kind:"DropViewNode",name:yi.create(t)})},cloneWith(t,e){return p({...t,...e})}});var Qt;const ua=class{constructor(e){F(this,Qt,void 0);J(this,Qt,p(e))}materialized(){return new ua({...r(this,Qt),node:Su.cloneWith(r(this,Qt).node,{materialized:!0})})}ifExists(){return new ua({...r(this,Qt),node:Su.cloneWith(r(this,Qt).node,{ifExists:!0})})}cascade(){return new ua({...r(this,Qt),node:Su.cloneWith(r(this,Qt).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,Qt).executor.transformQuery(r(this,Qt).node,r(this,Qt).queryId)}compile(){return r(this,Qt).executor.compileQuery(this.toOperationNode(),r(this,Qt).queryId)}async execute(){await r(this,Qt).executor.executeQuery(this.compile(),r(this,Qt).queryId)}};let ac=ua;Qt=new WeakMap;Qe(ac,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const Np=p({is(t){return t.kind==="CreateTypeNode"},create(t){return p({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return p({...t,enum:bf.create(e.map(n=>qr.createImmediate(n)))})}});var In;const Af=class{constructor(e){F(this,In,void 0);J(this,In,p(e))}toOperationNode(){return r(this,In).executor.transformQuery(r(this,In).node,r(this,In).queryId)}asEnum(e){return new Af({...r(this,In),node:Np.cloneWithEnum(r(this,In).node,e)})}$call(e){return e(this)}compile(){return r(this,In).executor.compileQuery(this.toOperationNode(),r(this,In).queryId)}async execute(){await r(this,In).executor.executeQuery(this.compile(),r(this,In).queryId)}};let uc=Af;In=new WeakMap;Qe(uc,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const vp=p({is(t){return t.kind==="DropTypeNode"},create(t){return p({kind:"DropTypeNode",name:t})},cloneWith(t,e){return p({...t,...e})}});var An;const Tf=class{constructor(e){F(this,An,void 0);J(this,An,p(e))}ifExists(){return new Tf({...r(this,An),node:vp.cloneWith(r(this,An).node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,An).executor.transformQuery(r(this,An).node,r(this,An).queryId)}compile(){return r(this,An).executor.compileQuery(this.toOperationNode(),r(this,An).queryId)}async execute(){await r(this,An).executor.executeQuery(this.compile(),r(this,An).queryId)}};let cc=Tf;An=new WeakMap;Qe(cc,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function vh(t){const e=".";if(t.includes(e)){const n=t.split(e).map(Ug);if(n.length===2)return yi.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return yi.create(t)}function Ug(t){return t.trim()}var Rt;const ca=class{constructor(e){F(this,Rt,void 0);J(this,Rt,e)}createTable(e){return new nc({queryId:tt(),executor:r(this,Rt),node:Xn.create(_n(e))})}dropTable(e){return new sc({queryId:tt(),executor:r(this,Rt),node:Rl.create(_n(e))})}createIndex(e){return new ec({queryId:tt(),executor:r(this,Rt),node:Yr.create(e)})}dropIndex(e){return new rc({queryId:tt(),executor:r(this,Rt),node:Au.create(e)})}createSchema(e){return new tc({queryId:tt(),executor:r(this,Rt),node:Pd.create(e)})}dropSchema(e){return new ic({queryId:tt(),executor:r(this,Rt),node:Sl.create(e)})}alterTable(e){return new gp({queryId:tt(),executor:r(this,Rt),node:Ct.create(_n(e))})}createView(e){return new oc({queryId:tt(),executor:r(this,Rt),node:ti.create(e)})}dropView(e){return new ac({queryId:tt(),executor:r(this,Rt),node:Su.create(e)})}createType(e){return new uc({queryId:tt(),executor:r(this,Rt),node:Np.create(vh(e))})}dropType(e){return new cc({queryId:tt(),executor:r(this,Rt),node:vp.create(vh(e))})}withPlugin(e){return new ca(r(this,Rt).withPlugin(e))}withoutPlugins(){return new ca(r(this,Rt).withoutPlugins())}withSchema(e){return new ca(r(this,Rt).withPluginAtFront(new Xa(e)))}};let Fl=ca;Rt=new WeakMap;class $g{ref(e){return new Kw(e)}}var so;class Qg{constructor(e){F(this,so,void 0);J(this,so,e)}async provideConnection(e){const n=await r(this,so).acquireConnection();try{return await e(n)}finally{await r(this,so).releaseConnection(n)}}}so=new WeakMap;var Nr,vr,kr;const Ki=class extends tp{constructor(n,i,a,l=[]){super(l);F(this,Nr,void 0);F(this,vr,void 0);F(this,kr,void 0);J(this,Nr,n),J(this,vr,i),J(this,kr,a)}get adapter(){return r(this,vr)}compileQuery(n){return r(this,Nr).compileQuery(n)}provideConnection(n){return r(this,kr).provideConnection(n)}withPlugins(n){return new Ki(r(this,Nr),r(this,vr),r(this,kr),[...this.plugins,...n])}withPlugin(n){return new Ki(r(this,Nr),r(this,vr),r(this,kr),[...this.plugins,n])}withPluginAtFront(n){return new Ki(r(this,Nr),r(this,vr),r(this,kr),[n,...this.plugins])}withConnectionProvider(n){return new Ki(r(this,Nr),r(this,vr),n,[...this.plugins])}withoutPlugins(){return new Ki(r(this,Nr),r(this,vr),r(this,kr),[])}};let Ul=Ki;Nr=new WeakMap,vr=new WeakMap,kr=new WeakMap;function _h(){return typeof performance<"u"&&jn(performance.now)?performance.now():Date.now()}var rr,si,Sr,es,Ra,vc,_p,_c,xp,xc,Ep,Ec,Cp,Da,$l;class jg{constructor(e,n){F(this,vc);F(this,_c);F(this,xc);F(this,Ec);F(this,Da);F(this,rr,void 0);F(this,si,void 0);F(this,Sr,void 0);F(this,es,void 0);F(this,Ra,new WeakSet);J(this,rr,e),J(this,si,n)}async init(){r(this,Sr)||J(this,Sr,r(this,rr).init().catch(e=>(J(this,Sr,void 0),Promise.reject(e)))),await r(this,Sr)}async acquireConnection(){await this.init();const e=await r(this,rr).acquireConnection();return r(this,Ra).has(e)||(Oe(this,vc,_p).call(this)&&Oe(this,_c,xp).call(this,e),r(this,Ra).add(e)),e}async releaseConnection(e){await r(this,rr).releaseConnection(e)}beginTransaction(e,n){return r(this,rr).beginTransaction(e,n)}commitTransaction(e){return r(this,rr).commitTransaction(e)}rollbackTransaction(e){return r(this,rr).rollbackTransaction(e)}async destroy(){r(this,Sr)&&(await r(this,Sr),r(this,es)||J(this,es,r(this,rr).destroy().catch(e=>(J(this,es,void 0),Promise.reject(e)))),await r(this,es))}}rr=new WeakMap,si=new WeakMap,Sr=new WeakMap,es=new WeakMap,Ra=new WeakMap,vc=new WeakSet,_p=function(){return r(this,si).isLevelEnabled("query")||r(this,si).isLevelEnabled("error")},_c=new WeakSet,xp=function(e){const n=e.executeQuery;e.executeQuery=async i=>{const a=_h();try{return await n.call(e,i)}catch(l){throw await Oe(this,xc,Ep).call(this,l,i,a),l}finally{await Oe(this,Ec,Cp).call(this,i,a)}}},xc=new WeakSet,Ep=async function(e,n,i){await r(this,si).error(()=>({level:"error",error:e,query:n,queryDurationMillis:Oe(this,Da,$l).call(this,i)}))},Ec=new WeakSet,Cp=async function(e,n){await r(this,si).query(()=>({level:"query",query:e,queryDurationMillis:Oe(this,Da,$l).call(this,n)}))},Da=new WeakSet,$l=function(e){return _h()-e};var La,oi,Cc,Op;class qp{constructor(e){F(this,Cc);F(this,La,void 0);F(this,oi,void 0);J(this,La,e)}async provideConnection(e){for(;r(this,oi);)await r(this,oi);const n=Oe(this,Cc,Op).call(this,e);return J(this,oi,n.then(()=>{J(this,oi,void 0)}).catch(()=>{J(this,oi,void 0)})),n}}La=new WeakMap,oi=new WeakMap,Cc=new WeakSet,Op=async function(e){return await e(r(this,La))};const Hg=["read uncommitted","read committed","repeatable read","serializable"];p(["query","error"]);var ai,ts;class Vg{constructor(e){F(this,ai,void 0);F(this,ts,void 0);jn(e)?(J(this,ts,e),J(this,ai,p({query:!0,error:!0}))):(J(this,ts,zg),J(this,ai,p({query:e.includes("query"),error:e.includes("error")})))}isLevelEnabled(e){return r(this,ai)[e]}async query(e){r(this,ai).query&&await r(this,ts).call(this,e())}async error(e){r(this,ai).error&&await r(this,ts).call(this,e())}}ai=new WeakMap,ts=new WeakMap;function zg(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${t}`))}function Kg(t){return Cr(t)&&jn(t.compile)}var jt;const Ms=class extends Ju{constructor(n){let i,a;if(Jg(n))i={executor:n.executor},a={...n};else{const l=n.dialect,m=l.createDriver(),w=l.createQueryCompiler(),v=l.createAdapter(),d=new Vg(n.log??[]),I=new jg(m,d),M=new Qg(I),B=new Ul(w,v,M,n.plugins??[]);i={executor:B},a={config:n,executor:B,dialect:l,driver:I}}super(i);F(this,jt,void 0);J(this,jt,p(a))}get schema(){return new Fl(r(this,jt).executor)}get dynamic(){return new $g}get introspection(){return r(this,jt).dialect.createIntrospector(this.withoutPlugins())}case(n){return new ap({node:lr.create(ra(n)?void 0:Yc(n))})}get fn(){return op()}transaction(){return new lc({...r(this,jt)})}connection(){return new Wp({...r(this,jt)})}withPlugin(n){return new Ms({...r(this,jt),executor:r(this,jt).executor.withPlugin(n)})}withoutPlugins(){return new Ms({...r(this,jt),executor:r(this,jt).executor.withoutPlugins()})}withSchema(n){return new Ms({...r(this,jt),executor:r(this,jt).executor.withPluginAtFront(new Xa(n))})}withTables(){return new Ms({...r(this,jt)})}async destroy(){await r(this,jt).driver.destroy()}get isTransaction(){return!1}getExecutor(){return r(this,jt).executor}executeQuery(n,i=tt()){const a=Kg(n)?n.compile():n;return this.getExecutor().executeQuery(a,i)}};let Ea=Ms;jt=new WeakMap;var ir;const Bs=class extends Ea{constructor(n){super(n);F(this,ir,void 0);J(this,ir,n)}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(n){return new Bs({...r(this,ir),executor:r(this,ir).executor.withPlugin(n)})}withoutPlugins(){return new Bs({...r(this,ir),executor:r(this,ir).executor.withoutPlugins()})}withSchema(n){return new Bs({...r(this,ir),executor:r(this,ir).executor.withPluginAtFront(new Xa(n))})}withTables(){return new Bs({...r(this,ir)})}};let Ql=Bs;ir=new WeakMap;function Jg(t){return Cr(t)&&Cr(t.config)&&Cr(t.driver)&&Cr(t.executor)&&Cr(t.dialect)}var ns;class Wp{constructor(e){F(this,ns,void 0);J(this,ns,p(e))}async execute(e){return r(this,ns).executor.provideConnection(async n=>{const i=r(this,ns).executor.withConnectionProvider(new qp(n)),a=new Ea({...r(this,ns),executor:i});return await e(a)})}}ns=new WeakMap;Qe(Wp,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var sr;const kf=class{constructor(e){F(this,sr,void 0);J(this,sr,p(e))}setIsolationLevel(e){return new kf({...r(this,sr),isolationLevel:e})}async execute(e){const{isolationLevel:n,...i}=r(this,sr),a={isolationLevel:n};return Gg(a),r(this,sr).executor.provideConnection(async l=>{const m=r(this,sr).executor.withConnectionProvider(new qp(l)),w=new Ql({...i,executor:m});try{await r(this,sr).driver.beginTransaction(l,a);const v=await e(w);return await r(this,sr).driver.commitTransaction(l),v}catch(v){throw await r(this,sr).driver.rollbackTransaction(l),v}})}};let lc=kf;sr=new WeakMap;Qe(lc,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function Gg(t){if(t.isolationLevel&&!Hg.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}var Nn,oo,Ru,Pa,jl,Ma,Hl;const qc=class{constructor(e){F(this,oo);F(this,Pa);F(this,Ma);F(this,Nn,void 0);J(this,Nn,p(e))}get expressionType(){}as(e){return new Xg(this,e)}$castTo(){return new qc({...r(this,Nn)})}castTo(){return this.$castTo()}withPlugin(e){return new qc({...r(this,Nn),plugins:r(this,Nn).plugins!==void 0?p([...r(this,Nn).plugins,e]):p([e])})}toOperationNode(){return Oe(this,Pa,jl).call(this,Oe(this,oo,Ru).call(this))}compile(e){return Oe(this,Ma,Hl).call(this,Oe(this,oo,Ru).call(this,e))}async execute(e){const n=Oe(this,oo,Ru).call(this,e);return n.executeQuery(Oe(this,Ma,Hl).call(this,n),r(this,Nn).queryId)}};let tr=qc;Nn=new WeakMap,oo=new WeakSet,Ru=function(e){const n=e!==void 0?e.getExecutor():Gc;return r(this,Nn).plugins!==void 0?n.withPlugins(r(this,Nn).plugins):n},Pa=new WeakSet,jl=function(e){return e.transformQuery(r(this,Nn).rawNode,r(this,Nn).queryId)},Ma=new WeakSet,Hl=function(e){return e.compileQuery(Oe(this,Pa,jl).call(this,e),r(this,Nn).queryId)};Qe(tr,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var ao,ui;class Xg{constructor(e,n){F(this,ao,void 0);F(this,ui,void 0);J(this,ao,e),J(this,ui,n)}get expression(){return r(this,ao)}get alias(){return r(this,ui)}toOperationNode(){return fs.create(r(this,ao).toOperationNode(),hn(r(this,ui))?r(this,ui).toOperationNode():yt.create(r(this,ui)))}}ao=new WeakMap,ui=new WeakMap;const Tn=Object.assign((t,...e)=>new tr({queryId:tt(),rawNode:en.create(t,(e==null?void 0:e.map(Lr))??[])}),{ref(t){return new tr({queryId:tt(),rawNode:en.createWithChild(bo(t))})},val(t){return new tr({queryId:tt(),rawNode:en.createWithChild(Lr(t))})},value(t){return this.val(t)},table(t){return new tr({queryId:tt(),rawNode:en.createWithChild(_n(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",new tr({queryId:tt(),rawNode:en.create(e,t.map(yt.create))})},lit(t){return new tr({queryId:tt(),rawNode:en.createWithChild(qr.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return new tr({queryId:tt(),rawNode:en.createWithSql(t)})},join(t,e=Tn`, `){const n=new Array(2*t.length-1),i=e.toOperationNode();for(let a=0;a<t.length;++a)n[2*a]=Lr(t[a]),a!==t.length-1&&(n[2*a+1]=i);return new tr({queryId:tt(),rawNode:en.createWithChildren(n)})}});var Oc;class Yg{constructor(){Te(this,"nodeStack",[]);F(this,Oc,p({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this)}));Te(this,"visitNode",e=>{this.nodeStack.push(e),r(this,Oc)[e.kind](e),this.nodeStack.pop()})}get parentNode(){return this.nodeStack[this.nodeStack.length-2]}}Oc=new WeakMap;var uo,rs;class Zg extends Yg{constructor(){super(...arguments);F(this,uo,"");F(this,rs,[])}get numParameters(){return r(this,rs).length}compileQuery(n){return J(this,uo,""),J(this,rs,[]),this.visitNode(n),p({query:n,sql:this.getSql(),parameters:[...r(this,rs)]})}getSql(){return r(this,uo)}visitSelectQuery(n){const i=this.parentNode!==void 0&&!xr.is(this.parentNode)&&!ti.is(this.parentNode)&&!sp.is(this.parentNode);this.parentNode===void 0&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("select "),n.distinctOn&&(this.compileDistinctOn(n.distinctOn),this.append(" ")),n.frontModifiers&&n.frontModifiers.length>0&&(this.compileList(n.frontModifiers," "),this.append(" ")),n.selections&&(this.compileList(n.selections),this.append(" ")),this.visitNode(n.from),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.groupBy&&(this.append(" "),this.visitNode(n.groupBy)),n.having&&(this.append(" "),this.visitNode(n.having)),n.setOperations&&(this.append(" "),this.compileList(n.setOperations," ")),n.orderBy&&(this.append(" "),this.visitNode(n.orderBy)),n.limit&&(this.append(" "),this.visitNode(n.limit)),n.offset&&(this.append(" "),this.visitNode(n.offset)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," ")),i&&this.append(")")}visitFrom(n){this.append("from "),this.compileList(n.froms)}visitSelection(n){this.visitNode(n.selection)}visitColumn(n){this.visitNode(n.column)}compileDistinctOn(n){this.append("distinct on ("),this.compileList(n),this.append(")")}compileList(n,i=", "){const a=n.length-1;for(let l=0;l<=a;l++)this.visitNode(n[l]),l<a&&this.append(i)}visitWhere(n){this.append("where "),this.visitNode(n.where)}visitHaving(n){this.append("having "),this.visitNode(n.having)}visitInsertQuery(n){const i=this.nodeStack.find(ye.is)!==n;!i&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append(n.replace?"replace":"insert"),n.ignore&&this.append(" ignore"),this.append(" into "),this.visitNode(n.into),n.columns&&(this.append(" ("),this.compileList(n.columns),this.append(")")),n.values&&(this.append(" "),this.visitNode(n.values)),n.onConflict&&(this.append(" "),this.visitNode(n.onConflict)),n.onDuplicateKey&&(this.append(" "),this.visitNode(n.onDuplicateKey)),n.returning&&(this.append(" "),this.visitNode(n.returning)),i&&this.append(")")}visitValues(n){this.append("values "),this.compileList(n.values)}visitDeleteQuery(n){const i=this.nodeStack.find(ye.is)!==n;!i&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("delete "),this.visitNode(n.from),n.using&&(this.append(" "),this.visitNode(n.using)),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.orderBy&&(this.append(" "),this.visitNode(n.orderBy)),n.limit&&(this.append(" "),this.visitNode(n.limit)),n.returning&&(this.append(" "),this.visitNode(n.returning)),i&&this.append(")")}visitReturning(n){this.append("returning "),this.compileList(n.selections)}visitAlias(n){this.visitNode(n.node),this.append(" as "),this.visitNode(n.alias)}visitReference(n){this.visitNode(n.table),this.append("."),this.visitNode(n.column)}visitSelectAll(n){this.append("*")}visitIdentifier(n){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(n),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(n){if(!hr(n.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(n.name))}visitAnd(n){this.visitNode(n.left),this.append(" and "),this.visitNode(n.right)}visitOr(n){this.visitNode(n.left),this.append(" or "),this.visitNode(n.right)}visitValue(n){n.immediate?this.appendImmediateValue(n.value):this.appendValue(n.value)}visitValueList(n){this.append("("),this.compileList(n.values),this.append(")")}visitPrimitiveValueList(n){this.append("(");const{values:i}=n;for(let a=0;a<i.length;++a)this.appendValue(i[a]),a!==i.length-1&&this.append(", ");this.append(")")}visitParens(n){this.append("("),this.visitNode(n.node),this.append(")")}visitJoin(n){this.append(tb[n.joinType]),this.append(" "),this.visitNode(n.table),n.on&&(this.append(" "),this.visitNode(n.on))}visitOn(n){this.append("on "),this.visitNode(n.on)}visitRaw(n){const{sqlFragments:i,parameters:a}=n;for(let l=0;l<i.length;++l)this.append(i[l]),a.length>l&&this.visitNode(a[l])}visitOperator(n){this.append(n.operator)}visitTable(n){this.visitNode(n.table)}visitSchemableIdentifier(n){n.schema&&(this.visitNode(n.schema),this.append(".")),this.visitNode(n.identifier)}visitCreateTable(n){this.append("create "),n.frontModifiers&&n.frontModifiers.length>0&&(this.compileList(n.frontModifiers," "),this.append(" ")),n.temporary&&this.append("temporary "),this.append("table "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.table),this.append(" ("),this.compileList([...n.columns,...n.constraints??[]]),this.append(")"),n.onCommit&&(this.append(" on commit "),this.append(n.onCommit)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," "))}visitColumnDefinition(n){this.visitNode(n.column),this.append(" "),this.visitNode(n.dataType),n.unsigned&&this.append(" unsigned"),n.frontModifiers&&n.frontModifiers.length>0&&(this.append(" "),this.compileList(n.frontModifiers," ")),n.generated&&(this.append(" "),this.visitNode(n.generated)),n.defaultTo&&(this.append(" "),this.visitNode(n.defaultTo)),n.notNull&&this.append(" not null"),n.unique&&this.append(" unique"),n.primaryKey&&this.append(" primary key"),n.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),n.references&&(this.append(" "),this.visitNode(n.references)),n.check&&(this.append(" "),this.visitNode(n.check)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(n){this.append("references "),this.visitNode(n.table),this.append(" ("),this.compileList(n.columns),this.append(")"),n.onDelete&&(this.append(" on delete "),this.append(n.onDelete)),n.onUpdate&&(this.append(" on update "),this.append(n.onUpdate))}visitDropTable(n){this.append("drop table "),n.ifExists&&this.append("if exists "),this.visitNode(n.table),n.cascade&&this.append(" cascade")}visitDataType(n){this.append(n.dataType)}visitOrderBy(n){this.append("order by "),this.compileList(n.items)}visitOrderByItem(n){this.visitNode(n.orderBy),n.direction&&(this.append(" "),this.visitNode(n.direction))}visitGroupBy(n){this.append("group by "),this.compileList(n.items)}visitGroupByItem(n){this.visitNode(n.groupBy)}visitUpdateQuery(n){const i=this.nodeStack.find(ye.is)!==n;!i&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("update "),this.visitNode(n.table),this.append(" set "),n.updates&&this.compileList(n.updates),n.from&&(this.append(" "),this.visitNode(n.from)),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.returning&&(this.append(" "),this.visitNode(n.returning)),i&&this.append(")")}visitColumnUpdate(n){this.visitNode(n.column),this.append(" = "),this.visitNode(n.value)}visitLimit(n){this.append("limit "),this.visitNode(n.limit)}visitOffset(n){this.append("offset "),this.visitNode(n.offset)}visitOnConflict(n){this.append("on conflict"),n.columns?(this.append(" ("),this.compileList(n.columns),this.append(")")):n.constraint?(this.append(" on constraint "),this.visitNode(n.constraint)):n.indexExpression&&(this.append(" ("),this.visitNode(n.indexExpression),this.append(")")),n.indexWhere&&(this.append(" "),this.visitNode(n.indexWhere)),n.doNothing===!0?this.append(" do nothing"):n.updates&&(this.append(" do update set "),this.compileList(n.updates),n.updateWhere&&(this.append(" "),this.visitNode(n.updateWhere)))}visitOnDuplicateKey(n){this.append("on duplicate key update "),this.compileList(n.updates)}visitCreateIndex(n){this.append("create "),n.unique&&this.append("unique "),this.append("index "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.name),n.table&&(this.append(" on "),this.visitNode(n.table)),n.using&&(this.append(" using "),this.visitNode(n.using)),n.columns&&(this.append(" ("),this.compileList(n.columns),this.append(")")),n.where&&(this.append(" "),this.visitNode(n.where))}visitDropIndex(n){this.append("drop index "),n.ifExists&&this.append("if exists "),this.visitNode(n.name),n.table&&(this.append(" on "),this.visitNode(n.table)),n.cascade&&this.append(" cascade")}visitCreateSchema(n){this.append("create schema "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.schema)}visitDropSchema(n){this.append("drop schema "),n.ifExists&&this.append("if exists "),this.visitNode(n.schema),n.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("primary key ("),this.compileList(n.columns),this.append(")")}visitUniqueConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("unique ("),this.compileList(n.columns),this.append(")")}visitCheckConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("check ("),this.visitNode(n.expression),this.append(")")}visitForeignKeyConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("foreign key ("),this.compileList(n.columns),this.append(") "),this.visitNode(n.references),n.onDelete&&(this.append(" on delete "),this.append(n.onDelete)),n.onUpdate&&(this.append(" on update "),this.append(n.onUpdate))}visitList(n){this.compileList(n.items)}visitWith(n){this.append("with "),n.recursive&&this.append("recursive "),this.compileList(n.expressions)}visitCommonTableExpression(n){this.visitNode(n.name),this.append(" as "),this.visitNode(n.expression)}visitCommonTableExpressionName(n){this.visitNode(n.table),n.columns&&(this.append("("),this.compileList(n.columns),this.append(")"))}visitAlterTable(n){this.append("alter table "),this.visitNode(n.table),this.append(" "),n.renameTo&&(this.append("rename to "),this.visitNode(n.renameTo)),n.setSchema&&(this.append("set schema "),this.visitNode(n.setSchema)),n.addConstraint&&this.visitNode(n.addConstraint),n.dropConstraint&&this.visitNode(n.dropConstraint),n.columnAlterations&&this.compileList(n.columnAlterations)}visitAddColumn(n){this.append("add column "),this.visitNode(n.column)}visitRenameColumn(n){this.append("rename column "),this.visitNode(n.column),this.append(" to "),this.visitNode(n.renameTo)}visitDropColumn(n){this.append("drop column "),this.visitNode(n.column)}visitAlterColumn(n){this.append("alter column "),this.visitNode(n.column),this.append(" "),n.dataType&&(this.append("type "),this.visitNode(n.dataType),n.dataTypeExpression&&(this.append("using "),this.visitNode(n.dataTypeExpression))),n.setDefault&&(this.append("set default "),this.visitNode(n.setDefault)),n.dropDefault&&this.append("drop default"),n.setNotNull&&this.append("set not null"),n.dropNotNull&&this.append("drop not null")}visitModifyColumn(n){this.append("modify column "),this.visitNode(n.column)}visitAddConstraint(n){this.append("add "),this.visitNode(n.constraint)}visitDropConstraint(n){this.append("drop constraint "),n.ifExists&&this.append("if exists "),this.visitNode(n.constraintName),n.modifier==="cascade"?this.append(" cascade"):n.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(n){this.append(n.operator),this.append(" "),n.all&&this.append("all "),this.visitNode(n.expression)}visitCreateView(n){this.append("create "),n.orReplace&&this.append("or replace "),n.materialized&&this.append("materialized "),n.temporary&&this.append("temporary "),this.append("view "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.name),this.append(" "),n.columns&&(this.append("("),this.compileList(n.columns),this.append(") ")),n.as&&(this.append("as "),this.visitNode(n.as))}visitDropView(n){this.append("drop "),n.materialized&&this.append("materialized "),this.append("view "),n.ifExists&&this.append("if exists "),this.visitNode(n.name),n.cascade&&this.append(" cascade")}visitGenerated(n){this.append("generated "),n.always&&this.append("always "),n.byDefault&&this.append("by default "),this.append("as "),n.identity&&this.append("identity"),n.expression&&(this.append("("),this.visitNode(n.expression),this.append(")")),n.stored&&this.append(" stored")}visitDefaultValue(n){this.append("default "),this.visitNode(n.defaultValue)}visitSelectModifier(n){n.rawModifier?this.visitNode(n.rawModifier):this.append(eb[n.modifier])}visitCreateType(n){this.append("create type "),this.visitNode(n.name),n.enum&&(this.append(" as enum "),this.visitNode(n.enum))}visitDropType(n){this.append("drop type "),n.ifExists&&this.append("if exists "),this.visitNode(n.name)}visitExplain(n){this.append("explain"),(n.options||n.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),n.options&&(this.visitNode(n.options),n.format&&this.append(this.getExplainOptionsDelimiter())),n.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(n.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(n){this.append("default")}visitAggregateFunction(n){this.append(n.func),this.append("("),n.distinct&&this.append("distinct "),this.compileList(n.aggregated),this.append(")"),n.filter&&(this.append(" filter("),this.visitNode(n.filter),this.append(")")),n.over&&(this.append(" "),this.visitNode(n.over))}visitOver(n){this.append("over("),n.partitionBy&&(this.visitNode(n.partitionBy),n.orderBy&&this.append(" ")),n.orderBy&&this.visitNode(n.orderBy),this.append(")")}visitPartitionBy(n){this.append("partition by "),this.compileList(n.items)}visitPartitionByItem(n){this.visitNode(n.partitionBy)}visitBinaryOperation(n){this.visitNode(n.leftOperand),this.append(" "),this.visitNode(n.operator),this.append(" "),this.visitNode(n.rightOperand)}visitUnaryOperation(n){this.visitNode(n.operator),this.isMinusOperator(n.operator)||this.append(" "),this.visitNode(n.operand)}isMinusOperator(n){return yf.is(n)&&n.operator==="-"}visitUsing(n){this.append("using "),this.compileList(n.tables)}visitFunction(n){this.append(n.func),this.append("("),this.compileList(n.arguments),this.append(")")}visitCase(n){this.append("case"),n.value&&(this.append(" "),this.visitNode(n.value)),n.when&&(this.append(" "),this.compileList(n.when," ")),n.else&&(this.append(" else "),this.visitNode(n.else)),this.append(" end"),n.isStatement&&this.append(" case")}visitWhen(n){this.append("when "),this.visitNode(n.condition),n.result&&(this.append(" then "),this.visitNode(n.result))}append(n){J(this,uo,r(this,uo)+n)}appendValue(n){this.addParameter(n),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(n){const i=this.getLeftIdentifierWrapper(),a=this.getRightIdentifierWrapper();let l="";for(const m of n)l+=m,m===i?l+=i:m===a&&(l+=a);return l}addParameter(n){r(this,rs).push(n)}appendImmediateValue(n){if(hr(n))this.append(`'${n}'`);else if(Ww(n)||Dd(n))this.append(n.toString());else if(Ld(n))this.append("null");else if(Iw(n))this.appendImmediateValue(n.toISOString());else if(Aw(n))this.appendImmediateValue(n.toString());else throw new Error(`invalid immediate value ${n}`)}}uo=new WeakMap,rs=new WeakMap;const eb=p({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),tb=p({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral"}),Mr=p({raw(t){return p({sql:t,query:en.createWithSql(t),parameters:p([])})}}),nb=/"/g;class Ip extends Zg{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(nb,'""')}visitDefaultInsertValue(e){this.append("null")}}const rb="kysely_migration",ib="kysely_migration_lock";p({__noMigrations__:!0});var co,Wc,Tp;class Ap{constructor(e){F(this,Wc);F(this,co,void 0);J(this,co,e)}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=r(this,co).selectFrom("sqlite_schema").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",rb).where("name","!=",ib));const i=await n.execute();return Promise.all(i.map(({name:a})=>Oe(this,Wc,Tp).call(this,a)))}async getMetadata(e){return{tables:await this.getTables(e)}}}co=new WeakMap,Wc=new WeakSet,Tp=async function(e){var m,w,v,d,I,M;const n=r(this,co),i=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),a=(M=(I=(d=(v=(w=(m=i.sql)==null?void 0:m.split(/[\(\),]/))==null?void 0:w.find(B=>B.toLowerCase().includes("autoincrement")))==null?void 0:v.trimStart())==null?void 0:d.split(/\s+/))==null?void 0:I[0])==null?void 0:M.replace(/["`]/g,""),l=await n.selectFrom(Tn`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:i.type==="view",columns:l.map(B=>({name:B.name,dataType:B.type,isNullable:!B.notnull,isAutoIncrementing:B.name===a,hasDefaultValue:B.dflt_value!=null}))}};class kp{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(){}async releaseMigrationLock(){}}var Sp=class{createQueryCompiler(){return new Ip}createAdapter(){return new kp}createIntrospector(t){return new Ap(t)}},Ba,Dh,Rp=(Dh=class{constructor(){F(this,Ba,new sb);Te(this,"connection")}async acquireConnection(){return await r(this,Ba).lock(),this.connection}async beginTransaction(t){await t.executeQuery(Mr.raw("begin"))}async commitTransaction(t){await t.executeQuery(Mr.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(Mr.raw("rollback"))}async releaseConnection(){r(this,Ba).unlock()}},Ba=new WeakMap,Dh),sb=class{constructor(){Te(this,"promise");Te(this,"resolve")}async lock(){for(;this.promise;)await this.promise;this.promise=new Promise(e=>{this.resolve=e})}unlock(){const e=this.resolve;this.promise=void 0,this.resolve=void 0,e==null||e()}},Dp=class{streamQuery(){throw new Error("Sqlite driver doesn't support streaming")}async executeQuery(t){const{parameters:e,sql:n,query:i}=t;return["SelectQueryNode","RawNode"].includes(i.kind)?{rows:await this.query(n,e)}:{rows:[],...await this.exec(n,e)}}};function ob({func:t,delay:e,maxCalls:n}){let i,a=0,l=null;function m(){i&&clearTimeout(i),a=0,l=null}function w(){a>=n?(t(l),m()):(i&&clearTimeout(i),i=setTimeout(()=>{t(l),m(),i=void 0},e))}return v=>{a++,l=v,i===void 0&&a===0?(t(v),a++):w()}}var ab=class extends Rp{constructor(e){super();Te(this,"config");Te(this,"db");this.config=e}async init(){var e,n,i,a;if(this.db=typeof this.config.database=="function"?await this.config.database():this.config.database,!this.db)throw new Error("no database");this.connection=new ub(this.db,(e=this.config.onWrite)==null?void 0:e.func,(n=this.config.onWrite)==null?void 0:n.isThrottle,(i=this.config.onWrite)==null?void 0:i.maxCalls,(a=this.config.onWrite)==null?void 0:a.delay),this.config.onCreateConnection&&await this.config.onCreateConnection(this.connection)}async beginTransaction(e){await e.executeQuery(Mr.raw("begin")),e.transactionNum++}async commitTransaction(e){await e.executeQuery(Mr.raw("commit")),e.transactionNum--}async rollbackTransaction(e){await e.executeQuery(Mr.raw("rollback")),e.transactionNum--}async destroy(){var e;(e=this.db)==null||e.close()}},ub=class extends Dp{constructor(e,n,i=!1,a=1e3,l=2e3){super();Te(this,"db");Te(this,"onWrite");Te(this,"transactionNum",0);this.db=e,this.onWrite=n?i?ob({func:n,maxCalls:a,delay:l}):n:void 0}query(e,n){const i=this.db.prepare(e);i.bind(n);const a=[];for(;i.step();)a.push(i.getAsObject());return i.free(),a}exec(e,n){this.db.run(e,n);const i=BigInt(this.query("SELECT last_insert_rowid() as id")[0].id),a=BigInt(this.db.getRowsModified());return this.transactionNum===0&&this.onWrite&&this.onWrite(this.db.export()),{numAffectedRows:a,insertId:i}}},Fa,Lh,cb=(Lh=class extends Sp{constructor(e){super();F(this,Fa,void 0);J(this,Fa,e)}createDriver(){return new ab(r(this,Fa))}},Fa=new WeakMap,Lh),lb=class extends Rp{constructor(e){super();Te(this,"config");Te(this,"db");this.config=e}async init(){this.db=typeof this.config.database=="function"?await this.config.database():this.config.database,this.connection=new fb(this.db),this.config.onCreateConnection&&await this.config.onCreateConnection(this.connection)}async destroy(){var e;await((e=this.db)==null?void 0:e.sqlite.close(this.db.db))}},fb=class extends Dp{constructor(e){super();Te(this,"sqlite");Te(this,"db");this.db=e.db,this.sqlite=e.sqlite}async run(e){const n=this.sqlite.str_new(this.db,e.sql),i=await this.sqlite.prepare_v2(this.db,this.sqlite.str_value(n));if(i===null)return[];const a=i.stmt;try{typeof e.param<"u"&&this.sqlite.bind_collection(a,e.param);const l=[];let m=[];for(;await this.sqlite.step(a)===100;){m=m.length===0?this.sqlite.column_names(a):m;const w=this.sqlite.row(a);l.push(m.reduce((v,d,I)=>(v[d]=w[I],v),{}))}return l}finally{await this.sqlite.finalize(a)}}async query(e,n){return await this.run({sql:e,param:n})}async exec(e,n){await this.run({sql:e,param:n});const i=await this.run({sql:"SELECT last_insert_rowid() as id"});return{insertId:BigInt(i[0].id),numAffectedRows:BigInt(this.sqlite.changes(this.db))}}},Ua,Ph,hb=(Ph=class extends Sp{constructor(e){super();F(this,Ua,void 0);J(this,Ua,e)}createDriver(){return new lb(r(this,Ua))}},Ua=new WeakMap,Ph);function db(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){if(this instanceof i){var a=[null];a.push.apply(a,arguments);var l=Function.bind.apply(e,a);return new l}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Lp={exports:{}};const mb={},yb=Object.freeze(Object.defineProperty({__proto__:null,default:mb},Symbol.toStringTag,{value:"Module"})),Cu=pb(yb);(function(t,e){var n=void 0,i=function(a){return n||(n=new Promise(function(l,m){var w=typeof a<"u"?a:{},v=w.onAbort;w.onAbort=function(o){m(new Error(o)),v&&v(o)},w.postRun=w.postRun||[],w.postRun.push(function(){l(w)}),t=void 0;var d;d||(d=typeof w<"u"?w:{}),d.onRuntimeInitialized=function(){function o(W,G){switch(typeof G){case"boolean":mu(W,G?1:0);break;case"number":du(W,G);break;case"string":Ko(W,G,-1,-1);break;case"object":if(G===null)zo(W);else if(G.length!=null){var s=Os(G);pu(W,s,G.length,-1),Si(s)}else Li(W,"Wrong API use : tried to return a value of an unknown type ("+G+").",-1);break;default:zo(W)}}function c(W,G){for(var s=[],u=0;u<W;u+=1){var f=K(G+4*u,"i32"),y=Vo(f);if(y===1||y===2)f=hu(f);else if(y===3)f=lu(f);else if(y===4){y=f,f=cu(y),y=fu(y);for(var _=new Uint8Array(f),k=0;k<f;k+=1)_[k]=ge[y+k];f=_}else f=null;s.push(f)}return s}function h(W,G){this.La=W,this.db=G,this.Ja=1,this.fb=[]}function g(W,G){if(this.db=G,G=dn(W)+1,this.Ya=ki(G),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");Jt(W,qe,this.Ya,G),this.eb=this.Ya,this.Ua=this.ib=null}function E(W){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),W!=null){var G=this.filename,s="/",u=G;if(s&&(s=typeof s=="string"?s:bi(s),u=G?ue(s+"/"+G):s),G=mn(!0,!0),u=vi(u,(G!==void 0?G:438)&4095|32768,0),W){if(typeof W=="string"){s=Array(W.length);for(var f=0,y=W.length;f<y;++f)s[f]=W.charCodeAt(f);W=s}bs(u,G|146),s=pr(u,577),mr(s,W,0,W.length,0),Ve(s),bs(u,G)}}this.handleError(ve(this.filename,R)),this.db=K(R,"i32"),Is(this.db),this.Za={},this.Na={}}var R=Jn(4),$=d.cwrap,ve=$("sqlite3_open","number",["string","number"]),Me=$("sqlite3_close_v2","number",["number"]),Le=$("sqlite3_exec","number",["number","string","number","number","number"]),lt=$("sqlite3_changes","number",["number"]),Dn=$("sqlite3_prepare_v2","number",["number","string","number","number","number"]),$o=$("sqlite3_sql","string",["number"]),Qo=$("sqlite3_normalized_sql","string",["number"]),Di=$("sqlite3_prepare_v2","number",["number","number","number","number","number"]),nl=$("sqlite3_bind_text","number",["number","number","number","number","number"]),Gn=$("sqlite3_bind_blob","number",["number","number","number","number","number"]),Ln=$("sqlite3_bind_double","number",["number","number","number"]),tu=$("sqlite3_bind_int","number",["number","number","number"]),Ws=$("sqlite3_bind_parameter_index","number",["number","string"]),nu=$("sqlite3_step","number",["number"]),ru=$("sqlite3_errmsg","string",["number"]),rl=$("sqlite3_column_count","number",["number"]),jo=$("sqlite3_data_count","number",["number"]),il=$("sqlite3_column_double","number",["number","number"]),iu=$("sqlite3_column_text","string",["number","number"]),sl=$("sqlite3_column_blob","number",["number","number"]),su=$("sqlite3_column_bytes","number",["number","number"]),ou=$("sqlite3_column_type","number",["number","number"]),au=$("sqlite3_column_name","string",["number","number"]),Pn=$("sqlite3_reset","number",["number"]),uu=$("sqlite3_clear_bindings","number",["number"]),ol=$("sqlite3_finalize","number",["number"]),Ho=$("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Vo=$("sqlite3_value_type","number",["number"]),cu=$("sqlite3_value_bytes","number",["number"]),lu=$("sqlite3_value_text","string",["number"]),fu=$("sqlite3_value_blob","number",["number"]),hu=$("sqlite3_value_double","number",["number"]),du=$("sqlite3_result_double","",["number","number"]),zo=$("sqlite3_result_null","",["number"]),Ko=$("sqlite3_result_text","",["number","string","number","number"]),pu=$("sqlite3_result_blob","",["number","number","number","number"]),mu=$("sqlite3_result_int","",["number","number"]),Li=$("sqlite3_result_error","",["number","string","number"]),Jo=$("sqlite3_aggregate_context","number",["number","number"]),Is=$("RegisterExtensionFunctions","number",["number"]);h.prototype.bind=function(W){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(W)?this.xb(W):W!=null&&typeof W=="object"?this.yb(W):!0},h.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var W=nu(this.La);switch(W){case 100:return!0;case 101:return!1;default:throw this.db.handleError(W)}},h.prototype.sb=function(W){return W==null&&(W=this.Ja,this.Ja+=1),il(this.La,W)},h.prototype.Cb=function(W){if(W==null&&(W=this.Ja,this.Ja+=1),W=iu(this.La,W),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(W)},h.prototype.Db=function(W){return W==null&&(W=this.Ja,this.Ja+=1),iu(this.La,W)},h.prototype.getBlob=function(W){W==null&&(W=this.Ja,this.Ja+=1);var G=su(this.La,W);W=sl(this.La,W);for(var s=new Uint8Array(G),u=0;u<G;u+=1)s[u]=ge[W+u];return s},h.prototype.get=function(W,G){G=G||{},W!=null&&this.bind(W)&&this.step(),W=[];for(var s=jo(this.La),u=0;u<s;u+=1)switch(ou(this.La,u)){case 1:var f=G.useBigInt?this.Cb(u):this.sb(u);W.push(f);break;case 2:W.push(this.sb(u));break;case 3:W.push(this.Db(u));break;case 4:W.push(this.getBlob(u));break;default:W.push(null)}return W},h.prototype.getColumnNames=function(){for(var W=[],G=rl(this.La),s=0;s<G;s+=1)W.push(au(this.La,s));return W},h.prototype.getAsObject=function(W,G){W=this.get(W,G),G=this.getColumnNames();for(var s={},u=0;u<G.length;u+=1)s[G[u]]=W[u];return s},h.prototype.getSQL=function(){return $o(this.La)},h.prototype.getNormalizedSQL=function(){return Qo(this.La)},h.prototype.run=function(W){return W!=null&&this.bind(W),this.step(),this.reset()},h.prototype.nb=function(W,G){G==null&&(G=this.Ja,this.Ja+=1),W=st(W);var s=Os(W);this.fb.push(s),this.db.handleError(nl(this.La,G,s,W.length-1,0))},h.prototype.wb=function(W,G){G==null&&(G=this.Ja,this.Ja+=1);var s=Os(W);this.fb.push(s),this.db.handleError(Gn(this.La,G,s,W.length,0))},h.prototype.mb=function(W,G){G==null&&(G=this.Ja,this.Ja+=1),this.db.handleError((W===(W|0)?tu:Ln)(this.La,G,W))},h.prototype.zb=function(W){W==null&&(W=this.Ja,this.Ja+=1),Gn(this.La,W,0,0,0)},h.prototype.ob=function(W,G){switch(G==null&&(G=this.Ja,this.Ja+=1),typeof W){case"string":this.nb(W,G);return;case"number":this.mb(W,G);return;case"bigint":this.nb(W.toString(),G);return;case"boolean":this.mb(W+0,G);return;case"object":if(W===null){this.zb(G);return}if(W.length!=null){this.wb(W,G);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+W+")."},h.prototype.yb=function(W){var G=this;return Object.keys(W).forEach(function(s){var u=Ws(G.La,s);u!==0&&G.ob(W[s],u)}),!0},h.prototype.xb=function(W){for(var G=0;G<W.length;G+=1)this.ob(W[G],G+1);return!0},h.prototype.reset=function(){return this.freemem(),uu(this.La)===0&&Pn(this.La)===0},h.prototype.freemem=function(){for(var W;(W=this.fb.pop())!==void 0;)Si(W)},h.prototype.free=function(){this.freemem();var W=ol(this.La)===0;return delete this.db.Za[this.La],this.La=0,W},g.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var W=Kr(),G=Jn(4);ce(R),ce(G);try{this.db.handleError(Di(this.db.db,this.eb,-1,R,G)),this.eb=K(G,"i32");var s=K(R,"i32");return s===0?(this.gb(),{done:!0}):(this.Ua=new h(s,this.db),this.db.Za[s]=this.Ua,{value:this.Ua,done:!1})}catch(u){throw this.ib=je(this.eb),this.gb(),u}finally{Jr(W)}},g.prototype.gb=function(){Si(this.Ya),this.Ya=null},g.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:je(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(g.prototype[Symbol.iterator]=function(){return this}),E.prototype.run=function(W,G){if(!this.db)throw"Database closed";if(G){W=this.prepare(W,G);try{W.step()}finally{W.free()}}else this.handleError(Le(this.db,W,0,0,R));return this},E.prototype.exec=function(W,G,s){if(!this.db)throw"Database closed";var u=Kr(),f=null;try{var y=dn(W)+1,_=Jn(y);Jt(W,ge,_,y);var k=_,A=Jn(4);for(W=[];K(k,"i8")!==0;){ce(R),ce(A),this.handleError(Di(this.db,k,-1,R,A));var H=K(R,"i32");if(k=K(A,"i32"),H!==0){for(y=null,f=new h(H,this),G!=null&&f.bind(G);f.step();)y===null&&(y={columns:f.getColumnNames(),values:[]},W.push(y)),y.values.push(f.get(null,s));f.free()}}return W}catch(D){throw f&&f.free(),D}finally{Jr(u)}},E.prototype.each=function(W,G,s,u,f){typeof G=="function"&&(u=s,s=G,G=void 0),W=this.prepare(W,G);try{for(;W.step();)s(W.getAsObject(null,f))}finally{W.free()}if(typeof u=="function")return u()},E.prototype.prepare=function(W,G){if(ce(R),this.handleError(Dn(this.db,W,-1,R,0)),W=K(R,"i32"),W===0)throw"Nothing to prepare";var s=new h(W,this);return G!=null&&s.bind(G),this.Za[W]=s},E.prototype.iterateStatements=function(W){return new g(W,this)},E.prototype.export=function(){Object.values(this.Za).forEach(function(G){G.free()}),Object.values(this.Na).forEach(zr),this.Na={},this.handleError(Me(this.db));var W=Ns(this.filename);return this.handleError(ve(this.filename,R)),this.db=K(R,"i32"),W},E.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(W){W.free()}),Object.values(this.Na).forEach(zr),this.Na={},this.handleError(Me(this.db)),xi("/"+this.filename),this.db=null)},E.prototype.handleError=function(W){if(W===0)return null;throw W=ru(this.db),Error(W)},E.prototype.getRowsModified=function(){return lt(this.db)},E.prototype.create_function=function(W,G){Object.prototype.hasOwnProperty.call(this.Na,W)&&(zr(this.Na[W]),delete this.Na[W]);var s=qs(function(u,f,y){f=c(f,y);try{var _=G.apply(null,f)}catch(k){Li(u,k,-1);return}o(u,_)},"viii");return this.Na[W]=s,this.handleError(Ho(this.db,W,G.length,1,0,s,0,0,0)),this},E.prototype.create_aggregate=function(W,G){var s=G.init||function(){return null},u=G.finalize||function(A){return A},f=G.step;if(!f)throw"An aggregate function must have a step function in "+W;var y={};Object.hasOwnProperty.call(this.Na,W)&&(zr(this.Na[W]),delete this.Na[W]),G=W+"__finalize",Object.hasOwnProperty.call(this.Na,G)&&(zr(this.Na[G]),delete this.Na[G]);var _=qs(function(A,H,D){var P=Jo(A,1);Object.hasOwnProperty.call(y,P)||(y[P]=s()),H=c(H,D),H=[y[P]].concat(H);try{y[P]=f.apply(null,H)}catch(ie){delete y[P],Li(A,ie,-1)}},"viii"),k=qs(function(A){var H=Jo(A,1);try{var D=u(y[H])}catch(P){delete y[H],Li(A,P,-1);return}o(A,D),delete y[H]},"vi");return this.Na[W]=_,this.Na[G]=k,this.handleError(Ho(this.db,W,f.length-1,1,0,0,_,k,0)),this},d.Database=E};var I=Object.assign({},d),M="./this.program",B=typeof window=="object",Y=typeof importScripts=="function",Z=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="",C,N,O,T,ne,Ne;Z?(b=Y?Cu.dirname(b)+"/":__dirname+"/",Ne=()=>{ne||(T=Cu,ne=Cu)},C=function(o,c){return Ne(),o=ne.normalize(o),T.readFileSync(o,c?void 0:"utf8")},O=o=>(o=C(o,!0),o.buffer||(o=new Uint8Array(o)),o),N=(o,c,h)=>{Ne(),o=ne.normalize(o),T.readFile(o,function(g,E){g?h(g):c(E.buffer)})},1<process.argv.length&&(M=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=d,d.inspect=function(){return"[Emscripten Module object]"}):(B||Y)&&(Y?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),b=b.indexOf("blob:")!==0?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",C=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.send(null),c.responseText},Y&&(O=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),N=(o,c,h)=>{var g=new XMLHttpRequest;g.open("GET",o,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?c(g.response):h()},g.onerror=h,g.send(null)});var ae=d.print||console.log.bind(console),_e=d.printErr||console.warn.bind(console);Object.assign(d,I),I=null,d.thisProgram&&(M=d.thisProgram);var xe;d.wasmBinary&&(xe=d.wasmBinary),d.noExitRuntime,typeof WebAssembly!="object"&&x("no native wasm support detected");var nt,Ke=!1,Wt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function It(o,c,h){var g=c+h;for(h=c;o[h]&&!(h>=g);)++h;if(16<h-c&&o.buffer&&Wt)return Wt.decode(o.subarray(c,h));for(g="";c<h;){var E=o[c++];if(E&128){var R=o[c++]&63;if((E&224)==192)g+=String.fromCharCode((E&31)<<6|R);else{var $=o[c++]&63;E=(E&240)==224?(E&15)<<12|R<<6|$:(E&7)<<18|R<<12|$<<6|o[c++]&63,65536>E?g+=String.fromCharCode(E):(E-=65536,g+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else g+=String.fromCharCode(E)}return g}function je(o,c){return o?It(qe,o,c):""}function Jt(o,c,h,g){if(!(0<g))return 0;var E=h;g=h+g-1;for(var R=0;R<o.length;++R){var $=o.charCodeAt(R);if(55296<=$&&57343>=$){var ve=o.charCodeAt(++R);$=65536+(($&1023)<<10)|ve&1023}if(127>=$){if(h>=g)break;c[h++]=$}else{if(2047>=$){if(h+1>=g)break;c[h++]=192|$>>6}else{if(65535>=$){if(h+2>=g)break;c[h++]=224|$>>12}else{if(h+3>=g)break;c[h++]=240|$>>18,c[h++]=128|$>>12&63}c[h++]=128|$>>6&63}c[h++]=128|$&63}}return c[h]=0,h-E}function dn(o){for(var c=0,h=0;h<o.length;++h){var g=o.charCodeAt(h);127>=g?c++:2047>=g?c+=2:55296<=g&&57343>=g?(c+=4,++h):c+=3}return c}var gt,ge,qe,ct,we,De,Mt,Or;function hs(){var o=nt.buffer;gt=o,d.HEAP8=ge=new Int8Array(o),d.HEAP16=ct=new Int16Array(o),d.HEAP32=we=new Int32Array(o),d.HEAPU8=qe=new Uint8Array(o),d.HEAPU16=new Uint16Array(o),d.HEAPU32=De=new Uint32Array(o),d.HEAPF32=Mt=new Float32Array(o),d.HEAPF64=Or=new Float64Array(o)}var En,pn=[],fe=[],Be=[];function Hn(){var o=d.preRun.shift();pn.unshift(o)}var Gt=0,Je=null;function x(o){throw d.onAbort&&d.onAbort(o),o="Aborted("+o+")",_e(o),Ke=!0,new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info.")}function q(){return S.startsWith("data:application/octet-stream;base64,")}var S;if(S="sql-wasm.wasm",!q()){var L=S;S=d.locateFile?d.locateFile(L,b):b+L}function z(){var o=S;try{if(o==S&&xe)return new Uint8Array(xe);if(O)return O(o);throw"both async and sync fetching of the wasm failed"}catch(c){x(c)}}function ee(){if(!xe&&(B||Y)){if(typeof fetch=="function"&&!S.startsWith("file://"))return fetch(S,{credentials:"same-origin"}).then(function(o){if(!o.ok)throw"failed to load wasm binary file at '"+S+"'";return o.arrayBuffer()}).catch(function(){return z()});if(N)return new Promise(function(o,c){N(S,function(h){o(new Uint8Array(h))},c)})}return Promise.resolve().then(function(){return z()})}var Q,V;function re(o){for(;0<o.length;)o.shift()(d)}function K(o,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":return ge[o>>0];case"i8":return ge[o>>0];case"i16":return ct[o>>1];case"i32":return we[o>>2];case"i64":return we[o>>2];case"float":return Mt[o>>2];case"double":return Or[o>>3];case"*":return De[o>>2];default:x("invalid type for getValue: "+c)}return null}function ce(o){var c="i32";switch(c.endsWith("*")&&(c="*"),c){case"i1":ge[o>>0]=0;break;case"i8":ge[o>>0]=0;break;case"i16":ct[o>>1]=0;break;case"i32":we[o>>2]=0;break;case"i64":V=[0,(Q=0,1<=+Math.abs(Q)?0<Q?(Math.min(+Math.floor(Q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],we[o>>2]=V[0],we[o+4>>2]=V[1];break;case"float":Mt[o>>2]=0;break;case"double":Or[o>>3]=0;break;case"*":De[o>>2]=0;break;default:x("invalid type for setValue: "+c)}}var oe=(o,c)=>{for(var h=0,g=o.length-1;0<=g;g--){var E=o[g];E==="."?o.splice(g,1):E===".."?(o.splice(g,1),h++):h&&(o.splice(g,1),h--)}if(c)for(;h;h--)o.unshift("..");return o},ue=o=>{var c=o.charAt(0)==="/",h=o.substr(-1)==="/";return(o=oe(o.split("/").filter(g=>!!g),!c).join("/"))||c||(o="."),o&&h&&(o+="/"),(c?"/":"")+o},be=o=>{var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(o).slice(1);return o=c[0],c=c[1],!o&&!c?".":(c&&(c=c.substr(0,c.length-1)),o+c)},Ee=o=>{if(o==="/")return"/";o=ue(o),o=o.replace(/\/$/,"");var c=o.lastIndexOf("/");return c===-1?o:o.substr(c+1)};function He(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var o=new Uint8Array(1);return()=>(crypto.getRandomValues(o),o[0])}if(Z)try{var c=Cu;return()=>c.randomBytes(1)[0]}catch{}return()=>x("randomDevice")}function Pe(){for(var o="",c=!1,h=arguments.length-1;-1<=h&&!c;h--){if(c=0<=h?arguments[h]:"/",typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";o=c+"/"+o,c=c.charAt(0)==="/"}return o=oe(o.split("/").filter(g=>!!g),!c).join("/"),(c?"/":"")+o||"."}function st(o,c){var h=Array(dn(o)+1);return o=Jt(o,h,0,h.length),c&&(h.length=o),h}var me=[];function Cn(o,c){me[o]={input:[],output:[],Xa:c},Ni(o,gi)}var gi={open:function(o){var c=me[o.node.rdev];if(!c)throw new j(43);o.tty=c,o.seekable=!1},close:function(o){o.tty.Xa.fsync(o.tty)},fsync:function(o){o.tty.Xa.fsync(o.tty)},read:function(o,c,h,g){if(!o.tty||!o.tty.Xa.tb)throw new j(60);for(var E=0,R=0;R<g;R++){try{var $=o.tty.Xa.tb(o.tty)}catch{throw new j(29)}if($===void 0&&E===0)throw new j(6);if($==null)break;E++,c[h+R]=$}return E&&(o.node.timestamp=Date.now()),E},write:function(o,c,h,g){if(!o.tty||!o.tty.Xa.jb)throw new j(60);try{for(var E=0;E<g;E++)o.tty.Xa.jb(o.tty,c[h+E])}catch{throw new j(29)}return g&&(o.node.timestamp=Date.now()),E}},Xt={tb:function(o){if(!o.input.length){var c=null;if(Z){var h=Buffer.alloc(256),g=0;try{g=T.readSync(process.stdin.fd,h,0,256,-1)}catch(E){if(E.toString().includes("EOF"))g=0;else throw E}0<g?c=h.slice(0,g).toString("utf-8"):c=null}else typeof window<"u"&&typeof window.prompt=="function"?(c=window.prompt("Input: "),c!==null&&(c+=`
`)):typeof readline=="function"&&(c=readline(),c!==null&&(c+=`
`));if(!c)return null;o.input=st(c,!0)}return o.input.shift()},jb:function(o,c){c===null||c===10?(ae(It(o.output,0)),o.output=[]):c!=0&&o.output.push(c)},fsync:function(o){o.output&&0<o.output.length&&(ae(It(o.output,0)),o.output=[])}},ds={jb:function(o,c){c===null||c===10?(_e(It(o.output,0)),o.output=[]):c!=0&&o.output.push(c)},fsync:function(o){o.output&&0<o.output.length&&(_e(It(o.output,0)),o.output=[])}},le={Qa:null,Ra:function(){return le.createNode(null,"/",16895,0)},createNode:function(o,c,h,g){if((h&61440)===24576||(h&61440)===4096)throw new j(63);return le.Qa||(le.Qa={dir:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa,lookup:le.Ga.lookup,ab:le.Ga.ab,rename:le.Ga.rename,unlink:le.Ga.unlink,rmdir:le.Ga.rmdir,readdir:le.Ga.readdir,symlink:le.Ga.symlink},stream:{Ta:le.Ha.Ta}},file:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa},stream:{Ta:le.Ha.Ta,read:le.Ha.read,write:le.Ha.write,lb:le.Ha.lb,bb:le.Ha.bb,cb:le.Ha.cb}},link:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa,readlink:le.Ga.readlink},stream:{}},pb:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa},stream:ws}}),h=Oo(o,c,h,g),(h.mode&61440)===16384?(h.Ga=le.Qa.dir.node,h.Ha=le.Qa.dir.stream,h.Ia={}):(h.mode&61440)===32768?(h.Ga=le.Qa.file.node,h.Ha=le.Qa.file.stream,h.Ma=0,h.Ia=null):(h.mode&61440)===40960?(h.Ga=le.Qa.link.node,h.Ha=le.Qa.link.stream):(h.mode&61440)===8192&&(h.Ga=le.Qa.pb.node,h.Ha=le.Qa.pb.stream),h.timestamp=Date.now(),o&&(o.Ia[c]=h,o.timestamp=h.timestamp),h},Jb:function(o){return o.Ia?o.Ia.subarray?o.Ia.subarray(0,o.Ma):new Uint8Array(o.Ia):new Uint8Array(0)},qb:function(o,c){var h=o.Ia?o.Ia.length:0;h>=c||(c=Math.max(c,h*(1048576>h?2:1.125)>>>0),h!=0&&(c=Math.max(c,256)),h=o.Ia,o.Ia=new Uint8Array(c),0<o.Ma&&o.Ia.set(h.subarray(0,o.Ma),0))},Gb:function(o,c){if(o.Ma!=c)if(c==0)o.Ia=null,o.Ma=0;else{var h=o.Ia;o.Ia=new Uint8Array(c),h&&o.Ia.set(h.subarray(0,Math.min(c,o.Ma))),o.Ma=c}},Ga:{Pa:function(o){var c={};return c.dev=(o.mode&61440)===8192?o.id:1,c.ino=o.id,c.mode=o.mode,c.nlink=1,c.uid=0,c.gid=0,c.rdev=o.rdev,(o.mode&61440)===16384?c.size=4096:(o.mode&61440)===32768?c.size=o.Ma:(o.mode&61440)===40960?c.size=o.link.length:c.size=0,c.atime=new Date(o.timestamp),c.mtime=new Date(o.timestamp),c.ctime=new Date(o.timestamp),c.Ab=4096,c.blocks=Math.ceil(c.size/c.Ab),c},Oa:function(o,c){c.mode!==void 0&&(o.mode=c.mode),c.timestamp!==void 0&&(o.timestamp=c.timestamp),c.size!==void 0&&le.Gb(o,c.size)},lookup:function(){throw Vn[44]},ab:function(o,c,h,g){return le.createNode(o,c,h,g)},rename:function(o,c,h){if((o.mode&61440)===16384){try{var g=dr(c,h)}catch{}if(g)for(var E in g.Ia)throw new j(55)}delete o.parent.Ia[o.name],o.parent.timestamp=Date.now(),o.name=h,c.Ia[h]=o,c.timestamp=o.parent.timestamp,o.parent=c},unlink:function(o,c){delete o.Ia[c],o.timestamp=Date.now()},rmdir:function(o,c){var h=dr(o,c),g;for(g in h.Ia)throw new j(55);delete o.Ia[c],o.timestamp=Date.now()},readdir:function(o){var c=[".",".."],h;for(h in o.Ia)o.Ia.hasOwnProperty(h)&&c.push(h);return c},symlink:function(o,c,h){return o=le.createNode(o,c,41471,0),o.link=h,o},readlink:function(o){if((o.mode&61440)!==40960)throw new j(28);return o.link}},Ha:{read:function(o,c,h,g,E){var R=o.node.Ia;if(E>=o.node.Ma)return 0;if(o=Math.min(o.node.Ma-E,g),8<o&&R.subarray)c.set(R.subarray(E,E+o),h);else for(g=0;g<o;g++)c[h+g]=R[E+g];return o},write:function(o,c,h,g,E,R){if(c.buffer===ge.buffer&&(R=!1),!g)return 0;if(o=o.node,o.timestamp=Date.now(),c.subarray&&(!o.Ia||o.Ia.subarray)){if(R)return o.Ia=c.subarray(h,h+g),o.Ma=g;if(o.Ma===0&&E===0)return o.Ia=c.slice(h,h+g),o.Ma=g;if(E+g<=o.Ma)return o.Ia.set(c.subarray(h,h+g),E),g}if(le.qb(o,E+g),o.Ia.subarray&&c.subarray)o.Ia.set(c.subarray(h,h+g),E);else for(R=0;R<g;R++)o.Ia[E+R]=c[h+R];return o.Ma=Math.max(o.Ma,E+g),g},Ta:function(o,c,h){if(h===1?c+=o.position:h===2&&(o.node.mode&61440)===32768&&(c+=o.node.Ma),0>c)throw new j(28);return c},lb:function(o,c,h){le.qb(o.node,c+h),o.node.Ma=Math.max(o.node.Ma,c+h)},bb:function(o,c,h,g,E){if((o.node.mode&61440)!==32768)throw new j(43);if(o=o.node.Ia,E&2||o.buffer!==gt){if((0<h||h+c<o.length)&&(o.subarray?o=o.subarray(h,h+c):o=Array.prototype.slice.call(o,h,h+c)),h=!0,c=65536*Math.ceil(c/65536),(E=Fo(65536,c))?(qe.fill(0,E,E+c),c=E):c=0,!c)throw new j(48);ge.set(o,c)}else h=!1,c=o.byteOffset;return{Fb:c,vb:h}},cb:function(o,c,h,g,E){if((o.node.mode&61440)!==32768)throw new j(43);return E&2||le.Ha.write(o,c,0,g,h,!1),0}}},Bt=null,te={},Sn=[],Yt=1,qn=null,ps=!0,j=null,Vn={},Ft=(o,c={})=>{if(o=Pe("/",o),!o)return{path:"",node:null};if(c=Object.assign({rb:!0,kb:0},c),8<c.kb)throw new j(32);o=oe(o.split("/").filter($=>!!$),!1);for(var h=Bt,g="/",E=0;E<o.length;E++){var R=E===o.length-1;if(R&&c.parent)break;if(h=dr(h,o[E]),g=ue(g+"/"+o[E]),h.Va&&(!R||R&&c.rb)&&(h=h.Va.root),!R||c.Sa){for(R=0;(h.mode&61440)===40960;)if(h=So(g),g=Pe(be(g),h),h=Ft(g,{kb:c.kb+1}).node,40<R++)throw new j(32)}}return{path:g,node:h}},bi=o=>{for(var c;;){if(o===o.parent)return o=o.Ra.ub,c?o[o.length-1]!=="/"?o+"/"+c:o+c:o;c=c?o.name+"/"+c:o.name,o=o.parent}},ms=(o,c)=>{for(var h=0,g=0;g<c.length;g++)h=(h<<5)-h+c.charCodeAt(g)|0;return(o+h>>>0)%qn.length},Wr=o=>{var c=ms(o.parent.id,o.name);if(qn[c]===o)qn[c]=o.Wa;else for(c=qn[c];c;){if(c.Wa===o){c.Wa=o.Wa;break}c=c.Wa}},dr=(o,c)=>{var h;if(h=(h=$r(o,"x"))?h:o.Ga.lookup?0:2)throw new j(h,o);for(h=qn[ms(o.id,c)];h;h=h.Wa){var g=h.name;if(h.parent.id===o.id&&g===c)return h}return o.Ga.lookup(o,c)},Oo=(o,c,h,g)=>(o=new Mo(o,c,h,g),c=ms(o.parent.id,o.name),o.Wa=qn[c],qn[c]=o),tl={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Wo=o=>{var c=["r","w","rw"][o&3];return o&512&&(c+="w"),c},$r=(o,c)=>{if(ps)return 0;if(!c.includes("r")||o.mode&292){if(c.includes("w")&&!(o.mode&146)||c.includes("x")&&!(o.mode&73))return 2}else return 2;return 0},ys=(o,c)=>{try{return dr(o,c),20}catch{}return $r(o,"wx")},Io=(o,c,h)=>{try{var g=dr(o,c)}catch(E){return E.Ka}if(o=$r(o,"wx"))return o;if(h){if((g.mode&61440)!==16384)return 54;if(g===g.parent||bi(g)==="/")return 10}else if((g.mode&61440)===16384)return 31;return 0},Ao=(o=0)=>{for(;4096>=o;o++)if(!Sn[o])return o;throw new j(33)},On=(o,c)=>(Wi||(Wi=function(){this.$a={}},Wi.prototype={},Object.defineProperties(Wi.prototype,{object:{get:function(){return this.node},set:function(h){this.node=h}},flags:{get:function(){return this.$a.flags},set:function(h){this.$a.flags=h}},position:{get:function(){return this.$a.position},set:function(h){this.$a.position=h}}})),o=Object.assign(new Wi,o),c=Ao(c),o.fd=c,Sn[c]=o),ws={open:o=>{o.Ha=te[o.node.rdev].Ha,o.Ha.open&&o.Ha.open(o)},Ta:()=>{throw new j(70)}},Ni=(o,c)=>{te[o]={Ha:c}},To=(o,c)=>{var h=c==="/",g=!c;if(h&&Bt)throw new j(10);if(!h&&!g){var E=Ft(c,{rb:!1});if(c=E.path,E=E.node,E.Va)throw new j(10);if((E.mode&61440)!==16384)throw new j(54)}c={type:o,Kb:{},ub:c,Eb:[]},o=o.Ra(c),o.Ra=c,c.root=o,h?Bt=o:E&&(E.Va=c,E.Ra&&E.Ra.Eb.push(c))},vi=(o,c,h)=>{var g=Ft(o,{parent:!0}).node;if(o=Ee(o),!o||o==="."||o==="..")throw new j(28);var E=ys(g,o);if(E)throw new j(E);if(!g.Ga.ab)throw new j(63);return g.Ga.ab(g,o,c,h)},an=(o,c)=>vi(o,(c!==void 0?c:511)&1023|16384,0),_i=(o,c,h)=>{typeof h>"u"&&(h=c,c=438),vi(o,c|8192,h)},gs=(o,c)=>{if(!Pe(o))throw new j(44);var h=Ft(c,{parent:!0}).node;if(!h)throw new j(44);c=Ee(c);var g=ys(h,c);if(g)throw new j(g);if(!h.Ga.symlink)throw new j(63);h.Ga.symlink(h,c,o)},ko=o=>{var c=Ft(o,{parent:!0}).node;o=Ee(o);var h=dr(c,o),g=Io(c,o,!0);if(g)throw new j(g);if(!c.Ga.rmdir)throw new j(63);if(h.Va)throw new j(10);c.Ga.rmdir(c,o),Wr(h)},xi=o=>{var c=Ft(o,{parent:!0}).node;if(!c)throw new j(44);o=Ee(o);var h=dr(c,o),g=Io(c,o,!1);if(g)throw new j(g);if(!c.Ga.unlink)throw new j(63);if(h.Va)throw new j(10);c.Ga.unlink(c,o),Wr(h)},So=o=>{if(o=Ft(o).node,!o)throw new j(44);if(!o.Ga.readlink)throw new j(28);return Pe(bi(o.parent),o.Ga.readlink(o))},Qr=(o,c)=>{if(o=Ft(o,{Sa:!c}).node,!o)throw new j(44);if(!o.Ga.Pa)throw new j(63);return o.Ga.Pa(o)},Ro=o=>Qr(o,!0),bs=(o,c)=>{if(o=typeof o=="string"?Ft(o,{Sa:!0}).node:o,!o.Ga.Oa)throw new j(63);o.Ga.Oa(o,{mode:c&4095|o.mode&-4096,timestamp:Date.now()})},jr=(o,c)=>{if(0>c)throw new j(28);if(o=typeof o=="string"?Ft(o,{Sa:!0}).node:o,!o.Ga.Oa)throw new j(63);if((o.mode&61440)===16384)throw new j(31);if((o.mode&61440)!==32768)throw new j(28);var h=$r(o,"w");if(h)throw new j(h);o.Ga.Oa(o,{size:c,timestamp:Date.now()})},pr=(o,c,h)=>{if(o==="")throw new j(44);if(typeof c=="string"){var g=tl[c];if(typeof g>"u")throw Error("Unknown file open mode: "+c);c=g}if(h=c&64?(typeof h>"u"?438:h)&4095|32768:0,typeof o=="object")var E=o;else{o=ue(o);try{E=Ft(o,{Sa:!(c&131072)}).node}catch{}}if(g=!1,c&64)if(E){if(c&128)throw new j(20)}else E=vi(o,h,0),g=!0;if(!E)throw new j(44);if((E.mode&61440)===8192&&(c&=-513),c&65536&&(E.mode&61440)!==16384)throw new j(54);if(!g&&(h=E?(E.mode&61440)===40960?32:(E.mode&61440)===16384&&(Wo(c)!=="r"||c&512)?31:$r(E,Wo(c)):44))throw new j(h);return c&512&&!g&&jr(E,0),c&=-131713,E=On({node:E,path:bi(E),flags:c,seekable:!0,position:0,Ha:E.Ha,Ib:[],error:!1}),E.Ha.open&&E.Ha.open(E),!d.logReadFiles||c&1||(Ii||(Ii={}),o in Ii||(Ii[o]=1)),E},Ve=o=>{if(o.fd===null)throw new j(8);o.hb&&(o.hb=null);try{o.Ha.close&&o.Ha.close(o)}catch(c){throw c}finally{Sn[o.fd]=null}o.fd=null},Hr=(o,c,h)=>{if(o.fd===null)throw new j(8);if(!o.seekable||!o.Ha.Ta)throw new j(70);if(h!=0&&h!=1&&h!=2)throw new j(28);o.position=o.Ha.Ta(o,c,h),o.Ib=[]},Ei=(o,c,h,g,E)=>{if(0>g||0>E)throw new j(28);if(o.fd===null)throw new j(8);if((o.flags&2097155)===1)throw new j(8);if((o.node.mode&61440)===16384)throw new j(31);if(!o.Ha.read)throw new j(28);var R=typeof E<"u";if(!R)E=o.position;else if(!o.seekable)throw new j(70);return c=o.Ha.read(o,c,h,g,E),R||(o.position+=c),c},mr=(o,c,h,g,E)=>{if(0>g||0>E)throw new j(28);if(o.fd===null)throw new j(8);if(!(o.flags&2097155))throw new j(8);if((o.node.mode&61440)===16384)throw new j(31);if(!o.Ha.write)throw new j(28);o.seekable&&o.flags&1024&&Hr(o,0,2);var R=typeof E<"u";if(!R)E=o.position;else if(!o.seekable)throw new j(70);return c=o.Ha.write(o,c,h,g,E,void 0),R||(o.position+=c),c},Ns=o=>{var c,h=pr(o,h||0);o=Qr(o).size;var g=new Uint8Array(o);return Ei(h,g,0,o,0),c=g,Ve(h),c},Ci=()=>{j||(j=function(o,c){this.node=c,this.Hb=function(h){this.Ka=h},this.Hb(o),this.message="FS error"},j.prototype=Error(),j.prototype.constructor=j,[44].forEach(o=>{Vn[o]=new j(o),Vn[o].stack="<generic error, no stack>"}))},qi,mn=(o,c)=>{var h=0;return o&&(h|=365),c&&(h|=146),h},Rn=(o,c,h)=>{o=ue("/dev/"+o);var g=mn(!!c,!!h);Oi||(Oi=64);var E=Oi++<<8|0;Ni(E,{open:R=>{R.seekable=!1},close:()=>{h&&h.buffer&&h.buffer.length&&h(10)},read:(R,$,ve,Me)=>{for(var Le=0,lt=0;lt<Me;lt++){try{var Dn=c()}catch{throw new j(29)}if(Dn===void 0&&Le===0)throw new j(6);if(Dn==null)break;Le++,$[ve+lt]=Dn}return Le&&(R.node.timestamp=Date.now()),Le},write:(R,$,ve,Me)=>{for(var Le=0;Le<Me;Le++)try{h($[ve+Le])}catch{throw new j(29)}return Me&&(R.node.timestamp=Date.now()),Le}}),_i(o,g,E)},Oi,Ge={},Wi,Ii;function zn(o,c,h){if(c.charAt(0)==="/")return c;if(o=o===-100?"/":yn(o).path,c.length==0){if(!h)throw new j(44);return o}return ue(o+"/"+c)}function Ai(o,c,h){try{var g=o(c)}catch(E){if(E&&E.node&&ue(c)!==ue(bi(E.node)))return-54;throw E}return we[h>>2]=g.dev,we[h+8>>2]=g.ino,we[h+12>>2]=g.mode,De[h+16>>2]=g.nlink,we[h+20>>2]=g.uid,we[h+24>>2]=g.gid,we[h+28>>2]=g.rdev,V=[g.size>>>0,(Q=g.size,1<=+Math.abs(Q)?0<Q?(Math.min(+Math.floor(Q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],we[h+40>>2]=V[0],we[h+44>>2]=V[1],we[h+48>>2]=4096,we[h+52>>2]=g.blocks,V=[Math.floor(g.atime.getTime()/1e3)>>>0,(Q=Math.floor(g.atime.getTime()/1e3),1<=+Math.abs(Q)?0<Q?(Math.min(+Math.floor(Q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],we[h+56>>2]=V[0],we[h+60>>2]=V[1],De[h+64>>2]=0,V=[Math.floor(g.mtime.getTime()/1e3)>>>0,(Q=Math.floor(g.mtime.getTime()/1e3),1<=+Math.abs(Q)?0<Q?(Math.min(+Math.floor(Q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],we[h+72>>2]=V[0],we[h+76>>2]=V[1],De[h+80>>2]=0,V=[Math.floor(g.ctime.getTime()/1e3)>>>0,(Q=Math.floor(g.ctime.getTime()/1e3),1<=+Math.abs(Q)?0<Q?(Math.min(+Math.floor(Q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],we[h+88>>2]=V[0],we[h+92>>2]=V[1],De[h+96>>2]=0,V=[g.ino>>>0,(Q=g.ino,1<=+Math.abs(Q)?0<Q?(Math.min(+Math.floor(Q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],we[h+104>>2]=V[0],we[h+108>>2]=V[1],0}var Vr=void 0;function Ti(){return Vr+=4,we[Vr-4>>2]}function yn(o){if(o=Sn[o],!o)throw new j(8);return o}function vs(o){return De[o>>2]+4294967296*we[o+4>>2]}function Do(o){var c=dn(o)+1,h=ki(c);return h&&Jt(o,ge,h,c),h}function Ya(o,c,h){function g(Me){return(Me=Me.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Me[1]:"GMT"}var E=new Date().getFullYear(),R=new Date(E,0,1),$=new Date(E,6,1);E=R.getTimezoneOffset();var ve=$.getTimezoneOffset();we[o>>2]=60*Math.max(E,ve),we[c>>2]=+(E!=ve),o=g(R),c=g($),o=Do(o),c=Do(c),ve<E?(De[h>>2]=o,De[h+4>>2]=c):(De[h>>2]=c,De[h+4>>2]=o)}function _s(o,c,h){_s.Bb||(_s.Bb=!0,Ya(o,c,h))}var Lo;Lo=Z?()=>{var o=process.hrtime();return 1e3*o[0]+o[1]/1e6}:()=>performance.now();var xs={};function Po(){if(!Es){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:M||"./this.program"},c;for(c in xs)xs[c]===void 0?delete o[c]:o[c]=xs[c];var h=[];for(c in o)h.push(c+"="+o[c]);Es=h}return Es}var Es,Kn=void 0,Cs=[];function qs(o,c){if(!Kn){Kn=new WeakMap;var h=En.length;if(Kn)for(var g=0;g<0+h;g++){var E=En.get(g);E&&Kn.set(E,g)}}if(Kn.has(o))return Kn.get(o);if(Cs.length)h=Cs.pop();else{try{En.grow(1)}catch(ve){throw ve instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":ve}h=En.length-1}try{En.set(h,o)}catch(ve){if(!(ve instanceof TypeError))throw ve;if(typeof WebAssembly.Function=="function"){g=WebAssembly.Function,E={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var R={parameters:[],results:c[0]=="v"?[]:[E[c[0]]]},$=1;$<c.length;++$)R.parameters.push(E[c[$]]);c=new g(R,o)}else{for(g=[1,96],E=c.slice(0,1),c=c.slice(1),R={i:127,p:127,j:126,f:125,d:124},$=c.length,128>$?g.push($):g.push($%128|128,$>>7),$=0;$<c.length;++$)g.push(R[c[$]]);E=="v"?g.push(0):g.push(1,R[E]),c=[0,97,115,109,1,0,0,0,1],E=g.length,128>E?c.push(E):c.push(E%128|128,E>>7),c.push.apply(c,g),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),c=new WebAssembly.Module(new Uint8Array(c)),c=new WebAssembly.Instance(c,{e:{f:o}}).exports.f}En.set(h,c)}return Kn.set(o,h),h}function zr(o){Kn.delete(En.get(o)),Cs.push(o)}function Os(o){var c=ki(o.length);return o.subarray||o.slice||(o=new Uint8Array(o)),qe.set(o,c),c}function Za(o,c,h,g){var E={string:Le=>{var lt=0;if(Le!=null&&Le!==0){var Dn=(Le.length<<2)+1;lt=Jn(Dn),Jt(Le,qe,lt,Dn)}return lt},array:Le=>{var lt=Jn(Le.length);return ge.set(Le,lt),lt}};o=d["_"+o];var R=[],$=0;if(g)for(var ve=0;ve<g.length;ve++){var Me=E[h[ve]];Me?($===0&&($=Kr()),R[ve]=Me(g[ve])):R[ve]=g[ve]}return h=o.apply(null,R),h=function(Le){return $!==0&&Jr($),c==="string"?je(Le):c==="boolean"?!!Le:Le}(h)}function Mo(o,c,h,g){o||(o=this),this.parent=o,this.Ra=o.Ra,this.Va=null,this.id=Yt++,this.name=c,this.mode=h,this.Ga={},this.Ha={},this.rdev=g}Object.defineProperties(Mo.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(o){o?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(o){o?this.mode|=146:this.mode&=-147}}}),Ci(),qn=Array(4096),To(le,"/"),an("/tmp"),an("/home"),an("/home/web_user"),(()=>{an("/dev"),Ni(259,{read:()=>0,write:(c,h,g,E)=>E}),_i("/dev/null",259),Cn(1280,Xt),Cn(1536,ds),_i("/dev/tty",1280),_i("/dev/tty1",1536);var o=He();Rn("random",o),Rn("urandom",o),an("/dev/shm"),an("/dev/shm/tmp")})(),(()=>{an("/proc");var o=an("/proc/self");an("/proc/self/fd"),To({Ra:()=>{var c=Oo(o,"fd",16895,73);return c.Ga={lookup:(h,g)=>{var E=Sn[+g];if(!E)throw new j(8);return h={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>E.path}},h.parent=h}},c}},"/proc/self/fd")})();var eu={a:function(o,c,h,g){x("Assertion failed: "+je(o)+", at: "+[c?je(c):"unknown filename",h,g?je(g):"unknown function"])},h:function(o,c){try{return o=je(o),bs(o,c),0}catch(h){if(typeof Ge>"u"||!(h instanceof j))throw h;return-h.Ka}},H:function(o,c,h){try{if(c=je(c),c=zn(o,c),h&-8)return-28;var g=Ft(c,{Sa:!0}).node;return g?(o="",h&4&&(o+="r"),h&2&&(o+="w"),h&1&&(o+="x"),o&&$r(g,o)?-2:0):-44}catch(E){if(typeof Ge>"u"||!(E instanceof j))throw E;return-E.Ka}},i:function(o,c){try{var h=Sn[o];if(!h)throw new j(8);return bs(h.node,c),0}catch(g){if(typeof Ge>"u"||!(g instanceof j))throw g;return-g.Ka}},g:function(o){try{var c=Sn[o];if(!c)throw new j(8);var h=c.node,g=typeof h=="string"?Ft(h,{Sa:!0}).node:h;if(!g.Ga.Oa)throw new j(63);return g.Ga.Oa(g,{timestamp:Date.now()}),0}catch(E){if(typeof Ge>"u"||!(E instanceof j))throw E;return-E.Ka}},b:function(o,c,h){Vr=h;try{var g=yn(o);switch(c){case 0:var E=Ti();return 0>E?-28:On(g,E).fd;case 1:case 2:return 0;case 3:return g.flags;case 4:return E=Ti(),g.flags|=E,0;case 5:return E=Ti(),ct[E+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return we[Bo()>>2]=28,-1;default:return-28}}catch(R){if(typeof Ge>"u"||!(R instanceof j))throw R;return-R.Ka}},G:function(o,c){try{var h=yn(o);return Ai(Qr,h.path,c)}catch(g){if(typeof Ge>"u"||!(g instanceof j))throw g;return-g.Ka}},l:function(o,c,h){try{if(c=h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN,isNaN(c))return-61;var g=Sn[o];if(!g)throw new j(8);if(!(g.flags&2097155))throw new j(28);return jr(g.node,c),0}catch(E){if(typeof Ge>"u"||!(E instanceof j))throw E;return-E.Ka}},B:function(o,c){try{if(c===0)return-28;var h=dn("/")+1;return c<h?-68:(Jt("/",qe,o,c),h)}catch(g){if(typeof Ge>"u"||!(g instanceof j))throw g;return-g.Ka}},E:function(o,c){try{return o=je(o),Ai(Ro,o,c)}catch(h){if(typeof Ge>"u"||!(h instanceof j))throw h;return-h.Ka}},y:function(o,c,h){try{return c=je(c),c=zn(o,c),c=ue(c),c[c.length-1]==="/"&&(c=c.substr(0,c.length-1)),an(c,h),0}catch(g){if(typeof Ge>"u"||!(g instanceof j))throw g;return-g.Ka}},D:function(o,c,h,g){try{c=je(c);var E=g&256;return c=zn(o,c,g&4096),Ai(E?Ro:Qr,c,h)}catch(R){if(typeof Ge>"u"||!(R instanceof j))throw R;return-R.Ka}},v:function(o,c,h,g){Vr=g;try{c=je(c),c=zn(o,c);var E=g?Ti():0;return pr(c,h,E).fd}catch(R){if(typeof Ge>"u"||!(R instanceof j))throw R;return-R.Ka}},t:function(o,c,h,g){try{if(c=je(c),c=zn(o,c),0>=g)return-28;var E=So(c),R=Math.min(g,dn(E)),$=ge[h+R];return Jt(E,qe,h,g+1),ge[h+R]=$,R}catch(ve){if(typeof Ge>"u"||!(ve instanceof j))throw ve;return-ve.Ka}},s:function(o){try{return o=je(o),ko(o),0}catch(c){if(typeof Ge>"u"||!(c instanceof j))throw c;return-c.Ka}},F:function(o,c){try{return o=je(o),Ai(Qr,o,c)}catch(h){if(typeof Ge>"u"||!(h instanceof j))throw h;return-h.Ka}},p:function(o,c,h){try{return c=je(c),c=zn(o,c),h===0?xi(c):h===512?ko(c):x("Invalid flags passed to unlinkat"),0}catch(g){if(typeof Ge>"u"||!(g instanceof j))throw g;return-g.Ka}},o:function(o,c,h){try{if(c=je(c),c=zn(o,c,!0),h){var g=vs(h),E=we[h+8>>2];R=1e3*g+E/1e6,h+=16,g=vs(h),E=we[h+8>>2],$=1e3*g+E/1e6}else var R=Date.now(),$=R;o=R;var ve=Ft(c,{Sa:!0}).node;return ve.Ga.Oa(ve,{timestamp:Math.max(o,$)}),0}catch(Me){if(typeof Ge>"u"||!(Me instanceof j))throw Me;return-Me.Ka}},e:function(){return Date.now()},j:function(o,c){o=new Date(1e3*vs(o)),we[c>>2]=o.getSeconds(),we[c+4>>2]=o.getMinutes(),we[c+8>>2]=o.getHours(),we[c+12>>2]=o.getDate(),we[c+16>>2]=o.getMonth(),we[c+20>>2]=o.getFullYear()-1900,we[c+24>>2]=o.getDay();var h=new Date(o.getFullYear(),0,1);we[c+28>>2]=(o.getTime()-h.getTime())/864e5|0,we[c+36>>2]=-(60*o.getTimezoneOffset());var g=new Date(o.getFullYear(),6,1).getTimezoneOffset();h=h.getTimezoneOffset(),we[c+32>>2]=(g!=h&&o.getTimezoneOffset()==Math.min(h,g))|0},w:function(o,c,h,g,E,R){try{var $=yn(g);if(c&2&&!(h&2)&&($.flags&2097155)!==2)throw new j(2);if(($.flags&2097155)===1)throw new j(2);if(!$.Ha.bb)throw new j(43);var ve=$.Ha.bb($,o,E,c,h),Me=ve.Fb;return we[R>>2]=ve.vb,Me}catch(Le){if(typeof Ge>"u"||!(Le instanceof j))throw Le;return-Le.Ka}},x:function(o,c,h,g,E,R){try{var $=yn(E);if(h&2){var ve=qe.slice(o,o+c);$&&$.Ha.cb&&$.Ha.cb($,ve,R,c,g)}}catch(Me){if(typeof Ge>"u"||!(Me instanceof j))throw Me;return-Me.Ka}},n:_s,q:function(){return 2147483648},d:Lo,c:function(o){var c=qe.length;if(o>>>=0,2147483648<o)return!1;for(var h=1;4>=h;h*=2){var g=c*(1+.2/h);g=Math.min(g,o+100663296);var E=Math;g=Math.max(o,g),E=E.min.call(E,2147483648,g+(65536-g%65536)%65536);e:{try{nt.grow(E-gt.byteLength+65535>>>16),hs();var R=1;break e}catch{}R=void 0}if(R)return!0}return!1},z:function(o,c){var h=0;return Po().forEach(function(g,E){var R=c+h;for(E=De[o+4*E>>2]=R,R=0;R<g.length;++R)ge[E++>>0]=g.charCodeAt(R);ge[E>>0]=0,h+=g.length+1}),0},A:function(o,c){var h=Po();De[o>>2]=h.length;var g=0;return h.forEach(function(E){g+=E.length+1}),De[c>>2]=g,0},f:function(o){try{var c=yn(o);return Ve(c),0}catch(h){if(typeof Ge>"u"||!(h instanceof j))throw h;return h.Ka}},m:function(o,c){try{var h=yn(o);return ge[c>>0]=h.tty?2:(h.mode&61440)===16384?3:(h.mode&61440)===40960?7:4,0}catch(g){if(typeof Ge>"u"||!(g instanceof j))throw g;return g.Ka}},u:function(o,c,h,g){try{e:{var E=yn(o);o=c;for(var R=c=0;R<h;R++){var $=De[o>>2],ve=De[o+4>>2];o+=8;var Me=Ei(E,ge,$,ve);if(0>Me){var Le=-1;break e}if(c+=Me,Me<ve)break}Le=c}return De[g>>2]=Le,0}catch(lt){if(typeof Ge>"u"||!(lt instanceof j))throw lt;return lt.Ka}},k:function(o,c,h,g,E){try{if(c=h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN,isNaN(c))return 61;var R=yn(o);return Hr(R,c,g),V=[R.position>>>0,(Q=R.position,1<=+Math.abs(Q)?0<Q?(Math.min(+Math.floor(Q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],we[E>>2]=V[0],we[E+4>>2]=V[1],R.hb&&c===0&&g===0&&(R.hb=null),0}catch($){if(typeof Ge>"u"||!($ instanceof j))throw $;return $.Ka}},C:function(o){try{var c=yn(o);return c.Ha&&c.Ha.fsync?c.Ha.fsync(c):0}catch(h){if(typeof Ge>"u"||!(h instanceof j))throw h;return h.Ka}},r:function(o,c,h,g){try{e:{var E=yn(o);o=c;for(var R=c=0;R<h;R++){var $=De[o>>2],ve=De[o+4>>2];o+=8;var Me=mr(E,ge,$,ve);if(0>Me){var Le=-1;break e}c+=Me}Le=c}return De[g>>2]=Le,0}catch(lt){if(typeof Ge>"u"||!(lt instanceof j))throw lt;return lt.Ka}}};(function(){function o(E){d.asm=E.exports,nt=d.asm.I,hs(),En=d.asm.Aa,fe.unshift(d.asm.J),Gt--,d.monitorRunDependencies&&d.monitorRunDependencies(Gt),Gt==0&&Je&&(E=Je,Je=null,E())}function c(E){o(E.instance)}function h(E){return ee().then(function(R){return WebAssembly.instantiate(R,g)}).then(function(R){return R}).then(E,function(R){_e("failed to asynchronously prepare wasm: "+R),x(R)})}var g={a:eu};if(Gt++,d.monitorRunDependencies&&d.monitorRunDependencies(Gt),d.instantiateWasm)try{return d.instantiateWasm(g,o)}catch(E){return _e("Module.instantiateWasm callback failed with error: "+E),!1}return function(){return xe||typeof WebAssembly.instantiateStreaming!="function"||q()||S.startsWith("file://")||Z||typeof fetch!="function"?h(c):fetch(S,{credentials:"same-origin"}).then(function(E){return WebAssembly.instantiateStreaming(E,g).then(c,function(R){return _e("wasm streaming compile failed: "+R),_e("falling back to ArrayBuffer instantiation"),h(c)})})}(),{}})(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.J).apply(null,arguments)},d._sqlite3_free=function(){return(d._sqlite3_free=d.asm.K).apply(null,arguments)},d._sqlite3_value_double=function(){return(d._sqlite3_value_double=d.asm.L).apply(null,arguments)},d._sqlite3_value_text=function(){return(d._sqlite3_value_text=d.asm.M).apply(null,arguments)};var Bo=d.___errno_location=function(){return(Bo=d.___errno_location=d.asm.N).apply(null,arguments)};d._sqlite3_prepare_v2=function(){return(d._sqlite3_prepare_v2=d.asm.O).apply(null,arguments)},d._sqlite3_step=function(){return(d._sqlite3_step=d.asm.P).apply(null,arguments)},d._sqlite3_finalize=function(){return(d._sqlite3_finalize=d.asm.Q).apply(null,arguments)},d._sqlite3_reset=function(){return(d._sqlite3_reset=d.asm.R).apply(null,arguments)},d._sqlite3_value_int=function(){return(d._sqlite3_value_int=d.asm.S).apply(null,arguments)},d._sqlite3_clear_bindings=function(){return(d._sqlite3_clear_bindings=d.asm.T).apply(null,arguments)},d._sqlite3_value_blob=function(){return(d._sqlite3_value_blob=d.asm.U).apply(null,arguments)},d._sqlite3_value_bytes=function(){return(d._sqlite3_value_bytes=d.asm.V).apply(null,arguments)},d._sqlite3_value_type=function(){return(d._sqlite3_value_type=d.asm.W).apply(null,arguments)},d._sqlite3_result_blob=function(){return(d._sqlite3_result_blob=d.asm.X).apply(null,arguments)},d._sqlite3_result_double=function(){return(d._sqlite3_result_double=d.asm.Y).apply(null,arguments)},d._sqlite3_result_error=function(){return(d._sqlite3_result_error=d.asm.Z).apply(null,arguments)},d._sqlite3_result_int=function(){return(d._sqlite3_result_int=d.asm._).apply(null,arguments)},d._sqlite3_result_int64=function(){return(d._sqlite3_result_int64=d.asm.$).apply(null,arguments)},d._sqlite3_result_null=function(){return(d._sqlite3_result_null=d.asm.aa).apply(null,arguments)},d._sqlite3_result_text=function(){return(d._sqlite3_result_text=d.asm.ba).apply(null,arguments)},d._sqlite3_sql=function(){return(d._sqlite3_sql=d.asm.ca).apply(null,arguments)},d._sqlite3_aggregate_context=function(){return(d._sqlite3_aggregate_context=d.asm.da).apply(null,arguments)},d._sqlite3_column_count=function(){return(d._sqlite3_column_count=d.asm.ea).apply(null,arguments)},d._sqlite3_data_count=function(){return(d._sqlite3_data_count=d.asm.fa).apply(null,arguments)},d._sqlite3_column_blob=function(){return(d._sqlite3_column_blob=d.asm.ga).apply(null,arguments)},d._sqlite3_column_bytes=function(){return(d._sqlite3_column_bytes=d.asm.ha).apply(null,arguments)},d._sqlite3_column_double=function(){return(d._sqlite3_column_double=d.asm.ia).apply(null,arguments)},d._sqlite3_column_text=function(){return(d._sqlite3_column_text=d.asm.ja).apply(null,arguments)},d._sqlite3_column_type=function(){return(d._sqlite3_column_type=d.asm.ka).apply(null,arguments)},d._sqlite3_column_name=function(){return(d._sqlite3_column_name=d.asm.la).apply(null,arguments)},d._sqlite3_bind_blob=function(){return(d._sqlite3_bind_blob=d.asm.ma).apply(null,arguments)},d._sqlite3_bind_double=function(){return(d._sqlite3_bind_double=d.asm.na).apply(null,arguments)},d._sqlite3_bind_int=function(){return(d._sqlite3_bind_int=d.asm.oa).apply(null,arguments)},d._sqlite3_bind_text=function(){return(d._sqlite3_bind_text=d.asm.pa).apply(null,arguments)},d._sqlite3_bind_parameter_index=function(){return(d._sqlite3_bind_parameter_index=d.asm.qa).apply(null,arguments)},d._sqlite3_normalized_sql=function(){return(d._sqlite3_normalized_sql=d.asm.ra).apply(null,arguments)},d._sqlite3_errmsg=function(){return(d._sqlite3_errmsg=d.asm.sa).apply(null,arguments)},d._sqlite3_exec=function(){return(d._sqlite3_exec=d.asm.ta).apply(null,arguments)},d._sqlite3_changes=function(){return(d._sqlite3_changes=d.asm.ua).apply(null,arguments)},d._sqlite3_close_v2=function(){return(d._sqlite3_close_v2=d.asm.va).apply(null,arguments)},d._sqlite3_create_function_v2=function(){return(d._sqlite3_create_function_v2=d.asm.wa).apply(null,arguments)},d._sqlite3_open=function(){return(d._sqlite3_open=d.asm.xa).apply(null,arguments)};var ki=d._malloc=function(){return(ki=d._malloc=d.asm.ya).apply(null,arguments)},Si=d._free=function(){return(Si=d._free=d.asm.za).apply(null,arguments)};d._RegisterExtensionFunctions=function(){return(d._RegisterExtensionFunctions=d.asm.Ba).apply(null,arguments)};var Fo=d._emscripten_builtin_memalign=function(){return(Fo=d._emscripten_builtin_memalign=d.asm.Ca).apply(null,arguments)},Kr=d.stackSave=function(){return(Kr=d.stackSave=d.asm.Da).apply(null,arguments)},Jr=d.stackRestore=function(){return(Jr=d.stackRestore=d.asm.Ea).apply(null,arguments)},Jn=d.stackAlloc=function(){return(Jn=d.stackAlloc=d.asm.Fa).apply(null,arguments)};d.UTF8ToString=je,d.stackAlloc=Jn,d.stackSave=Kr,d.stackRestore=Jr,d.cwrap=function(o,c,h,g){h=h||[];var E=h.every(R=>R==="number"||R==="boolean");return c!=="string"&&E&&!g?d["_"+o]:function(){return Za(o,c,h,arguments)}};var Ri;Je=function o(){Ri||Uo(),Ri||(Je=o)};function Uo(){function o(){if(!Ri&&(Ri=!0,d.calledRun=!0,!Ke)){if(d.noFSInit||qi||(qi=!0,Ci(),d.stdin=d.stdin,d.stdout=d.stdout,d.stderr=d.stderr,d.stdin?Rn("stdin",d.stdin):gs("/dev/tty","/dev/stdin"),d.stdout?Rn("stdout",null,d.stdout):gs("/dev/tty","/dev/stdout"),d.stderr?Rn("stderr",null,d.stderr):gs("/dev/tty1","/dev/stderr"),pr("/dev/stdin",0),pr("/dev/stdout",1),pr("/dev/stderr",1)),ps=!1,re(fe),d.onRuntimeInitialized&&d.onRuntimeInitialized(),d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;){var c=d.postRun.shift();Be.unshift(c)}re(Be)}}if(!(0<Gt)){if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)Hn();re(pn),0<Gt||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),o()},1)):o())}}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return Uo(),w}),n)};t.exports=i,t.exports.default=i})(Lp);var wb=Lp.exports;const gb=db(wb),bb=""+new URL("sql-wasm-18fc45ef.wasm",import.meta.url).href,Nb="sqlitevfs",Ps=new Map,vb=2048,_b=65536;class xb{constructor(e){Te(this,"_data");Te(this,"_size");this._data=e??new Uint8Array,this._size=this._data.length}get size(){return this._size}read(e,n){if(e>=this._size)return 0;const i=this._data.subarray(e,Math.min(this._size,e+n.length));return n.set(i),i.length}reserve(e){if(this._data.length>=e)return;const n=e-this._data.length,i=Math.min(_b,Math.max(vb,this._data.length)),a=new Uint8Array(this._data.length+Math.max(i,n));a.set(this._data),this._data=a}write(e,n){return this.reserve(e+n.length),this._data.set(n,e),this._size=Math.max(this._size,e+n.length),n.length}truncate(e){this._size=e}toUint8Array(){return this._data.subarray(0,this._size)}}const Eb=self.indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,qf=new Promise((t,e)=>{const n=Eb.open(Nb,1);n.onupgradeneeded=()=>n.result.createObjectStore("files",{keyPath:"name"}),n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)});async function Cb(t){const e=await qf,n=await new Promise((i,a)=>{const m=e.transaction("files","readonly").objectStore("files").get(t);m.onsuccess=()=>i(m.result),m.onerror=()=>a(m.error)});if(n&&!Ps.has(t)){const i=new xb(n.data);return Ps.set(t,i),i}else return Ps.has(t)?Ps.get(t):null}async function qb(t,e){const n=await qf;await new Promise((i,a)=>{const m=n.transaction("files","readwrite").objectStore("files").put({name:t,data:e});m.onsuccess=()=>i(!0),m.onerror=()=>a(m.error)})}async function xh(t){const e=await qf;await new Promise((n,i)=>{const l=e.transaction("files","readwrite").objectStore("files").delete(t);l.onsuccess=()=>n(!0),l.onerror=()=>i(l.error)})}async function Ob(t,e){if(await qb(t,e),Ps.has(t)){const n=Ps.get(t);n.truncate(0),n.write(0,e)}}var Wb=t=>t==null||typeof t=="bigint"||typeof t=="number"||typeof t=="object"&&"buffer"in t?t:typeof t=="boolean"?`${t}`:t instanceof Date?t.toISOString():JSON.stringify(t),Ib=t=>{if(t==null||typeof t=="bigint"||typeof t=="number"||typeof t=="object"&&"buffer"in t)return t;if(typeof t=="string"){const e=/^\d{4}-\d{2}-\d{2}[T ]\d{2}:\d{2}:\d{2}(?:\.\d+)?Z?$/;if(/^(true|false)$/.test(t))return t==="true";if(e.test(t))return new Date(t);try{return JSON.parse(t,(n,i)=>typeof i=="string"&&e.exec(i)?new Date(i):i)}catch{}}return t},Ab=class extends _f{constructor(e){super();Te(this,"serializer");this.serializer=e||Wb}transformPrimitiveValueList(e){return{...e,values:e.values.map(this.serializer)}}transformColumnUpdate(e){const{value:n}=e;if(n.kind!=="ValueNode")return super.transformColumnUpdate(e);const{value:i,...a}=n,l=this.serializer(i);return i===l?super.transformColumnUpdate(e):super.transformColumnUpdate({...e,value:{...a,value:l}})}transformValue(e){return{...e,value:this.serializer(e.value)}}},Tb=class{constructor(t={}){Te(this,"serializeParametersTransformer");Te(this,"deserializer");Te(this,"ctx");this.serializeParametersTransformer=new Ab(t.serializer),this.deserializer=t.deserializer||Ib,this.ctx=new WeakMap}transformQuery(t){const{node:e,queryId:n}=t;return e.kind==="SelectQueryNode"&&this.ctx.set(n,e.kind),this.serializeParametersTransformer.transformNode(t.node)}async parseResult(t){return await Promise.all(t.map(async e=>{const n={...e};for(const i in n)n[i]=await this.deserializer(n[i]);return n}))}async transformResult(t){const{result:e,queryId:n}=t,{rows:i}=e,a=this.ctx.get(n);return i&&a==="SelectQueryNode"?{...t.result,rows:await this.parseResult(i)}:t.result}};function wl(t){return typeof t=="string"}function kb(t){return typeof t=="boolean"}async function Eh(t,e,n,i,a="rowid"){await Tn`
      create trigger if not exists ${Tn.raw(e)}_${Tn.raw(i)}
      after ${Tn.raw(n)}
      on ${Tn.table(e)}
      begin
        update ${Tn.table(e)}
        set ${Tn.ref(i)} = datetime('now','localtime')
        where ${Tn.ref(a)} = NEW.${Tn.ref(a)};
      end
    `.execute(t).catch(l=>{console.error(l)})}function Sb(t){const e=new Map;for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const i=t[n];e.set(n,i)}return e}async function Rb(t,e,n=!1){for(const[i,a]of e){const{columns:l,property:m}=a;n&&await t.schema.dropTable(i).ifExists().execute().catch();let w=t.schema.createTable(i),v="rowid",d=!1,I="createAt",M="updateAt";if(m!=null&&m.timestamp&&!kb(m.timestamp)){const{create:B,update:Y}=m.timestamp;I=B??"createAt",M=Y??"updateAt"}for(const B in l){if(!Object.prototype.hasOwnProperty.call(l,B))continue;const Y=l[B];let Z="text";const{type:b,notNull:C,defaultTo:N}=Y;switch(b){case"boolean":case"date":case"object":case"string":Z="text";break;case"increments":v=B;case"number":Z="integer";break;case"blob":Z="blob"}[I,M].includes(B)||(w=w.addColumn(B,Z,O=>b==="increments"?(d=!0,O.autoIncrement().primaryKey()):(C&&(O=O.notNull()),N!==void 0&&(O=O.defaultTo(N instanceof Function?N(Tn):N)),O)))}if(m){const B=m.primary,Y=m.unique;if(m.timestamp&&(I&&(w=w.addColumn(I,"text")),M&&(w=w.addColumn(M,"text"))),!d&&B){const Z=wl(B);v=Z?B:B[0],w=w.addPrimaryKeyConstraint(`pk_${Z?B:B.join("_")}`,Z?[B]:B)}Y==null||Y.forEach(Z=>{const b=wl(Z);v=!B&&!d?b?Z:Z[0]:v,w=w.addUniqueConstraint(`un_${b?Z:Z.join("_")}`,b?[Z]:Z)})}if(await w.ifNotExists().execute(),m!=null&&m.index)for(const B of m.index){const Y=wl(B);let Z=t.schema.createIndex(`idx_${Y?B:B.join("_")}`).on(i);Z=Y?Z.column(B):Z.columns(B),await Z.ifNotExists().execute()}m!=null&&m.timestamp&&(I&&await Eh(t,i,"insert",I,v),M&&await Eh(t,i,"update",M,v))}}var Db=class{constructor(t){Te(this,"kysely");Te(this,"status");Te(this,"tableMap");const{dialect:e,tables:n,dropTableBeforeInit:i,onError:a,onQuery:l,plugins:m}=t,w=m??[];w.push(new Tb),this.kysely=new Ea({dialect:e,log:v=>{v.level==="error"?a&&a(v.error):l&&l(v.query,v.queryDurationMillis)},plugins:w}),this.status=i?0:1,this.tableMap=Sb(n)}async init(t=!1){const e=t||this.status===0;return await Rb(this.kysely,this.tableMap,e),this.status=2,this}async checkInit(){if(this.status!==2&&await this.init(),this.status!==2)throw new Error("fail to init table")}async transaction(t,e=!1){return await this.checkInit(),await this.kysely.transaction().execute(t).catch(n=>{e&&console.error(n)})}async exec(t,e=!1){return await this.checkInit(),t(this.kysely).catch(n=>{e&&console.error(n)})}async toSQL(t){return await this.checkInit(),t(this.kysely).compile()}async raw(t){return await this.checkInit(),t(Tn).execute(this.kysely)}};async function Of(t){const e=await new Db({dialect:t,tables:{test:{columns:{id:{type:"increments"},name:{type:"string"},blobtest:{type:"blob"},createAt:{type:"date"},updateAt:{type:"date"}},property:{timestamp:!0}}}}).init();console.log("test"),console.log(await e.raw(n=>n`PRAGMA table_info(${n.table("test")});`)),console.log(await e.raw(n=>n`select last_insert_rowid()`));for(let n=0;n<100;n++)await e.transaction(i=>i.insertInto("test").values({name:`test at ${Date.now()}`,blobtest:Uint8Array.from([2,3,4,5,6,7,8])}).execute());return e.exec(n=>n.selectFrom("test").selectAll().execute())}const Lb=new cb({async database(){const t=await gb({locateFile:()=>bb});return new t.Database(await Cb("sqljs"))},onWrite:{func(t){console.log(`[sqljs] write to indexeddb, length: ${t.length}`),Ob("sqljs",t)},isThrottle:!0}});function Pb(){const t=Bm();function e(){Of(Lb).then(n=>{t.value=n})}return{result:t,run:e}}function Mb(){return new Worker(""+new URL("sqljsWorker-6340e5b0.js",import.meta.url).href)}function Bb(){return new Worker(""+new URL("officialWasmWorker-155b9b7a.js",import.meta.url).href)}const ze=0,Fb=5,Et=10,Pp=12,Mp=14,Bi=21,gl=25,Ub=27,Ch=100,$b=101,Qb=3850,jb=522,Hb=1,Vb=2,Bp=4,zb=8,Ss=0,Hi=1,Du=2,Kb=3,Lu=4,Jb=512,Gb=1024,Xb=2048,Yb=16384,qh=1,Oh=2,Wh=3,Ih=4,Ah=5,Th=0x7fffffffffffffffn,kh=-0x8000000000000000n;class Ar extends Error{constructor(e,n){super(e),this.code=n}}const ks=!0;function Zb(t){const e={},n=t._getSqliteFree(),i=t._malloc(8),a=[i,i+4];function l(b){if(typeof b!="string")return 0;const C=t.lengthBytesUTF8(b),N=t._sqlite3_malloc(C+1);return t.stringToUTF8(b,N,C+1),N}function m(b,C){return BigInt(C)<<32n|BigInt(b)&0xffffffffn}const w=function(){const b=BigInt(Number.MAX_SAFE_INTEGER)>>32n,C=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(N,O){return O>b||O<C?m(N,O):O*4294967296+(N&2147483647)-(N&2147483648)}}(),v=new Set;function d(b){if(!v.has(b))throw new Ar("not a database",Bi)}const I=new Map;function M(b){if(!I.has(b))throw new Ar("not a statement",Bi)}e.bind_collection=function(b,C){M(b);const N=Array.isArray(C),O=e.bind_parameter_count(b);for(let T=1;T<=O;++T){const ne=N?T-1:e.bind_parameter_name(b,T),Ne=C[ne];Ne!==void 0&&e.bind(b,T,Ne)}return ze},e.bind=function(b,C,N){switch(M(b),typeof N){case"number":return N===(N|0)?e.bind_int(b,C,N):e.bind_double(b,C,N);case"string":return e.bind_text(b,C,N);default:return N instanceof Uint8Array||Array.isArray(N)?e.bind_blob(b,C,N):N===null?e.bind_null(b,C):typeof N=="bigint"?e.bind_int64(b,C,N):N===void 0?Ub:(console.warn("unknown binding converted to null",N),e.bind_null(b,C))}},e.bind_blob=function(){const b="sqlite3_bind_blob",C=t.cwrap(b,...Ce("nnnnn:n"));return function(N,O,T){M(N);const ne=T.byteLength??T.length,Ne=t._sqlite3_malloc(ne);t.HEAPU8.subarray(Ne).set(T);const ae=C(N,O,Ne,ne,n);return Z(b,ae,I.get(N))}}(),e.bind_parameter_count=function(){const b="sqlite3_bind_parameter_count",C=t.cwrap(b,...Ce("n:n"));return function(N){return M(N),C(N)}}(),e.bind_double=function(){const b="sqlite3_bind_double",C=t.cwrap(b,...Ce("nnn:n"));return function(N,O,T){M(N);const ne=C(N,O,T);return Z(b,ne,I.get(N))}}(),e.bind_int=function(){const b="sqlite3_bind_int",C=t.cwrap(b,...Ce("nnn:n"));return function(N,O,T){if(M(N),T>2147483647||T<-2147483648)return gl;const ne=C(N,O,T);return Z(b,ne,I.get(N))}}(),e.bind_int64=function(){const b="sqlite3_bind_int64",C=t.cwrap(b,...Ce("nnnn:n"));return function(N,O,T){if(M(N),T>Th||T<kh)return gl;const ne=T&0xffffffffn,Ne=T>>32n,ae=C(N,O,Number(ne),Number(Ne));return Z(b,ae,I.get(N))}}(),e.bind_null=function(){const b="sqlite3_bind_null",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){M(N);const T=C(N,O);return Z(b,T,I.get(N))}}(),e.bind_parameter_name=function(){const b="sqlite3_bind_parameter_name",C=t.cwrap(b,...Ce("n:s"));return function(N,O){return M(N),C(N,O)}}(),e.bind_text=function(){const b="sqlite3_bind_text",C=t.cwrap(b,...Ce("nnnnn:n"));return function(N,O,T){M(N);const ne=l(T),Ne=C(N,O,ne,-1,n);return Z(b,Ne,I.get(N))}}(),e.changes=function(){const b="sqlite3_changes",C=t.cwrap(b,...Ce("n:n"));return function(N){return d(N),C(N)}}(),e.close=function(){const b="sqlite3_close",C=t.cwrap(b,...Ce("n:n"),{async:ks});return async function(N){d(N);const O=await C(N);return v.delete(N),Z(b,O,N)}}(),e.column=function(b,C){M(b);const N=e.column_type(b,C);switch(N){case Ih:return e.column_blob(b,C);case Oh:return e.column_double(b,C);case qh:const O=e.column_int(b,C),T=t.getTempRet0();return w(O,T);case Ah:return null;case Wh:return e.column_text(b,C);default:throw new Ar("unknown type",N)}},e.column_blob=function(){const b="sqlite3_column_blob",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){M(N);const T=e.column_bytes(N,O),ne=C(N,O);return t.HEAPU8.subarray(ne,ne+T)}}(),e.column_bytes=function(){const b="sqlite3_column_bytes",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){return M(N),C(N,O)}}(),e.column_count=function(){const b="sqlite3_column_count",C=t.cwrap(b,...Ce("n:n"));return function(N){return M(N),C(N)}}(),e.column_double=function(){const b="sqlite3_column_double",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){return M(N),C(N,O)}}(),e.column_int=function(){const b="sqlite3_column_int64",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){return M(N),C(N,O)}}(),e.column_int64=function(){const b="sqlite3_column_int64",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){M(N);const T=C(N,O),ne=t.getTempRet0();return m(T,ne)}}(),e.column_name=function(){const b="sqlite3_column_name",C=t.cwrap(b,...Ce("nn:s"));return function(N,O){return M(N),C(N,O)}}(),e.column_names=function(b){const C=[],N=e.column_count(b);for(let O=0;O<N;++O)C.push(e.column_name(b,O));return C},e.column_text=function(){const b="sqlite3_column_text",C=t.cwrap(b,...Ce("nn:s"));return function(N,O){return M(N),C(N,O)}}(),e.column_type=function(){const b="sqlite3_column_type",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){return M(N),C(N,O)}}(),e.create_function=function(b,C,N,O,T,ne,Ne,ae){if(d(b),ne&&!Ne&&!ae){const _e=t.createFunction(b,C,N,O,T,ne);return Z("sqlite3_create_function",_e,b)}if(!ne&&Ne&&ae){const _e=t.createAggregate(b,C,N,O,T,Ne,ae);return Z("sqlite3_create_function",_e,b)}throw new Ar("invalid function combination",Bi)},e.create_module=function(b,C,N,O){d(b);const T=t.createModule(b,C,N,O);return Z("sqlite3_create_module",T,b)},e.data_count=function(){const b="sqlite3_data_count",C=t.cwrap(b,...Ce("n:n"));return function(N){return M(N),C(N)}}(),e.declare_vtab=function(){const b="sqlite3_declare_vtab",C=t.cwrap(b,...Ce("ns:n"));return function(N,O){const T=C(N,O);return Z("sqlite3_declare_vtab",T)}}(),e.exec=async function(b,C,N){for await(const O of e.statements(b,C)){let T;for(;await e.step(O)===Ch;)if(N){T=T??e.column_names(O);const ne=e.row(O);await N(ne,T)}}return ze},e.finalize=function(){const b="sqlite3_finalize",C=t.cwrap(b,...Ce("n:n"),{async:ks});return async function(N){if(!I.has(N))return Bi;const O=await C(N);return I.get(N),I.delete(N),O}}(),e.get_autocommit=function(){const b="sqlite3_get_autocommit",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.libversion=function(){const b="sqlite3_libversion",C=t.cwrap(b,...Ce(":s"));return function(){return C()}}(),e.libversion_number=function(){const b="sqlite3_libversion_number",C=t.cwrap(b,...Ce(":n"));return function(){return C()}}(),e.limit=function(){const b="sqlite3_limit",C=t.cwrap(b,...Ce("nnn:n"));return function(N,O,T){return C(N,O,T)}}(),e.open_v2=function(){const b="sqlite3_open_v2",C=t.cwrap(b,...Ce("snnn:n"),{async:ks});return async function(N,O,T){O=O||Bp|Vb,T=l(T);const ne=await C(N,a[0],O,T),Ne=t.getValue(a[0],"*");return v.add(Ne),t._sqlite3_free(T),t.ccall("RegisterExtensionFunctions","void",["number"],[Ne]),Z(b,ne),Ne}}(),e.prepare_v2=function(){const b="sqlite3_prepare_v2",C=t.cwrap(b,...Ce("nnnnn:n"),{async:ks});return async function(N,O){const T=await C(N,O,-1,a[0],a[1]);Z(b,T,N);const ne=t.getValue(a[0],"*");return ne?(I.set(ne,N),{stmt:ne,sql:t.getValue(a[1],"*")}):null}}(),e.progress_handler=function(b,C,N,O){d(b),t.progressHandler(b,C,N,O)},e.reset=function(){const b="sqlite3_reset",C=t.cwrap(b,...Ce("n:n"),{async:ks});return async function(N){M(N);const O=await C(N);return Z(b,O,I.get(N))}}(),e.result=function(b,C){switch(typeof C){case"number":C===(C|0)?e.result_int(b,C):e.result_double(b,C);break;case"string":e.result_text(b,C);break;default:if(C instanceof Uint8Array||Array.isArray(C))e.result_blob(b,C);else if(C===null)e.result_null(b);else{if(typeof C=="bigint")return e.result_int64(b,C);console.warn("unknown result converted to null",C),e.result_null(b)}break}},e.result_blob=function(){const b="sqlite3_result_blob",C=t.cwrap(b,...Ce("nnnn:n"));return function(N,O){const T=O.byteLength??O.length,ne=t._sqlite3_malloc(T);t.HEAPU8.subarray(ne).set(O),C(N,ne,T,n)}}(),e.result_double=function(){const b="sqlite3_result_double",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){C(N,O)}}(),e.result_int=function(){const b="sqlite3_result_int",C=t.cwrap(b,...Ce("nn:n"));return function(N,O){C(N,O)}}(),e.result_int64=function(){const b="sqlite3_result_int64",C=t.cwrap(b,...Ce("nnn:n"));return function(N,O){if(O>Th||O<kh)return gl;const T=O&0xffffffffn,ne=O>>32n;C(N,Number(T),Number(ne))}}(),e.result_null=function(){const b="sqlite3_result_null",C=t.cwrap(b,...Ce("n:n"));return function(N){C(N)}}(),e.result_text=function(){const b="sqlite3_result_text",C=t.cwrap(b,...Ce("nnnn:n"));return function(N,O){const T=l(O);C(N,T,-1,n)}}(),e.row=function(b){const C=[],N=e.data_count(b);for(let O=0;O<N;++O){const T=e.column(b,O);C.push((T==null?void 0:T.buffer)===t.HEAPU8.buffer?T.slice():T)}return C},e.set_authorizer=function(b,C,N){d(b);const O=t.setAuthorizer(b,C,N);return Z("sqlite3_set_authorizer",O,b)},e.sql=function(){const b="sqlite3_sql",C=t.cwrap(b,...Ce("n:s"));return function(N){return M(N),C(N)}}(),e.statements=function(b,C){return async function*(){const N=e.str_new(b,C);let O={stmt:null,sql:e.str_value(N)};try{for(;O=await e.prepare_v2(b,O.sql);)yield O.stmt,e.finalize(O.stmt),O.stmt=null}finally{O!=null&&O.stmt&&e.finalize(O.stmt),e.str_finish(N)}}()},e.step=function(){const b="sqlite3_step",C=t.cwrap(b,...Ce("n:n"),{async:ks});return async function(N){M(N);const O=await C(N);return Z(b,O,I.get(N),[Ch,$b])}}();let B=0;const Y=new Map;e.str_new=function(b,C=""){const N=t.lengthBytesUTF8(C),O=B++&4294967295,T={offset:t._sqlite3_malloc(N+1),bytes:N};return Y.set(O,T),t.stringToUTF8(C,T.offset,T.bytes+1),O},e.str_appendall=function(b,C){if(!Y.has(b))throw new Ar("not a string",Bi);const N=Y.get(b),O=t.lengthBytesUTF8(C),T=N.bytes+O,ne=t._sqlite3_malloc(T+1);t.HEAPU8.subarray(ne,ne+T+1).set(t.HEAPU8.subarray(N.offset,N.offset+N.bytes)),t.stringToUTF8(C,ne+N.bytes,O+1),t._sqlite3_free(N.offset),N.offset=ne,N.bytes=T,Y.set(b,N)},e.str_finish=function(b){if(!Y.has(b))throw new Ar("not a string",Bi);const C=Y.get(b);Y.delete(b),t._sqlite3_free(C.offset)},e.str_value=function(b){if(!Y.has(b))throw new Ar("not a string",Bi);return Y.get(b).offset},e.user_data=function(b){return t.getFunctionUserData(b)},e.value=function(b){const C=e.value_type(b);switch(C){case Ih:return e.value_blob(b);case Oh:return e.value_double(b);case qh:const N=e.value_int(b),O=t.getTempRet0();return w(N,O);case Ah:return null;case Wh:return e.value_text(b);default:throw new Ar("unknown type",C)}},e.value_blob=function(){const b="sqlite3_value_blob",C=t.cwrap(b,...Ce("n:n"));return function(N){const O=e.value_bytes(N),T=C(N);return t.HEAPU8.subarray(T,T+O)}}(),e.value_bytes=function(){const b="sqlite3_value_bytes",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.value_double=function(){const b="sqlite3_value_double",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.value_int=function(){const b="sqlite3_value_int64",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.value_int64=function(){const b="sqlite3_value_int64",C=t.cwrap(b,...Ce("n:n"));return function(N){const O=C(N),T=t.getTempRet0();return m(O,T)}}(),e.value_text=function(){const b="sqlite3_value_text",C=t.cwrap(b,...Ce("n:s"));return function(N){return C(N)}}(),e.value_type=function(){const b="sqlite3_value_type",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.vfs_register=function(b,C){const N=t.registerVFS(b,C);return Z("sqlite3_vfs_register",N)};function Z(b,C,N=null,O=[ze]){if(O.includes(C))return C;const T=N?t.ccall("sqlite3_errmsg","string",["number"],[N]):b;throw new Ar(T,C)}return e}function Ce(t){const e=[],n=t.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null);break}const i=[];for(let a of n[1])switch(a){case"n":i.push("number");break;case"s":i.push("string");break}return e.push(i),e}var eN=(()=>{var t=import.meta.url;return function(e={}){var n;n||(n=typeof e<"u"?e:{});var i,a;n.ready=new Promise((s,u)=>{i=s,a=u});var l=Object.assign({},n),m="./this.program",w=(s,u)=>{throw u},v=typeof window=="object",d=typeof importScripts=="function",I="",M;(v||d)&&(d?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),t&&(I=t),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",d&&(M=s=>{var u=new XMLHttpRequest;return u.open("GET",s,!1),u.responseType="arraybuffer",u.send(null),new Uint8Array(u.response)}));var B=n.print||console.log.bind(console),Y=n.printErr||console.warn.bind(console);Object.assign(n,l),l=null,n.thisProgram&&(m=n.thisProgram),n.quit&&(w=n.quit);var Z;n.wasmBinary&&(Z=n.wasmBinary);var b=n.noExitRuntime||!0;typeof WebAssembly!="object"&&ct("no native wasm support detected");var C,N=!1,O,T,ne,Ne,ae,_e,xe,nt;function Ke(){var s=C.buffer;n.HEAP8=T=new Int8Array(s),n.HEAP16=Ne=new Int16Array(s),n.HEAP32=ae=new Int32Array(s),n.HEAPU8=ne=new Uint8Array(s),n.HEAPU16=new Uint16Array(s),n.HEAPU32=_e=new Uint32Array(s),n.HEAPF32=xe=new Float32Array(s),n.HEAPF64=nt=new Float64Array(s)}var Wt=[],It=[],je=[],Jt=[],dn=0;function gt(){var s=n.preRun.shift();Wt.unshift(s)}var ge=0,qe=null;function ct(s){throw n.onAbort&&n.onAbort(s),s="Aborted("+s+")",Y(s),N=!0,O=1,s=new WebAssembly.RuntimeError(s+". Build with -sASSERTIONS for more info."),a(s),s}function we(s){return s.startsWith("data:application/octet-stream;base64,")}var De;if(n.locateFile){if(De="wa-sqlite-async.wasm",!we(De)){var Mt=De;De=n.locateFile?n.locateFile(Mt,I):I+Mt}}else De=new URL(""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,self.location).href;function Or(s){try{if(s==De&&Z)return new Uint8Array(Z);if(M)return M(s);throw"both async and sync fetching of the wasm failed"}catch(u){ct(u)}}function hs(s){return Z||!v&&!d||typeof fetch!="function"?Promise.resolve().then(()=>Or(s)):fetch(s,{credentials:"same-origin"}).then(u=>{if(!u.ok)throw"failed to load wasm binary file at '"+s+"'";return u.arrayBuffer()}).catch(()=>Or(s))}function En(s,u,f){return hs(s).then(y=>WebAssembly.instantiate(y,u)).then(y=>y).then(f,y=>{Y("failed to asynchronously prepare wasm: "+y),ct(y)})}function pn(s,u){var f=De;return Z||typeof WebAssembly.instantiateStreaming!="function"||we(f)||typeof fetch!="function"?En(f,s,u):fetch(f,{credentials:"same-origin"}).then(y=>WebAssembly.instantiateStreaming(y,s).then(u,function(_){return Y("wasm streaming compile failed: "+_),Y("falling back to ArrayBuffer instantiation"),En(f,s,u)}))}var fe,Be;function Hn(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}function Gt(s){for(;0<s.length;)s.shift()(n)}function Je(s,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":return T[s>>0];case"i8":return T[s>>0];case"i16":return Ne[s>>1];case"i32":return ae[s>>2];case"i64":return ae[s>>2];case"float":return xe[s>>2];case"double":return nt[s>>3];case"*":return _e[s>>2];default:ct("invalid type for getValue: "+u)}}function x(s,u,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":T[s>>0]=u;break;case"i8":T[s>>0]=u;break;case"i16":Ne[s>>1]=u;break;case"i32":ae[s>>2]=u;break;case"i64":Be=[u>>>0,(fe=u,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[s>>2]=Be[0],ae[s+4>>2]=Be[1];break;case"float":xe[s>>2]=u;break;case"double":nt[s>>3]=u;break;case"*":_e[s>>2]=u;break;default:ct("invalid type for setValue: "+f)}}var q=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function S(s,u,f){var y=u+f;for(f=u;s[f]&&!(f>=y);)++f;if(16<f-u&&s.buffer&&q)return q.decode(s.subarray(u,f));for(y="";u<f;){var _=s[u++];if(_&128){var k=s[u++]&63;if((_&224)==192)y+=String.fromCharCode((_&31)<<6|k);else{var A=s[u++]&63;_=(_&240)==224?(_&15)<<12|k<<6|A:(_&7)<<18|k<<12|A<<6|s[u++]&63,65536>_?y+=String.fromCharCode(_):(_-=65536,y+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else y+=String.fromCharCode(_)}return y}function L(s,u){return s?S(ne,s,u):""}var z=(s,u)=>{for(var f=0,y=s.length-1;0<=y;y--){var _=s[y];_==="."?s.splice(y,1):_===".."?(s.splice(y,1),f++):f&&(s.splice(y,1),f--)}if(u)for(;f;f--)s.unshift("..");return s},ee=s=>{var u=s.charAt(0)==="/",f=s.substr(-1)==="/";return(s=z(s.split("/").filter(y=>!!y),!u).join("/"))||u||(s="."),s&&f&&(s+="/"),(u?"/":"")+s},Q=s=>{var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(s).slice(1);return s=u[0],u=u[1],!s&&!u?".":(u&&(u=u.substr(0,u.length-1)),s+u)},V=s=>{if(s==="/")return"/";s=ee(s),s=s.replace(/\/$/,"");var u=s.lastIndexOf("/");return u===-1?s:s.substr(u+1)};function re(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return s=>crypto.getRandomValues(s);ct("initRandomDevice")}function K(s){return(K=re())(s)}function ce(){for(var s="",u=!1,f=arguments.length-1;-1<=f&&!u;f--){if(u=0<=f?arguments[f]:"/",typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";s=u+"/"+s,u=u.charAt(0)==="/"}return s=z(s.split("/").filter(y=>!!y),!u).join("/"),(u?"/":"")+s||"."}function oe(s){for(var u=0,f=0;f<s.length;++f){var y=s.charCodeAt(f);127>=y?u++:2047>=y?u+=2:55296<=y&&57343>=y?(u+=4,++f):u+=3}return u}function ue(s,u,f,y){if(!(0<y))return 0;var _=f;y=f+y-1;for(var k=0;k<s.length;++k){var A=s.charCodeAt(k);if(55296<=A&&57343>=A){var H=s.charCodeAt(++k);A=65536+((A&1023)<<10)|H&1023}if(127>=A){if(f>=y)break;u[f++]=A}else{if(2047>=A){if(f+1>=y)break;u[f++]=192|A>>6}else{if(65535>=A){if(f+2>=y)break;u[f++]=224|A>>12}else{if(f+3>=y)break;u[f++]=240|A>>18,u[f++]=128|A>>12&63}u[f++]=128|A>>6&63}u[f++]=128|A&63}}return u[f]=0,f-_}var be=[];function Ee(s,u){be[s]={input:[],Rb:[],bc:u},ys(s,He)}var He={open:function(s){var u=be[s.node.ec];if(!u)throw new te(43);s.Sb=u,s.seekable=!1},close:function(s){s.Sb.bc.ic(s.Sb)},ic:function(s){s.Sb.bc.ic(s.Sb)},read:function(s,u,f,y){if(!s.Sb||!s.Sb.bc.zc)throw new te(60);for(var _=0,k=0;k<y;k++){try{var A=s.Sb.bc.zc(s.Sb)}catch{throw new te(29)}if(A===void 0&&_===0)throw new te(6);if(A==null)break;_++,u[f+k]=A}return _&&(s.node.timestamp=Date.now()),_},write:function(s,u,f,y){if(!s.Sb||!s.Sb.bc.sc)throw new te(60);try{for(var _=0;_<y;_++)s.Sb.bc.sc(s.Sb,u[f+_])}catch{throw new te(29)}return y&&(s.node.timestamp=Date.now()),_}},Pe={zc:function(s){if(!s.input.length){var u=null;if(typeof window<"u"&&typeof window.prompt=="function"?(u=window.prompt("Input: "),u!==null&&(u+=`
`)):typeof readline=="function"&&(u=readline(),u!==null&&(u+=`
`)),!u)return null;var f=Array(oe(u)+1);u=ue(u,f,0,f.length),f.length=u,s.input=f}return s.input.shift()},sc:function(s,u){u===null||u===10?(B(S(s.Rb,0)),s.Rb=[]):u!=0&&s.Rb.push(u)},ic:function(s){s.Rb&&0<s.Rb.length&&(B(S(s.Rb,0)),s.Rb=[])}},st={sc:function(s,u){u===null||u===10?(Y(S(s.Rb,0)),s.Rb=[]):u!=0&&s.Rb.push(u)},ic:function(s){s.Rb&&0<s.Rb.length&&(Y(S(s.Rb,0)),s.Rb=[])}},me={Vb:null,Ub:function(){return me.createNode(null,"/",16895,0)},createNode:function(s,u,f,y){if((f&61440)===24576||(f&61440)===4096)throw new te(63);return me.Vb||(me.Vb={dir:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb,cc:me.Cb.cc,jc:me.Cb.jc,Cc:me.Cb.Cc,oc:me.Cb.oc,mc:me.Cb.mc,Bc:me.Cb.Bc,nc:me.Cb.nc},stream:{Zb:me.Mb.Zb}},file:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb},stream:{Zb:me.Mb.Zb,read:me.Mb.read,write:me.Mb.write,vc:me.Mb.vc,kc:me.Mb.kc,lc:me.Mb.lc}},link:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb,fc:me.Cb.fc},stream:{}},wc:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb},stream:$r}}),f=Ft(s,u,f,y),(f.mode&61440)===16384?(f.Cb=me.Vb.dir.node,f.Mb=me.Vb.dir.stream,f.Nb={}):(f.mode&61440)===32768?(f.Cb=me.Vb.file.node,f.Mb=me.Vb.file.stream,f.Pb=0,f.Nb=null):(f.mode&61440)===40960?(f.Cb=me.Vb.link.node,f.Mb=me.Vb.link.stream):(f.mode&61440)===8192&&(f.Cb=me.Vb.wc.node,f.Mb=me.Vb.wc.stream),f.timestamp=Date.now(),s&&(s.Nb[u]=f,s.timestamp=f.timestamp),f},Uc:function(s){return s.Nb?s.Nb.subarray?s.Nb.subarray(0,s.Pb):new Uint8Array(s.Nb):new Uint8Array(0)},xc:function(s,u){var f=s.Nb?s.Nb.length:0;f>=u||(u=Math.max(u,f*(1048576>f?2:1.125)>>>0),f!=0&&(u=Math.max(u,256)),f=s.Nb,s.Nb=new Uint8Array(u),0<s.Pb&&s.Nb.set(f.subarray(0,s.Pb),0))},Qc:function(s,u){if(s.Pb!=u)if(u==0)s.Nb=null,s.Pb=0;else{var f=s.Nb;s.Nb=new Uint8Array(u),f&&s.Nb.set(f.subarray(0,Math.min(u,s.Pb))),s.Pb=u}},Cb:{Tb:function(s){var u={};return u.Ic=(s.mode&61440)===8192?s.id:1,u.qc=s.id,u.mode=s.mode,u.Oc=1,u.uid=0,u.Lc=0,u.ec=s.ec,(s.mode&61440)===16384?u.size=4096:(s.mode&61440)===32768?u.size=s.Pb:(s.mode&61440)===40960?u.size=s.link.length:u.size=0,u.Ec=new Date(s.timestamp),u.Nc=new Date(s.timestamp),u.Hc=new Date(s.timestamp),u.Fc=4096,u.Gc=Math.ceil(u.size/u.Fc),u},Qb:function(s,u){u.mode!==void 0&&(s.mode=u.mode),u.timestamp!==void 0&&(s.timestamp=u.timestamp),u.size!==void 0&&me.Qc(s,u.size)},cc:function(){throw Sn[44]},jc:function(s,u,f,y){return me.createNode(s,u,f,y)},Cc:function(s,u,f){if((s.mode&61440)===16384){try{var y=Vn(u,f)}catch{}if(y)for(var _ in y.Nb)throw new te(55)}delete s.parent.Nb[s.name],s.parent.timestamp=Date.now(),s.name=f,u.Nb[f]=s,u.timestamp=s.parent.timestamp,s.parent=u},oc:function(s,u){delete s.Nb[u],s.timestamp=Date.now()},mc:function(s,u){var f=Vn(s,u),y;for(y in f.Nb)throw new te(55);delete s.Nb[u],s.timestamp=Date.now()},Bc:function(s){var u=[".",".."],f;for(f in s.Nb)s.Nb.hasOwnProperty(f)&&u.push(f);return u},nc:function(s,u,f){return s=me.createNode(s,u,41471,0),s.link=f,s},fc:function(s){if((s.mode&61440)!==40960)throw new te(28);return s.link}},Mb:{read:function(s,u,f,y,_){var k=s.node.Nb;if(_>=s.node.Pb)return 0;if(s=Math.min(s.node.Pb-_,y),8<s&&k.subarray)u.set(k.subarray(_,_+s),f);else for(y=0;y<s;y++)u[f+y]=k[_+y];return s},write:function(s,u,f,y,_,k){if(u.buffer===T.buffer&&(k=!1),!y)return 0;if(s=s.node,s.timestamp=Date.now(),u.subarray&&(!s.Nb||s.Nb.subarray)){if(k)return s.Nb=u.subarray(f,f+y),s.Pb=y;if(s.Pb===0&&_===0)return s.Nb=u.slice(f,f+y),s.Pb=y;if(_+y<=s.Pb)return s.Nb.set(u.subarray(f,f+y),_),y}if(me.xc(s,_+y),s.Nb.subarray&&u.subarray)s.Nb.set(u.subarray(f,f+y),_);else for(k=0;k<y;k++)s.Nb[_+k]=u[f+k];return s.Pb=Math.max(s.Pb,_+y),y},Zb:function(s,u,f){if(f===1?u+=s.position:f===2&&(s.node.mode&61440)===32768&&(u+=s.node.Pb),0>u)throw new te(28);return u},vc:function(s,u,f){me.xc(s.node,u+f),s.node.Pb=Math.max(s.node.Pb,u+f)},kc:function(s,u,f,y,_){if((s.node.mode&61440)!==32768)throw new te(43);if(s=s.node.Nb,_&2||s.buffer!==T.buffer){if((0<f||f+u<s.length)&&(s.subarray?s=s.subarray(f,f+u):s=Array.prototype.slice.call(s,f,f+u)),f=!0,u=65536*Math.ceil(u/65536),(_=fu(65536,u))?(ne.fill(0,_,_+u),u=_):u=0,!u)throw new te(48);T.set(s,u)}else f=!1,u=s.byteOffset;return{Pc:u,Dc:f}},lc:function(s,u,f,y){return me.Mb.write(s,u,0,y,f,!1),0}}},Cn=null,gi={},Xt=[],ds=1,le=null,Bt=!0,te=null,Sn={},Yt=(s,u={})=>{if(s=ce(s),!s)return{path:"",node:null};if(u=Object.assign({yc:!0,tc:0},u),8<u.tc)throw new te(32);s=s.split("/").filter(A=>!!A);for(var f=Cn,y="/",_=0;_<s.length;_++){var k=_===s.length-1;if(k&&u.parent)break;if(f=Vn(f,s[_]),y=ee(y+"/"+s[_]),f.$b&&(!k||k&&u.yc)&&(f=f.$b.root),!k||u.Yb){for(k=0;(f.mode&61440)===40960;)if(f=vi(y),y=ce(Q(y),f),f=Yt(y,{tc:u.tc+1}).node,40<k++)throw new te(32)}}return{path:y,node:f}},qn=s=>{for(var u;;){if(s===s.parent)return s=s.Ub.Ac,u?s[s.length-1]!=="/"?s+"/"+u:s+u:s;u=u?s.name+"/"+u:s.name,s=s.parent}},ps=(s,u)=>{for(var f=0,y=0;y<u.length;y++)f=(f<<5)-f+u.charCodeAt(y)|0;return(s+f>>>0)%le.length},j=s=>{var u=ps(s.parent.id,s.name);if(le[u]===s)le[u]=s.ac;else for(u=le[u];u;){if(u.ac===s){u.ac=s.ac;break}u=u.ac}},Vn=(s,u)=>{var f;if(f=(f=Wr(s,"x"))?f:s.Cb.cc?0:2)throw new te(f,s);for(f=le[ps(s.id,u)];f;f=f.ac){var y=f.name;if(f.parent.id===s.id&&y===u)return f}return s.Cb.cc(s,u)},Ft=(s,u,f,y)=>(s=new uu(s,u,f,y),u=ps(s.parent.id,s.name),s.ac=le[u],le[u]=s),bi={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},ms=s=>{var u=["r","w","rw"][s&3];return s&512&&(u+="w"),u},Wr=(s,u)=>{if(Bt)return 0;if(!u.includes("r")||s.mode&292){if(u.includes("w")&&!(s.mode&146)||u.includes("x")&&!(s.mode&73))return 2}else return 2;return 0},dr=(s,u)=>{try{return Vn(s,u),20}catch{}return Wr(s,"wx")},Oo=(s,u,f)=>{try{var y=Vn(s,u)}catch(_){return _.Ob}if(s=Wr(s,"wx"))return s;if(f){if((y.mode&61440)!==16384)return 54;if(y===y.parent||qn(y)==="/")return 10}else if((y.mode&61440)===16384)return 31;return 0},tl=(s=0)=>{for(;4096>=s;s++)if(!Xt[s])return s;throw new te(33)},Wo=(s,u)=>(Hr||(Hr=function(){this.hc={}},Hr.prototype={},Object.defineProperties(Hr.prototype,{object:{get:function(){return this.node},set:function(f){this.node=f}},flags:{get:function(){return this.hc.flags},set:function(f){this.hc.flags=f}},position:{get:function(){return this.hc.position},set:function(f){this.hc.position=f}}})),s=Object.assign(new Hr,s),u=tl(u),s.Wb=u,Xt[u]=s),$r={open:s=>{s.Mb=gi[s.node.ec].Mb,s.Mb.open&&s.Mb.open(s)},Zb:()=>{throw new te(70)}},ys=(s,u)=>{gi[s]={Mb:u}},Io=(s,u)=>{var f=u==="/",y=!u;if(f&&Cn)throw new te(10);if(!f&&!y){var _=Yt(u,{yc:!1});if(u=_.path,_=_.node,_.$b)throw new te(10);if((_.mode&61440)!==16384)throw new te(54)}u={type:s,Wc:{},Ac:u,Mc:[]},s=s.Ub(u),s.Ub=u,u.root=s,f?Cn=s:_&&(_.$b=u,_.Ub&&_.Ub.Mc.push(u))},Ao=(s,u,f)=>{var y=Yt(s,{parent:!0}).node;if(s=V(s),!s||s==="."||s==="..")throw new te(28);var _=dr(y,s);if(_)throw new te(_);if(!y.Cb.jc)throw new te(63);return y.Cb.jc(y,s,u,f)},On=(s,u)=>Ao(s,(u!==void 0?u:511)&1023|16384,0),ws=(s,u,f)=>{typeof f>"u"&&(f=u,u=438),Ao(s,u|8192,f)},Ni=(s,u)=>{if(!ce(s))throw new te(44);var f=Yt(u,{parent:!0}).node;if(!f)throw new te(44);u=V(u);var y=dr(f,u);if(y)throw new te(y);if(!f.Cb.nc)throw new te(63);f.Cb.nc(f,u,s)},To=s=>{var u=Yt(s,{parent:!0}).node;s=V(s);var f=Vn(u,s),y=Oo(u,s,!0);if(y)throw new te(y);if(!u.Cb.mc)throw new te(63);if(f.$b)throw new te(10);u.Cb.mc(u,s),j(f)},vi=s=>{if(s=Yt(s).node,!s)throw new te(44);if(!s.Cb.fc)throw new te(28);return ce(qn(s.parent),s.Cb.fc(s))},an=(s,u)=>{if(s=Yt(s,{Yb:!u}).node,!s)throw new te(44);if(!s.Cb.Tb)throw new te(63);return s.Cb.Tb(s)},_i=s=>an(s,!0),gs=(s,u)=>{if(s=typeof s=="string"?Yt(s,{Yb:!0}).node:s,!s.Cb.Qb)throw new te(63);s.Cb.Qb(s,{mode:u&4095|s.mode&-4096,timestamp:Date.now()})},ko=(s,u)=>{if(0>u)throw new te(28);if(s=typeof s=="string"?Yt(s,{Yb:!0}).node:s,!s.Cb.Qb)throw new te(63);if((s.mode&61440)===16384)throw new te(31);if((s.mode&61440)!==32768)throw new te(28);var f=Wr(s,"w");if(f)throw new te(f);s.Cb.Qb(s,{size:u,timestamp:Date.now()})},xi=(s,u,f)=>{if(s==="")throw new te(44);if(typeof u=="string"){var y=bi[u];if(typeof y>"u")throw Error("Unknown file open mode: "+u);u=y}if(f=u&64?(typeof f>"u"?438:f)&4095|32768:0,typeof s=="object")var _=s;else{s=ee(s);try{_=Yt(s,{Yb:!(u&131072)}).node}catch{}}if(y=!1,u&64)if(_){if(u&128)throw new te(20)}else _=Ao(s,f,0),y=!0;if(!_)throw new te(44);if((_.mode&61440)===8192&&(u&=-513),u&65536&&(_.mode&61440)!==16384)throw new te(54);if(!y&&(f=_?(_.mode&61440)===40960?32:(_.mode&61440)===16384&&(ms(u)!=="r"||u&512)?31:Wr(_,ms(u)):44))throw new te(f);return u&512&&!y&&ko(_,0),u&=-131713,_=Wo({node:_,path:qn(_),flags:u,seekable:!0,position:0,Mb:_.Mb,Tc:[],error:!1}),_.Mb.open&&_.Mb.open(_),!n.logReadFiles||u&1||(Ei||(Ei={}),s in Ei||(Ei[s]=1)),_},So=(s,u,f)=>{if(s.Wb===null)throw new te(8);if(!s.seekable||!s.Mb.Zb)throw new te(70);if(f!=0&&f!=1&&f!=2)throw new te(28);s.position=s.Mb.Zb(s,u,f),s.Tc=[]},Qr=()=>{te||(te=function(s,u){this.name="ErrnoError",this.node=u,this.Rc=function(f){this.Ob=f},this.Rc(s),this.message="FS error"},te.prototype=Error(),te.prototype.constructor=te,[44].forEach(s=>{Sn[s]=new te(s),Sn[s].stack="<generic error, no stack>"}))},Ro,bs=(s,u)=>{var f=0;return s&&(f|=365),u&&(f|=146),f},jr=(s,u,f)=>{s=ee("/dev/"+s);var y=bs(!!u,!!f);pr||(pr=64);var _=pr++<<8|0;ys(_,{open:k=>{k.seekable=!1},close:()=>{f&&f.buffer&&f.buffer.length&&f(10)},read:(k,A,H,D)=>{for(var P=0,ie=0;ie<D;ie++){try{var X=u()}catch{throw new te(29)}if(X===void 0&&P===0)throw new te(6);if(X==null)break;P++,A[H+ie]=X}return P&&(k.node.timestamp=Date.now()),P},write:(k,A,H,D)=>{for(var P=0;P<D;P++)try{f(A[H+P])}catch{throw new te(29)}return D&&(k.node.timestamp=Date.now()),P}}),ws(s,y,_)},pr,Ve={},Hr,Ei;function mr(s,u,f){if(u.charAt(0)==="/")return u;if(s=s===-100?"/":mn(s).path,u.length==0){if(!f)throw new te(44);return s}return ee(s+"/"+u)}function Ns(s,u,f){try{var y=s(u)}catch(k){if(k&&k.node&&ee(u)!==ee(qn(k.node)))return-54;throw k}ae[f>>2]=y.Ic,ae[f+8>>2]=y.qc,ae[f+12>>2]=y.mode,_e[f+16>>2]=y.Oc,ae[f+20>>2]=y.uid,ae[f+24>>2]=y.Lc,ae[f+28>>2]=y.ec,Be=[y.size>>>0,(fe=y.size,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+40>>2]=Be[0],ae[f+44>>2]=Be[1],ae[f+48>>2]=4096,ae[f+52>>2]=y.Gc,s=y.Ec.getTime(),u=y.Nc.getTime();var _=y.Hc.getTime();return Be=[Math.floor(s/1e3)>>>0,(fe=Math.floor(s/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+56>>2]=Be[0],ae[f+60>>2]=Be[1],_e[f+64>>2]=s%1e3*1e3,Be=[Math.floor(u/1e3)>>>0,(fe=Math.floor(u/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+72>>2]=Be[0],ae[f+76>>2]=Be[1],_e[f+80>>2]=u%1e3*1e3,Be=[Math.floor(_/1e3)>>>0,(fe=Math.floor(_/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+88>>2]=Be[0],ae[f+92>>2]=Be[1],_e[f+96>>2]=_%1e3*1e3,Be=[y.qc>>>0,(fe=y.qc,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+104>>2]=Be[0],ae[f+108>>2]=Be[1],0}var Ci=void 0;function qi(){return Ci+=4,ae[Ci-4>>2]}function mn(s){if(s=Xt[s],!s)throw new te(8);return s}function Rn(s,u,f){return ue(s,ne,u,f)}function Oi(s){return _e[s>>2]+4294967296*ae[s+4>>2]}var Ge=[0,31,60,91,121,152,182,213,244,274,305,335],Wi=[0,31,59,90,120,151,181,212,243,273,304,334];function Ii(s){var u=oe(s)+1,f=Vo(u);return f&&Rn(s,f,u),f}var zn={};function Ai(){if(!Vr){var s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"},u;for(u in zn)zn[u]===void 0?delete s[u]:s[u]=zn[u];var f=[];for(u in s)f.push(u+"="+s[u]);Vr=f}return Vr}var Vr;function Ti(){}function yn(){}function vs(){}function Do(){}function Ya(){}function _s(){}function Lo(){}function xs(){}function Po(){}function Es(){}function Kn(){}function Cs(){}function qs(){}function zr(){}function Os(){}function Za(){}function Mo(){}function eu(){}function Bo(){}function ki(){}function Si(){}function Fo(){}function Kr(){}function Jr(){}function Jn(){}function Ri(){}function Uo(){}function o(){}function c(){}function h(){}function g(){}function E(){}function R(){}function $(){}function ve(){}function Me(){}function Le(){}function lt(){}function Dn(){}function $o(s){O=s,b||0<dn||(n.onExit&&n.onExit(s),N=!0),w(s,new Hn(s))}function Qo(s){s instanceof Hn||s=="unwind"||w(1,s)}function Di(s){try{s()}catch(u){ct(u)}}function nl(s){var u={},f;for(f in s)(function(y){var _=s[y];u[y]=typeof _=="function"?function(){Ws.push(y);try{return _.apply(null,arguments)}finally{N||(Ws.pop()===y||ct(),Ln&&Gn===1&&Ws.length===0&&(Gn=0,Di(mu),typeof Fibers<"u"&&Fibers.Xc()))}}:_})(f);return u}var Gn=0,Ln=null,tu=0,Ws=[],nu={},ru={},rl=0,jo=null,il=[];function iu(){return new Promise((s,u)=>{jo={resolve:s,reject:u}})}function sl(){var s=Vo(12300),u=s+12;ae[s>>2]=u,ae[s+4>>2]=u+12288,u=Ws[0];var f=nu[u];return f===void 0&&(f=rl++,nu[u]=f,ru[f]=u),ae[s+8>>2]=f,s}function su(s){if(!N){if(Gn===0){var u=!1,f=!1;s((y=0)=>{if(!N&&(tu=y,u=!0,f)){Gn=2,Di(()=>Li(Ln)),y=!1;try{var _=(0,n.asm[ru[ae[Ln+8>>2]]])()}catch(H){_=H,y=!0}var k=!1;if(!Ln){var A=jo;A&&(jo=null,(y?A.reject:A.resolve)(_),k=!0)}if(y&&!k)throw _}}),f=!0,u||(Gn=1,Ln=sl(),Di(()=>pu(Ln)))}else Gn===2?(Gn=0,Di(Jo),cu(Ln),Ln=null,il.forEach(y=>{if(!N)try{if(y(),!(b||0<dn))try{O=y=O,$o(y)}catch(_){Qo(_)}}catch(_){Qo(_)}})):ct("invalid state: "+Gn);return tu}}function ou(s){return su(u=>{s().then(u)})}var au={};function Pn(s,u,f,y,_){function k(X){return--dn,D!==0&&zo(D),u==="string"?L(X):u==="boolean"?!!X:X}var A={string:X=>{var se=0;if(X!=null&&X!==0){se=oe(X)+1;var Ae=Ko(se);Rn(X,Ae,se),se=Ae}return se},array:X=>{var se=Ko(X.length);return T.set(X,se),se}};s=n["_"+s];var H=[],D=0;if(y)for(var P=0;P<y.length;P++){var ie=A[f[P]];ie?(D===0&&(D=du()),H[P]=ie(y[P])):H[P]=y[P]}return f=Ln,y=s.apply(null,H),dn+=1,_=_&&_.async,Ln!=f?iu().then(k):(y=k(y),_?Promise.resolve(y):y)}function uu(s,u,f,y){s||(s=this),this.parent=s,this.Ub=s.Ub,this.$b=null,this.id=ds++,this.name=u,this.mode=f,this.Cb={},this.Mb={},this.ec=y}Object.defineProperties(uu.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(s){s?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(s){s?this.mode|=146:this.mode&=-147}}}),Qr(),le=Array(4096),Io(me,"/"),On("/tmp"),On("/home"),On("/home/web_user"),(()=>{On("/dev"),ys(259,{read:()=>0,write:(y,_,k,A)=>A}),ws("/dev/null",259),Ee(1280,Pe),Ee(1536,st),ws("/dev/tty",1280),ws("/dev/tty1",1536);var s=new Uint8Array(1024),u=0,f=()=>(u===0&&(u=K(s).byteLength),s[--u]);jr("random",f),jr("urandom",f),On("/dev/shm"),On("/dev/shm/tmp")})(),(()=>{On("/proc");var s=On("/proc/self");On("/proc/self/fd"),Io({Ub:()=>{var u=Ft(s,"fd",16895,73);return u.Cb={cc:(f,y)=>{var _=Xt[+y];if(!_)throw new te(8);return f={parent:null,Ub:{Ac:"fake"},Cb:{fc:()=>_.path}},f.parent=f}},u}},"/proc/self/fd")})(),function(){const s=new Map;n.setAuthorizer=function(u,f,y){return f?s.set(u,{f,uc:y}):s.delete(u),Pn("set_authorizer","number",["number"],[u])},Ti=function(u,f,y,_,k,A){if(s.has(u)){const{f:H,uc:D}=s.get(u);return H(D,f,y?L(y):null,_?L(_):null,k?L(k):null,A?L(A):null)}return 0}}(),function(){const s=new Map,u=new Map;n.createFunction=function(f,y,_,k,A,H){const D=s.size;return s.set(D,{f:H,Xb:A}),Pn("create_function","number","number string number number number number".split(" "),[f,y,_,k,D,0])},n.createAggregate=function(f,y,_,k,A,H,D){const P=s.size;return s.set(P,{step:H,Jc:D,Xb:A}),Pn("create_function","number","number string number number number number".split(" "),[f,y,_,k,P,1])},n.getFunctionUserData=function(f){return u.get(f)},vs=function(f,y,_,k){f=s.get(f),u.set(y,f.Xb),f.f(y,new Uint32Array(ne.buffer,k,_)),u.delete(y)},Ya=function(f,y,_,k){f=s.get(f),u.set(y,f.Xb),f.step(y,new Uint32Array(ne.buffer,k,_)),u.delete(y)},yn=function(f,y){f=s.get(f),u.set(y,f.Xb),f.Jc(y),u.delete(y)}}(),function(){const s=new Map;n.progressHandler=function(u,f,y,_){return y?s.set(u,{f:y,uc:_}):s.delete(u),Pn("progress_handler",null,["number","number"],[u,f])},Do=function(u){if(s.has(u)){const{f,uc:y}=s.get(u);return f(y)}return 0}}(),function(){function s(D,P){const ie=`get${D}`,X=`set${D}`;return new Proxy(new DataView(ne.buffer,P,D==="Int32"?4:8),{get(se,Ae){if(Ae===ie)return function(Xe,Tt){if(!Tt)throw Error("must be little endian");return se[Ae](Xe,Tt)};if(Ae===X)return function(Xe,Tt,_t){if(!_t)throw Error("must be little endian");return se[Ae](Xe,Tt,_t)};if(typeof Ae=="string"&&Ae.match(/^(get)|(set)/))throw Error("invalid type");return se[Ae]}})}const u=typeof au=="object",f=new Map,y=new Map,_=new Map,k=u?new Set:null,A=u?new Set:null,H=new Map;Fo=function(D,P,ie,X){H.set(L(D),{size:P,dc:Array.from(new Uint32Array(ne.buffer,X,ie))})},n.createModule=function(D,P,ie,X){u&&(ie.handleAsync=ou);const se=f.size;return f.set(se,{module:ie,Xb:X}),X=0,ie.xCreate&&(X|=1),ie.xConnect&&(X|=2),ie.xBestIndex&&(X|=4),ie.xDisconnect&&(X|=8),ie.xDestroy&&(X|=16),ie.xOpen&&(X|=32),ie.xClose&&(X|=64),ie.xFilter&&(X|=128),ie.xNext&&(X|=256),ie.xEof&&(X|=512),ie.xColumn&&(X|=1024),ie.xRowid&&(X|=2048),ie.xUpdate&&(X|=4096),ie.xBegin&&(X|=8192),ie.xSync&&(X|=16384),ie.xCommit&&(X|=32768),ie.xRollback&&(X|=65536),ie.xFindFunction&&(X|=131072),ie.xRename&&(X|=262144),Pn("create_module","number",["number","string","number","number"],[D,P,se,X])},Cs=function(D,P,ie,X,se,Ae){if(P=f.get(P),y.set(se,P),u){k.delete(se);for(const Xe of k)y.delete(Xe)}return X=Array.from(new Uint32Array(ne.buffer,X,ie)).map(Xe=>L(Xe)),P.module.xCreate(D,P.Xb,X,se,s("Int32",Ae))},Kn=function(D,P,ie,X,se,Ae){if(P=f.get(P),y.set(se,P),u){k.delete(se);for(const Xe of k)y.delete(Xe)}return X=Array.from(new Uint32Array(ne.buffer,X,ie)).map(Xe=>L(Xe)),P.module.xConnect(D,P.Xb,X,se,s("Int32",Ae))},Lo=function(D,P){var ie=y.get(D),X=H.get("sqlite3_index_info").dc;const se={};se.nConstraint=Je(P+X[0],"i32"),se.aConstraint=[];for(var Ae=Je(P+X[1],"*"),Xe=H.get("sqlite3_index_constraint").size,Tt=0;Tt<se.nConstraint;++Tt){var _t=se.aConstraint,wn=_t.push,Ut=Ae+Tt*Xe,As=H.get("sqlite3_index_constraint").dc,Gr={};Gr.iColumn=Je(Ut+As[0],"i32"),Gr.op=Je(Ut+As[1],"i8"),Gr.usable=!!Je(Ut+As[2],"i8"),wn.call(_t,Gr)}for(se.nOrderBy=Je(P+X[2],"i32"),se.aOrderBy=[],Ae=Je(P+X[3],"*"),Xe=H.get("sqlite3_index_orderby").size,Tt=0;Tt<se.nOrderBy;++Tt)_t=se.aOrderBy,wn=_t.push,Ut=Ae+Tt*Xe,As=H.get("sqlite3_index_orderby").dc,Gr={},Gr.iColumn=Je(Ut+As[0],"i32"),Gr.desc=!!Je(Ut+As[1],"i8"),wn.call(_t,Gr);for(se.aConstraintUsage=[],Ae=0;Ae<se.nConstraint;++Ae)se.aConstraintUsage.push({argvIndex:0,omit:!1});for(se.idxNum=Je(P+X[5],"i32"),se.idxStr=null,se.orderByConsumed=!!Je(P+X[8],"i8"),se.estimatedCost=Je(P+X[9],"double"),se.estimatedRows=Je(P+X[10],"i64"),se.idxFlags=Je(P+X[11],"i32"),se.colUsed=Je(P+X[12],"i64"),D=ie.module.xBestIndex(D,se),ie=H.get("sqlite3_index_info").dc,X=Je(P+ie[4],"*"),Ae=H.get("sqlite3_index_constraint_usage").size,wn=0;wn<se.nConstraint;++wn)Xe=X+wn*Ae,_t=se.aConstraintUsage[wn],Ut=H.get("sqlite3_index_constraint_usage").dc,x(Xe+Ut[0],_t.argvIndex,"i32"),x(Xe+Ut[1],_t.omit?1:0,"i8");return x(P+ie[5],se.idxNum,"i32"),typeof se.idxStr=="string"&&(X=oe(se.idxStr),Ae=Pn("sqlite3_malloc","number",["number"],[X+1]),Rn(se.idxStr,Ae,X+1),x(P+ie[6],Ae,"*"),x(P+ie[7],1,"i32")),x(P+ie[8],se.orderByConsumed,"i32"),x(P+ie[9],se.estimatedCost,"double"),x(P+ie[10],se.estimatedRows,"i64"),x(P+ie[11],se.idxFlags,"i32"),D},zr=function(D){const P=y.get(D);return u?k.add(D):y.delete(D),P.module.xDisconnect(D)},qs=function(D){const P=y.get(D);return u?k.add(D):y.delete(D),P.module.xDestroy(D)},eu=function(D,P){const ie=y.get(D);if(_.set(P,ie),u){A.delete(P);for(const X of A)_.delete(X)}return ie.module.xOpen(D,P)},xs=function(D){const P=_.get(D);return u?A.add(D):_.delete(D),P.module.xClose(D)},Os=function(D){return _.get(D).module.xEof(D)?1:0},Za=function(D,P,ie,X,se){const Ae=_.get(D);return ie=ie?L(ie):null,se=new Uint32Array(ne.buffer,se,X),Ae.module.xFilter(D,P,ie,se)},Mo=function(D){return _.get(D).module.xNext(D)},Po=function(D,P,ie){return _.get(D).module.xColumn(D,P,ie)},Si=function(D,P){return _.get(D).module.xRowid(D,s("BigInt64",P))},Jr=function(D,P,ie,X){const se=y.get(D);return ie=new Uint32Array(ne.buffer,ie,P),se.module.xUpdate(D,ie,s("BigInt64",X))},_s=function(D){return y.get(D).module.xBegin(D)},Kr=function(D){return y.get(D).module.xSync(D)},Es=function(D){return y.get(D).module.xCommit(D)},ki=function(D){return y.get(D).module.xRollback(D)},Bo=function(D,P){const ie=y.get(D);return P=L(P),ie.module.xRename(D,P)}}(),function(){function s(A,H){const D=`get${A}`,P=`set${A}`;return new Proxy(new DataView(ne.buffer,H,A==="Int32"?4:8),{get(ie,X){if(X===D)return function(se,Ae){if(!Ae)throw Error("must be little endian");return ie[X](se,Ae)};if(X===P)return function(se,Ae,Xe){if(!Xe)throw Error("must be little endian");return ie[X](se,Ae,Xe)};if(typeof X=="string"&&X.match(/^(get)|(set)/))throw Error("invalid type");return ie[X]}})}function u(A){return A>>=2,_e[A]+_e[A+1]*2**32}const f=typeof au=="object",y=new Map,_=new Map;n.registerVFS=function(A,H){if(Pn("sqlite3_vfs_find","number",["string"],[A.name]))throw Error(`VFS '${A.name}' already registered`);f&&(A.handleAsync=ou);var D=A.Vc??64;const P=n._malloc(4);return H=Pn("register_vfs","number",["string","number","number","number"],[A.name,D,H?1:0,P]),H||(D=Je(P,"*"),y.set(D,A)),n._free(P),H};const k=f?new Set:null;Uo=function(A){const H=_.get(A);return f?k.add(A):_.delete(A),H.xClose(A)},$=function(A,H,D,P){return _.get(A).xRead(A,ne.subarray(H,H+D),u(P))},Dn=function(A,H,D,P){return _.get(A).xWrite(A,ne.subarray(H,H+D),u(P))},Le=function(A,H){return _.get(A).xTruncate(A,u(H))},Me=function(A,H){return _.get(A).xSync(A,H)},g=function(A,H){const D=_.get(A);return H=s("BigInt64",H),D.xFileSize(A,H)},E=function(A,H){return _.get(A).xLock(A,H)},lt=function(A,H){return _.get(A).xUnlock(A,H)},Ri=function(A,H){const D=_.get(A);return H=s("Int32",H),D.xCheckReservedLock(A,H)},h=function(A,H,D){const P=_.get(A);return D=new DataView(ne.buffer,D),P.xFileControl(A,H,D)},ve=function(A){return _.get(A).xSectorSize(A)},c=function(A){return _.get(A).xDeviceCharacteristics(A)},R=function(A,H,D,P,ie){if(A=y.get(A),_.set(D,A),f){k.delete(D);for(var X of k)_.delete(X)}if(X=null,P&64){X=1;const se=[];for(;X;){const Ae=ne[H++];if(Ae)se.push(Ae);else switch(ne[H]||(X=null),X){case 1:se.push(63),X=2;break;case 2:se.push(61),X=3;break;case 3:se.push(38),X=2}}X=new TextDecoder().decode(new Uint8Array(se))}else H&&(X=L(H));return ie=s("Int32",ie),A.xOpen(X,D,P,ie)},o=function(A,H,D){return y.get(A).xDelete(L(H),D)},Jn=function(A,H,D,P){return A=y.get(A),P=s("Int32",P),A.xAccess(L(H),D,P)}}();var ol={a:function(s,u,f,y){ct("Assertion failed: "+L(s)+", at: "+[u?L(u):"unknown filename",f,y?L(y):"unknown function"])},K:function(s,u){try{return s=L(s),gs(s,u),0}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},M:function(s,u,f){try{if(u=L(u),u=mr(s,u),f&-8)return-28;var y=Yt(u,{Yb:!0}).node;return y?(s="",f&4&&(s+="r"),f&2&&(s+="w"),f&1&&(s+="x"),s&&Wr(y,s)?-2:0):-44}catch(_){if(typeof Ve>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},L:function(s,u){try{var f=Xt[s];if(!f)throw new te(8);return gs(f.node,u),0}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},J:function(s){try{var u=Xt[s];if(!u)throw new te(8);var f=u.node,y=typeof f=="string"?Yt(f,{Yb:!0}).node:f;if(!y.Cb.Qb)throw new te(63);return y.Cb.Qb(y,{timestamp:Date.now()}),0}catch(_){if(typeof Ve>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},b:function(s,u,f){Ci=f;try{var y=mn(s);switch(u){case 0:var _=qi();return 0>_?-28:Wo(y,_).Wb;case 1:case 2:return 0;case 3:return y.flags;case 4:return _=qi(),y.flags|=_,0;case 5:return _=qi(),Ne[_+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ae[Ho()>>2]=28,-1;default:return-28}}catch(k){if(typeof Ve>"u"||k.name!=="ErrnoError")throw k;return-k.Ob}},I:function(s,u){try{var f=mn(s);return Ns(an,f.path,u)}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},j:function(s,u,f){try{if(u=f+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*f:NaN,isNaN(u))return-61;var y=Xt[s];if(!y)throw new te(8);if(!(y.flags&2097155))throw new te(28);return ko(y.node,u),0}catch(_){if(typeof Ve>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},C:function(s,u){try{if(u===0)return-28;var f=oe("/")+1;return u<f?-68:(Rn("/",s,u),f)}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},F:function(s,u){try{return s=L(s),Ns(_i,s,u)}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},z:function(s,u,f){try{return u=L(u),u=mr(s,u),u=ee(u),u[u.length-1]==="/"&&(u=u.substr(0,u.length-1)),On(u,f),0}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},E:function(s,u,f,y){try{u=L(u);var _=y&256;return u=mr(s,u,y&4096),Ns(_?_i:an,u,f)}catch(k){if(typeof Ve>"u"||k.name!=="ErrnoError")throw k;return-k.Ob}},u:function(s,u,f,y){Ci=y;try{u=L(u),u=mr(s,u);var _=y?qi():0;return xi(u,f,_).Wb}catch(k){if(typeof Ve>"u"||k.name!=="ErrnoError")throw k;return-k.Ob}},s:function(s,u,f,y){try{if(u=L(u),u=mr(s,u),0>=y)return-28;var _=vi(u),k=Math.min(y,oe(_)),A=T[f+k];return Rn(_,f,y+1),T[f+k]=A,k}catch(H){if(typeof Ve>"u"||H.name!=="ErrnoError")throw H;return-H.Ob}},r:function(s){try{return s=L(s),To(s),0}catch(u){if(typeof Ve>"u"||u.name!=="ErrnoError")throw u;return-u.Ob}},H:function(s,u){try{return s=L(s),Ns(an,s,u)}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},o:function(s,u,f){try{if(u=L(u),u=mr(s,u),f===0){s=u;var y=Yt(s,{parent:!0}).node;if(!y)throw new te(44);var _=V(s),k=Vn(y,_),A=Oo(y,_,!1);if(A)throw new te(A);if(!y.Cb.oc)throw new te(63);if(k.$b)throw new te(10);y.Cb.oc(y,_),j(k)}else f===512?To(u):ct("Invalid flags passed to unlinkat");return 0}catch(H){if(typeof Ve>"u"||H.name!=="ErrnoError")throw H;return-H.Ob}},n:function(s,u,f){try{if(u=L(u),u=mr(s,u,!0),f){var y=Oi(f),_=ae[f+8>>2];k=1e3*y+_/1e6,f+=16,y=Oi(f),_=ae[f+8>>2],A=1e3*y+_/1e6}else var k=Date.now(),A=k;s=k;var H=Yt(u,{Yb:!0}).node;return H.Cb.Qb(H,{timestamp:Math.max(s,A)}),0}catch(D){if(typeof Ve>"u"||D.name!=="ErrnoError")throw D;return-D.Ob}},y:function(s,u){s=new Date(1e3*Oi(s)),ae[u>>2]=s.getSeconds(),ae[u+4>>2]=s.getMinutes(),ae[u+8>>2]=s.getHours(),ae[u+12>>2]=s.getDate(),ae[u+16>>2]=s.getMonth(),ae[u+20>>2]=s.getFullYear()-1900,ae[u+24>>2]=s.getDay();var f=s.getFullYear();ae[u+28>>2]=(f%4!==0||f%100===0&&f%400!==0?Wi:Ge)[s.getMonth()]+s.getDate()-1|0,ae[u+36>>2]=-(60*s.getTimezoneOffset()),f=new Date(s.getFullYear(),6,1).getTimezoneOffset();var y=new Date(s.getFullYear(),0,1).getTimezoneOffset();ae[u+32>>2]=(f!=y&&s.getTimezoneOffset()==Math.min(y,f))|0},w:function(s,u,f,y,_,k,A){try{var H=mn(y);if(u&2&&!(f&2)&&(H.flags&2097155)!==2)throw new te(2);if((H.flags&2097155)===1)throw new te(2);if(!H.Mb.kc)throw new te(43);var D=H.Mb.kc(H,s,_,u,f),P=D.Pc;return ae[k>>2]=D.Dc,_e[A>>2]=P,0}catch(ie){if(typeof Ve>"u"||ie.name!=="ErrnoError")throw ie;return-ie.Ob}},x:function(s,u,f,y,_,k){try{var A=mn(_);if(f&2){if((A.node.mode&61440)!==32768)throw new te(43);y&2||A.Mb.lc&&A.Mb.lc(A,ne.slice(s,s+u),k,u,y)}}catch(H){if(typeof Ve>"u"||H.name!=="ErrnoError")throw H;return-H.Ob}},p:function(s,u,f){function y(D){return(D=D.toTimeString().match(/\(([A-Za-z ]+)\)$/))?D[1]:"GMT"}var _=new Date().getFullYear(),k=new Date(_,0,1),A=new Date(_,6,1);_=k.getTimezoneOffset();var H=A.getTimezoneOffset();_e[s>>2]=60*Math.max(_,H),ae[u>>2]=+(_!=H),s=y(k),u=y(A),s=Ii(s),u=Ii(u),H<_?(_e[f>>2]=s,_e[f+4>>2]=u):(_e[f>>2]=u,_e[f+4>>2]=s)},e:function(){return Date.now()},d:()=>performance.now(),l:function(s){var u=ne.length;if(s>>>=0,2147483648<s)return!1;for(var f=1;4>=f;f*=2){var y=u*(1+.2/f);y=Math.min(y,s+100663296);var _=Math,k=_.min;y=Math.max(s,y),y+=(65536-y%65536)%65536;e:{var A=C.buffer;try{C.grow(k.call(_,2147483648,y)-A.byteLength+65535>>>16),Ke();var H=1;break e}catch{}H=void 0}if(H)return!0}return!1},A:function(s,u){var f=0;return Ai().forEach(function(y,_){var k=u+f;for(_=_e[s+4*_>>2]=k,k=0;k<y.length;++k)T[_++>>0]=y.charCodeAt(k);T[_>>0]=0,f+=y.length+1}),0},B:function(s,u){var f=Ai();_e[s>>2]=f.length;var y=0;return f.forEach(function(_){y+=_.length+1}),_e[u>>2]=y,0},f:function(s){try{var u=mn(s);if(u.Wb===null)throw new te(8);u.pc&&(u.pc=null);try{u.Mb.close&&u.Mb.close(u)}catch(f){throw f}finally{Xt[u.Wb]=null}return u.Wb=null,0}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return f.Ob}},m:function(s,u){try{var f=mn(s);return T[u>>0]=f.Sb?2:(f.mode&61440)===16384?3:(f.mode&61440)===40960?7:4,Ne[u+2>>1]=0,Be=[0,(fe=0,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[u+8>>2]=Be[0],ae[u+12>>2]=Be[1],Be=[0,(fe=0,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[u+16>>2]=Be[0],ae[u+20>>2]=Be[1],0}catch(y){if(typeof Ve>"u"||y.name!=="ErrnoError")throw y;return y.Ob}},t:function(s,u,f,y){try{e:{var _=mn(s);s=u;for(var k,A=u=0;A<f;A++){var H=_e[s>>2],D=_e[s+4>>2];s+=8;var P=_,ie=H,X=D,se=k,Ae=T;if(0>X||0>se)throw new te(28);if(P.Wb===null)throw new te(8);if((P.flags&2097155)===1)throw new te(8);if((P.node.mode&61440)===16384)throw new te(31);if(!P.Mb.read)throw new te(28);var Xe=typeof se<"u";if(!Xe)se=P.position;else if(!P.seekable)throw new te(70);var Tt=P.Mb.read(P,Ae,ie,X,se);Xe||(P.position+=Tt);var _t=Tt;if(0>_t){var wn=-1;break e}if(u+=_t,_t<D)break;typeof k<"u"&&(k+=_t)}wn=u}return _e[y>>2]=wn,0}catch(Ut){if(typeof Ve>"u"||Ut.name!=="ErrnoError")throw Ut;return Ut.Ob}},i:function(s,u,f,y,_){try{if(u=f+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*f:NaN,isNaN(u))return 61;var k=mn(s);return So(k,u,y),Be=[k.position>>>0,(fe=k.position,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[_>>2]=Be[0],ae[_+4>>2]=Be[1],k.pc&&u===0&&y===0&&(k.pc=null),0}catch(A){if(typeof Ve>"u"||A.name!=="ErrnoError")throw A;return A.Ob}},D:function(s){try{var u=mn(s);return su(function(f){var y=u.node.Ub;y.type.Sc?y.type.Sc(y,!1,function(_){f(_?function(){return 29}:0)}):f(0)})}catch(f){if(typeof Ve>"u"||f.name!=="ErrnoError")throw f;return f.Ob}},q:function(s,u,f,y){try{e:{var _=mn(s);s=u;for(var k,A=u=0;A<f;A++){var H=_e[s>>2],D=_e[s+4>>2];s+=8;var P=_,ie=H,X=D,se=k,Ae=T;if(0>X||0>se)throw new te(28);if(P.Wb===null)throw new te(8);if(!(P.flags&2097155))throw new te(8);if((P.node.mode&61440)===16384)throw new te(31);if(!P.Mb.write)throw new te(28);P.seekable&&P.flags&1024&&So(P,0,2);var Xe=typeof se<"u";if(!Xe)se=P.position;else if(!P.seekable)throw new te(70);var Tt=P.Mb.write(P,Ae,ie,X,se,void 0);Xe||(P.position+=Tt);var _t=Tt;if(0>_t){var wn=-1;break e}u+=_t,typeof k<"u"&&(k+=_t)}wn=u}return _e[y>>2]=wn,0}catch(Ut){if(typeof Ve>"u"||Ut.name!=="ErrnoError")throw Ut;return Ut.Ob}},ra:Ti,N:yn,ga:vs,ca:Do,Y:Ya,la:_s,G:Lo,h:xs,oa:Po,ja:Es,ea:Kn,fa:Cs,k:qs,v:zr,pa:Os,g:Za,qa:Mo,da:eu,ha:Bo,ia:ki,na:Si,c:Fo,ka:Kr,ma:Jr,aa:Jn,V:Ri,$:Uo,ba:o,S:c,U:h,Z:g,X:E,R,Q:$,T:ve,_:Me,O:Le,W:lt,P:Dn};(function(){function s(f){if(f=f.exports,f=nl(f),n.asm=f,C=n.asm.sa,Ke(),It.unshift(n.asm.ta),ge--,n.monitorRunDependencies&&n.monitorRunDependencies(ge),ge==0&&qe){var y=qe;qe=null,y()}return f}var u={a:ol};if(ge++,n.monitorRunDependencies&&n.monitorRunDependencies(ge),n.instantiateWasm)try{return n.instantiateWasm(u,s)}catch(f){Y("Module.instantiateWasm callback failed with error: "+f),a(f)}return pn(u,function(f){s(f.instance)}).catch(a),{}})(),n._sqlite3_vfs_find=function(){return(n._sqlite3_vfs_find=n.asm.ua).apply(null,arguments)},n._sqlite3_malloc=function(){return(n._sqlite3_malloc=n.asm.va).apply(null,arguments)},n._sqlite3_free=function(){return(n._sqlite3_free=n.asm.wa).apply(null,arguments)},n._sqlite3_prepare_v2=function(){return(n._sqlite3_prepare_v2=n.asm.xa).apply(null,arguments)},n._sqlite3_step=function(){return(n._sqlite3_step=n.asm.ya).apply(null,arguments)},n._sqlite3_column_int64=function(){return(n._sqlite3_column_int64=n.asm.za).apply(null,arguments)},n._sqlite3_column_int=function(){return(n._sqlite3_column_int=n.asm.Aa).apply(null,arguments)},n._sqlite3_finalize=function(){return(n._sqlite3_finalize=n.asm.Ba).apply(null,arguments)},n._sqlite3_reset=function(){return(n._sqlite3_reset=n.asm.Ca).apply(null,arguments)},n._sqlite3_clear_bindings=function(){return(n._sqlite3_clear_bindings=n.asm.Da).apply(null,arguments)},n._sqlite3_value_blob=function(){return(n._sqlite3_value_blob=n.asm.Ea).apply(null,arguments)},n._sqlite3_value_text=function(){return(n._sqlite3_value_text=n.asm.Fa).apply(null,arguments)},n._sqlite3_value_bytes=function(){return(n._sqlite3_value_bytes=n.asm.Ga).apply(null,arguments)},n._sqlite3_value_double=function(){return(n._sqlite3_value_double=n.asm.Ha).apply(null,arguments)},n._sqlite3_value_int=function(){return(n._sqlite3_value_int=n.asm.Ia).apply(null,arguments)},n._sqlite3_value_int64=function(){return(n._sqlite3_value_int64=n.asm.Ja).apply(null,arguments)},n._sqlite3_value_type=function(){return(n._sqlite3_value_type=n.asm.Ka).apply(null,arguments)},n._sqlite3_result_blob=function(){return(n._sqlite3_result_blob=n.asm.La).apply(null,arguments)},n._sqlite3_result_double=function(){return(n._sqlite3_result_double=n.asm.Ma).apply(null,arguments)},n._sqlite3_result_error=function(){return(n._sqlite3_result_error=n.asm.Na).apply(null,arguments)},n._sqlite3_result_int=function(){return(n._sqlite3_result_int=n.asm.Oa).apply(null,arguments)},n._sqlite3_result_int64=function(){return(n._sqlite3_result_int64=n.asm.Pa).apply(null,arguments)},n._sqlite3_result_null=function(){return(n._sqlite3_result_null=n.asm.Qa).apply(null,arguments)},n._sqlite3_result_text=function(){return(n._sqlite3_result_text=n.asm.Ra).apply(null,arguments)},n._sqlite3_column_count=function(){return(n._sqlite3_column_count=n.asm.Sa).apply(null,arguments)},n._sqlite3_data_count=function(){return(n._sqlite3_data_count=n.asm.Ta).apply(null,arguments)},n._sqlite3_column_blob=function(){return(n._sqlite3_column_blob=n.asm.Ua).apply(null,arguments)},n._sqlite3_column_bytes=function(){return(n._sqlite3_column_bytes=n.asm.Va).apply(null,arguments)},n._sqlite3_column_double=function(){return(n._sqlite3_column_double=n.asm.Wa).apply(null,arguments)},n._sqlite3_column_text=function(){return(n._sqlite3_column_text=n.asm.Xa).apply(null,arguments)},n._sqlite3_column_type=function(){return(n._sqlite3_column_type=n.asm.Ya).apply(null,arguments)},n._sqlite3_column_name=function(){return(n._sqlite3_column_name=n.asm.Za).apply(null,arguments)},n._sqlite3_bind_blob=function(){return(n._sqlite3_bind_blob=n.asm._a).apply(null,arguments)},n._sqlite3_bind_double=function(){return(n._sqlite3_bind_double=n.asm.$a).apply(null,arguments)},n._sqlite3_bind_int=function(){return(n._sqlite3_bind_int=n.asm.ab).apply(null,arguments)},n._sqlite3_bind_int64=function(){return(n._sqlite3_bind_int64=n.asm.bb).apply(null,arguments)},n._sqlite3_bind_null=function(){return(n._sqlite3_bind_null=n.asm.cb).apply(null,arguments)},n._sqlite3_bind_text=function(){return(n._sqlite3_bind_text=n.asm.db).apply(null,arguments)},n._sqlite3_bind_parameter_count=function(){return(n._sqlite3_bind_parameter_count=n.asm.eb).apply(null,arguments)},n._sqlite3_bind_parameter_name=function(){return(n._sqlite3_bind_parameter_name=n.asm.fb).apply(null,arguments)},n._sqlite3_sql=function(){return(n._sqlite3_sql=n.asm.gb).apply(null,arguments)},n._sqlite3_exec=function(){return(n._sqlite3_exec=n.asm.hb).apply(null,arguments)},n._sqlite3_errmsg=function(){return(n._sqlite3_errmsg=n.asm.ib).apply(null,arguments)},n._sqlite3_declare_vtab=function(){return(n._sqlite3_declare_vtab=n.asm.jb).apply(null,arguments)},n._sqlite3_libversion=function(){return(n._sqlite3_libversion=n.asm.kb).apply(null,arguments)},n._sqlite3_libversion_number=function(){return(n._sqlite3_libversion_number=n.asm.lb).apply(null,arguments)},n._sqlite3_changes=function(){return(n._sqlite3_changes=n.asm.mb).apply(null,arguments)},n._sqlite3_close=function(){return(n._sqlite3_close=n.asm.nb).apply(null,arguments)},n._sqlite3_limit=function(){return(n._sqlite3_limit=n.asm.ob).apply(null,arguments)},n._sqlite3_open_v2=function(){return(n._sqlite3_open_v2=n.asm.pb).apply(null,arguments)},n._sqlite3_get_autocommit=function(){return(n._sqlite3_get_autocommit=n.asm.qb).apply(null,arguments)};function Ho(){return(Ho=n.asm.rb).apply(null,arguments)}var Vo=n._malloc=function(){return(Vo=n._malloc=n.asm.sb).apply(null,arguments)},cu=n._free=function(){return(cu=n._free=n.asm.tb).apply(null,arguments)};n._RegisterExtensionFunctions=function(){return(n._RegisterExtensionFunctions=n.asm.ub).apply(null,arguments)},n._set_authorizer=function(){return(n._set_authorizer=n.asm.vb).apply(null,arguments)},n._create_function=function(){return(n._create_function=n.asm.wb).apply(null,arguments)},n._create_module=function(){return(n._create_module=n.asm.xb).apply(null,arguments)},n._progress_handler=function(){return(n._progress_handler=n.asm.yb).apply(null,arguments)},n._register_vfs=function(){return(n._register_vfs=n.asm.zb).apply(null,arguments)},n._getSqliteFree=function(){return(n._getSqliteFree=n.asm.Ab).apply(null,arguments)};var lu=n._main=function(){return(lu=n._main=n.asm.Bb).apply(null,arguments)};function fu(){return(fu=n.asm.Db).apply(null,arguments)}function hu(){return(hu=n.asm.Eb).apply(null,arguments)}function du(){return(du=n.asm.Fb).apply(null,arguments)}function zo(){return(zo=n.asm.Gb).apply(null,arguments)}function Ko(){return(Ko=n.asm.Hb).apply(null,arguments)}function pu(){return(pu=n.asm.Ib).apply(null,arguments)}function mu(){return(mu=n.asm.Jb).apply(null,arguments)}function Li(){return(Li=n.asm.Kb).apply(null,arguments)}function Jo(){return(Jo=n.asm.Lb).apply(null,arguments)}n.getTempRet0=hu,n.ccall=Pn,n.cwrap=function(s,u,f,y){var _=!f||f.every(k=>k==="number"||k==="boolean");return u!=="string"&&_&&!y?n["_"+s]:function(){return Pn(s,u,f,arguments,y)}},n.setValue=x,n.getValue=Je,n.UTF8ToString=L,n.stringToUTF8=Rn,n.lengthBytesUTF8=oe;var Is;qe=function s(){Is||W(),Is||(qe=s)};function W(){function s(){if(!Is&&(Is=!0,n.calledRun=!0,!N)){if(n.noFSInit||Ro||(Ro=!0,Qr(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?jr("stdin",n.stdin):Ni("/dev/tty","/dev/stdin"),n.stdout?jr("stdout",null,n.stdout):Ni("/dev/tty","/dev/stdout"),n.stderr?jr("stderr",null,n.stderr):Ni("/dev/tty1","/dev/stderr"),xi("/dev/stdin",0),xi("/dev/stdout",1),xi("/dev/stderr",1)),Bt=!1,Gt(It),Gt(je),i(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),G){var u=lu;try{var f=u(0,0);O=f,$o(f)}catch(y){Qo(y)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)u=n.postRun.shift(),Jt.unshift(u);Gt(Jt)}}if(!(0<ge)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)gt();Gt(Wt),0<ge||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),s()},1)):s())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var G=!0;return n.noInitialRun&&(G=!1),W(),e.ready}})();class tN{constructor(){Te(this,"mxPathName",64)}xClose(e){return Et}xRead(e,n,i){return Et}xWrite(e,n,i){return Et}xTruncate(e,n){return Et}xSync(e,n){return ze}xFileSize(e,n){return Et}xLock(e,n){return ze}xUnlock(e,n){return ze}xCheckReservedLock(e,n){return n.setInt32(0,0,!0),ze}xFileControl(e,n,i){return Pp}xSectorSize(e){return 512}xDeviceCharacteristics(e){return 0}xOpen(e,n,i,a){return Mp}xDelete(e,n){return Et}xAccess(e,n,i){return Et}handleAsync(e){return e()}}const nN=Ss|Hi|Du|Kb|Lu;var Ht,lo,$a,Qa,Vl,Ic,Fp,Ac,Up;class rN{constructor(){F(this,Qa);F(this,Ic);F(this,Ac);F(this,Ht,Ss);Te(this,"timeoutMillis",0);F(this,lo,new Map);F(this,$a,Promise.resolve(0))}get state(){return r(this,Ht)}async lock(e){return Oe(this,Qa,Vl).call(this,Oe(this,Ic,Fp),e)}async unlock(e){return Oe(this,Qa,Vl).call(this,Oe(this,Ac,Up),e)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(e,n){return new Promise(async(i,a)=>{try{await navigator.locks.request(e,n,l=>{if(i(l),l)return new Promise(m=>r(this,lo).set(e,m))})}catch(l){a(l)}})}_releaseWebLock(e){var n;(n=r(this,lo).get(e))==null||n(),r(this,lo).delete(e)}async _pollWebLock(e){var i;return(i=(await navigator.locks.query()).held.find(({name:a})=>a===e))==null?void 0:i.mode}_getTimeoutSignal(){if(this.timeoutMillis){const e=new AbortController;return setTimeout(()=>e.abort(),this.timeoutMillis),e.signal}}}Ht=new WeakMap,lo=new WeakMap,$a=new WeakMap,Qa=new WeakSet,Vl=async function(e,n){const i=n&nN;try{const a=()=>e.call(this,i);return await J(this,$a,r(this,$a).then(a,a)),J(this,Ht,i),ze}catch(a){return a.name==="AbortError"?Fb:(console.error(a),Qb)}},Ic=new WeakSet,Fp=async function(e){if(e===r(this,Ht))return ze;switch(r(this,Ht)){case Ss:switch(e){case Hi:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}case Hi:switch(e){case Du:return this._SHAREDtoRESERVED();case Lu:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}case Du:switch(e){case Lu:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}},Ac=new WeakSet,Up=async function(e){if(e===r(this,Ht))return ze;switch(r(this,Ht)){case Lu:switch(e){case Hi:return this._EXCLUSIVEtoSHARED();case Ss:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}case Du:switch(e){case Hi:return this._RESERVEDtoSHARED();case Ss:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}case Hi:switch(e){case Ss:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}default:throw new Error(`unexpected transition ${r(this,Ht)} -> ${e}`)}};class iN extends rN{constructor(e){super(),this._lockName=e+"-outer",this._reservedName=e+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}const sN=5e3;let oN=0;const bl=new WeakMap;function gr(...t){}var fo,ho,ja,Dt,Ha,po,is,Tc,$p;class aN{constructor(e,n={durability:"default"}){F(this,Tc);F(this,fo,void 0);F(this,ho,void 0);F(this,ja,void 0);F(this,Dt,null);F(this,Ha,0);F(this,po,Promise.resolve());F(this,is,Promise.resolve());J(this,ho,Promise.resolve(e).then(i=>J(this,fo,i))),J(this,ja,n)}async close(){const e=r(this,fo)??await r(this,ho);await r(this,po),await this.sync(),e.close()}async run(e,n){const i=r(this,po).then(()=>Oe(this,Tc,$p).call(this,e,n));return J(this,po,i.catch(()=>{})),i}async sync(){await r(this,is),J(this,is,Promise.resolve())}}fo=new WeakMap,ho=new WeakMap,ja=new WeakMap,Dt=new WeakMap,Ha=new WeakMap,po=new WeakMap,is=new WeakMap,Tc=new WeakSet,$p=async function(e,n){var a,l;const i=r(this,fo)??await r(this,ho);if(e==="readwrite"&&((a=r(this,Dt))==null?void 0:a.mode)==="readonly")J(this,Dt,null);else if(performance.now()-r(this,Ha)>sN){try{(l=r(this,Dt))==null||l.commit()}catch(m){if(m.name!=="InvalidStateError")throw m}await new Promise(m=>setTimeout(m)),J(this,Dt,null)}for(let m=0;m<2;++m){if(!r(this,Dt)){J(this,Dt,i.transaction(i.objectStoreNames,e,r(this,ja)));const w=J(this,Ha,performance.now());J(this,is,r(this,is).then(()=>new Promise((v,d)=>{r(this,Dt).addEventListener("complete",I=>{v(),r(this,Dt)===I.target&&J(this,Dt,null),gr(`transaction ${bl.get(I.target)} complete`)}),r(this,Dt).addEventListener("abort",I=>{console.warn("tx abort",(performance.now()-w)/1e3);const M=I.target.error;d(M),r(this,Dt)===I.target&&J(this,Dt,null),gr(`transaction ${bl.get(I.target)} aborted`,M)})}))),bl.set(r(this,Dt),oN++)}try{const w=Object.fromEntries(Array.from(i.objectStoreNames,v=>[v,new uN(r(this,Dt).objectStore(v))]));return await n(w)}catch(w){if(J(this,Dt,null),m)throw w}}};function Zr(t){return new Promise((e,n)=>{t.addEventListener("success",()=>e(t.result)),t.addEventListener("error",()=>n(t.error))})}var At;class uN{constructor(e){F(this,At,void 0);J(this,At,e)}get(e){gr(`get ${r(this,At).name}`,e);const n=r(this,At).get(e);return Zr(n)}getAll(e,n){gr(`getAll ${r(this,At).name}`,e,n);const i=r(this,At).getAll(e,n);return Zr(i)}getKey(e){gr(`getKey ${r(this,At).name}`,e);const n=r(this,At).getKey(e);return Zr(n)}getAllKeys(e,n){gr(`getAllKeys ${r(this,At).name}`,e,n);const i=r(this,At).getAllKeys(e,n);return Zr(i)}put(e,n){gr(`put ${r(this,At).name}`,e,n);const i=r(this,At).put(e,n);return Zr(i)}delete(e){gr(`delete ${r(this,At).name}`,e);const n=r(this,At).delete(e);return Zr(n)}clear(){gr(`clear ${r(this,At).name}`);const e=r(this,At).clear();return Zr(e)}index(e){return new cN(r(this,At).index(e))}}At=new WeakMap;var ss;class cN{constructor(e){F(this,ss,void 0);J(this,ss,e)}getAllKeys(e,n){gr(`IDBIndex.getAllKeys ${r(this,ss).objectStore.name}<${r(this,ss).name}>`,e,n);const i=r(this,ss).getAllKeys(e,n);return Zr(i)}}ss=new WeakMap;const lN=512,Sh=3e3,Rh={durability:"default",purge:"deferred",purgeAtLeast:16};function gn(...t){}var ci,Vt,mt,os,as,Rr,Va,zl,kc,Qp,Sc,jp,li,Rs,Rc,Hp;class fN extends tN{constructor(n="wa-sqlite",i=Rh){super();F(this,Va);F(this,kc);F(this,Sc);F(this,li);F(this,Rc);F(this,ci,void 0);F(this,Vt,new Map);F(this,mt,void 0);F(this,os,new Set);F(this,as,performance.now());F(this,Rr,new Set);this.name=n,J(this,ci,Object.assign({},Rh,i)),J(this,mt,new aN(hN(n),{durability:r(this,ci).durability}))}async close(){var n;for(const i of r(this,Vt).keys())await this.xClose(i);await((n=r(this,mt))==null?void 0:n.close()),J(this,mt,null)}xOpen(n,i,a,l){return this.handleAsync(async()=>{n===null&&(n=`null_${i}`),gn(`xOpen ${n} 0x${i.toString(16)} 0x${a.toString(16)}`);try{const m=new URL(n,"http://localhost/"),w={path:m.pathname,flags:a,block0:null,locks:new iN(m.pathname)};return r(this,Vt).set(i,w),await r(this,mt).run("readwrite",async({blocks:v})=>{if(w.block0=await v.get(Oe(this,li,Rs).call(this,w,0)),!w.block0)if(a&Bp)w.block0={path:w.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},v.put(w.block0);else throw new Error(`file not found: ${w.path}`)}),l.setInt32(0,a&Hb,!0),ze}catch(m){return console.error(m),Mp}})}xClose(n){return this.handleAsync(async()=>{try{const i=r(this,Vt).get(n);return i&&(gn(`xClose ${i.path}`),r(this,Vt).delete(n),i.flags&zb&&r(this,mt).run("readwrite",({blocks:a})=>{a.delete(IDBKeyRange.bound([i.path],[i.path,[]]))})),ze}catch(i){return console.error(i),Et}})}xRead(n,i,a){return this.handleAsync(async()=>{const l=r(this,Vt).get(n);gn(`xRead ${l.path} ${i.byteLength} ${a}`);try{return await r(this,mt).run("readonly",async({blocks:w})=>{let v=0;for(;v<i.byteLength;){const d=a+v,I=d<l.block0.data.byteLength?l.block0:await w.get(Oe(this,li,Rs).call(this,l,-d));if(!I||I.data.byteLength-I.offset<=d)return i.fill(0,v),jb;const M=i.subarray(v),B=d+I.offset,Y=Math.min(Math.max(I.data.byteLength-B,0),M.byteLength);M.set(I.data.subarray(B,B+Y)),v+=Y}return ze})}catch(m){return console.error(m),Et}})}xWrite(n,i,a){const l=r(this,Rr).has(n);if(l||performance.now()-r(this,as)>Sh){const m=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&r(this,Rr).add(n),await new Promise(v=>setTimeout(v));const w=Oe(this,Va,zl).call(this,n,i,a);return J(this,as,performance.now()),w});return l&&r(this,Rr).delete(n),m}return Oe(this,Va,zl).call(this,n,i,a)}xTruncate(n,i){const a=r(this,Vt).get(n);gn(`xTruncate ${a.path} ${i}`);try{Object.assign(a.block0,{fileSize:i,data:a.block0.data.slice(0,i)});const l=Object.assign({},a.block0);return r(this,mt).run("readwrite",({blocks:m})=>{m.delete(Oe(this,li,Rs).call(this,a,-1/0,-i)),m.put(l)}),ze}catch(l){return console.error(l),Et}}xSync(n,i){const a=r(this,Rr).has(n);if(a||r(this,ci).durability!=="relaxed"||performance.now()-r(this,as)>Sh){const m=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&r(this,Rr).add(n);const w=await Oe(this,kc,Qp).call(this,n,i);return J(this,as,performance.now()),w});return a&&r(this,Rr).delete(n),m}const l=r(this,Vt).get(n);return gn(`xSync ${l.path} ${i}`),ze}xFileSize(n,i){const a=r(this,Vt).get(n);return gn(`xFileSize ${a.path}`),i.setBigInt64(0,BigInt(a.block0.fileSize),!0),ze}xLock(n,i){return this.handleAsync(async()=>{const a=r(this,Vt).get(n);gn(`xLock ${a.path} ${i}`);try{const l=await a.locks.lock(i);return l===ze&&a.locks.state===Hi&&(a.block0=await r(this,mt).run("readonly",({blocks:m})=>m.get(Oe(this,li,Rs).call(this,a,0)))),l}catch(l){return console.error(l),Et}})}xUnlock(n,i){return this.handleAsync(async()=>{const a=r(this,Vt).get(n);gn(`xUnlock ${a.path} ${i}`);try{return a.locks.unlock(i)}catch(l){return console.error(l),Et}})}xCheckReservedLock(n,i){return this.handleAsync(async()=>{const a=r(this,Vt).get(n);gn(`xCheckReservedLock ${a.path}`);const l=await a.locks.isSomewhereReserved();return i.setInt32(0,l?1:0,!0),ze})}xSectorSize(n){return lN}xDeviceCharacteristics(n){return Yb|Jb|Gb|Xb}xFileControl(n,i,a){const l=r(this,Vt).get(n);switch(gn(`xFileControl ${l.path} ${i}`),i){case 11:return l.overwrite=!0,ze;case 21:if(l.overwrite)try{return this.handleAsync(async()=>(await Oe(this,Rc,Hp).call(this,l),ze))}catch(m){return console.error(m),Et}return ze;case 22:return l.overwrite=!1,ze;case 31:return this.handleAsync(async()=>{try{return l.block0.version--,l.changedPages=new Set,r(this,mt).run("readwrite",async({blocks:m})=>{const w=await m.index("version").getAllKeys(IDBKeyRange.bound([l.path],[l.path,l.block0.version]));for(const v of w)m.delete(v)}),ze}catch(m){return console.error(m),Et}});case 32:try{const m=Object.assign({},l.block0);m.data=m.data.slice();const w=l.changedPages;return l.changedPages=null,r(this,mt).run("readwrite",async({blocks:v})=>{v.put(m);const d=await v.get([l.path,"purge",0])??{path:l.path,offset:"purge",version:0,data:new Map,count:0};d.count+=w.size;for(const I of w)d.data.set(I,m.version);v.put(d),Oe(this,Sc,jp).call(this,l.path,d.count)}),ze}catch(m){return console.error(m),Et}case 33:return this.handleAsync(async()=>{try{return l.changedPages=null,l.block0=await r(this,mt).run("readonly",({blocks:m})=>m.get([l.path,0,l.block0.version+1])),ze}catch(m){return console.error(m),Et}});default:return Pp}}xAccess(n,i,a){return this.handleAsync(async()=>{try{const l=new URL(n,"file://localhost/").pathname;gn(`xAccess ${l} ${i}`);const m=await r(this,mt).run("readonly",({blocks:w})=>w.getKey(Oe(this,li,Rs).call(this,{path:l},0)));return a.setInt32(0,m?1:0,!0),ze}catch(l){return console.error(l),Et}})}xDelete(n,i){return this.handleAsync(async()=>{const a=new URL(n,"file://localhost/").pathname;try{return r(this,mt).run("readwrite",({blocks:l})=>l.delete(IDBKeyRange.bound([a],[a,[]]))),i&&await r(this,mt).sync(),ze}catch(l){return console.error(l),Et}})}async purge(n){const i=Date.now();await r(this,mt).run("readwrite",async({blocks:a})=>{const l=await a.get([n,"purge",0]);if(l){for(const[m,w]of l.data)a.delete(IDBKeyRange.bound([n,m,w],[n,m,1/0],!0,!1));await a.delete([n,"purge",0])}gn(`purge ${n} ${(l==null?void 0:l.data.size)??0} pages in ${Date.now()-i} ms`)})}}ci=new WeakMap,Vt=new WeakMap,mt=new WeakMap,os=new WeakMap,as=new WeakMap,Rr=new WeakMap,Va=new WeakSet,zl=function(n,i,a){const l=r(this,Vt).get(n);gn(`xWrite ${l.path} ${i.byteLength} ${a}`);try{const m=l.block0.fileSize;l.block0.fileSize=Math.max(l.block0.fileSize,a+i.byteLength);const w=a===0?l.block0:{path:l.path,offset:-a,version:l.block0.version,data:null};return w.data=i.slice(),l.changedPages?(m===l.block0.fileSize&&l.changedPages.add(-a),a!==0&&r(this,mt).run("readwrite",({blocks:v})=>v.put(w))):r(this,mt).run("readwrite",({blocks:v})=>v.put(w)),ze}catch(m){return console.error(m),Et}},kc=new WeakSet,Qp=async function(n,i){const a=r(this,Vt).get(n);gn(`xSync ${a.path} ${i}`);try{await r(this,mt).sync()}catch(l){return console.error(l),Et}return ze},Sc=new WeakSet,jp=function(n,i){r(this,ci).purge==="manual"||r(this,os).has(n)||i<r(this,ci).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(n),r(this,os).delete(n)}):setTimeout(()=>{this.purge(n),r(this,os).delete(n)}),r(this,os).add(n))},li=new WeakSet,Rs=function(n,i,a=0){const l=!i||-i<n.block0.data.length?-1/0:n.block0.version;return IDBKeyRange.bound([n.path,i,l],[n.path,a,1/0])},Rc=new WeakSet,Hp=async function(n){const i=n.block0.data.length;if(i<18)return;const a=new DataView(n.block0.data.buffer,n.block0.data.byteOffset);let l=a.getUint16(16);if(l===1&&(l=65536),l===i)return;const m=Math.max(i,l),w=m/i,v=m/l,I=a.getUint32(28)*l,M=n.block0.version;await r(this,mt).run("readwrite",async({blocks:B})=>{const Y=await B.index("version").getAllKeys(IDBKeyRange.bound([n.path,M+1],[n.path,1/0]));for(const Z of Y)B.delete(Z);B.delete([n.path,"purge",0]);for(let Z=0;Z<I;Z+=m){const b=await B.getAll(IDBKeyRange.lowerBound([n.path,-(Z+m),1/0]),w);for(const C of b)B.delete([C.path,C.offset,C.version]);if(v===1){const C=new Uint8Array(l);for(const O of b)C.set(O.data,-(Z+O.offset));const N={path:n.path,offset:-Z,version:M,data:C};N.offset===0&&(N.fileSize=I,n.block0=N),B.put(N)}else{const C=b[0];for(let N=0;N<v;++N){const O=-(Z+N*l);if(-O>=I)break;const T={path:C.path,offset:O,version:M,data:C.data.subarray(N*l,(N+1)*l)};T.offset===0&&(T.fileSize=I,n.block0=T),B.put(T)}}}})};function hN(t){return new Promise((e,n)=>{const i=globalThis.indexedDB.open(t,5);i.addEventListener("upgradeneeded",function(){i.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),i.addEventListener("success",()=>{e(i.result)}),i.addEventListener("error",()=>{n(i.error)})})}const dN=""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,pN=new hb({async database(){const t=await eN({locateFile:()=>dN}),e=Zb(t),n="wa-sqlite-test";e.vfs_register(new fN(n));const i=await e.open_v2(n,void 0,n);return{sqlite:e,db:i}}});function mN(){console.log("start wa-sqlite test"),Of(pN).then(t=>{t==null||t.forEach(e=>console.log("[wa-sqlite]",e))})}function yN(t){return{all:t=t||new Map,on:function(e,n){var i=t.get(e);i?i.push(n):t.set(e,[n])},off:function(e,n){var i=t.get(e);i&&(n?i.splice(i.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var i=t.get(e);i&&i.slice().map(function(a){a(n)}),(i=t.get("*"))&&i.slice().map(function(a){a(e,n)})}}}function wN(t){const e=yN(t);return{...e,once(n,i){const a=l=>{e.off(n,a),i(l)};e.on(n,a)}}}var gN=class{constructor(t){Te(this,"config");Te(this,"worker");Te(this,"connection");Te(this,"connectionMutex",new bN);Te(this,"mitt");this.config=t}async init(){this.worker=this.config.worker??new Worker(new URL(""+new URL("worker-72ad2512.js",import.meta.url).href,self.location),{type:"module"}),this.mitt=wN(),this.worker.onmessage=({data:{msg:e,type:n}})=>{var i;(i=this.mitt)==null||i.emit(n,e)};const t={type:"init",dbName:this.config.dbName,url:this.config.url};this.worker.postMessage(t),await new Promise((e,n)=>{var i;(i=this.mitt)==null||i.once("init",({err:a})=>{a?n(a):e()})}),this.connection=new NN(this.worker,this.mitt),this.config.onCreateConnection&&await this.config.onCreateConnection(this.connection)}async acquireConnection(){return await this.connectionMutex.lock(),this.connection}async beginTransaction(t){await t.executeQuery(Mr.raw("begin"))}async commitTransaction(t){await t.executeQuery(Mr.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(Mr.raw("rollback"))}async releaseConnection(){this.connectionMutex.unlock()}async destroy(){if(this.worker)return this.worker.postMessage({type:"close"}),new Promise((t,e)=>{var n;(n=this.mitt)==null||n.once("close",({err:i})=>{var a,l;i?e(i):((a=this.worker)==null||a.terminate(),(l=this.mitt)==null||l.all.clear(),this.mitt=void 0,t())})})}},bN=class{constructor(){Te(this,"promise");Te(this,"resolve")}async lock(){for(;this.promise;)await this.promise;this.promise=new Promise(t=>{this.resolve=t})}unlock(){const t=this.resolve;this.promise=void 0,this.resolve=void 0,t==null||t()}},NN=class{constructor(t,e){Te(this,"worker");Te(this,"mitt");this.worker=t,this.mitt=e}streamQuery(){throw new Error("Sqlite driver doesn't support streaming")}async executeQuery(t){const{parameters:e,sql:n,query:i}=t,l={type:"run",isQuery:["SelectQueryNode","RawNode"].includes(i.kind),sql:n,parameters:e};return this.worker.postMessage(l),new Promise((m,w)=>{this.mitt||w("kysely instance has been destroyed"),this.mitt.once("run",({data:v,err:d})=>{!d&&v?m(v):w(d)})})}},za,Mh,vN=(Mh=class{constructor(t){F(this,za,void 0);J(this,za,t)}createDriver(){return new gN(r(this,za))}createQueryCompiler(){return new Ip}createAdapter(){return new kp}createIntrospector(t){return new Ap(t)}},za=new WeakMap,Mh);const _N=""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,xN=new vN({dbName:"wa-sqlite-worker-test",url:_N});function EN(){console.log("start wa-sqlite-worker test"),Of(xN).then(t=>{t==null||t.forEach(e=>console.log("[wa-sqlite-worker]",e))})}const CN=qt("h1",null,[ma(" test "),qt("a",{href:"https://github.com/kysely-org/kysely",target:"_blank"},"Kysely"),ma(" WASM dialect ")],-1),qN=qt("br",null,null,-1),ON=qt("h3",null,"see worker result in console",-1),WN=qt("h3",null,[ma(" you can explore "),qt("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API#origin_private_file_system",target:"_blank"}," OPFS "),ma(" file using "),qt("a",{href:"https://chrome.google.com/webstore/detail/opfs-explorer/acndjpgkpaclldomagafnognkcgjignd",target:"_blank"}," opfs-explorer ")],-1),IN=qt("br",null,null,-1),AN={class:"buttons"},TN=qt("br",null,null,-1),kN=qt("div",null," result run in main thread: ",-1),SN=ly({__name:"App",setup(t){const e=new Mb,{result:n,run:i}=Pb(),a=new Bb;function l(){i()}function m(){e.postMessage("")}function w(){a.postMessage("")}function v(){mN()}function d(){EN()}async function I(){(await window.indexedDB.databases()).forEach(Y=>{window.indexedDB.deleteDatabase(Y.name)})}async function M(){const B=await navigator.storage.getDirectory();await xh("sqljs"),await xh("sqlijsWorker"),await I();try{await B.removeEntry("test.db")}catch{}try{await B.removeEntry("test.db-journal")}catch{}console.log("clear all")}return(B,Y)=>(By(),$y(or,null,[CN,qN,ON,WN,IN,qt("div",AN,[qt("button",{onClick:Y[0]||(Y[0]=Z=>l())}," test sqljs in main thread "),qt("button",{onClick:Y[1]||(Y[1]=Z=>m())}," test sqljs in Worker "),qt("button",{onClick:Y[2]||(Y[2]=Z=>w())}," test officialWasm in Worker "),qt("button",{onClick:Y[3]||(Y[3]=Z=>v())}," test wa-sqlite in main thread "),qt("button",{onClick:Y[4]||(Y[4]=Z=>d())}," test wa-sqlite in Worker "),qt("button",{onClick:Y[5]||(Y[5]=Z=>M())}," clear ")]),TN,kN,qt("pre",null,""+em(ad(n))+`
  `,1)],64))}});qw(SN).mount("#root");
