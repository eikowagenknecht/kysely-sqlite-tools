var Wm=Object.defineProperty;var Im=(t,e,n)=>e in t?Wm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yt=(t,e,n)=>(Im(t,typeof e!="symbol"?e+"":e,n),n),kl=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var r=(t,e,n)=>(kl(t,e,"read from private field"),n?n.call(t):e.get(t)),k=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},D=(t,e,n,i)=>(kl(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);var qe=(t,e,n)=>(kl(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Nf(t,e){const n=Object.create(null),i=t.split(",");for(let a=0;a<i.length;a++)n[i[a]]=!0;return e?a=>!!n[a.toLowerCase()]:a=>!!n[a]}function vf(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],a=Lt(i)?Sm(i):vf(i);if(a)for(const l in a)e[l]=a[l]}return e}else{if(Lt(t))return t;if(yt(t))return t}}const Am=/;(?![^(]*\))/g,Tm=/:([^]+)/,km=/\/\*.*?\*\//gs;function Sm(t){const e={};return t.replace(km,"").split(Am).forEach(n=>{if(n){const i=n.split(Tm);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function _f(t){let e="";if(Lt(t))e=t;else if(Ie(t))for(let n=0;n<t.length;n++){const i=_f(t[n]);i&&(e+=i+" ")}else if(yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Rm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dm=Nf(Rm);function vd(t){return!!t||t===""}const Lm=t=>Lt(t)?t:t==null?"":Ie(t)||yt(t)&&(t.toString===Cd||!ke(t.toString))?JSON.stringify(t,_d,2):String(t),_d=(t,e)=>e&&e.__v_isRef?_d(t,e.value):eo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,a])=>(n[`${i} =>`]=a,n),{})}:xd(e)?{[`Set(${e.size})`]:[...e.values()]}:yt(e)&&!Ie(e)&&!Od(e)?String(e):e,lt={},Zs=[],dr=()=>{},Pm=()=>!1,Mm=/^on[^a-z]/,ol=t=>Mm.test(t),xf=t=>t.startsWith("onUpdate:"),on=Object.assign,Ef=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bm=Object.prototype.hasOwnProperty,Be=(t,e)=>Bm.call(t,e),Ie=Array.isArray,eo=t=>al(t)==="[object Map]",xd=t=>al(t)==="[object Set]",ke=t=>typeof t=="function",Lt=t=>typeof t=="string",Cf=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",Ed=t=>yt(t)&&ke(t.then)&&ke(t.catch),Cd=Object.prototype.toString,al=t=>Cd.call(t),Fm=t=>al(t).slice(8,-1),Od=t=>al(t)==="[object Object]",Of=t=>Lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gu=Nf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ul=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Um=/-(\w)/g,Ro=ul(t=>t.replace(Um,(e,n)=>n?n.toUpperCase():"")),$m=/\B([A-Z])/g,Qo=ul(t=>t.replace($m,"-$1").toLowerCase()),qd=ul(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sl=ul(t=>t?`on${qd(t)}`:""),Ia=(t,e)=>!Object.is(t,e),Rl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ac=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Qm=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ih;const jm=()=>ih||(ih=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let er;class Hm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=er,!e&&er&&(this.index=(er.scopes||(er.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=er;try{return er=this,e()}finally{er=n}}}on(){er=this}off(){er=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function Vm(t,e=er){e&&e.active&&e.effects.push(t)}function zm(){return er}const qf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Wd=t=>(t.w&_i)>0,Id=t=>(t.n&_i)>0,Km=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=_i},Jm=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const a=e[i];Wd(a)&&!Id(a)?a.delete(t):e[n++]=a,a.w&=~_i,a.n&=~_i}e.length=n}},Hl=new WeakMap;let wa=0,_i=1;const Vl=30;let cr;const vs=Symbol(""),zl=Symbol("");class Wf{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Vm(this,i)}run(){if(!this.active)return this.fn();let e=cr,n=bi;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=cr,cr=this,bi=!0,_i=1<<++wa,wa<=Vl?Km(this):sh(this),this.fn()}finally{wa<=Vl&&Jm(this),_i=1<<--wa,cr=this.parent,bi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cr===this?this.deferStop=!0:this.active&&(sh(this),this.onStop&&this.onStop(),this.active=!1)}}function sh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let bi=!0;const Ad=[];function jo(){Ad.push(bi),bi=!1}function Ho(){const t=Ad.pop();bi=t===void 0?!0:t}function xn(t,e,n){if(bi&&cr){let i=Hl.get(t);i||Hl.set(t,i=new Map);let a=i.get(n);a||i.set(n,a=qf()),Td(a)}}function Td(t,e){let n=!1;wa<=Vl?Id(t)||(t.n|=_i,n=!Wd(t)):n=!t.has(cr),n&&(t.add(cr),cr.deps.push(t))}function Hr(t,e,n,i,a,l){const m=Hl.get(t);if(!m)return;let w=[];if(e==="clear")w=[...m.values()];else if(n==="length"&&Ie(t)){const v=Number(i);m.forEach((d,I)=>{(I==="length"||I>=v)&&w.push(d)})}else switch(n!==void 0&&w.push(m.get(n)),e){case"add":Ie(t)?Of(n)&&w.push(m.get("length")):(w.push(m.get(vs)),eo(t)&&w.push(m.get(zl)));break;case"delete":Ie(t)||(w.push(m.get(vs)),eo(t)&&w.push(m.get(zl)));break;case"set":eo(t)&&w.push(m.get(vs));break}if(w.length===1)w[0]&&Kl(w[0]);else{const v=[];for(const d of w)d&&v.push(...d);Kl(qf(v))}}function Kl(t,e){const n=Ie(t)?t:[...t];for(const i of n)i.computed&&oh(i);for(const i of n)i.computed||oh(i)}function oh(t,e){(t!==cr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Gm=Nf("__proto__,__v_isRef,__isVue"),kd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Cf)),Xm=If(),Ym=If(!1,!0),Zm=If(!0),ah=ey();function ey(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Fe(this);for(let l=0,m=this.length;l<m;l++)xn(i,"get",l+"");const a=i[e](...n);return a===-1||a===!1?i[e](...n.map(Fe)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){jo();const i=Fe(this)[e].apply(this,n);return Ho(),i}}),t}function ty(t){const e=Fe(this);return xn(e,"has",t),e.hasOwnProperty(t)}function If(t=!1,e=!1){return function(i,a,l){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&l===(t?e?wy:Pd:e?Ld:Dd).get(i))return i;const m=Ie(i);if(!t){if(m&&Be(ah,a))return Reflect.get(ah,a,l);if(a==="hasOwnProperty")return ty}const w=Reflect.get(i,a,l);return(Cf(a)?kd.has(a):Gm(a))||(t||xn(i,"get",a),e)?w:rn(w)?m&&Of(a)?w:w.value:yt(w)?t?Md(w):kf(w):w}}const ny=Sd(),ry=Sd(!0);function Sd(t=!1){return function(n,i,a,l){let m=n[i];if(Do(m)&&rn(m)&&!rn(a))return!1;if(!t&&(!uc(a)&&!Do(a)&&(m=Fe(m),a=Fe(a)),!Ie(n)&&rn(m)&&!rn(a)))return m.value=a,!0;const w=Ie(n)&&Of(i)?Number(i)<n.length:Be(n,i),v=Reflect.set(n,i,a,l);return n===Fe(l)&&(w?Ia(a,m)&&Hr(n,"set",i,a):Hr(n,"add",i,a)),v}}function iy(t,e){const n=Be(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Hr(t,"delete",e,void 0),i}function sy(t,e){const n=Reflect.has(t,e);return(!Cf(e)||!kd.has(e))&&xn(t,"has",e),n}function oy(t){return xn(t,"iterate",Ie(t)?"length":vs),Reflect.ownKeys(t)}const Rd={get:Xm,set:ny,deleteProperty:iy,has:sy,ownKeys:oy},ay={get:Zm,set(t,e){return!0},deleteProperty(t,e){return!0}},uy=on({},Rd,{get:Ym,set:ry}),Af=t=>t,cl=t=>Reflect.getPrototypeOf(t);function Fu(t,e,n=!1,i=!1){t=t.__v_raw;const a=Fe(t),l=Fe(e);n||(e!==l&&xn(a,"get",e),xn(a,"get",l));const{has:m}=cl(a),w=i?Af:n?Rf:Aa;if(m.call(a,e))return w(t.get(e));if(m.call(a,l))return w(t.get(l));t!==a&&t.get(e)}function Uu(t,e=!1){const n=this.__v_raw,i=Fe(n),a=Fe(t);return e||(t!==a&&xn(i,"has",t),xn(i,"has",a)),t===a?n.has(t):n.has(t)||n.has(a)}function $u(t,e=!1){return t=t.__v_raw,!e&&xn(Fe(t),"iterate",vs),Reflect.get(t,"size",t)}function uh(t){t=Fe(t);const e=Fe(this);return cl(e).has.call(e,t)||(e.add(t),Hr(e,"add",t,t)),this}function ch(t,e){e=Fe(e);const n=Fe(this),{has:i,get:a}=cl(n);let l=i.call(n,t);l||(t=Fe(t),l=i.call(n,t));const m=a.call(n,t);return n.set(t,e),l?Ia(e,m)&&Hr(n,"set",t,e):Hr(n,"add",t,e),this}function lh(t){const e=Fe(this),{has:n,get:i}=cl(e);let a=n.call(e,t);a||(t=Fe(t),a=n.call(e,t)),i&&i.call(e,t);const l=e.delete(t);return a&&Hr(e,"delete",t,void 0),l}function fh(){const t=Fe(this),e=t.size!==0,n=t.clear();return e&&Hr(t,"clear",void 0,void 0),n}function Qu(t,e){return function(i,a){const l=this,m=l.__v_raw,w=Fe(m),v=e?Af:t?Rf:Aa;return!t&&xn(w,"iterate",vs),m.forEach((d,I)=>i.call(a,v(d),v(I),l))}}function ju(t,e,n){return function(...i){const a=this.__v_raw,l=Fe(a),m=eo(l),w=t==="entries"||t===Symbol.iterator&&m,v=t==="keys"&&m,d=a[t](...i),I=n?Af:e?Rf:Aa;return!e&&xn(l,"iterate",v?zl:vs),{next(){const{value:F,done:U}=d.next();return U?{value:F,done:U}:{value:w?[I(F[0]),I(F[1])]:I(F),done:U}},[Symbol.iterator](){return this}}}}function ri(t){return function(...e){return t==="delete"?!1:this}}function cy(){const t={get(l){return Fu(this,l)},get size(){return $u(this)},has:Uu,add:uh,set:ch,delete:lh,clear:fh,forEach:Qu(!1,!1)},e={get(l){return Fu(this,l,!1,!0)},get size(){return $u(this)},has:Uu,add:uh,set:ch,delete:lh,clear:fh,forEach:Qu(!1,!0)},n={get(l){return Fu(this,l,!0)},get size(){return $u(this,!0)},has(l){return Uu.call(this,l,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Qu(!0,!1)},i={get(l){return Fu(this,l,!0,!0)},get size(){return $u(this,!0)},has(l){return Uu.call(this,l,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Qu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=ju(l,!1,!1),n[l]=ju(l,!0,!1),e[l]=ju(l,!1,!0),i[l]=ju(l,!0,!0)}),[t,n,e,i]}const[ly,fy,hy,dy]=cy();function Tf(t,e){const n=e?t?dy:hy:t?fy:ly;return(i,a,l)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?i:Reflect.get(Be(n,a)&&a in i?n:i,a,l)}const py={get:Tf(!1,!1)},my={get:Tf(!1,!0)},yy={get:Tf(!0,!1)},Dd=new WeakMap,Ld=new WeakMap,Pd=new WeakMap,wy=new WeakMap;function gy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function by(t){return t.__v_skip||!Object.isExtensible(t)?0:gy(Fm(t))}function kf(t){return Do(t)?t:Sf(t,!1,Rd,py,Dd)}function Ny(t){return Sf(t,!1,uy,my,Ld)}function Md(t){return Sf(t,!0,ay,yy,Pd)}function Sf(t,e,n,i,a){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=a.get(t);if(l)return l;const m=by(t);if(m===0)return t;const w=new Proxy(t,m===2?i:n);return a.set(t,w),w}function to(t){return Do(t)?to(t.__v_raw):!!(t&&t.__v_isReactive)}function Do(t){return!!(t&&t.__v_isReadonly)}function uc(t){return!!(t&&t.__v_isShallow)}function Bd(t){return to(t)||Do(t)}function Fe(t){const e=t&&t.__v_raw;return e?Fe(e):t}function Fd(t){return ac(t,"__v_skip",!0),t}const Aa=t=>yt(t)?kf(t):t,Rf=t=>yt(t)?Md(t):t;function Ud(t){bi&&cr&&(t=Fe(t),Td(t.dep||(t.dep=qf())))}function $d(t,e){t=Fe(t);const n=t.dep;n&&Kl(n)}function rn(t){return!!(t&&t.__v_isRef===!0)}function vy(t){return _y(t,!1)}function _y(t,e){return rn(t)?t:new xy(t,e)}class xy{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Fe(e),this._value=n?e:Aa(e)}get value(){return Ud(this),this._value}set value(e){const n=this.__v_isShallow||uc(e)||Do(e);e=n?e:Fe(e),Ia(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Aa(e),$d(this))}}function Qd(t){return rn(t)?t.value:t}const Ey={get:(t,e,n)=>Qd(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const a=t[e];return rn(a)&&!rn(n)?(a.value=n,!0):Reflect.set(t,e,n,i)}};function jd(t){return to(t)?t:new Proxy(t,Ey)}var Hd;class Cy{constructor(e,n,i,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Hd]=!1,this._dirty=!0,this.effect=new Wf(e,()=>{this._dirty||(this._dirty=!0,$d(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=i}get value(){const e=Fe(this);return Ud(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Hd="__v_isReadonly";function Oy(t,e,n=!1){let i,a;const l=ke(t);return l?(i=t,a=dr):(i=t.get,a=t.set),new Cy(i,a,l||!a,n)}function Ni(t,e,n,i){let a;try{a=i?t(...i):t()}catch(l){ll(l,e,n)}return a}function Hn(t,e,n,i){if(ke(t)){const l=Ni(t,e,n,i);return l&&Ed(l)&&l.catch(m=>{ll(m,e,n)}),l}const a=[];for(let l=0;l<t.length;l++)a.push(Hn(t[l],e,n,i));return a}function ll(t,e,n,i=!0){const a=e?e.vnode:null;if(e){let l=e.parent;const m=e.proxy,w=n;for(;l;){const d=l.ec;if(d){for(let I=0;I<d.length;I++)if(d[I](t,m,w)===!1)return}l=l.parent}const v=e.appContext.config.errorHandler;if(v){Ni(v,null,10,[t,m,w]);return}}qy(t,n,a,i)}function qy(t,e,n,i=!0){console.error(t)}let Ta=!1,Jl=!1;const nn=[];let Wr=0;const no=[];let Dr=null,Ji=0;const Vd=Promise.resolve();let Df=null;function Wy(t){const e=Df||Vd;return t?e.then(this?t.bind(this):t):e}function Iy(t){let e=Wr+1,n=nn.length;for(;e<n;){const i=e+n>>>1;ka(nn[i])<t?e=i+1:n=i}return e}function Lf(t){(!nn.length||!nn.includes(t,Ta&&t.allowRecurse?Wr+1:Wr))&&(t.id==null?nn.push(t):nn.splice(Iy(t.id),0,t),zd())}function zd(){!Ta&&!Jl&&(Jl=!0,Df=Vd.then(Jd))}function Ay(t){const e=nn.indexOf(t);e>Wr&&nn.splice(e,1)}function Ty(t){Ie(t)?no.push(...t):(!Dr||!Dr.includes(t,t.allowRecurse?Ji+1:Ji))&&no.push(t),zd()}function hh(t,e=Ta?Wr+1:0){for(;e<nn.length;e++){const n=nn[e];n&&n.pre&&(nn.splice(e,1),e--,n())}}function Kd(t){if(no.length){const e=[...new Set(no)];if(no.length=0,Dr){Dr.push(...e);return}for(Dr=e,Dr.sort((n,i)=>ka(n)-ka(i)),Ji=0;Ji<Dr.length;Ji++)Dr[Ji]();Dr=null,Ji=0}}const ka=t=>t.id==null?1/0:t.id,ky=(t,e)=>{const n=ka(t)-ka(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Jd(t){Jl=!1,Ta=!0,nn.sort(ky);const e=dr;try{for(Wr=0;Wr<nn.length;Wr++){const n=nn[Wr];n&&n.active!==!1&&Ni(n,null,14)}}finally{Wr=0,nn.length=0,Kd(),Ta=!1,Df=null,(nn.length||no.length)&&Jd()}}function Sy(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||lt;let a=n;const l=e.startsWith("update:"),m=l&&e.slice(7);if(m&&m in i){const I=`${m==="modelValue"?"model":m}Modifiers`,{number:F,trim:U}=i[I]||lt;U&&(a=n.map(Y=>Lt(Y)?Y.trim():Y)),F&&(a=n.map(Qm))}let w,v=i[w=Sl(e)]||i[w=Sl(Ro(e))];!v&&l&&(v=i[w=Sl(Qo(e))]),v&&Hn(v,t,6,a);const d=i[w+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,Hn(d,t,6,a)}}function Gd(t,e,n=!1){const i=e.emitsCache,a=i.get(t);if(a!==void 0)return a;const l=t.emits;let m={},w=!1;if(!ke(t)){const v=d=>{const I=Gd(d,e,!0);I&&(w=!0,on(m,I))};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}return!l&&!w?(yt(t)&&i.set(t,null),null):(Ie(l)?l.forEach(v=>m[v]=null):on(m,l),yt(t)&&i.set(t,m),m)}function fl(t,e){return!t||!ol(e)?!1:(e=e.slice(2).replace(/Once$/,""),Be(t,e[0].toLowerCase()+e.slice(1))||Be(t,Qo(e))||Be(t,e))}let lr=null,Xd=null;function cc(t){const e=lr;return lr=t,Xd=t&&t.type.__scopeId||null,e}function Ry(t,e=lr,n){if(!e||t._n)return t;const i=(...a)=>{i._d&&vh(-1);const l=cc(e);let m;try{m=t(...a)}finally{cc(l),i._d&&vh(1)}return m};return i._n=!0,i._c=!0,i._d=!0,i}function Dl(t){const{type:e,vnode:n,proxy:i,withProxy:a,props:l,propsOptions:[m],slots:w,attrs:v,emit:d,render:I,renderCache:F,data:U,setupState:Y,ctx:Z,inheritAttrs:b}=t;let C,N;const q=cc(t);try{if(n.shapeFlag&4){const ne=a||i;C=Or(I.call(ne,ne,F,l,Y,U,Z)),N=v}else{const ne=e;C=Or(ne.length>1?ne(l,{attrs:v,slots:w,emit:d}):ne(l,null)),N=e.props?v:Dy(v)}}catch(ne){va.length=0,ll(ne,t,1),C=_s(Ur)}let T=C;if(N&&b!==!1){const ne=Object.keys(N),{shapeFlag:Ne}=T;ne.length&&Ne&7&&(m&&ne.some(xf)&&(N=Ly(N,m)),T=xi(T,N))}return n.dirs&&(T=xi(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),C=T,cc(q),C}const Dy=t=>{let e;for(const n in t)(n==="class"||n==="style"||ol(n))&&((e||(e={}))[n]=t[n]);return e},Ly=(t,e)=>{const n={};for(const i in t)(!xf(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function Py(t,e,n){const{props:i,children:a,component:l}=t,{props:m,children:w,patchFlag:v}=e,d=l.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&v>=0){if(v&1024)return!0;if(v&16)return i?dh(i,m,d):!!m;if(v&8){const I=e.dynamicProps;for(let F=0;F<I.length;F++){const U=I[F];if(m[U]!==i[U]&&!fl(d,U))return!0}}}else return(a||w)&&(!w||!w.$stable)?!0:i===m?!1:i?m?dh(i,m,d):!0:!!m;return!1}function dh(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let a=0;a<i.length;a++){const l=i[a];if(e[l]!==t[l]&&!fl(n,l))return!0}return!1}function My({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const By=t=>t.__isSuspense;function Fy(t,e){e&&e.pendingBranch?Ie(t)?e.effects.push(...t):e.effects.push(t):Ty(t)}function Uy(t,e){if(Ot){let n=Ot.provides;const i=Ot.parent&&Ot.parent.provides;i===n&&(n=Ot.provides=Object.create(i)),n[t]=e}}function Xu(t,e,n=!1){const i=Ot||lr;if(i){const a=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(a&&t in a)return a[t];if(arguments.length>1)return n&&ke(e)?e.call(i.proxy):e}}const Hu={};function Ll(t,e,n){return Yd(t,e,n)}function Yd(t,e,{immediate:n,deep:i,flush:a,onTrack:l,onTrigger:m}=lt){const w=zm()===(Ot==null?void 0:Ot.scope)?Ot:null;let v,d=!1,I=!1;if(rn(t)?(v=()=>t.value,d=uc(t)):to(t)?(v=()=>t,i=!0):Ie(t)?(I=!0,d=t.some(T=>to(T)||uc(T)),v=()=>t.map(T=>{if(rn(T))return T.value;if(to(T))return Ks(T);if(ke(T))return Ni(T,w,2)})):ke(t)?e?v=()=>Ni(t,w,2):v=()=>{if(!(w&&w.isUnmounted))return F&&F(),Hn(t,w,3,[U])}:v=dr,e&&i){const T=v;v=()=>Ks(T())}let F,U=T=>{F=N.onStop=()=>{Ni(T,w,4)}},Y;if(Da)if(U=dr,e?n&&Hn(e,w,3,[v(),I?[]:void 0,U]):v(),a==="sync"){const T=Fw();Y=T.__watcherHandles||(T.__watcherHandles=[])}else return dr;let Z=I?new Array(t.length).fill(Hu):Hu;const b=()=>{if(N.active)if(e){const T=N.run();(i||d||(I?T.some((ne,Ne)=>Ia(ne,Z[Ne])):Ia(T,Z)))&&(F&&F(),Hn(e,w,3,[T,Z===Hu?void 0:I&&Z[0]===Hu?[]:Z,U]),Z=T)}else N.run()};b.allowRecurse=!!e;let C;a==="sync"?C=b:a==="post"?C=()=>bn(b,w&&w.suspense):(b.pre=!0,w&&(b.id=w.uid),C=()=>Lf(b));const N=new Wf(v,C);e?n?b():Z=N.run():a==="post"?bn(N.run.bind(N),w&&w.suspense):N.run();const q=()=>{N.stop(),w&&w.scope&&Ef(w.scope.effects,N)};return Y&&Y.push(q),q}function $y(t,e,n){const i=this.proxy,a=Lt(t)?t.includes(".")?Zd(i,t):()=>i[t]:t.bind(i,i);let l;ke(e)?l=e:(l=e.handler,n=e);const m=Ot;Lo(this);const w=Yd(a,l.bind(i),n);return m?Lo(m):xs(),w}function Zd(t,e){const n=e.split(".");return()=>{let i=t;for(let a=0;a<n.length&&i;a++)i=i[n[a]];return i}}function Ks(t,e){if(!yt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),rn(t))Ks(t.value,e);else if(Ie(t))for(let n=0;n<t.length;n++)Ks(t[n],e);else if(xd(t)||eo(t))t.forEach(n=>{Ks(n,e)});else if(Od(t))for(const n in t)Ks(t[n],e);return t}function Qy(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rp(()=>{t.isMounted=!0}),ip(()=>{t.isUnmounting=!0}),t}const Fn=[Function,Array],jy={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fn,onEnter:Fn,onAfterEnter:Fn,onEnterCancelled:Fn,onBeforeLeave:Fn,onLeave:Fn,onAfterLeave:Fn,onLeaveCancelled:Fn,onBeforeAppear:Fn,onAppear:Fn,onAfterAppear:Fn,onAppearCancelled:Fn},setup(t,{slots:e}){const n=kw(),i=Qy();let a;return()=>{const l=e.default&&tp(e.default(),!0);if(!l||!l.length)return;let m=l[0];if(l.length>1){for(const b of l)if(b.type!==Ur){m=b;break}}const w=Fe(t),{mode:v}=w;if(i.isLeaving)return Pl(m);const d=ph(m);if(!d)return Pl(m);const I=Gl(d,w,i,n);Xl(d,I);const F=n.subTree,U=F&&ph(F);let Y=!1;const{getTransitionKey:Z}=d.type;if(Z){const b=Z();a===void 0?a=b:b!==a&&(a=b,Y=!0)}if(U&&U.type!==Ur&&(!Gi(d,U)||Y)){const b=Gl(U,w,i,n);if(Xl(U,b),v==="out-in")return i.isLeaving=!0,b.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Pl(m);v==="in-out"&&d.type!==Ur&&(b.delayLeave=(C,N,q)=>{const T=ep(i,U);T[String(U.key)]=U,C._leaveCb=()=>{N(),C._leaveCb=void 0,delete I.delayedLeave},I.delayedLeave=q})}return m}}},Hy=jy;function ep(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Gl(t,e,n,i){const{appear:a,mode:l,persisted:m=!1,onBeforeEnter:w,onEnter:v,onAfterEnter:d,onEnterCancelled:I,onBeforeLeave:F,onLeave:U,onAfterLeave:Y,onLeaveCancelled:Z,onBeforeAppear:b,onAppear:C,onAfterAppear:N,onAppearCancelled:q}=e,T=String(t.key),ne=ep(n,t),Ne=(xe,tt)=>{xe&&Hn(xe,i,9,tt)},ae=(xe,tt)=>{const ze=tt[1];Ne(xe,tt),Ie(xe)?xe.every(qt=>qt.length<=1)&&ze():xe.length<=1&&ze()},_e={mode:l,persisted:m,beforeEnter(xe){let tt=w;if(!n.isMounted)if(a)tt=b||w;else return;xe._leaveCb&&xe._leaveCb(!0);const ze=ne[T];ze&&Gi(t,ze)&&ze.el._leaveCb&&ze.el._leaveCb(),Ne(tt,[xe])},enter(xe){let tt=v,ze=d,qt=I;if(!n.isMounted)if(a)tt=C||v,ze=N||d,qt=q||I;else return;let Wt=!1;const Qe=xe._enterCb=Kt=>{Wt||(Wt=!0,Kt?Ne(qt,[xe]):Ne(ze,[xe]),_e.delayedLeave&&_e.delayedLeave(),xe._enterCb=void 0)};tt?ae(tt,[xe,Qe]):Qe()},leave(xe,tt){const ze=String(t.key);if(xe._enterCb&&xe._enterCb(!0),n.isUnmounting)return tt();Ne(F,[xe]);let qt=!1;const Wt=xe._leaveCb=Qe=>{qt||(qt=!0,tt(),Qe?Ne(Z,[xe]):Ne(Y,[xe]),xe._leaveCb=void 0,ne[ze]===t&&delete ne[ze])};ne[ze]=t,U?ae(U,[xe,Wt]):Wt()},clone(xe){return Gl(xe,e,n,i)}};return _e}function Pl(t){if(hl(t))return t=xi(t),t.children=null,t}function ph(t){return hl(t)?t.children?t.children[0]:void 0:t}function Xl(t,e){t.shapeFlag&6&&t.component?Xl(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function tp(t,e=!1,n){let i=[],a=0;for(let l=0;l<t.length;l++){let m=t[l];const w=n==null?m.key:String(n)+String(m.key!=null?m.key:l);m.type===ur?(m.patchFlag&128&&a++,i=i.concat(tp(m.children,e,w))):(e||m.type!==Ur)&&i.push(w!=null?xi(m,{key:w}):m)}if(a>1)for(let l=0;l<i.length;l++)i[l].patchFlag=-2;return i}function Vy(t){return ke(t)?{setup:t,name:t.name}:t}const Yu=t=>!!t.type.__asyncLoader,hl=t=>t.type.__isKeepAlive;function zy(t,e){np(t,"a",e)}function Ky(t,e){np(t,"da",e)}function np(t,e,n=Ot){const i=t.__wdc||(t.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(dl(e,i,n),n){let a=n.parent;for(;a&&a.parent;)hl(a.parent.vnode)&&Jy(i,e,n,a),a=a.parent}}function Jy(t,e,n,i){const a=dl(e,t,i,!0);sp(()=>{Ef(i[e],a)},n)}function dl(t,e,n=Ot,i=!1){if(n){const a=n[t]||(n[t]=[]),l=e.__weh||(e.__weh=(...m)=>{if(n.isUnmounted)return;jo(),Lo(n);const w=Hn(e,n,t,m);return xs(),Ho(),w});return i?a.unshift(l):a.push(l),l}}const zr=t=>(e,n=Ot)=>(!Da||t==="sp")&&dl(t,(...i)=>e(...i),n),Gy=zr("bm"),rp=zr("m"),Xy=zr("bu"),Yy=zr("u"),ip=zr("bum"),sp=zr("um"),Zy=zr("sp"),ew=zr("rtg"),tw=zr("rtc");function nw(t,e=Ot){dl("ec",t,e)}function Hi(t,e,n,i){const a=t.dirs,l=e&&e.dirs;for(let m=0;m<a.length;m++){const w=a[m];l&&(w.oldValue=l[m].value);let v=w.dir[i];v&&(jo(),Hn(v,n,8,[t.el,w,t,e]),Ho())}}const rw=Symbol(),Yl=t=>t?mp(t)?Ff(t)||t.proxy:Yl(t.parent):null,Na=on(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yl(t.parent),$root:t=>Yl(t.root),$emit:t=>t.emit,$options:t=>Pf(t),$forceUpdate:t=>t.f||(t.f=()=>Lf(t.update)),$nextTick:t=>t.n||(t.n=Wy.bind(t.proxy)),$watch:t=>$y.bind(t)}),Ml=(t,e)=>t!==lt&&!t.__isScriptSetup&&Be(t,e),iw={get({_:t},e){const{ctx:n,setupState:i,data:a,props:l,accessCache:m,type:w,appContext:v}=t;let d;if(e[0]!=="$"){const Y=m[e];if(Y!==void 0)switch(Y){case 1:return i[e];case 2:return a[e];case 4:return n[e];case 3:return l[e]}else{if(Ml(i,e))return m[e]=1,i[e];if(a!==lt&&Be(a,e))return m[e]=2,a[e];if((d=t.propsOptions[0])&&Be(d,e))return m[e]=3,l[e];if(n!==lt&&Be(n,e))return m[e]=4,n[e];Zl&&(m[e]=0)}}const I=Na[e];let F,U;if(I)return e==="$attrs"&&xn(t,"get",e),I(t);if((F=w.__cssModules)&&(F=F[e]))return F;if(n!==lt&&Be(n,e))return m[e]=4,n[e];if(U=v.config.globalProperties,Be(U,e))return U[e]},set({_:t},e,n){const{data:i,setupState:a,ctx:l}=t;return Ml(a,e)?(a[e]=n,!0):i!==lt&&Be(i,e)?(i[e]=n,!0):Be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:a,propsOptions:l}},m){let w;return!!n[m]||t!==lt&&Be(t,m)||Ml(e,m)||(w=l[0])&&Be(w,m)||Be(i,m)||Be(Na,m)||Be(a.config.globalProperties,m)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Be(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Zl=!0;function sw(t){const e=Pf(t),n=t.proxy,i=t.ctx;Zl=!1,e.beforeCreate&&mh(e.beforeCreate,t,"bc");const{data:a,computed:l,methods:m,watch:w,provide:v,inject:d,created:I,beforeMount:F,mounted:U,beforeUpdate:Y,updated:Z,activated:b,deactivated:C,beforeDestroy:N,beforeUnmount:q,destroyed:T,unmounted:ne,render:Ne,renderTracked:ae,renderTriggered:_e,errorCaptured:xe,serverPrefetch:tt,expose:ze,inheritAttrs:qt,components:Wt,directives:Qe,filters:Kt}=e;if(d&&ow(d,i,null,t.appContext.config.unwrapInjectedRef),m)for(const ge in m){const Oe=m[ge];ke(Oe)&&(i[ge]=Oe.bind(n))}if(a){const ge=a.call(n,n);yt(ge)&&(t.data=kf(ge))}if(Zl=!0,l)for(const ge in l){const Oe=l[ge],ut=ke(Oe)?Oe.bind(n,n):ke(Oe.get)?Oe.get.bind(n,n):dr,we=!ke(Oe)&&ke(Oe.set)?Oe.set.bind(n):dr,Re=Mw({get:ut,set:we});Object.defineProperty(i,ge,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Pt=>Re.value=Pt})}if(w)for(const ge in w)op(w[ge],i,n,ge);if(v){const ge=ke(v)?v.call(n):v;Reflect.ownKeys(ge).forEach(Oe=>{Uy(Oe,ge[Oe])})}I&&mh(I,t,"c");function wt(ge,Oe){Ie(Oe)?Oe.forEach(ut=>ge(ut.bind(n))):Oe&&ge(Oe.bind(n))}if(wt(Gy,F),wt(rp,U),wt(Xy,Y),wt(Yy,Z),wt(zy,b),wt(Ky,C),wt(nw,xe),wt(tw,ae),wt(ew,_e),wt(ip,q),wt(sp,ne),wt(Zy,tt),Ie(ze))if(ze.length){const ge=t.exposed||(t.exposed={});ze.forEach(Oe=>{Object.defineProperty(ge,Oe,{get:()=>n[Oe],set:ut=>n[Oe]=ut})})}else t.exposed||(t.exposed={});Ne&&t.render===dr&&(t.render=Ne),qt!=null&&(t.inheritAttrs=qt),Wt&&(t.components=Wt),Qe&&(t.directives=Qe)}function ow(t,e,n=dr,i=!1){Ie(t)&&(t=ef(t));for(const a in t){const l=t[a];let m;yt(l)?"default"in l?m=Xu(l.from||a,l.default,!0):m=Xu(l.from||a):m=Xu(l),rn(m)&&i?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>m.value,set:w=>m.value=w}):e[a]=m}}function mh(t,e,n){Hn(Ie(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function op(t,e,n,i){const a=i.includes(".")?Zd(n,i):()=>n[i];if(Lt(t)){const l=e[t];ke(l)&&Ll(a,l)}else if(ke(t))Ll(a,t.bind(n));else if(yt(t))if(Ie(t))t.forEach(l=>op(l,e,n,i));else{const l=ke(t.handler)?t.handler.bind(n):e[t.handler];ke(l)&&Ll(a,l,t)}}function Pf(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:a,optionsCache:l,config:{optionMergeStrategies:m}}=t.appContext,w=l.get(e);let v;return w?v=w:!a.length&&!n&&!i?v=e:(v={},a.length&&a.forEach(d=>lc(v,d,m,!0)),lc(v,e,m)),yt(e)&&l.set(e,v),v}function lc(t,e,n,i=!1){const{mixins:a,extends:l}=e;l&&lc(t,l,n,!0),a&&a.forEach(m=>lc(t,m,n,!0));for(const m in e)if(!(i&&m==="expose")){const w=aw[m]||n&&n[m];t[m]=w?w(t[m],e[m]):e[m]}return t}const aw={data:yh,props:Ki,emits:Ki,methods:Ki,computed:Ki,beforeCreate:un,created:un,beforeMount:un,mounted:un,beforeUpdate:un,updated:un,beforeDestroy:un,beforeUnmount:un,destroyed:un,unmounted:un,activated:un,deactivated:un,errorCaptured:un,serverPrefetch:un,components:Ki,directives:Ki,watch:cw,provide:yh,inject:uw};function yh(t,e){return e?t?function(){return on(ke(t)?t.call(this,this):t,ke(e)?e.call(this,this):e)}:e:t}function uw(t,e){return Ki(ef(t),ef(e))}function ef(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function un(t,e){return t?[...new Set([].concat(t,e))]:e}function Ki(t,e){return t?on(on(Object.create(null),t),e):e}function cw(t,e){if(!t)return e;if(!e)return t;const n=on(Object.create(null),t);for(const i in e)n[i]=un(t[i],e[i]);return n}function lw(t,e,n,i=!1){const a={},l={};ac(l,ml,1),t.propsDefaults=Object.create(null),ap(t,e,a,l);for(const m in t.propsOptions[0])m in a||(a[m]=void 0);n?t.props=i?a:Ny(a):t.type.props?t.props=a:t.props=l,t.attrs=l}function fw(t,e,n,i){const{props:a,attrs:l,vnode:{patchFlag:m}}=t,w=Fe(a),[v]=t.propsOptions;let d=!1;if((i||m>0)&&!(m&16)){if(m&8){const I=t.vnode.dynamicProps;for(let F=0;F<I.length;F++){let U=I[F];if(fl(t.emitsOptions,U))continue;const Y=e[U];if(v)if(Be(l,U))Y!==l[U]&&(l[U]=Y,d=!0);else{const Z=Ro(U);a[Z]=tf(v,w,Z,Y,t,!1)}else Y!==l[U]&&(l[U]=Y,d=!0)}}}else{ap(t,e,a,l)&&(d=!0);let I;for(const F in w)(!e||!Be(e,F)&&((I=Qo(F))===F||!Be(e,I)))&&(v?n&&(n[F]!==void 0||n[I]!==void 0)&&(a[F]=tf(v,w,F,void 0,t,!0)):delete a[F]);if(l!==w)for(const F in l)(!e||!Be(e,F))&&(delete l[F],d=!0)}d&&Hr(t,"set","$attrs")}function ap(t,e,n,i){const[a,l]=t.propsOptions;let m=!1,w;if(e)for(let v in e){if(Gu(v))continue;const d=e[v];let I;a&&Be(a,I=Ro(v))?!l||!l.includes(I)?n[I]=d:(w||(w={}))[I]=d:fl(t.emitsOptions,v)||(!(v in i)||d!==i[v])&&(i[v]=d,m=!0)}if(l){const v=Fe(n),d=w||lt;for(let I=0;I<l.length;I++){const F=l[I];n[F]=tf(a,v,F,d[F],t,!Be(d,F))}}return m}function tf(t,e,n,i,a,l){const m=t[n];if(m!=null){const w=Be(m,"default");if(w&&i===void 0){const v=m.default;if(m.type!==Function&&ke(v)){const{propsDefaults:d}=a;n in d?i=d[n]:(Lo(a),i=d[n]=v.call(null,e),xs())}else i=v}m[0]&&(l&&!w?i=!1:m[1]&&(i===""||i===Qo(n))&&(i=!0))}return i}function up(t,e,n=!1){const i=e.propsCache,a=i.get(t);if(a)return a;const l=t.props,m={},w=[];let v=!1;if(!ke(t)){const I=F=>{v=!0;const[U,Y]=up(F,e,!0);on(m,U),Y&&w.push(...Y)};!n&&e.mixins.length&&e.mixins.forEach(I),t.extends&&I(t.extends),t.mixins&&t.mixins.forEach(I)}if(!l&&!v)return yt(t)&&i.set(t,Zs),Zs;if(Ie(l))for(let I=0;I<l.length;I++){const F=Ro(l[I]);wh(F)&&(m[F]=lt)}else if(l)for(const I in l){const F=Ro(I);if(wh(F)){const U=l[I],Y=m[F]=Ie(U)||ke(U)?{type:U}:Object.assign({},U);if(Y){const Z=Nh(Boolean,Y.type),b=Nh(String,Y.type);Y[0]=Z>-1,Y[1]=b<0||Z<b,(Z>-1||Be(Y,"default"))&&w.push(F)}}}const d=[m,w];return yt(t)&&i.set(t,d),d}function wh(t){return t[0]!=="$"}function gh(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function bh(t,e){return gh(t)===gh(e)}function Nh(t,e){return Ie(e)?e.findIndex(n=>bh(n,t)):ke(e)&&bh(e,t)?0:-1}const cp=t=>t[0]==="_"||t==="$stable",Mf=t=>Ie(t)?t.map(Or):[Or(t)],hw=(t,e,n)=>{if(e._n)return e;const i=Ry((...a)=>Mf(e(...a)),n);return i._c=!1,i},lp=(t,e,n)=>{const i=t._ctx;for(const a in t){if(cp(a))continue;const l=t[a];if(ke(l))e[a]=hw(a,l,i);else if(l!=null){const m=Mf(l);e[a]=()=>m}}},fp=(t,e)=>{const n=Mf(e);t.slots.default=()=>n},dw=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Fe(e),ac(e,"_",n)):lp(e,t.slots={})}else t.slots={},e&&fp(t,e);ac(t.slots,ml,1)},pw=(t,e,n)=>{const{vnode:i,slots:a}=t;let l=!0,m=lt;if(i.shapeFlag&32){const w=e._;w?n&&w===1?l=!1:(on(a,e),!n&&w===1&&delete a._):(l=!e.$stable,lp(e,a)),m=e}else e&&(fp(t,e),m={default:1});if(l)for(const w in a)!cp(w)&&!(w in m)&&delete a[w]};function hp(){return{app:null,config:{isNativeTag:Pm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mw=0;function yw(t,e){return function(i,a=null){ke(i)||(i=Object.assign({},i)),a!=null&&!yt(a)&&(a=null);const l=hp(),m=new Set;let w=!1;const v=l.app={_uid:mw++,_component:i,_props:a,_container:null,_context:l,_instance:null,version:Uw,get config(){return l.config},set config(d){},use(d,...I){return m.has(d)||(d&&ke(d.install)?(m.add(d),d.install(v,...I)):ke(d)&&(m.add(d),d(v,...I))),v},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),v},component(d,I){return I?(l.components[d]=I,v):l.components[d]},directive(d,I){return I?(l.directives[d]=I,v):l.directives[d]},mount(d,I,F){if(!w){const U=_s(i,a);return U.appContext=l,I&&e?e(U,d):t(U,d,F),w=!0,v._container=d,d.__vue_app__=v,Ff(U.component)||U.component.proxy}},unmount(){w&&(t(null,v._container),delete v._container.__vue_app__)},provide(d,I){return l.provides[d]=I,v}};return v}}function nf(t,e,n,i,a=!1){if(Ie(t)){t.forEach((U,Y)=>nf(U,e&&(Ie(e)?e[Y]:e),n,i,a));return}if(Yu(i)&&!a)return;const l=i.shapeFlag&4?Ff(i.component)||i.component.proxy:i.el,m=a?null:l,{i:w,r:v}=t,d=e&&e.r,I=w.refs===lt?w.refs={}:w.refs,F=w.setupState;if(d!=null&&d!==v&&(Lt(d)?(I[d]=null,Be(F,d)&&(F[d]=null)):rn(d)&&(d.value=null)),ke(v))Ni(v,w,12,[m,I]);else{const U=Lt(v),Y=rn(v);if(U||Y){const Z=()=>{if(t.f){const b=U?Be(F,v)?F[v]:I[v]:v.value;a?Ie(b)&&Ef(b,l):Ie(b)?b.includes(l)||b.push(l):U?(I[v]=[l],Be(F,v)&&(F[v]=I[v])):(v.value=[l],t.k&&(I[t.k]=v.value))}else U?(I[v]=m,Be(F,v)&&(F[v]=m)):Y&&(v.value=m,t.k&&(I[t.k]=m))};m?(Z.id=-1,bn(Z,n)):Z()}}}const bn=Fy;function ww(t){return gw(t)}function gw(t,e){const n=jm();n.__VUE__=!0;const{insert:i,remove:a,patchProp:l,createElement:m,createText:w,createComment:v,setText:d,setElementText:I,parentNode:F,nextSibling:U,setScopeId:Y=dr,insertStaticContent:Z}=t,b=(x,O,R,M=null,K=null,ee=null,j=!1,z=null,re=!!O.dynamicChildren)=>{if(x===O)return;x&&!Gi(x,O)&&(M=fe(x),Pt(x,K,ee,!0),x=null),O.patchFlag===-2&&(re=!1,O.dynamicChildren=null);const{type:J,ref:ce,shapeFlag:oe}=O;switch(J){case pl:C(x,O,R,M);break;case Ur:N(x,O,R,M);break;case Bl:x==null&&q(O,R,M,j);break;case ur:Wt(x,O,R,M,K,ee,j,z,re);break;default:oe&1?Ne(x,O,R,M,K,ee,j,z,re):oe&6?Qe(x,O,R,M,K,ee,j,z,re):(oe&64||oe&128)&&J.process(x,O,R,M,K,ee,j,z,re,zn)}ce!=null&&K&&nf(ce,x&&x.ref,ee,O||x,!O)},C=(x,O,R,M)=>{if(x==null)i(O.el=w(O.children),R,M);else{const K=O.el=x.el;O.children!==x.children&&d(K,O.children)}},N=(x,O,R,M)=>{x==null?i(O.el=v(O.children||""),R,M):O.el=x.el},q=(x,O,R,M)=>{[x.el,x.anchor]=Z(x.children,O,R,M,x.el,x.anchor)},T=({el:x,anchor:O},R,M)=>{let K;for(;x&&x!==O;)K=U(x),i(x,R,M),x=K;i(O,R,M)},ne=({el:x,anchor:O})=>{let R;for(;x&&x!==O;)R=U(x),a(x),x=R;a(O)},Ne=(x,O,R,M,K,ee,j,z,re)=>{j=j||O.type==="svg",x==null?ae(O,R,M,K,ee,j,z,re):tt(x,O,K,ee,j,z,re)},ae=(x,O,R,M,K,ee,j,z)=>{let re,J;const{type:ce,props:oe,shapeFlag:ue,transition:be,dirs:Ee}=x;if(re=x.el=m(x.type,ee,oe&&oe.is,oe),ue&8?I(re,x.children):ue&16&&xe(x.children,re,null,M,K,ee&&ce!=="foreignObject",j,z),Ee&&Hi(x,null,M,"created"),_e(re,x,x.scopeId,j,M),oe){for(const Le in oe)Le!=="value"&&!Gu(Le)&&l(re,Le,null,oe[Le],ee,x.children,M,K,pn);"value"in oe&&l(re,"value",null,oe.value),(J=oe.onVnodeBeforeMount)&&gr(J,M,x)}Ee&&Hi(x,null,M,"beforeMount");const je=(!K||K&&!K.pendingBranch)&&be&&!be.persisted;je&&be.beforeEnter(re),i(re,O,R),((J=oe&&oe.onVnodeMounted)||je||Ee)&&bn(()=>{J&&gr(J,M,x),je&&be.enter(re),Ee&&Hi(x,null,M,"mounted")},K)},_e=(x,O,R,M,K)=>{if(R&&Y(x,R),M)for(let ee=0;ee<M.length;ee++)Y(x,M[ee]);if(K){let ee=K.subTree;if(O===ee){const j=K.vnode;_e(x,j,j.scopeId,j.slotScopeIds,K.parent)}}},xe=(x,O,R,M,K,ee,j,z,re=0)=>{for(let J=re;J<x.length;J++){const ce=x[J]=z?oi(x[J]):Or(x[J]);b(null,ce,O,R,M,K,ee,j,z)}},tt=(x,O,R,M,K,ee,j)=>{const z=O.el=x.el;let{patchFlag:re,dynamicChildren:J,dirs:ce}=O;re|=x.patchFlag&16;const oe=x.props||lt,ue=O.props||lt;let be;R&&Vi(R,!1),(be=ue.onVnodeBeforeUpdate)&&gr(be,R,O,x),ce&&Hi(O,x,R,"beforeUpdate"),R&&Vi(R,!0);const Ee=K&&O.type!=="foreignObject";if(J?ze(x.dynamicChildren,J,z,R,M,Ee,ee):j||Oe(x,O,z,null,R,M,Ee,ee,!1),re>0){if(re&16)qt(z,O,oe,ue,R,M,K);else if(re&2&&oe.class!==ue.class&&l(z,"class",null,ue.class,K),re&4&&l(z,"style",oe.style,ue.style,K),re&8){const je=O.dynamicProps;for(let Le=0;Le<je.length;Le++){const it=je[Le],me=oe[it],Cn=ue[it];(Cn!==me||it==="value")&&l(z,it,me,Cn,K,x.children,R,M,pn)}}re&1&&x.children!==O.children&&I(z,O.children)}else!j&&J==null&&qt(z,O,oe,ue,R,M,K);((be=ue.onVnodeUpdated)||ce)&&bn(()=>{be&&gr(be,R,O,x),ce&&Hi(O,x,R,"updated")},M)},ze=(x,O,R,M,K,ee,j)=>{for(let z=0;z<O.length;z++){const re=x[z],J=O[z],ce=re.el&&(re.type===ur||!Gi(re,J)||re.shapeFlag&70)?F(re.el):R;b(re,J,ce,null,M,K,ee,j,!0)}},qt=(x,O,R,M,K,ee,j)=>{if(R!==M){if(R!==lt)for(const z in R)!Gu(z)&&!(z in M)&&l(x,z,R[z],null,j,O.children,K,ee,pn);for(const z in M){if(Gu(z))continue;const re=M[z],J=R[z];re!==J&&z!=="value"&&l(x,z,J,re,j,O.children,K,ee,pn)}"value"in M&&l(x,"value",R.value,M.value)}},Wt=(x,O,R,M,K,ee,j,z,re)=>{const J=O.el=x?x.el:w(""),ce=O.anchor=x?x.anchor:w("");let{patchFlag:oe,dynamicChildren:ue,slotScopeIds:be}=O;be&&(z=z?z.concat(be):be),x==null?(i(J,R,M),i(ce,R,M),xe(O.children,R,ce,K,ee,j,z,re)):oe>0&&oe&64&&ue&&x.dynamicChildren?(ze(x.dynamicChildren,ue,R,K,ee,j,z),(O.key!=null||K&&O===K.subTree)&&dp(x,O,!0)):Oe(x,O,R,ce,K,ee,j,z,re)},Qe=(x,O,R,M,K,ee,j,z,re)=>{O.slotScopeIds=z,x==null?O.shapeFlag&512?K.ctx.activate(O,R,M,j,re):Kt(O,R,M,K,ee,j,re):dn(x,O,re)},Kt=(x,O,R,M,K,ee,j)=>{const z=x.component=Tw(x,M,K);if(hl(x)&&(z.ctx.renderer=zn),Sw(z),z.asyncDep){if(K&&K.registerDep(z,wt),!x.el){const re=z.subTree=_s(Ur);N(null,re,O,R)}return}wt(z,x,O,R,K,ee,j)},dn=(x,O,R)=>{const M=O.component=x.component;if(Py(x,O,R))if(M.asyncDep&&!M.asyncResolved){ge(M,O,R);return}else M.next=O,Ay(M.update),M.update();else O.el=x.el,M.vnode=O},wt=(x,O,R,M,K,ee,j)=>{const z=()=>{if(x.isMounted){let{next:ce,bu:oe,u:ue,parent:be,vnode:Ee}=x,je=ce,Le;Vi(x,!1),ce?(ce.el=Ee.el,ge(x,ce,j)):ce=Ee,oe&&Rl(oe),(Le=ce.props&&ce.props.onVnodeBeforeUpdate)&&gr(Le,be,ce,Ee),Vi(x,!0);const it=Dl(x),me=x.subTree;x.subTree=it,b(me,it,F(me.el),fe(me),x,K,ee),ce.el=it.el,je===null&&My(x,it.el),ue&&bn(ue,K),(Le=ce.props&&ce.props.onVnodeUpdated)&&bn(()=>gr(Le,be,ce,Ee),K)}else{let ce;const{el:oe,props:ue}=O,{bm:be,m:Ee,parent:je}=x,Le=Yu(O);if(Vi(x,!1),be&&Rl(be),!Le&&(ce=ue&&ue.onVnodeBeforeMount)&&gr(ce,je,O),Vi(x,!0),oe&&Ke){const it=()=>{x.subTree=Dl(x),Ke(oe,x.subTree,x,K,null)};Le?O.type.__asyncLoader().then(()=>!x.isUnmounted&&it()):it()}else{const it=x.subTree=Dl(x);b(null,it,R,M,x,K,ee),O.el=it.el}if(Ee&&bn(Ee,K),!Le&&(ce=ue&&ue.onVnodeMounted)){const it=O;bn(()=>gr(ce,je,it),K)}(O.shapeFlag&256||je&&Yu(je.vnode)&&je.vnode.shapeFlag&256)&&x.a&&bn(x.a,K),x.isMounted=!0,O=R=M=null}},re=x.effect=new Wf(z,()=>Lf(J),x.scope),J=x.update=()=>re.run();J.id=x.uid,Vi(x,!0),J()},ge=(x,O,R)=>{O.component=x;const M=x.vnode.props;x.vnode=O,x.next=null,fw(x,O.props,M,R),pw(x,O.children,R),jo(),hh(),Ho()},Oe=(x,O,R,M,K,ee,j,z,re=!1)=>{const J=x&&x.children,ce=x?x.shapeFlag:0,oe=O.children,{patchFlag:ue,shapeFlag:be}=O;if(ue>0){if(ue&128){we(J,oe,R,M,K,ee,j,z,re);return}else if(ue&256){ut(J,oe,R,M,K,ee,j,z,re);return}}be&8?(ce&16&&pn(J,K,ee),oe!==J&&I(R,oe)):ce&16?be&16?we(J,oe,R,M,K,ee,j,z,re):pn(J,K,ee,!0):(ce&8&&I(R,""),be&16&&xe(oe,R,M,K,ee,j,z,re))},ut=(x,O,R,M,K,ee,j,z,re)=>{x=x||Zs,O=O||Zs;const J=x.length,ce=O.length,oe=Math.min(J,ce);let ue;for(ue=0;ue<oe;ue++){const be=O[ue]=re?oi(O[ue]):Or(O[ue]);b(x[ue],be,R,null,K,ee,j,z,re)}J>ce?pn(x,K,ee,!0,!1,oe):xe(O,R,M,K,ee,j,z,re,oe)},we=(x,O,R,M,K,ee,j,z,re)=>{let J=0;const ce=O.length;let oe=x.length-1,ue=ce-1;for(;J<=oe&&J<=ue;){const be=x[J],Ee=O[J]=re?oi(O[J]):Or(O[J]);if(Gi(be,Ee))b(be,Ee,R,null,K,ee,j,z,re);else break;J++}for(;J<=oe&&J<=ue;){const be=x[oe],Ee=O[ue]=re?oi(O[ue]):Or(O[ue]);if(Gi(be,Ee))b(be,Ee,R,null,K,ee,j,z,re);else break;oe--,ue--}if(J>oe){if(J<=ue){const be=ue+1,Ee=be<ce?O[be].el:M;for(;J<=ue;)b(null,O[J]=re?oi(O[J]):Or(O[J]),R,Ee,K,ee,j,z,re),J++}}else if(J>ue)for(;J<=oe;)Pt(x[J],K,ee,!0),J++;else{const be=J,Ee=J,je=new Map;for(J=Ee;J<=ue;J++){const le=O[J]=re?oi(O[J]):Or(O[J]);le.key!=null&&je.set(le.key,J)}let Le,it=0;const me=ue-Ee+1;let Cn=!1,Oi=0;const Gt=new Array(me);for(J=0;J<me;J++)Gt[J]=0;for(J=be;J<=oe;J++){const le=x[J];if(it>=me){Pt(le,K,ee,!0);continue}let Mt;if(le.key!=null)Mt=je.get(le.key);else for(Le=Ee;Le<=ue;Le++)if(Gt[Le-Ee]===0&&Gi(le,O[Le])){Mt=Le;break}Mt===void 0?Pt(le,K,ee,!0):(Gt[Mt-Ee]=J+1,Mt>=Oi?Oi=Mt:Cn=!0,b(le,O[Mt],R,null,K,ee,j,z,re),it++)}const Os=Cn?bw(Gt):Zs;for(Le=Os.length-1,J=me-1;J>=0;J--){const le=Ee+J,Mt=O[le],te=le+1<ce?O[le+1].el:M;Gt[J]===0?b(null,Mt,R,te,K,ee,j,z,re):Cn&&(Le<0||J!==Os[Le]?Re(Mt,R,te,2):Le--)}}},Re=(x,O,R,M,K=null)=>{const{el:ee,type:j,transition:z,children:re,shapeFlag:J}=x;if(J&6){Re(x.component.subTree,O,R,M);return}if(J&128){x.suspense.move(O,R,M);return}if(J&64){j.move(x,O,R,zn);return}if(j===ur){i(ee,O,R);for(let oe=0;oe<re.length;oe++)Re(re[oe],O,R,M);i(x.anchor,O,R);return}if(j===Bl){T(x,O,R);return}if(M!==2&&J&1&&z)if(M===0)z.beforeEnter(ee),i(ee,O,R),bn(()=>z.enter(ee),K);else{const{leave:oe,delayLeave:ue,afterLeave:be}=z,Ee=()=>i(ee,O,R),je=()=>{oe(ee,()=>{Ee(),be&&be()})};ue?ue(ee,Ee,je):je()}else i(ee,O,R)},Pt=(x,O,R,M=!1,K=!1)=>{const{type:ee,props:j,ref:z,children:re,dynamicChildren:J,shapeFlag:ce,patchFlag:oe,dirs:ue}=x;if(z!=null&&nf(z,null,R,x,!0),ce&256){O.ctx.deactivate(x);return}const be=ce&1&&ue,Ee=!Yu(x);let je;if(Ee&&(je=j&&j.onVnodeBeforeUnmount)&&gr(je,O,x),ce&6)En(x.component,R,M);else{if(ce&128){x.suspense.unmount(R,M);return}be&&Hi(x,null,O,"beforeUnmount"),ce&64?x.type.remove(x,O,R,K,zn,M):J&&(ee!==ur||oe>0&&oe&64)?pn(J,O,R,!1,!0):(ee===ur&&oe&384||!K&&ce&16)&&pn(re,O,R),M&&Tr(x)}(Ee&&(je=j&&j.onVnodeUnmounted)||be)&&bn(()=>{je&&gr(je,O,x),be&&Hi(x,null,O,"unmounted")},R)},Tr=x=>{const{type:O,el:R,anchor:M,transition:K}=x;if(O===ur){Cs(R,M);return}if(O===Bl){ne(x);return}const ee=()=>{a(R),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(x.shapeFlag&1&&K&&!K.persisted){const{leave:j,delayLeave:z}=K,re=()=>j(R,ee);z?z(x.el,ee,re):re()}else ee()},Cs=(x,O)=>{let R;for(;x!==O;)R=U(x),a(x),x=R;a(O)},En=(x,O,R)=>{const{bum:M,scope:K,update:ee,subTree:j,um:z}=x;M&&Rl(M),K.stop(),ee&&(ee.active=!1,Pt(j,x,O,R)),z&&bn(z,O),bn(()=>{x.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},pn=(x,O,R,M=!1,K=!1,ee=0)=>{for(let j=ee;j<x.length;j++)Pt(x[j],O,R,M,K)},fe=x=>x.shapeFlag&6?fe(x.component.subTree):x.shapeFlag&128?x.suspense.next():U(x.anchor||x.el),Me=(x,O,R)=>{x==null?O._vnode&&Pt(O._vnode,null,null,!0):b(O._vnode||null,x,O,null,null,null,R),hh(),Kd(),O._vnode=x},zn={p:b,um:Pt,m:Re,r:Tr,mt:Kt,mc:xe,pc:Oe,pbc:ze,n:fe,o:t};let Jt,Ke;return e&&([Jt,Ke]=e(zn)),{render:Me,hydrate:Jt,createApp:yw(Me,Jt)}}function Vi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function dp(t,e,n=!1){const i=t.children,a=e.children;if(Ie(i)&&Ie(a))for(let l=0;l<i.length;l++){const m=i[l];let w=a[l];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=a[l]=oi(a[l]),w.el=m.el),n||dp(m,w)),w.type===pl&&(w.el=m.el)}}function bw(t){const e=t.slice(),n=[0];let i,a,l,m,w;const v=t.length;for(i=0;i<v;i++){const d=t[i];if(d!==0){if(a=n[n.length-1],t[a]<d){e[i]=a,n.push(i);continue}for(l=0,m=n.length-1;l<m;)w=l+m>>1,t[n[w]]<d?l=w+1:m=w;d<t[n[l]]&&(l>0&&(e[i]=n[l-1]),n[l]=i)}}for(l=n.length,m=n[l-1];l-- >0;)n[l]=m,m=e[m];return n}const Nw=t=>t.__isTeleport,ur=Symbol(void 0),pl=Symbol(void 0),Ur=Symbol(void 0),Bl=Symbol(void 0),va=[];let fr=null;function vw(t=!1){va.push(fr=t?null:[])}function _w(){va.pop(),fr=va[va.length-1]||null}let Sa=1;function vh(t){Sa+=t}function xw(t){return t.dynamicChildren=Sa>0?fr||Zs:null,_w(),Sa>0&&fr&&fr.push(t),t}function Ew(t,e,n,i,a,l){return xw(Ct(t,e,n,i,a,l,!0))}function Cw(t){return t?t.__v_isVNode===!0:!1}function Gi(t,e){return t.type===e.type&&t.key===e.key}const ml="__vInternal",pp=({key:t})=>t??null,Zu=({ref:t,ref_key:e,ref_for:n})=>t!=null?Lt(t)||rn(t)||ke(t)?{i:lr,r:t,k:e,f:!!n}:t:null;function Ct(t,e=null,n=null,i=0,a=null,l=t===ur?0:1,m=!1,w=!1){const v={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pp(e),ref:e&&Zu(e),scopeId:Xd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:lr};return w?(Bf(v,n),l&128&&t.normalize(v)):n&&(v.shapeFlag|=Lt(n)?8:16),Sa>0&&!m&&fr&&(v.patchFlag>0||l&6)&&v.patchFlag!==32&&fr.push(v),v}const _s=Ow;function Ow(t,e=null,n=null,i=0,a=null,l=!1){if((!t||t===rw)&&(t=Ur),Cw(t)){const w=xi(t,e,!0);return n&&Bf(w,n),Sa>0&&!l&&fr&&(w.shapeFlag&6?fr[fr.indexOf(t)]=w:fr.push(w)),w.patchFlag|=-2,w}if(Pw(t)&&(t=t.__vccOpts),e){e=qw(e);let{class:w,style:v}=e;w&&!Lt(w)&&(e.class=_f(w)),yt(v)&&(Bd(v)&&!Ie(v)&&(v=on({},v)),e.style=vf(v))}const m=Lt(t)?1:By(t)?128:Nw(t)?64:yt(t)?4:ke(t)?2:0;return Ct(t,e,n,i,a,m,l,!0)}function qw(t){return t?Bd(t)||ml in t?on({},t):t:null}function xi(t,e,n=!1){const{props:i,ref:a,patchFlag:l,children:m}=t,w=e?Ww(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:w,key:w&&pp(w),ref:e&&e.ref?n&&a?Ie(a)?a.concat(Zu(e)):[a,Zu(e)]:Zu(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:m,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ur?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xi(t.ssContent),ssFallback:t.ssFallback&&xi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ra(t=" ",e=0){return _s(pl,null,t,e)}function Or(t){return t==null||typeof t=="boolean"?_s(Ur):Ie(t)?_s(ur,null,t.slice()):typeof t=="object"?oi(t):_s(pl,null,String(t))}function oi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xi(t)}function Bf(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ie(e))n=16;else if(typeof e=="object")if(i&65){const a=e.default;a&&(a._c&&(a._d=!1),Bf(t,a()),a._c&&(a._d=!0));return}else{n=32;const a=e._;!a&&!(ml in e)?e._ctx=lr:a===3&&lr&&(lr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ke(e)?(e={default:e,_ctx:lr},n=32):(e=String(e),i&64?(n=16,e=[Ra(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ww(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const a in i)if(a==="class")e.class!==i.class&&(e.class=_f([e.class,i.class]));else if(a==="style")e.style=vf([e.style,i.style]);else if(ol(a)){const l=e[a],m=i[a];m&&l!==m&&!(Ie(l)&&l.includes(m))&&(e[a]=l?[].concat(l,m):m)}else a!==""&&(e[a]=i[a])}return e}function gr(t,e,n,i=null){Hn(t,e,7,[n,i])}const Iw=hp();let Aw=0;function Tw(t,e,n){const i=t.type,a=(e?e.appContext:t.appContext)||Iw,l={uid:Aw++,vnode:t,type:i,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:up(i,a),emitsOptions:Gd(i,a),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:i.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=Sy.bind(null,l),t.ce&&t.ce(l),l}let Ot=null;const kw=()=>Ot||lr,Lo=t=>{Ot=t,t.scope.on()},xs=()=>{Ot&&Ot.scope.off(),Ot=null};function mp(t){return t.vnode.shapeFlag&4}let Da=!1;function Sw(t,e=!1){Da=e;const{props:n,children:i}=t.vnode,a=mp(t);lw(t,n,a,e),dw(t,i);const l=a?Rw(t,e):void 0;return Da=!1,l}function Rw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Fd(new Proxy(t.ctx,iw));const{setup:i}=n;if(i){const a=t.setupContext=i.length>1?Lw(t):null;Lo(t),jo();const l=Ni(i,t,0,[t.props,a]);if(Ho(),xs(),Ed(l)){if(l.then(xs,xs),e)return l.then(m=>{_h(t,m,e)}).catch(m=>{ll(m,t,0)});t.asyncDep=l}else _h(t,l,e)}else yp(t,e)}function _h(t,e,n){ke(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=jd(e)),yp(t,n)}let xh;function yp(t,e,n){const i=t.type;if(!t.render){if(!e&&xh&&!i.render){const a=i.template||Pf(t).template;if(a){const{isCustomElement:l,compilerOptions:m}=t.appContext.config,{delimiters:w,compilerOptions:v}=i,d=on(on({isCustomElement:l,delimiters:w},m),v);i.render=xh(a,d)}}t.render=i.render||dr}Lo(t),jo(),sw(t),Ho(),xs()}function Dw(t){return new Proxy(t.attrs,{get(e,n){return xn(t,"get","$attrs"),e[n]}})}function Lw(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=Dw(t))},slots:t.slots,emit:t.emit,expose:e}}function Ff(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(jd(Fd(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Na)return Na[n](t)},has(e,n){return n in e||n in Na}}))}function Pw(t){return ke(t)&&"__vccOpts"in t}const Mw=(t,e)=>Oy(t,e,Da),Bw=Symbol(""),Fw=()=>Xu(Bw),Uw="3.2.47",$w="http://www.w3.org/2000/svg",Xi=typeof document<"u"?document:null,Eh=Xi&&Xi.createElement("template"),Qw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const a=e?Xi.createElementNS($w,t):Xi.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:t=>Xi.createTextNode(t),createComment:t=>Xi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Xi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,a,l){const m=n?n.previousSibling:e.lastChild;if(a&&(a===l||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{Eh.innerHTML=i?`<svg>${t}</svg>`:t;const w=Eh.content;if(i){const v=w.firstChild;for(;v.firstChild;)w.appendChild(v.firstChild);w.removeChild(v)}e.insertBefore(w,n)}return[m?m.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function jw(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Hw(t,e,n){const i=t.style,a=Lt(n);if(n&&!a){if(e&&!Lt(e))for(const l in e)n[l]==null&&rf(i,l,"");for(const l in n)rf(i,l,n[l])}else{const l=i.display;a?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=l)}}const Ch=/\s*!important$/;function rf(t,e,n){if(Ie(n))n.forEach(i=>rf(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Vw(t,e);Ch.test(n)?t.setProperty(Qo(i),n.replace(Ch,""),"important"):t[i]=n}}const Oh=["Webkit","Moz","ms"],Fl={};function Vw(t,e){const n=Fl[e];if(n)return n;let i=Ro(e);if(i!=="filter"&&i in t)return Fl[e]=i;i=qd(i);for(let a=0;a<Oh.length;a++){const l=Oh[a]+i;if(l in t)return Fl[e]=l}return e}const qh="http://www.w3.org/1999/xlink";function zw(t,e,n,i,a){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(qh,e.slice(6,e.length)):t.setAttributeNS(qh,e,n);else{const l=Dm(e);n==null||l&&!vd(n)?t.removeAttribute(e):t.setAttribute(e,l?"":n)}}function Kw(t,e,n,i,a,l,m){if(e==="innerHTML"||e==="textContent"){i&&m(i,a,l),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const v=n??"";(t.value!==v||t.tagName==="OPTION")&&(t.value=v),n==null&&t.removeAttribute(e);return}let w=!1;if(n===""||n==null){const v=typeof t[e];v==="boolean"?n=vd(n):n==null&&v==="string"?(n="",w=!0):v==="number"&&(n=0,w=!0)}try{t[e]=n}catch{}w&&t.removeAttribute(e)}function Jw(t,e,n,i){t.addEventListener(e,n,i)}function Gw(t,e,n,i){t.removeEventListener(e,n,i)}function Xw(t,e,n,i,a=null){const l=t._vei||(t._vei={}),m=l[e];if(i&&m)m.value=i;else{const[w,v]=Yw(e);if(i){const d=l[e]=tg(i,a);Jw(t,w,d,v)}else m&&(Gw(t,w,m,v),l[e]=void 0)}}const Wh=/(?:Once|Passive|Capture)$/;function Yw(t){let e;if(Wh.test(t)){e={};let i;for(;i=t.match(Wh);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qo(t.slice(2)),e]}let Ul=0;const Zw=Promise.resolve(),eg=()=>Ul||(Zw.then(()=>Ul=0),Ul=Date.now());function tg(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Hn(ng(i,n.value),e,5,[i])};return n.value=t,n.attached=eg(),n}function ng(t,e){if(Ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>a=>!a._stopped&&i&&i(a))}else return e}const Ih=/^on[a-z]/,rg=(t,e,n,i,a=!1,l,m,w,v)=>{e==="class"?jw(t,i,a):e==="style"?Hw(t,n,i):ol(e)?xf(e)||Xw(t,e,n,i,m):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ig(t,e,i,a))?Kw(t,e,i,l,m,w,v):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),zw(t,e,i,a))};function ig(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Ih.test(e)&&ke(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ih.test(e)&&Lt(n)?!1:e in t}const sg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Hy.props;const og=on({patchProp:rg},Qw);let Ah;function ag(){return Ah||(Ah=ww(og))}const ug=(...t)=>{const e=ag().createApp(...t),{mount:n}=e;return e.mount=i=>{const a=cg(i);if(!a)return;const l=e._component;!ke(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const m=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),m},e};function cg(t){return Lt(t)?document.querySelector(t):t}function _a(t){return typeof t>"u"||t===void 0}function pr(t){return typeof t=="string"}function lg(t){return typeof t=="number"}function wp(t){return typeof t=="boolean"}function gp(t){return t===null}function fg(t){return t instanceof Date}function hg(t){return typeof t=="bigint"}function Vn(t){return typeof t=="function"}function Ir(t){return typeof t=="object"&&t!==null}function p(t){return Object.freeze(t)}function gu(t){return Array.isArray(t)}function Po(t){return t}const Et=p({is(t){return t.kind==="AlterTableNode"},create(t){return p({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return p({...t,...e})},cloneWithColumnAlteration(t,e){return p({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),mt=p({is(t){return t.kind==="IdentifierNode"},create(t){return p({kind:"IdentifierNode",name:t})}}),ii=p({is(t){return t.kind==="CreateIndexNode"},create(t){return p({kind:"CreateIndexNode",name:mt.create(t)})},cloneWith(t,e){return p({...t,...e})},cloneWithColumns(t,e){return p({...t,columns:[...t.columns||[],...e]})}}),bp=p({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return p({kind:"CreateSchemaNode",schema:mt.create(t),...e})},cloneWith(t,e){return p({...t,...e})}}),dg=["preserve rows","delete rows","drop"],Zn=p({is(t){return t.kind==="CreateTableNode"},create(t){return p({kind:"CreateTableNode",table:t,columns:p([])})},cloneWithColumn(t,e){return p({...t,columns:p([...t.columns,e])})},cloneWithConstraint(t,e){return p({...t,constraints:t.constraints?p([...t.constraints,e]):p([e])})},cloneWithFrontModifier(t,e){return p({...t,frontModifiers:t.frontModifiers?p([...t.frontModifiers,e]):p([e])})},cloneWithEndModifier(t,e){return p({...t,endModifiers:t.endModifiers?p([...t.endModifiers,e]):p([e])})},cloneWith(t,e){return p({...t,...e})}}),Ei=p({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return p({kind:"SchemableIdentifierNode",identifier:mt.create(t)})},createWithSchema(t,e){return p({kind:"SchemableIdentifierNode",schema:mt.create(t),identifier:mt.create(e)})}}),ec=p({is(t){return t.kind==="DropIndexNode"},create(t,e){return p({kind:"DropIndexNode",name:Ei.create(t),...e})},cloneWith(t,e){return p({...t,...e})}}),sf=p({is(t){return t.kind==="DropSchemaNode"},create(t,e){return p({kind:"DropSchemaNode",schema:mt.create(t),...e})},cloneWith(t,e){return p({...t,...e})}}),of=p({is(t){return t.kind==="DropTableNode"},create(t,e){return p({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return p({...t,...e})}}),Es=p({is(t){return t.kind==="AliasNode"},create(t,e){return p({kind:"AliasNode",node:t,alias:e})}}),vi=p({is(t){return t.kind==="TableNode"},create(t){return p({kind:"TableNode",table:Ei.create(t)})},createWithSchema(t,e){return p({kind:"TableNode",table:Ei.createWithSchema(t,e)})}});function hn(t){return Ir(t)&&Vn(t.toOperationNode)}function pg(t){return Ir(t)&&"expressionType"in t&&hn(t)}function mg(t){return Ir(t)&&"expression"in t&&pr(t.alias)&&hn(t)}const Sr=p({is(t){return t.kind==="SelectModifierNode"},create(t){return p({kind:"SelectModifierNode",modifier:t})},createWithExpression(t){return p({kind:"SelectModifierNode",rawModifier:t})}}),La=p({is(t){return t.kind==="AndNode"},create(t,e){return p({kind:"AndNode",left:t,right:e})}}),Pa=p({is(t){return t.kind==="OrNode"},create(t,e){return p({kind:"OrNode",left:t,right:e})}}),ma=p({is(t){return t.kind==="OnNode"},create(t){return p({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return p({...t,on:e==="And"?La.create(t.on,n):Pa.create(t.on,n)})}}),jn=p({is(t){return t.kind==="JoinNode"},create(t,e){return p({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return p({kind:"JoinNode",joinType:t,table:e,on:ma.create(n)})},cloneWithOn(t,e){return p({...t,on:t.on?ma.cloneWithOperation(t.on,"And",e):ma.create(e)})},cloneWithOrOn(t,e){return p({...t,on:t.on?ma.cloneWithOperation(t.on,"Or",e):ma.create(e)})}}),yl=p({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return p({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),en=p({is(t){return t.kind==="RawNode"},create(t,e){return p({kind:"RawNode",sqlFragments:p(t),parameters:p(e)})},createWithSql(t){return en.create([t],[])},createWithChild(t){return en.create(["",""],[t])},createWithChildren(t){return en.create(new Array(t.length+1).fill(""),t)}}),Np=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->"],yg=["+","-","*","/","%","^","&","|","#","<<",">>"],vp=[...Np,...yg,"&&","||"],wg=["exists","not exists"],gg=["not","-",...wg],bg=[...vp,...gg],Uf=p({is(t){return t.kind==="OperatorNode"},create(t){return p({kind:"OperatorNode",operator:t})}});function _p(t){return pr(t)&&vp.includes(t)}function xp(t){return pr(t)&&Np.includes(t)}const ro=p({is(t){return t.kind==="ParensNode"},create(t){return p({kind:"ParensNode",node:t})}}),Nt=p({is(t){return t.kind==="ColumnNode"},create(t){return p({kind:"ColumnNode",column:mt.create(t)})}}),$f=p({is(t){return t.kind==="SelectAllNode"},create(){return p({kind:"SelectAllNode"})}}),wl=p({is(t){return t.kind==="ReferenceNode"},create(t,e){return p({kind:"ReferenceNode",table:t,column:e})},createSelectAll(t){return p({kind:"ReferenceNode",table:t,column:$f.create()})}}),Ng=p({is(t){return t.kind==="OrderByItemNode"},create(t,e){return p({kind:"OrderByItemNode",orderBy:t,direction:e})}});function vg(t){return t==="asc"||t==="desc"}function gl(t,e){return Ng.create(_g(t),xg(e))}function _g(t){return Vr(t)}function xg(t){if(t)return t==="asc"||t==="desc"?en.createWithSql(t):t.toOperationNode()}function Ep(t){return pr(t)?Mo(t):t.toOperationNode()}function Ma(t){return gu(t)?t.map(e=>Vr(e)):[Vr(t)]}function Vr(t){return El(t)?xl(t):Ep(t)}function Mo(t){const e=".";if(t.includes(e)){const n=t.split(e).map(Qf);if(n.length===3)return Cg(n);if(n.length===2)return Og(n);throw new Error(`invalid column reference ${t}`)}else return Nt.create(t)}function Eg(t){const e=" as ";if(t.includes(e)){const[n,i]=t.split(e).map(Qf);return Es.create(Mo(n),mt.create(i))}else return Mo(t)}function Cp(t){return Nt.create(t)}function Th(t){const e=" ";if(t.includes(e)){const[n,i]=t.split(e).map(Qf);if(!vg(i))throw new Error(`invalid order direction "${i}" next to "${n}"`);return gl(n,i)}else return Cp(t)}function Cg(t){const[e,n,i]=t;return wl.create(vi.createWithSchema(e,n),Nt.create(i))}function Og(t){const[e,n]=t;return wl.create(vi.create(e),Nt.create(n))}function Qf(t){return t.trim()}const Op=p({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return p({kind:"PrimitiveValueListNode",values:p([...t])})}}),jf=p({is(t){return t.kind==="ValueListNode"},create(t){return p({kind:"ValueListNode",values:p(t)})}}),Ar=p({is(t){return t.kind==="ValueNode"},create(t){return p({kind:"ValueNode",value:t})},createImmediate(t){return p({kind:"ValueNode",value:t,immediate:!0})}});function qp(t){return gu(t)?qg(t):$r(t)}function $r(t){return El(t)?xl(t):Ar.create(t)}function qg(t){return t.some(El)?jf.create(t.map(e=>$r(e))):Op.create(t)}const Bo=p({is(t){return t.kind==="OrderByNode"},create(t){return p({kind:"OrderByNode",items:p([t])})},cloneWithItem(t,e){return p({...t,items:p([...t.items,e])})}}),kh=p({is(t){return t.kind==="PartitionByNode"},create(t){return p({kind:"PartitionByNode",items:p(t)})},cloneWithItems(t,e){return p({...t,items:p([...t.items,...e])})}}),af=p({is(t){return t.kind==="OverNode"},create(){return p({kind:"OverNode"})},cloneWithOrderByItem(t,e){return p({...t,orderBy:t.orderBy?Bo.cloneWithItem(t.orderBy,e):Bo.create(e)})},cloneWithPartitionByItems(t,e){return p({...t,partitionBy:t.partitionBy?kh.cloneWithItems(t.partitionBy,e):kh.create(e)})}}),fc=p({is(t){return t.kind==="FromNode"},create(t){return p({kind:"FromNode",froms:p(t)})},cloneWithFroms(t,e){return p({...t,froms:p([...t.froms,...e])})}}),Sh=p({is(t){return t.kind==="GroupByNode"},create(t){return p({kind:"GroupByNode",items:p(t)})},cloneWithItems(t,e){return p({...t,items:p([...t.items,...e])})}}),Vu=p({is(t){return t.kind==="HavingNode"},create(t){return p({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return p({...t,having:e==="And"?La.create(t.having,n):Pa.create(t.having,n)})}}),We=p({is(t){return t.kind==="SelectQueryNode"},create(t,e){return p({kind:"SelectQueryNode",from:fc.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return p({...t,selections:t.selections?p([...t.selections,...e]):p(e)})},cloneWithDistinctOn(t,e){return p({...t,distinctOn:t.distinctOn?p([...t.distinctOn,...e]):p(e)})},cloneWithFrontModifier(t,e){return p({...t,frontModifiers:t.frontModifiers?p([...t.frontModifiers,e]):p([e])})},cloneWithEndModifier(t,e){return p({...t,endModifiers:t.endModifiers?p([...t.endModifiers,e]):p([e])})},cloneWithOrderByItem(t,e){return p({...t,orderBy:t.orderBy?Bo.cloneWithItem(t.orderBy,e):Bo.create(e)})},cloneWithGroupByItems(t,e){return p({...t,groupBy:t.groupBy?Sh.cloneWithItems(t.groupBy,e):Sh.create(e)})},cloneWithLimit(t,e){return p({...t,limit:e})},cloneWithOffset(t,e){return p({...t,offset:e})},cloneWithHaving(t,e){return p({...t,having:t.having?Vu.cloneWithOperation(t.having,"And",e):Vu.create(e)})},cloneWithOrHaving(t,e){return p({...t,having:t.having?Vu.cloneWithOperation(t.having,"Or",e):Vu.create(e)})},cloneWithSetOperation(t,e){return p({...t,setOperations:t.setOperations?p([...t.setOperations,e]):p([e])})},cloneWithoutSelections(t){return p({...t,selections:[]})},cloneWithoutLimit(t){return p({...t,limit:void 0})},cloneWithoutOffset(t){return p({...t,offset:void 0})},cloneWithoutOrderBy(t){return p({...t,orderBy:void 0})}}),Wp=p({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return p({kind:"UnaryOperationNode",operator:t,operand:e})}});function sn(t){return Hf("exists",t)}function Vt(t){return Hf("not exists",t)}function Hf(t,e){return Wp.create(Uf.create(t),Vr(e))}function $e(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var ft;const tr=class{constructor(e){k(this,ft,void 0);D(this,ft,p(e))}on(...e){return new tr({...r(this,ft),joinNode:jn.cloneWithOn(r(this,ft).joinNode,Hh(e))})}orOn(...e){return new tr({...r(this,ft),joinNode:jn.cloneWithOrOn(r(this,ft).joinNode,Hh(e))})}onRef(e,n,i){return new tr({...r(this,ft),joinNode:jn.cloneWithOn(r(this,ft).joinNode,zt(e,n,i))})}orOnRef(e,n,i){return new tr({...r(this,ft),joinNode:jn.cloneWithOrOn(r(this,ft).joinNode,zt(e,n,i))})}onExists(e){return new tr({...r(this,ft),joinNode:jn.cloneWithOn(r(this,ft).joinNode,sn(e))})}onNotExists(e){return new tr({...r(this,ft),joinNode:jn.cloneWithOn(r(this,ft).joinNode,Vt(e))})}orOnExists(e){return new tr({...r(this,ft),joinNode:jn.cloneWithOrOn(r(this,ft).joinNode,sn(e))})}orOnNotExists(e){return new tr({...r(this,ft),joinNode:jn.cloneWithOrOn(r(this,ft).joinNode,Vt(e))})}onTrue(){return new tr({...r(this,ft),joinNode:jn.cloneWithOn(r(this,ft).joinNode,en.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return r(this,ft).joinNode}};let hc=tr;ft=new WeakMap;$e(hc,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const Wg=p({is(t){return t.kind==="PartitionByItemNode"},create(t){return p({kind:"PartitionByItemNode",partitionBy:t})}});function Ig(t){return Ma(t).map(Wg.create)}var rs;const Dc=class{constructor(e){k(this,rs,void 0);D(this,rs,p(e))}orderBy(e,n){return new Dc({overNode:af.cloneWithOrderByItem(r(this,rs).overNode,gl(e,n))})}partitionBy(e){return new Dc({overNode:af.cloneWithPartitionByItems(r(this,rs).overNode,Ig(e))})}$call(e){return e(this)}toOperationNode(){return r(this,rs).overNode}};let dc=Dc;rs=new WeakMap;$e(dc,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const xa=p({is(t){return t.kind==="SelectionNode"},create(t){return p({kind:"SelectionNode",selection:t})},createSelectAll(){return p({kind:"SelectionNode",selection:$f.create()})},createSelectAllFromTable(t){return p({kind:"SelectionNode",selection:wl.createSelectAll(t)})}});var io;class Ag{constructor(e){k(this,io,void 0);D(this,io,e)}get dynamicReference(){return r(this,io)}get refType(){}toOperationNode(){return Ep(r(this,io))}}io=new WeakMap;function Tg(t){return Ir(t)&&hn(t)&&pr(t.dynamicReference)}function bu(t){return Vn(t)?bu(t(Qr())):gu(t)?t.map(e=>Rh(e)):[Rh(t)]}function Rh(t){return pr(t)?xa.create(Eg(t)):Tg(t)?xa.create(t.toOperationNode()):xa.create(Vp(t))}function Nu(t){return t?Array.isArray(t)?t.map(Dh):[Dh(t)]:[xa.createSelectAll()]}function Dh(t){if(pr(t))return xa.createSelectAllFromTable(_n(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const kg=p({is(t){return t.kind==="ValuesNode"},create(t){return p({kind:"ValuesNode",values:p(t)})}}),Sg=p({is(t){return t.kind==="DefaultInsertValueNode"},create(){return p({kind:"DefaultInsertValueNode"})}});function Rg(t){const e=Vn(t)?t(Qr()):t,n=gu(e)?e:p([e]);return Dg(n)}function Dg(t){const e=Lg(t);return[p([...e.keys()].map(Nt.create)),kg.create(t.map(n=>Pg(n,e)))]}function Lg(t){const e=new Map;for(const n of t){const i=Object.keys(n);for(const a of i)!e.has(a)&&n[a]!==void 0&&e.set(a,e.size)}return e}function Pg(t,e){const n=Object.keys(t),i=Array.from({length:e.size});let a=!1;for(const m of n){const w=e.get(m);if(_a(w))continue;const v=t[m];(_a(v)||El(v))&&(a=!0),i[w]=v}if(n.length<e.size||a){const m=Sg.create();return jf.create(i.map(w=>_a(w)?m:$r(w)))}return Op.create(i)}const qr=p({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return p({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},cloneWith(t,e){return p({...t,...e})}}),pc=p({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return p({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},cloneWithFromItems(t,e){return p({...t,from:t.from?fc.cloneWithFroms(t.from,e):fc.create(e)})},cloneWithUpdates(t,e){return p({...t,updates:t.updates?p([...t.updates,...e]):e})}}),Lh=p({is(t){return t.kind==="UsingNode"},create(t){return p({kind:"UsingNode",tables:p(t)})},cloneWithTables(t,e){return p({...t,tables:p([...t.tables,...e])})}}),Ea=p({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return p({kind:"DeleteQueryNode",from:fc.create(t),...e&&{with:e}})},cloneWithOrderByItem(t,e){return p({...t,orderBy:t.orderBy?Bo.cloneWithItem(t.orderBy,e):Bo.create(e)})},cloneWithLimit(t,e){return p({...t,limit:e})},cloneWithUsing(t,e){return p({...t,using:t.using!==void 0?Lh.cloneWithTables(t.using,e):Lh.create(e)})}}),tn=p({is(t){return t.kind==="WhereNode"},create(t){return p({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return p({...t,where:e==="And"?La.create(t.where,n):Pa.create(t.where,n)})}}),Ph=p({is(t){return t.kind==="ReturningNode"},create(t){return p({kind:"ReturningNode",selections:p(t)})},cloneWithSelections(t,e){return p({...t,selections:t.selections?p([...t.selections,...e]):p(e)})}}),Mg=p({is(t){return t.kind==="ExplainNode"},create(t,e){return p({kind:"ExplainNode",format:t,options:e})}}),ye=p({is(t){return We.is(t)||qr.is(t)||pc.is(t)||Ea.is(t)},cloneWithWhere(t,e){return p({...t,where:t.where?tn.cloneWithOperation(t.where,"And",e):tn.create(e)})},cloneWithOrWhere(t,e){return p({...t,where:t.where?tn.cloneWithOperation(t.where,"Or",e):tn.create(e)})},cloneWithJoin(t,e){return p({...t,joins:t.joins?p([...t.joins,e]):p([e])})},cloneWithReturning(t,e){return p({...t,returning:t.returning?Ph.cloneWithSelections(t.returning,e):Ph.create(e)})},cloneWithoutWhere(t){return p({...t,where:void 0})},cloneWithExplain(t,e,n){return p({...t,explain:Mg.create(e,n==null?void 0:n.toOperationNode())})}}),Bg=p({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return p({kind:"ColumnUpdateNode",column:t,value:e})}});function Vf(t){const e=Vn(t)?t(Qr()):t;return Object.entries(e).filter(([n,i])=>i!==void 0).map(([n,i])=>Bg.create(Nt.create(n),$r(i)))}const Fg=p({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return p({kind:"OnDuplicateKeyNode",updates:t})}});var ja,Ha;class Ip{constructor(e,n){k(this,ja,void 0);k(this,Ha,void 0);D(this,ja,e),D(this,Ha,n)}get insertId(){return r(this,ja)}get numInsertedOrUpdatedRows(){return r(this,Ha)}}ja=new WeakMap,Ha=new WeakMap;for(const t of["insertId","numInsertedOrUpdatedRows"])Object.defineProperty(Ip.prototype,t,{enumerable:!0});class bl extends Error{constructor(n){super("no result");Yt(this,"node");this.node=n}}function Nl(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const at=p({is(t){return t.kind==="OnConflictNode"},create(){return p({kind:"OnConflictNode"})},cloneWith(t,e){return p({...t,...e})},cloneWithIndexWhere(t,e){return p({...t,indexWhere:t.indexWhere?tn.cloneWithOperation(t.indexWhere,"And",e):tn.create(e)})},cloneWithIndexOrWhere(t,e){return p({...t,indexWhere:t.indexWhere?tn.cloneWithOperation(t.indexWhere,"Or",e):tn.create(e)})},cloneWithUpdateWhere(t,e){return p({...t,updateWhere:t.updateWhere?tn.cloneWithOperation(t.updateWhere,"And",e):tn.create(e)})},cloneWithUpdateOrWhere(t,e){return p({...t,updateWhere:t.updateWhere?tn.cloneWithOperation(t.updateWhere,"Or",e):tn.create(e)})},cloneWithoutIndexWhere(t){return p({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return p({...t,updateWhere:void 0})}});var Se;const cn=class{constructor(e){k(this,Se,void 0);D(this,Se,p(e))}column(e){const n=Nt.create(e);return new cn({...r(this,Se),onConflictNode:at.cloneWith(r(this,Se).onConflictNode,{columns:r(this,Se).onConflictNode.columns?p([...r(this,Se).onConflictNode.columns,n]):p([n])})})}columns(e){const n=e.map(Nt.create);return new cn({...r(this,Se),onConflictNode:at.cloneWith(r(this,Se).onConflictNode,{columns:r(this,Se).onConflictNode.columns?p([...r(this,Se).onConflictNode.columns,...n]):p(n)})})}constraint(e){return new cn({...r(this,Se),onConflictNode:at.cloneWith(r(this,Se).onConflictNode,{constraint:mt.create(e)})})}expression(e){return new cn({...r(this,Se),onConflictNode:at.cloneWith(r(this,Se).onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexWhere(r(this,Se).onConflictNode,Rn(e))})}whereRef(e,n,i){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexWhere(r(this,Se).onConflictNode,zt(e,n,i))})}orWhere(...e){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexOrWhere(r(this,Se).onConflictNode,Rn(e))})}orWhereRef(e,n,i){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexOrWhere(r(this,Se).onConflictNode,zt(e,n,i))})}whereExists(e){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexWhere(r(this,Se).onConflictNode,sn(e))})}whereNotExists(e){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexWhere(r(this,Se).onConflictNode,Vt(e))})}orWhereExists(e){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexOrWhere(r(this,Se).onConflictNode,sn(e))})}orWhereNotExists(e){return new cn({...r(this,Se),onConflictNode:at.cloneWithIndexOrWhere(r(this,Se).onConflictNode,Vt(e))})}clearWhere(){return new cn({...r(this,Se),onConflictNode:at.cloneWithoutIndexWhere(r(this,Se).onConflictNode)})}doNothing(){return new Ap({...r(this,Se),onConflictNode:at.cloneWith(r(this,Se).onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new yc({...r(this,Se),onConflictNode:at.cloneWith(r(this,Se).onConflictNode,{updates:Vf(e)})})}$call(e){return e(this)}};let mc=cn;Se=new WeakMap;$e(mc,"don't await OnConflictBuilder instances.");var Va;class Ap{constructor(e){k(this,Va,void 0);D(this,Va,p(e))}toOperationNode(){return r(this,Va).onConflictNode}}Va=new WeakMap;$e(Ap,"don't await OnConflictDoNothingBuilder instances.");var ht;const nr=class{constructor(e){k(this,ht,void 0);D(this,ht,p(e))}where(...e){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateWhere(r(this,ht).onConflictNode,Rn(e))})}whereRef(e,n,i){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateWhere(r(this,ht).onConflictNode,zt(e,n,i))})}orWhere(...e){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateOrWhere(r(this,ht).onConflictNode,Rn(e))})}orWhereRef(e,n,i){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateOrWhere(r(this,ht).onConflictNode,zt(e,n,i))})}whereExists(e){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateWhere(r(this,ht).onConflictNode,sn(e))})}whereNotExists(e){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateWhere(r(this,ht).onConflictNode,Vt(e))})}orWhereExists(e){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateOrWhere(r(this,ht).onConflictNode,sn(e))})}orWhereNotExists(e){return new nr({...r(this,ht),onConflictNode:at.cloneWithUpdateOrWhere(r(this,ht).onConflictNode,Vt(e))})}clearWhere(){return new nr({...r(this,ht),onConflictNode:at.cloneWithoutUpdateWhere(r(this,ht).onConflictNode)})}$call(e){return e(this)}toOperationNode(){return r(this,ht).onConflictNode}};let yc=nr;ht=new WeakMap;$e(yc,"don't await OnConflictUpdateBuilder instances.");var Te;const Tt=class{constructor(e){k(this,Te,void 0);D(this,Te,p(e))}values(e){const[n,i]=Rg(e);return new Tt({...r(this,Te),queryNode:qr.cloneWith(r(this,Te).queryNode,{columns:n,values:i})})}columns(e){return new Tt({...r(this,Te),queryNode:qr.cloneWith(r(this,Te).queryNode,{columns:p(e.map(Nt.create))})})}expression(e){return new Tt({...r(this,Te),queryNode:qr.cloneWith(r(this,Te).queryNode,{values:xl(e)})})}ignore(){return new Tt({...r(this,Te),queryNode:qr.cloneWith(r(this,Te).queryNode,{ignore:!0})})}onConflict(e){return new Tt({...r(this,Te),queryNode:qr.cloneWith(r(this,Te).queryNode,{onConflict:e(new mc({onConflictNode:at.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Tt({...r(this,Te),queryNode:qr.cloneWith(r(this,Te).queryNode,{onDuplicateKey:Fg.create(Vf(e))})})}returning(e){return new Tt({...r(this,Te),queryNode:ye.cloneWithReturning(r(this,Te).queryNode,bu(e))})}returningAll(){return new Tt({...r(this,Te),queryNode:ye.cloneWithReturning(r(this,Te).queryNode,Nu())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new Tt({...r(this,Te)})}if(e,n){return e?n(this):new Tt({...r(this,Te)})}$castTo(){return new Tt(r(this,Te))}castTo(){return this.$castTo()}$narrowType(){return new Tt(r(this,Te))}$assertType(){return new Tt(r(this,Te))}assertType(){return new Tt(r(this,Te))}withPlugin(e){return new Tt({...r(this,Te),executor:r(this,Te).executor.withPlugin(e)})}toOperationNode(){return r(this,Te).executor.transformQuery(r(this,Te).queryNode,r(this,Te).queryId)}compile(){return r(this,Te).executor.compileQuery(this.toOperationNode(),r(this,Te).queryId)}async execute(){const e=this.compile(),n=e.query,i=await r(this,Te).executor.executeQuery(e,r(this,Te).queryId);return r(this,Te).executor.adapter.supportsReturning&&n.returning?i.rows:[new Ip(i.insertId,i.numAffectedRows??i.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=bl){const n=await this.executeTakeFirst();if(n===void 0)throw Nl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,Te).executor.stream(n,e,r(this,Te).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new Tt({...r(this,Te),queryNode:ye.cloneWithExplain(r(this,Te).queryNode,e,n)}).execute()}};let Ba=Tt;Te=new WeakMap;$e(Ba,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var za;class Tp{constructor(e){k(this,za,void 0);D(this,za,e)}get numDeletedRows(){return r(this,za)}}za=new WeakMap;Object.defineProperty(Tp.prototype,"numDeletedRows",{enumerable:!0});const kp=p({is(t){return t.kind==="LimitNode"},create(t){return p({kind:"LimitNode",limit:Ar.create(t)})}});var de;const Xe=class{constructor(e){k(this,de,void 0);D(this,de,p(e))}where(...e){return new Xe({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,Rn(e))})}whereRef(e,n,i){return new Xe({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,zt(e,n,i))})}orWhere(...e){return new Xe({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,Rn(e))})}orWhereRef(e,n,i){return new Xe({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,zt(e,n,i))})}whereExists(e){return new Xe({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,sn(e))})}whereNotExists(e){return new Xe({...r(this,de),queryNode:ye.cloneWithWhere(r(this,de).queryNode,Vt(e))})}orWhereExists(e){return new Xe({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,sn(e))})}orWhereNotExists(e){return new Xe({...r(this,de),queryNode:ye.cloneWithOrWhere(r(this,de).queryNode,Vt(e))})}clearWhere(){return new Xe({...r(this,de),queryNode:ye.cloneWithoutWhere(r(this,de).queryNode)})}using(e){return new Xe({...r(this,de),queryNode:Ea.cloneWithUsing(r(this,de).queryNode,Uo(e))})}innerJoin(...e){return new Xe({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("InnerJoin",e))})}leftJoin(...e){return new Xe({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("LeftJoin",e))})}rightJoin(...e){return new Xe({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("RightJoin",e))})}fullJoin(...e){return new Xe({...r(this,de),queryNode:ye.cloneWithJoin(r(this,de).queryNode,vn("FullJoin",e))})}returning(e){return new Xe({...r(this,de),queryNode:ye.cloneWithReturning(r(this,de).queryNode,bu(e))})}returningAll(e){return new Xe({...r(this,de),queryNode:ye.cloneWithReturning(r(this,de).queryNode,Nu(e))})}orderBy(e,n){return new Xe({...r(this,de),queryNode:Ea.cloneWithOrderByItem(r(this,de).queryNode,gl(e,n))})}limit(e){return new Xe({...r(this,de),queryNode:Ea.cloneWithLimit(r(this,de).queryNode,kp.create(e))})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new Xe({...r(this,de)})}if(e,n){return this.$if(e,n)}$castTo(){return new Xe(r(this,de))}castTo(){return this.$castTo()}$narrowType(){return new Xe(r(this,de))}$assertType(){return new Xe(r(this,de))}assertType(){return new Xe(r(this,de))}withPlugin(e){return new Xe({...r(this,de),executor:r(this,de).executor.withPlugin(e)})}toOperationNode(){return r(this,de).executor.transformQuery(r(this,de).queryNode,r(this,de).queryId)}compile(){return r(this,de).executor.compileQuery(this.toOperationNode(),r(this,de).queryId)}async execute(){const e=this.compile(),n=e.query,i=await r(this,de).executor.executeQuery(e,r(this,de).queryId);return r(this,de).executor.adapter.supportsReturning&&n.returning?i.rows:[new Tp(i.numAffectedRows??i.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=bl){const n=await this.executeTakeFirst();if(n===void 0)throw Nl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,de).executor.stream(n,e,r(this,de).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new Xe({...r(this,de),queryNode:ye.cloneWithExplain(r(this,de).queryNode,e,n)}).execute()}};let wc=Xe;de=new WeakMap;$e(wc,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Ka;class Sp{constructor(e){k(this,Ka,void 0);D(this,Ka,e)}get numUpdatedRows(){return r(this,Ka)}}Ka=new WeakMap;Object.defineProperty(Sp.prototype,"numUpdatedRows",{enumerable:!0});var pe;const nt=class{constructor(e){k(this,pe,void 0);D(this,pe,p(e))}where(...e){return new nt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,Rn(e))})}whereRef(e,n,i){return new nt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,zt(e,n,i))})}orWhere(...e){return new nt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,Rn(e))})}orWhereRef(e,n,i){return new nt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,zt(e,n,i))})}whereExists(e){return new nt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,sn(e))})}whereNotExists(e){return new nt({...r(this,pe),queryNode:ye.cloneWithWhere(r(this,pe).queryNode,Vt(e))})}orWhereExists(e){return new nt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,sn(e))})}orWhereNotExists(e){return new nt({...r(this,pe),queryNode:ye.cloneWithOrWhere(r(this,pe).queryNode,Vt(e))})}clearWhere(){return new nt({...r(this,pe),queryNode:ye.cloneWithoutWhere(r(this,pe).queryNode)})}from(e){return new nt({...r(this,pe),queryNode:pc.cloneWithFromItems(r(this,pe).queryNode,Uo(e))})}innerJoin(...e){return new nt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("InnerJoin",e))})}leftJoin(...e){return new nt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("LeftJoin",e))})}rightJoin(...e){return new nt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("RightJoin",e))})}fullJoin(...e){return new nt({...r(this,pe),queryNode:ye.cloneWithJoin(r(this,pe).queryNode,vn("FullJoin",e))})}set(e){return new nt({...r(this,pe),queryNode:pc.cloneWithUpdates(r(this,pe).queryNode,Vf(e))})}returning(e){return new nt({...r(this,pe),queryNode:ye.cloneWithReturning(r(this,pe).queryNode,bu(e))})}returningAll(){return new nt({...r(this,pe),queryNode:ye.cloneWithReturning(r(this,pe).queryNode,Nu())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new nt({...r(this,pe)})}if(e,n){return this.$if(e,n)}$castTo(){return new nt(r(this,pe))}castTo(){return this.$castTo()}$narrowType(){return new nt(r(this,pe))}$assertType(){return new nt(r(this,pe))}assertType(){return new nt(r(this,pe))}withPlugin(e){return new nt({...r(this,pe),executor:r(this,pe).executor.withPlugin(e)})}toOperationNode(){return r(this,pe).executor.transformQuery(r(this,pe).queryNode,r(this,pe).queryId)}compile(){return r(this,pe).executor.compileQuery(this.toOperationNode(),r(this,pe).queryId)}async execute(){const e=this.compile(),n=e.query,i=await r(this,pe).executor.executeQuery(e,r(this,pe).queryId);return r(this,pe).executor.adapter.supportsReturning&&n.returning?i.rows:[new Sp(i.numAffectedRows??i.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=bl){const n=await this.executeTakeFirst();if(n===void 0)throw Nl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,pe).executor.stream(n,e,r(this,pe).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new nt({...r(this,pe),queryNode:ye.cloneWithExplain(r(this,pe).queryNode,e,n)}).execute()}};let gc=nt;pe=new WeakMap;$e(gc,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const Ug=p({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return p({kind:"CommonTableExpressionNode",name:t,expression:e})}}),Mh=p({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return p({kind:"CommonTableExpressionNameNode",table:vi.create(t),columns:e?p(e.map(Nt.create)):void 0})}});function Bh(t,e){const n=e(Xg());return Ug.create($g(t),n.toOperationNode())}function $g(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],i=e[1].split(",").map(a=>a.trim());return Mh.create(n,i)}else return Mh.create(t)}const zu=p({is(t){return t.kind==="WithNode"},create(t,e){return p({kind:"WithNode",expressions:p([t]),...e})},cloneWithExpression(t,e){return p({...t,expressions:p([...t.expressions,e])})}}),Fh=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function Qg(t){let e="";for(let n=0;n<t;++n)e+=jg();return e}function jg(){return Fh[~~(Math.random()*Fh.length)]}function et(){return new Hg}var so;class Hg{constructor(){k(this,so,void 0)}get queryId(){return r(this,so)===void 0&&D(this,so,Qg(8)),r(this,so)}}so=new WeakMap;var Lc;class zf{constructor(){Yt(this,"nodeStack",[]);k(this,Lc,p({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this)}))}transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),p(n)}transformNodeImpl(e){return r(this,Lc)[e.kind](e)}transformNodeList(e){return e&&p(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",table:this.transformNode(e.table),column:this.transformNode(e.column)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:p([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where)}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}Lc=new WeakMap;const Vg=p({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0});var oo,is,Pc,Rp,Mc,Dp,ss,ga,Ja,uf,Bc,Lp;class zg extends zf{constructor(n){super();k(this,Pc);k(this,Mc);k(this,ss);k(this,Ja);k(this,Bc);k(this,oo,void 0);k(this,is,new Set);D(this,oo,n)}transformNodeImpl(n){if(!qe(this,Pc,Rp).call(this,n))return super.transformNodeImpl(n);const i=qe(this,Mc,Dp).call(this,n);for(const l of i)r(this,is).add(l);const a=super.transformNodeImpl(n);for(const l of i)r(this,is).delete(l);return a}transformSchemableIdentifier(n){const i=super.transformSchemableIdentifier(n);return i.schema||!r(this,is).has(n.identifier.name)?i:{...i,schema:mt.create(r(this,oo))}}transformReferences(n){const i=super.transformReferences(n);return i.table.table.schema?i:{...i,table:vi.createWithSchema(r(this,oo),i.table.table.identifier.name)}}}oo=new WeakMap,is=new WeakMap,Pc=new WeakSet,Rp=function(n){return n.kind in Vg},Mc=new WeakSet,Dp=function(n){const i=new Set;if("name"in n&&n.name&&Ei.is(n.name)&&qe(this,Ja,uf).call(this,n.name,i),"from"in n&&n.from)for(const a of n.from.froms)qe(this,ss,ga).call(this,a,i);if("into"in n&&n.into&&qe(this,ss,ga).call(this,n.into,i),"table"in n&&n.table&&qe(this,ss,ga).call(this,n.table,i),"joins"in n&&n.joins)for(const a of n.joins)qe(this,ss,ga).call(this,a.table,i);return"with"in n&&n.with&&qe(this,Bc,Lp).call(this,n.with,i),i},ss=new WeakSet,ga=function(n,i){const a=vi.is(n)?n:Es.is(n)&&vi.is(n.node)?n.node:null;a&&qe(this,Ja,uf).call(this,a.table,i)},Ja=new WeakSet,uf=function(n,i){r(this,is).has(n.identifier.name)||i.add(n.identifier.name)},Bc=new WeakSet,Lp=function(n,i){for(const a of n.expressions)i.delete(a.name.table.table.identifier.name)};var Ga;class vu{constructor(e){k(this,Ga,void 0);D(this,Ga,new zg(e))}transformQuery(e){return r(this,Ga).transformNode(e.node)}async transformResult(e){return e.result}}Ga=new WeakMap;var rt;const es=class{constructor(e){k(this,rt,void 0);D(this,rt,p(e))}selectFrom(e){return new Fo({queryId:et(),executor:r(this,rt).executor,queryNode:We.create(Uo(e),r(this,rt).withNode)})}insertInto(e){return new Ba({queryId:et(),executor:r(this,rt).executor,queryNode:qr.create(_n(e),r(this,rt).withNode)})}replaceInto(e){return new Ba({queryId:et(),executor:r(this,rt).executor,queryNode:qr.create(_n(e),r(this,rt).withNode,!0)})}deleteFrom(e){return new wc({queryId:et(),executor:r(this,rt).executor,queryNode:Ea.create(Uo(e),r(this,rt).withNode)})}updateTable(e){return new gc({queryId:et(),executor:r(this,rt).executor,queryNode:pc.create(Ua(e),r(this,rt).withNode)})}with(e,n){const i=Bh(e,n);return new es({...r(this,rt),withNode:r(this,rt).withNode?zu.cloneWithExpression(r(this,rt).withNode,i):zu.create(i)})}withRecursive(e,n){const i=Bh(e,n);return new es({...r(this,rt),withNode:r(this,rt).withNode?zu.cloneWithExpression(r(this,rt).withNode,i):zu.create(i,{recursive:!0})})}withPlugin(e){return new es({...r(this,rt),executor:r(this,rt).executor.withPlugin(e)})}withoutPlugins(){return new es({...r(this,rt),executor:r(this,rt).executor.withoutPlugins()})}withSchema(e){return new es({...r(this,rt),executor:r(this,rt).executor.withPluginAtFront(new vu(e))})}};let bc=es;rt=new WeakMap;var Xa,ao,uo;class Uh{constructor(){k(this,Xa,void 0);k(this,ao,void 0);k(this,uo,void 0);Yt(this,"resolve",e=>{r(this,ao)&&r(this,ao).call(this,e)});Yt(this,"reject",e=>{r(this,uo)&&r(this,uo).call(this,e)});D(this,Xa,new Promise((e,n)=>{D(this,uo,n),D(this,ao,e)}))}get promise(){return r(this,Xa)}}Xa=new WeakMap,ao=new WeakMap,uo=new WeakMap;const $h=new Set;function Kg(t){$h.has(t)||($h.add(t),console.log(t))}const Jg=p([]);var os,Ya,cf;class Pp{constructor(e=Jg){k(this,Ya);k(this,os,void 0);D(this,os,e)}get plugins(){return r(this,os)}transformQuery(e,n){for(const i of r(this,os)){const a=i.transformQuery({node:e,queryId:n});if(a.kind===e.kind)e=a;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${a.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async i=>{const a=await i.executeQuery(e),l=await qe(this,Ya,cf).call(this,a,n);return Gg(a,l),l})}async*stream(e,n,i){const a=new Uh,l=new Uh;this.provideConnection(async w=>(a.resolve(w),await l.promise)).catch(w=>a.reject(w));const m=await a.promise;try{for await(const w of m.streamQuery(e,n))yield await qe(this,Ya,cf).call(this,w,i)}finally{l.resolve()}}}os=new WeakMap,Ya=new WeakSet,cf=async function(e,n){for(const i of r(this,os))e=await i.transformResult({result:e,queryId:n});return e};function Gg(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||Kg("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Js extends Pp{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Js([...this.plugins,e])}withPlugins(e){return new Js([...this.plugins,...e])}withPluginAtFront(e){return new Js([e,...this.plugins])}withoutPlugins(){return new Js([])}}const vl=new Js;function Qh(){return new Fo({queryId:et(),executor:vl,queryNode:We.create(Uo([]))})}function Xg(){return new bc({executor:vl})}function Mp(t,e){return new hc({joinNode:jn.create(t,Ua(e))})}function Yg(){return new dc({overNode:af.create()})}const Kf=p({is(t){return t.kind==="WhenNode"},create(t){return p({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return p({...t,result:e})}}),hr=p({is(t){return t.kind==="CaseNode"},create(t){return p({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return p({...t,when:p(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return p({...t,when:t.when?p([...t.when.slice(0,-1),Kf.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return p({...t,...e})}});function lf(t,e,n){if(!_p(e)&&!hn(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return tb(e,n)?nb(t,e,n):yl.create(Vr(t),Jf(e),qp(n))}function Zg(t,e,n){if(!_p(e)&&!hn(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return yl.create(Vr(t),Jf(e),Vr(n))}function eb(t,e,n){if(!xp(e)&&!hn(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return lf(t,e,n)}function zt(t,e,n){if(!xp(e)&&!hn(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return Zg(t,e,n)}function Rn(t){return _l("where",t)}function jh(t){return _l("having",t)}function Hh(t){return _l("on",t)}function Bp(t){return _l("when",t)}function _l(t,e){if(e.length===3)return eb(e[0],e[1],e[2]);if(e.length===1)return rb(t,e[0]);throw Fp(t,e)}function tb(t,e){return(t==="is"||t==="is not")&&(gp(e)||wp(e))}function nb(t,e,n){return yl.create(Vr(t),Jf(e),Ar.createImmediate(n))}function Jf(t){if(pr(t)&&bg.includes(t))return Uf.create(t);if(hn(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function rb(t,e){if(Vn(e)){if(t==="when")throw new Error("when method doesn't accept a callback as an argument");return ib[t](e)}else if(hn(e)){const n=e.toOperationNode();if(en.is(n)||yl.is(n)||Wp.is(n)||ro.is(n)||hr.is(n))return n}else if(t==="when")return Ar.create(e);throw Fp(t,e)}function Fp(t,e){return new Error(`invalid arguments passed to a '${t}' method: ${JSON.stringify(e)}`)}const ib=p({where(t){const e=Qh(),n=Qr(),a=t(Object.assign(e,n)).toOperationNode();if(We.is(a)){if(!a.where)throw new Error("no `where` methods called inside a group callback");return ro.create(a.where.where)}else return a},having(t){const e=Qh(),n=Qr(),a=t(Object.assign(e,n)).toOperationNode();if(We.is(a)){if(!a.having)throw new Error("no `having` methods called inside a group callback");return ro.create(a.having.having)}else return a},on(t){const e=Mp("InnerJoin","table"),n=Qr(),a=t(Object.assign(e,n)).toOperationNode();if(jn.is(a)){if(!a.on)throw new Error("no `on` methods called inside a group callback");return ro.create(a.on.on)}else return a}});function vn(t,e){if(e.length===3)return ob(t,e[0],e[1],e[2]);if(e.length===2)return sb(t,e[0],e[1]);throw new Error("not implemented")}function sb(t,e,n){return n(Mp(t,e)).toOperationNode()}function ob(t,e,n,i){return jn.createWithOn(t,Ua(e),zt(n,"=",i))}const ab=p({is(t){return t.kind==="OffsetNode"},create(t){return p({kind:"OffsetNode",offset:Ar.create(t)})}}),ub=p({is(t){return t.kind==="GroupByItemNode"},create(t){return p({kind:"GroupByItemNode",groupBy:t})}});function cb(t){return t=Vn(t)?t(Qr()):t,Ma(t).map(ub.create)}const Up=p({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return p({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function js(t,e,n){return Up.create(t,e.toOperationNode(),n)}var $;const he=class{constructor(e){k(this,$,void 0);D(this,$,p(e))}get expressionType(){}where(...e){return new he({...r(this,$),queryNode:ye.cloneWithWhere(r(this,$).queryNode,Rn(e))})}whereRef(e,n,i){return new he({...r(this,$),queryNode:ye.cloneWithWhere(r(this,$).queryNode,zt(e,n,i))})}orWhere(...e){return new he({...r(this,$),queryNode:ye.cloneWithOrWhere(r(this,$).queryNode,Rn(e))})}orWhereRef(e,n,i){return new he({...r(this,$),queryNode:ye.cloneWithOrWhere(r(this,$).queryNode,zt(e,n,i))})}whereExists(e){return new he({...r(this,$),queryNode:ye.cloneWithWhere(r(this,$).queryNode,sn(e))})}whereNotExists(e){return new he({...r(this,$),queryNode:ye.cloneWithWhere(r(this,$).queryNode,Vt(e))})}orWhereExists(e){return new he({...r(this,$),queryNode:ye.cloneWithOrWhere(r(this,$).queryNode,sn(e))})}orWhereNotExists(e){return new he({...r(this,$),queryNode:ye.cloneWithOrWhere(r(this,$).queryNode,Vt(e))})}having(...e){return new he({...r(this,$),queryNode:We.cloneWithHaving(r(this,$).queryNode,jh(e))})}havingRef(e,n,i){return new he({...r(this,$),queryNode:We.cloneWithHaving(r(this,$).queryNode,zt(e,n,i))})}orHaving(...e){return new he({...r(this,$),queryNode:We.cloneWithOrHaving(r(this,$).queryNode,jh(e))})}orHavingRef(e,n,i){return new he({...r(this,$),queryNode:We.cloneWithOrHaving(r(this,$).queryNode,zt(e,n,i))})}havingExists(e){return new he({...r(this,$),queryNode:We.cloneWithHaving(r(this,$).queryNode,sn(e))})}havingNotExist(e){return new he({...r(this,$),queryNode:We.cloneWithHaving(r(this,$).queryNode,Vt(e))})}havingNotExists(e){return new he({...r(this,$),queryNode:We.cloneWithHaving(r(this,$).queryNode,Vt(e))})}orHavingExists(e){return new he({...r(this,$),queryNode:We.cloneWithOrHaving(r(this,$).queryNode,sn(e))})}orHavingNotExists(e){return new he({...r(this,$),queryNode:We.cloneWithOrHaving(r(this,$).queryNode,Vt(e))})}select(e){return new he({...r(this,$),queryNode:We.cloneWithSelections(r(this,$).queryNode,bu(e))})}distinctOn(e){return new he({...r(this,$),queryNode:We.cloneWithDistinctOn(r(this,$).queryNode,Ma(e))})}modifyFront(e){return new he({...r(this,$),queryNode:We.cloneWithFrontModifier(r(this,$).queryNode,Sr.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new he({...r(this,$),queryNode:We.cloneWithEndModifier(r(this,$).queryNode,Sr.createWithExpression(e.toOperationNode()))})}distinct(){return new he({...r(this,$),queryNode:We.cloneWithFrontModifier(r(this,$).queryNode,Sr.create("Distinct"))})}forUpdate(){return new he({...r(this,$),queryNode:We.cloneWithEndModifier(r(this,$).queryNode,Sr.create("ForUpdate"))})}forShare(){return new he({...r(this,$),queryNode:We.cloneWithEndModifier(r(this,$).queryNode,Sr.create("ForShare"))})}forKeyShare(){return new he({...r(this,$),queryNode:We.cloneWithEndModifier(r(this,$).queryNode,Sr.create("ForKeyShare"))})}forNoKeyUpdate(){return new he({...r(this,$),queryNode:We.cloneWithEndModifier(r(this,$).queryNode,Sr.create("ForNoKeyUpdate"))})}skipLocked(){return new he({...r(this,$),queryNode:We.cloneWithEndModifier(r(this,$).queryNode,Sr.create("SkipLocked"))})}noWait(){return new he({...r(this,$),queryNode:We.cloneWithEndModifier(r(this,$).queryNode,Sr.create("NoWait"))})}selectAll(e){return new he({...r(this,$),queryNode:We.cloneWithSelections(r(this,$).queryNode,Nu(e))})}innerJoin(...e){return new he({...r(this,$),queryNode:ye.cloneWithJoin(r(this,$).queryNode,vn("InnerJoin",e))})}leftJoin(...e){return new he({...r(this,$),queryNode:ye.cloneWithJoin(r(this,$).queryNode,vn("LeftJoin",e))})}rightJoin(...e){return new he({...r(this,$),queryNode:ye.cloneWithJoin(r(this,$).queryNode,vn("RightJoin",e))})}fullJoin(...e){return new he({...r(this,$),queryNode:ye.cloneWithJoin(r(this,$).queryNode,vn("FullJoin",e))})}innerJoinLateral(...e){return new he({...r(this,$),queryNode:ye.cloneWithJoin(r(this,$).queryNode,vn("LateralInnerJoin",e))})}leftJoinLateral(...e){return new he({...r(this,$),queryNode:ye.cloneWithJoin(r(this,$).queryNode,vn("LateralLeftJoin",e))})}orderBy(e,n){return new he({...r(this,$),queryNode:We.cloneWithOrderByItem(r(this,$).queryNode,gl(e,n))})}groupBy(e){return new he({...r(this,$),queryNode:We.cloneWithGroupByItems(r(this,$).queryNode,cb(e))})}limit(e){return new he({...r(this,$),queryNode:We.cloneWithLimit(r(this,$).queryNode,kp.create(e))})}offset(e){return new he({...r(this,$),queryNode:We.cloneWithOffset(r(this,$).queryNode,ab.create(e))})}union(e){return new he({...r(this,$),queryNode:We.cloneWithSetOperation(r(this,$).queryNode,js("union",e,!1))})}unionAll(e){return new he({...r(this,$),queryNode:We.cloneWithSetOperation(r(this,$).queryNode,js("union",e,!0))})}intersect(e){return new he({...r(this,$),queryNode:We.cloneWithSetOperation(r(this,$).queryNode,js("intersect",e,!1))})}intersectAll(e){return new he({...r(this,$),queryNode:We.cloneWithSetOperation(r(this,$).queryNode,js("intersect",e,!0))})}except(e){return new he({...r(this,$),queryNode:We.cloneWithSetOperation(r(this,$).queryNode,js("except",e,!1))})}exceptAll(e){return new he({...r(this,$),queryNode:We.cloneWithSetOperation(r(this,$).queryNode,js("except",e,!0))})}as(e){return new lb(this,e)}clearSelect(){return new he({...r(this,$),queryNode:We.cloneWithoutSelections(r(this,$).queryNode)})}clearWhere(){return new he({...r(this,$),queryNode:ye.cloneWithoutWhere(r(this,$).queryNode)})}clearLimit(){return new he({...r(this,$),queryNode:We.cloneWithoutLimit(r(this,$).queryNode)})}clearOffset(){return new he({...r(this,$),queryNode:We.cloneWithoutOffset(r(this,$).queryNode)})}clearOrderBy(){return new he({...r(this,$),queryNode:We.cloneWithoutOrderBy(r(this,$).queryNode)})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,n){return e?n(this):new he({...r(this,$)})}if(e,n){return this.$if(e,n)}$castTo(){return new he(r(this,$))}castTo(){return this.$castTo()}$narrowType(){return new he(r(this,$))}$assertType(){return new he(r(this,$))}assertType(){return new he(r(this,$))}withPlugin(e){return new he({...r(this,$),executor:r(this,$).executor.withPlugin(e)})}toOperationNode(){return r(this,$).executor.transformQuery(r(this,$).queryNode,r(this,$).queryId)}compile(){return r(this,$).executor.compileQuery(this.toOperationNode(),r(this,$).queryId)}async execute(){const e=this.compile();return(await r(this,$).executor.executeQuery(e,r(this,$).queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=bl){const n=await this.executeTakeFirst();if(n===void 0)throw Nl(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),i=r(this,$).executor.stream(n,e,r(this,$).queryId);for await(const a of i)yield*a.rows}async explain(e,n){return await new he({...r(this,$),queryNode:ye.cloneWithExplain(r(this,$).queryNode,e,n)}).execute()}};let Fo=he;$=new WeakMap;$e(Fo,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var co,lo;class lb{constructor(e,n){k(this,co,void 0);k(this,lo,void 0);D(this,co,e),D(this,lo,n)}get expression(){return r(this,co)}get alias(){return r(this,lo)}toOperationNode(){return Es.create(r(this,co).toOperationNode(),mt.create(r(this,lo)))}}co=new WeakMap,lo=new WeakMap;var fo;const Zf=class{constructor(e){k(this,fo,void 0);D(this,fo,e)}get expressionType(){}as(e){return new fb(this,e)}$castTo(){return new Zf(r(this,fo))}toOperationNode(){return r(this,fo)}};let Dt=Zf;fo=new WeakMap;var ho,li;class fb{constructor(e,n){k(this,ho,void 0);k(this,li,void 0);D(this,ho,e),D(this,li,n)}get expression(){return r(this,ho)}get alias(){return r(this,li)}toOperationNode(){return Es.create(r(this,ho).toOperationNode(),hn(r(this,li))?r(this,li).toOperationNode():mt.create(r(this,li)))}}ho=new WeakMap,li=new WeakMap;const Un=p({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return p({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return p({...t,distinct:!0})},cloneWithFilter(t,e){return p({...t,filter:t.filter?tn.cloneWithOperation(t.filter,"And",e):tn.create(e)})},cloneWithOrFilter(t,e){return p({...t,filter:t.filter?tn.cloneWithOperation(t.filter,"Or",e):tn.create(e)})},cloneWithOver(t,e){return p({...t,over:e})}}),hb=p({is(t){return t.kind==="FunctionNode"},create(t,e){return p({kind:"FunctionNode",func:t,arguments:e})}});var st;const $n=class{constructor(e){k(this,st,void 0);D(this,st,p(e))}get expressionType(){}as(e){return new db(this,e)}distinct(){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithDistinct(r(this,st).aggregateFunctionNode)})}filterWhere(...e){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithFilter(r(this,st).aggregateFunctionNode,Rn(e))})}filterWhereExists(e){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithFilter(r(this,st).aggregateFunctionNode,sn(e))})}filterWhereNotExists(e){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithFilter(r(this,st).aggregateFunctionNode,Vt(e))})}filterWhereRef(e,n,i){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithFilter(r(this,st).aggregateFunctionNode,zt(e,n,i))})}orFilterWhere(...e){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithOrFilter(r(this,st).aggregateFunctionNode,Rn(e))})}orFilterWhereExists(e){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithOrFilter(r(this,st).aggregateFunctionNode,sn(e))})}orFilterWhereNotExists(e){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithOrFilter(r(this,st).aggregateFunctionNode,Vt(e))})}orFilterWhereRef(e,n,i){return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithOrFilter(r(this,st).aggregateFunctionNode,zt(e,n,i))})}over(e){const n=Yg();return new $n({...r(this,st),aggregateFunctionNode:Un.cloneWithOver(r(this,st).aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}toOperationNode(){return r(this,st).aggregateFunctionNode}};let Fa=$n;st=new WeakMap;$e(Fa,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var po,mo;class db{constructor(e,n){k(this,po,void 0);k(this,mo,void 0);D(this,po,e),D(this,mo,n)}get expression(){return r(this,po)}get alias(){return r(this,mo)}toOperationNode(){return Es.create(r(this,po).toOperationNode(),mt.create(r(this,mo)))}}po=new WeakMap,mo=new WeakMap;function $p(){const t=(n,i)=>new Dt(hb.create(n,Ma(i))),e=(n,i)=>new Fa({aggregateFunctionNode:Un.create(n,i?Ma(i):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(n,...i){return t("coalesce",[n,...i])},count(n){return e("count",[n])},countAll(n){return new Fa({aggregateFunctionNode:Un.create("count",Nu(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])}})}var yo;class Qp{constructor(e){k(this,yo,void 0);D(this,yo,p(e))}when(...e){return new jp({...r(this,yo),node:hr.cloneWithWhen(r(this,yo).node,Kf.create(Bp(e)))})}}yo=new WeakMap;var wo;class jp{constructor(e){k(this,wo,void 0);D(this,wo,p(e))}then(e){return new pb({...r(this,wo),node:hr.cloneWithThen(r(this,wo).node,$r(e))})}}wo=new WeakMap;var vr;class pb{constructor(e){k(this,vr,void 0);D(this,vr,p(e))}when(...e){return new jp({...r(this,vr),node:hr.cloneWithWhen(r(this,vr).node,Kf.create(Bp(e)))})}else(e){return new mb({...r(this,vr),node:hr.cloneWith(r(this,vr).node,{else:$r(e)})})}end(){return new Dt(hr.cloneWith(r(this,vr).node,{isStatement:!1}))}endCase(){return new Dt(hr.cloneWith(r(this,vr).node,{isStatement:!0}))}}vr=new WeakMap;var go;class mb{constructor(e){k(this,go,void 0);D(this,go,p(e))}end(){return new Dt(hr.cloneWith(r(this,go).node,{isStatement:!1}))}endCase(){return new Dt(hr.cloneWith(r(this,go).node,{isStatement:!0}))}}go=new WeakMap;function Hp(t=vl){function e(n,i){return new Dt(Hf(n,i))}return{get fn(){return $p()},selectFrom(n){return new Fo({queryId:et(),executor:t,queryNode:We.create(Uo(n))})},case(n){return new Qp({node:hr.create(_a(n)?void 0:Vr(n))})},ref(n){return new Dt(Mo(n))},val(n){return new Dt(qp(n))},cmpr(n,i,a){return new Dt(lf(n,i,a))},bxp(n,i,a){return new Dt(lf(n,i,a))},unary:e,not(n){return e("not",n)},exists(n){return e("exists",n)},neg(n){return e("-",n)},and(n){if(n.length===0)return new Dt(Ar.createImmediate(!0));if(n.length===1)return new Dt(n[0].toOperationNode());let i=La.create(n[0].toOperationNode(),n[1].toOperationNode());for(let a=2;a<n.length;++a)i=La.create(i,n[a].toOperationNode());return new Dt(ro.create(i))},or(n){if(n.length===0)return new Dt(Ar.createImmediate(!1));if(n.length===1)return new Dt(n[0].toOperationNode());let i=Pa.create(n[0].toOperationNode(),n[1].toOperationNode());for(let a=2;a<n.length;++a)i=Pa.create(i,n[a].toOperationNode());return new Dt(ro.create(i))},withSchema(n){return Hp(t.withPluginAtFront(new vu(n)))}}}function Qr(t){return Hp()}function xl(t){if(hn(t))return t.toOperationNode();if(Vn(t))return t(Qr()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Vp(t){if(hn(t))return t.toOperationNode();if(Vn(t))return t(Qr()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function El(t){return pg(t)||mg(t)||Vn(t)}function Uo(t){return gu(t)?t.map(e=>Ua(e)):[Ua(t)]}function Ua(t){return pr(t)?yb(t):Vp(t)}function yb(t){const e=" as ";if(t.includes(e)){const[n,i]=t.split(e).map(zp);return Es.create(_n(n),mt.create(i))}else return _n(t)}function _n(t){const e=".";if(t.includes(e)){const[n,i]=t.split(e).map(zp);return vi.createWithSchema(n,i)}else return vi.create(t)}function zp(t){return t.trim()}const Kp=p({is(t){return t.kind==="AddColumnNode"},create(t){return p({kind:"AddColumnNode",column:t})}}),Yi=p({is(t){return t.kind==="AlterColumnNode"},create(t){return p({kind:"AlterColumnNode",column:Nt.create(t)})},cloneWith(t,e){return p({...t,...e})}}),bt=p({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return p({kind:"ColumnDefinitionNode",column:Nt.create(t),dataType:e})},cloneWithFrontModifier(t,e){return p({...t,frontModifiers:t.frontModifiers?p([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return p({...t,endModifiers:t.endModifiers?p([...t.endModifiers,e]):[e]})},cloneWith(t,e){return p({...t,...e})}}),Jp=p({is(t){return t.kind==="DropColumnNode"},create(t){return p({kind:"DropColumnNode",column:Nt.create(t)})}}),Gp=p({is(t){return t.kind==="RenameColumnNode"},create(t,e){return p({kind:"RenameColumnNode",column:Nt.create(t),renameTo:Nt.create(e)})}}),Gf=p({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return p({kind:"CheckConstraintNode",expression:t,name:e?mt.create(e):void 0})}}),wb=["no action","restrict","cascade","set null","set default"],tc=p({is(t){return t.kind==="ReferencesNode"},create(t,e){return p({kind:"ReferencesNode",table:t,columns:p([...e])})},cloneWithOnDelete(t,e){return p({...t,onDelete:e})},cloneWithOnUpdate(t,e){return p({...t,onUpdate:e})}});function Xp(t){return hn(t)?t.toOperationNode():Ar.createImmediate(t)}const Ku=p({is(t){return t.kind==="GeneratedNode"},create(t){return p({kind:"GeneratedNode",...t})},createWithExpression(t){return p({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return p({...t,...e})}}),gb=p({is(t){return t.kind==="DefaultValueNode"},create(t){return p({kind:"DefaultValueNode",defaultValue:t})}});function Nc(t){if(wb.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}var Ye;const kt=class{constructor(e){k(this,Ye,void 0);D(this,Ye,e)}autoIncrement(){return new kt(bt.cloneWith(r(this,Ye),{autoIncrement:!0}))}primaryKey(){return new kt(bt.cloneWith(r(this,Ye),{primaryKey:!0}))}references(e){const n=Mo(e);if(!wl.is(n)||$f.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new kt(bt.cloneWith(r(this,Ye),{references:tc.create(n.table,[n.column])}))}onDelete(e){if(!r(this,Ye).references)throw new Error("on delete constraint can only be added for foreign keys");return new kt(bt.cloneWith(r(this,Ye),{references:tc.cloneWithOnDelete(r(this,Ye).references,Nc(e))}))}onUpdate(e){if(!r(this,Ye).references)throw new Error("on update constraint can only be added for foreign keys");return new kt(bt.cloneWith(r(this,Ye),{references:tc.cloneWithOnUpdate(r(this,Ye).references,Nc(e))}))}unique(){return new kt(bt.cloneWith(r(this,Ye),{unique:!0}))}notNull(){return new kt(bt.cloneWith(r(this,Ye),{notNull:!0}))}unsigned(){return new kt(bt.cloneWith(r(this,Ye),{unsigned:!0}))}defaultTo(e){return new kt(bt.cloneWith(r(this,Ye),{defaultTo:gb.create(Xp(e))}))}check(e){return new kt(bt.cloneWith(r(this,Ye),{check:Gf.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new kt(bt.cloneWith(r(this,Ye),{generated:Ku.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new kt(bt.cloneWith(r(this,Ye),{generated:Ku.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new kt(bt.cloneWith(r(this,Ye),{generated:Ku.create({identity:!0,byDefault:!0})}))}stored(){if(!r(this,Ye).generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new kt(bt.cloneWith(r(this,Ye),{generated:Ku.cloneWith(r(this,Ye).generated,{stored:!0})}))}modifyFront(e){return new kt(bt.cloneWithFrontModifier(r(this,Ye),e.toOperationNode()))}modifyEnd(e){return new kt(bt.cloneWithEndModifier(r(this,Ye),e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return r(this,Ye)}};let Ci=kt;Ye=new WeakMap;$e(Ci,"don't await ColumnDefinitionBuilder instances directly.");const Yp=p({is(t){return t.kind==="ModifyColumnNode"},create(t){return p({kind:"ModifyColumnNode",column:t})}}),bb=p({is(t){return t.kind==="DataTypeNode"},create(t){return p({kind:"DataTypeNode",dataType:t})}});function $o(t){return hn(t)?t.toOperationNode():bb.create(t)}const vc=p({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,i){return p({kind:"ForeignKeyConstraintNode",columns:t,references:tc.create(e,n),name:i?mt.create(i):void 0})},cloneWith(t,e){return p({...t,...e})}});var as;const Fc=class{constructor(e){k(this,as,void 0);D(this,as,e)}onDelete(e){return new Fc(vc.cloneWith(r(this,as),{onDelete:Nc(e)}))}onUpdate(e){return new Fc(vc.cloneWith(r(this,as),{onUpdate:Nc(e)}))}$call(e){return e(this)}toOperationNode(){return r(this,as)}};let $a=Fc;as=new WeakMap;$e($a,"don't await ForeignKeyConstraintBuilder instances directly.");const ff=p({is(t){return t.kind==="AddConstraintNode"},create(t){return p({kind:"AddConstraintNode",constraint:t})}}),Zp=p({is(t){return t.kind==="UniqueConstraintNode"},create(t,e){return p({kind:"UniqueConstraintNode",columns:p(t.map(Nt.create)),name:e?mt.create(e):void 0})}}),nc=p({is(t){return t.kind==="DropConstraintNode"},create(t){return p({kind:"DropConstraintNode",constraintName:mt.create(t)})},cloneWith(t,e){return p({...t,...e})}});class Cl{constructor(e){Yt(this,"alterColumnNode");this.alterColumnNode=e}setDataType(e){return new ya(Yi.cloneWith(this.alterColumnNode,{dataType:$o(e)}))}setDefault(e){return new ya(Yi.cloneWith(this.alterColumnNode,{setDefault:Xp(e)}))}dropDefault(){return new ya(Yi.cloneWith(this.alterColumnNode,{dropDefault:!0}))}setNotNull(){return new ya(Yi.cloneWith(this.alterColumnNode,{setNotNull:!0}))}dropNotNull(){return new ya(Yi.cloneWith(this.alterColumnNode,{dropNotNull:!0}))}$call(e){return e(this)}}class ya extends Cl{toOperationNode(){return this.alterColumnNode}}var ir;class ba{constructor(e){k(this,ir,void 0);D(this,ir,p(e))}toOperationNode(){return r(this,ir).executor.transformQuery(r(this,ir).node,r(this,ir).queryId)}compile(){return r(this,ir).executor.compileQuery(this.toOperationNode(),r(this,ir).queryId)}async execute(){await r(this,ir).executor.executeQuery(this.compile(),r(this,ir).queryId)}}ir=new WeakMap;$e(ba,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var Zt;const Uc=class{constructor(e){k(this,Zt,void 0);D(this,Zt,p(e))}onDelete(e){return new Uc({...r(this,Zt),constraintBuilder:r(this,Zt).constraintBuilder.onDelete(e)})}onUpdate(e){return new Uc({...r(this,Zt),constraintBuilder:r(this,Zt).constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return r(this,Zt).executor.transformQuery(Et.cloneWithTableProps(r(this,Zt).node,{addConstraint:ff.create(r(this,Zt).constraintBuilder.toOperationNode())}),r(this,Zt).queryId)}compile(){return r(this,Zt).executor.compileQuery(this.toOperationNode(),r(this,Zt).queryId)}async execute(){await r(this,Zt).executor.executeQuery(this.compile(),r(this,Zt).queryId)}};let _c=Uc;Zt=new WeakMap;$e(_c,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var _t;const Ca=class{constructor(e){k(this,_t,void 0);D(this,_t,p(e))}ifExists(){return new Ca({...r(this,_t),node:Et.cloneWithTableProps(r(this,_t).node,{dropConstraint:nc.cloneWith(r(this,_t).node.dropConstraint,{ifExists:!0})})})}cascade(){return new Ca({...r(this,_t),node:Et.cloneWithTableProps(r(this,_t).node,{dropConstraint:nc.cloneWith(r(this,_t).node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new Ca({...r(this,_t),node:Et.cloneWithTableProps(r(this,_t).node,{dropConstraint:nc.cloneWith(r(this,_t).node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return r(this,_t).executor.transformQuery(r(this,_t).node,r(this,_t).queryId)}compile(){return r(this,_t).executor.compileQuery(this.toOperationNode(),r(this,_t).queryId)}async execute(){await r(this,_t).executor.executeQuery(this.compile(),r(this,_t).queryId)}};let xc=Ca;_t=new WeakMap;$e(xc,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");var ot;class em{constructor(e){k(this,ot,void 0);D(this,ot,p(e))}renameTo(e){return new ba({...r(this,ot),node:Et.cloneWithTableProps(r(this,ot).node,{renameTo:_n(e)})})}setSchema(e){return new ba({...r(this,ot),node:Et.cloneWithTableProps(r(this,ot).node,{setSchema:mt.create(e)})})}alterColumn(e,n){const i=n(new Cl(Yi.create(e)));return new ci({...r(this,ot),node:Et.cloneWithColumnAlteration(r(this,ot).node,i.toOperationNode())})}dropColumn(e){return new ci({...r(this,ot),node:Et.cloneWithColumnAlteration(r(this,ot).node,Jp.create(e))})}renameColumn(e,n){return new ci({...r(this,ot),node:Et.cloneWithColumnAlteration(r(this,ot).node,Gp.create(e,n))})}addColumn(e,n,i=Po){const a=i(new Ci(bt.create(e,$o(n))));return new ci({...r(this,ot),node:Et.cloneWithColumnAlteration(r(this,ot).node,Kp.create(a.toOperationNode()))})}modifyColumn(e,n,i=Po){const a=i(new Ci(bt.create(e,$o(n))));return new ci({...r(this,ot),node:Et.cloneWithColumnAlteration(r(this,ot).node,Yp.create(a.toOperationNode()))})}addUniqueConstraint(e,n){return new ba({...r(this,ot),node:Et.cloneWithTableProps(r(this,ot).node,{addConstraint:ff.create(Zp.create(n,e))})})}addCheckConstraint(e,n){return new ba({...r(this,ot),node:Et.cloneWithTableProps(r(this,ot).node,{addConstraint:ff.create(Gf.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,i,a){return new _c({...r(this,ot),constraintBuilder:new $a(vc.create(n.map(Nt.create),_n(i),a.map(Nt.create),e))})}dropConstraint(e){return new xc({...r(this,ot),node:Et.cloneWithTableProps(r(this,ot).node,{dropConstraint:nc.create(e)})})}$call(e){return e(this)}call(e){return this.$call(e)}}ot=new WeakMap;var gt;const ts=class{constructor(e){k(this,gt,void 0);D(this,gt,p(e))}alterColumn(e,n){const i=n(new Cl(Yi.create(e)));return new ts({...r(this,gt),node:Et.cloneWithColumnAlteration(r(this,gt).node,i.toOperationNode())})}dropColumn(e){return new ts({...r(this,gt),node:Et.cloneWithColumnAlteration(r(this,gt).node,Jp.create(e))})}renameColumn(e,n){return new ts({...r(this,gt),node:Et.cloneWithColumnAlteration(r(this,gt).node,Gp.create(e,n))})}addColumn(e,n,i=Po){const a=i(new Ci(bt.create(e,$o(n))));return new ts({...r(this,gt),node:Et.cloneWithColumnAlteration(r(this,gt).node,Kp.create(a.toOperationNode()))})}modifyColumn(e,n,i=Po){const a=i(new Ci(bt.create(e,$o(n))));return new ts({...r(this,gt),node:Et.cloneWithColumnAlteration(r(this,gt).node,Yp.create(a.toOperationNode()))})}toOperationNode(){return r(this,gt).executor.transformQuery(r(this,gt).node,r(this,gt).queryId)}compile(){return r(this,gt).executor.compileQuery(this.toOperationNode(),r(this,gt).queryId)}async execute(){await r(this,gt).executor.executeQuery(this.compile(),r(this,gt).queryId)}};let ci=ts;gt=new WeakMap;$e(em,"don't await AlterTableBuilder instances");$e(Cl,"don't await AlterColumnBuilder instances");$e(ci,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class tm extends zf{transformValue(e){return{...super.transformValue(e),immediate:!0}}}var Ze;const br=class{constructor(e){k(this,Ze,void 0);D(this,Ze,p(e))}ifNotExists(){return new br({...r(this,Ze),node:ii.cloneWith(r(this,Ze).node,{ifNotExists:!0})})}unique(){return new br({...r(this,Ze),node:ii.cloneWith(r(this,Ze).node,{unique:!0})})}on(e){return new br({...r(this,Ze),node:ii.cloneWith(r(this,Ze).node,{table:_n(e)})})}column(e){return new br({...r(this,Ze),node:ii.cloneWithColumns(r(this,Ze).node,[Th(e)])})}columns(e){return new br({...r(this,Ze),node:ii.cloneWithColumns(r(this,Ze).node,e.map(Th))})}expression(e){return new br({...r(this,Ze),node:ii.cloneWithColumns(r(this,Ze).node,[e.toOperationNode()])})}using(e){return new br({...r(this,Ze),node:ii.cloneWith(r(this,Ze).node,{using:en.createWithSql(e)})})}where(...e){const n=new tm;return new br({...r(this,Ze),node:ye.cloneWithWhere(r(this,Ze).node,n.transformNode(Rn(e)))})}$call(e){return e(this)}toOperationNode(){return r(this,Ze).executor.transformQuery(r(this,Ze).node,r(this,Ze).queryId)}compile(){return r(this,Ze).executor.compileQuery(this.toOperationNode(),r(this,Ze).queryId)}async execute(){await r(this,Ze).executor.executeQuery(this.compile(),r(this,Ze).queryId)}};let Ec=br;Ze=new WeakMap;$e(Ec,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var Wn;const eh=class{constructor(e){k(this,Wn,void 0);D(this,Wn,p(e))}ifNotExists(){return new eh({...r(this,Wn),node:bp.cloneWith(r(this,Wn).node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,Wn).executor.transformQuery(r(this,Wn).node,r(this,Wn).queryId)}compile(){return r(this,Wn).executor.compileQuery(this.toOperationNode(),r(this,Wn).queryId)}async execute(){await r(this,Wn).executor.executeQuery(this.compile(),r(this,Wn).queryId)}};let Cc=eh;Wn=new WeakMap;$e(Cc,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");const Nb=p({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return p({kind:"PrimaryKeyConstraintNode",columns:p(t.map(Nt.create)),name:e?mt.create(e):void 0})}});function vb(t){if(dg.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}var Ue;const Qn=class{constructor(e){k(this,Ue,void 0);D(this,Ue,p(e))}temporary(){return new Qn({...r(this,Ue),node:Zn.cloneWith(r(this,Ue).node,{temporary:!0})})}onCommit(e){return new Qn({...r(this,Ue),node:Zn.cloneWith(r(this,Ue).node,{onCommit:vb(e)})})}ifNotExists(){return new Qn({...r(this,Ue),node:Zn.cloneWith(r(this,Ue).node,{ifNotExists:!0})})}addColumn(e,n,i=Po){const a=i(new Ci(bt.create(e,$o(n))));return new Qn({...r(this,Ue),node:Zn.cloneWithColumn(r(this,Ue).node,a.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new Qn({...r(this,Ue),node:Zn.cloneWithConstraint(r(this,Ue).node,Nb.create(n,e))})}addUniqueConstraint(e,n){return new Qn({...r(this,Ue),node:Zn.cloneWithConstraint(r(this,Ue).node,Zp.create(n,e))})}addCheckConstraint(e,n){return new Qn({...r(this,Ue),node:Zn.cloneWithConstraint(r(this,Ue).node,Gf.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,i,a,l=Po){const m=l(new $a(vc.create(n.map(Nt.create),_n(i),a.map(Nt.create),e)));return new Qn({...r(this,Ue),node:Zn.cloneWithConstraint(r(this,Ue).node,m.toOperationNode())})}modifyFront(e){return new Qn({...r(this,Ue),node:Zn.cloneWithFrontModifier(r(this,Ue).node,e.toOperationNode())})}modifyEnd(e){return new Qn({...r(this,Ue),node:Zn.cloneWithEndModifier(r(this,Ue).node,e.toOperationNode())})}$call(e){return e(this)}call(e){return this.$call(e)}toOperationNode(){return r(this,Ue).executor.transformQuery(r(this,Ue).node,r(this,Ue).queryId)}compile(){return r(this,Ue).executor.compileQuery(this.toOperationNode(),r(this,Ue).queryId)}async execute(){await r(this,Ue).executor.executeQuery(this.compile(),r(this,Ue).queryId)}};let Oc=Qn;Ue=new WeakMap;$e(Oc,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var Ut;const Oa=class{constructor(e){k(this,Ut,void 0);D(this,Ut,p(e))}on(e){return new Oa({...r(this,Ut),node:ec.cloneWith(r(this,Ut).node,{table:_n(e)})})}ifExists(){return new Oa({...r(this,Ut),node:ec.cloneWith(r(this,Ut).node,{ifExists:!0})})}cascade(){return new Oa({...r(this,Ut),node:ec.cloneWith(r(this,Ut).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,Ut).executor.transformQuery(r(this,Ut).node,r(this,Ut).queryId)}compile(){return r(this,Ut).executor.compileQuery(this.toOperationNode(),r(this,Ut).queryId)}async execute(){await r(this,Ut).executor.executeQuery(this.compile(),r(this,Ut).queryId)}};let qc=Oa;Ut=new WeakMap;$e(qc,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var ln;const $c=class{constructor(e){k(this,ln,void 0);D(this,ln,p(e))}ifExists(){return new $c({...r(this,ln),node:sf.cloneWith(r(this,ln).node,{ifExists:!0})})}cascade(){return new $c({...r(this,ln),node:sf.cloneWith(r(this,ln).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,ln).executor.transformQuery(r(this,ln).node,r(this,ln).queryId)}compile(){return r(this,ln).executor.compileQuery(this.toOperationNode(),r(this,ln).queryId)}async execute(){await r(this,ln).executor.executeQuery(this.compile(),r(this,ln).queryId)}};let Wc=$c;ln=new WeakMap;$e(Wc,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var fn;const Qc=class{constructor(e){k(this,fn,void 0);D(this,fn,p(e))}ifExists(){return new Qc({...r(this,fn),node:of.cloneWith(r(this,fn).node,{ifExists:!0})})}cascade(){return new Qc({...r(this,fn),node:of.cloneWith(r(this,fn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,fn).executor.transformQuery(r(this,fn).node,r(this,fn).queryId)}compile(){return r(this,fn).executor.compileQuery(this.toOperationNode(),r(this,fn).queryId)}async execute(){await r(this,fn).executor.executeQuery(this.compile(),r(this,fn).queryId)}};let Ic=Qc;fn=new WeakMap;$e(Ic,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const ai=p({is(t){return t.kind==="CreateViewNode"},create(t){return p({kind:"CreateViewNode",name:Ei.create(t)})},cloneWith(t,e){return p({...t,...e})}});var jc;class _b{constructor(){k(this,jc,new tm)}transformQuery(e){return r(this,jc).transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}jc=new WeakMap;var dt;const ui=class{constructor(e){k(this,dt,void 0);D(this,dt,p(e))}temporary(){return new ui({...r(this,dt),node:ai.cloneWith(r(this,dt).node,{temporary:!0})})}materialized(){return new ui({...r(this,dt),node:ai.cloneWith(r(this,dt).node,{materialized:!0})})}ifNotExists(){return new ui({...r(this,dt),node:ai.cloneWith(r(this,dt).node,{ifNotExists:!0})})}orReplace(){return new ui({...r(this,dt),node:ai.cloneWith(r(this,dt).node,{orReplace:!0})})}columns(e){return new ui({...r(this,dt),node:ai.cloneWith(r(this,dt).node,{columns:e.map(Cp)})})}as(e){const n=e.withPlugin(new _b).toOperationNode();return new ui({...r(this,dt),node:ai.cloneWith(r(this,dt).node,{as:n})})}$call(e){return e(this)}toOperationNode(){return r(this,dt).executor.transformQuery(r(this,dt).node,r(this,dt).queryId)}compile(){return r(this,dt).executor.compileQuery(this.toOperationNode(),r(this,dt).queryId)}async execute(){await r(this,dt).executor.executeQuery(this.compile(),r(this,dt).queryId)}};let Ac=ui;dt=new WeakMap;$e(Ac,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const rc=p({is(t){return t.kind==="DropViewNode"},create(t){return p({kind:"DropViewNode",name:Ei.create(t)})},cloneWith(t,e){return p({...t,...e})}});var $t;const qa=class{constructor(e){k(this,$t,void 0);D(this,$t,p(e))}materialized(){return new qa({...r(this,$t),node:rc.cloneWith(r(this,$t).node,{materialized:!0})})}ifExists(){return new qa({...r(this,$t),node:rc.cloneWith(r(this,$t).node,{ifExists:!0})})}cascade(){return new qa({...r(this,$t),node:rc.cloneWith(r(this,$t).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,$t).executor.transformQuery(r(this,$t).node,r(this,$t).queryId)}compile(){return r(this,$t).executor.compileQuery(this.toOperationNode(),r(this,$t).queryId)}async execute(){await r(this,$t).executor.executeQuery(this.compile(),r(this,$t).queryId)}};let Tc=qa;$t=new WeakMap;$e(Tc,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const nm=p({is(t){return t.kind==="CreateTypeNode"},create(t){return p({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return p({...t,enum:jf.create(e.map(n=>Ar.createImmediate(n)))})}});var In;const th=class{constructor(e){k(this,In,void 0);D(this,In,p(e))}toOperationNode(){return r(this,In).executor.transformQuery(r(this,In).node,r(this,In).queryId)}asEnum(e){return new th({...r(this,In),node:nm.cloneWithEnum(r(this,In).node,e)})}$call(e){return e(this)}compile(){return r(this,In).executor.compileQuery(this.toOperationNode(),r(this,In).queryId)}async execute(){await r(this,In).executor.executeQuery(this.compile(),r(this,In).queryId)}};let kc=th;In=new WeakMap;$e(kc,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const rm=p({is(t){return t.kind==="DropTypeNode"},create(t){return p({kind:"DropTypeNode",name:t})},cloneWith(t,e){return p({...t,...e})}});var An;const nh=class{constructor(e){k(this,An,void 0);D(this,An,p(e))}ifExists(){return new nh({...r(this,An),node:rm.cloneWith(r(this,An).node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return r(this,An).executor.transformQuery(r(this,An).node,r(this,An).queryId)}compile(){return r(this,An).executor.compileQuery(this.toOperationNode(),r(this,An).queryId)}async execute(){await r(this,An).executor.executeQuery(this.compile(),r(this,An).queryId)}};let Sc=nh;An=new WeakMap;$e(Sc,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function Vh(t){const e=".";if(t.includes(e)){const n=t.split(e).map(xb);if(n.length===2)return Ei.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Ei.create(t)}function xb(t){return t.trim()}var St;const Wa=class{constructor(e){k(this,St,void 0);D(this,St,e)}createTable(e){return new Oc({queryId:et(),executor:r(this,St),node:Zn.create(_n(e))})}dropTable(e){return new Ic({queryId:et(),executor:r(this,St),node:of.create(_n(e))})}createIndex(e){return new Ec({queryId:et(),executor:r(this,St),node:ii.create(e)})}dropIndex(e){return new qc({queryId:et(),executor:r(this,St),node:ec.create(e)})}createSchema(e){return new Cc({queryId:et(),executor:r(this,St),node:bp.create(e)})}dropSchema(e){return new Wc({queryId:et(),executor:r(this,St),node:sf.create(e)})}alterTable(e){return new em({queryId:et(),executor:r(this,St),node:Et.create(_n(e))})}createView(e){return new Ac({queryId:et(),executor:r(this,St),node:ai.create(e)})}dropView(e){return new Tc({queryId:et(),executor:r(this,St),node:rc.create(e)})}createType(e){return new kc({queryId:et(),executor:r(this,St),node:nm.create(Vh(e))})}dropType(e){return new Sc({queryId:et(),executor:r(this,St),node:rm.create(Vh(e))})}withPlugin(e){return new Wa(r(this,St).withPlugin(e))}withoutPlugins(){return new Wa(r(this,St).withoutPlugins())}withSchema(e){return new Wa(r(this,St).withPluginAtFront(new vu(e)))}};let hf=Wa;St=new WeakMap;class Eb{ref(e){return new Ag(e)}}var bo;class Cb{constructor(e){k(this,bo,void 0);D(this,bo,e)}async provideConnection(e){const n=await r(this,bo).acquireConnection();try{return await e(n)}finally{await r(this,bo).releaseConnection(n)}}}bo=new WeakMap;var _r,xr,Lr;const ns=class extends Pp{constructor(n,i,a,l=[]){super(l);k(this,_r,void 0);k(this,xr,void 0);k(this,Lr,void 0);D(this,_r,n),D(this,xr,i),D(this,Lr,a)}get adapter(){return r(this,xr)}compileQuery(n){return r(this,_r).compileQuery(n)}provideConnection(n){return r(this,Lr).provideConnection(n)}withPlugins(n){return new ns(r(this,_r),r(this,xr),r(this,Lr),[...this.plugins,...n])}withPlugin(n){return new ns(r(this,_r),r(this,xr),r(this,Lr),[...this.plugins,n])}withPluginAtFront(n){return new ns(r(this,_r),r(this,xr),r(this,Lr),[n,...this.plugins])}withConnectionProvider(n){return new ns(r(this,_r),r(this,xr),n,[...this.plugins])}withoutPlugins(){return new ns(r(this,_r),r(this,xr),r(this,Lr),[])}};let df=ns;_r=new WeakMap,xr=new WeakMap,Lr=new WeakMap;function zh(){return typeof performance<"u"&&Vn(performance.now)?performance.now():Date.now()}var sr,fi,Pr,us,Za,Hc,im,Vc,sm,zc,om,Kc,am,eu,pf;class Ob{constructor(e,n){k(this,Hc);k(this,Vc);k(this,zc);k(this,Kc);k(this,eu);k(this,sr,void 0);k(this,fi,void 0);k(this,Pr,void 0);k(this,us,void 0);k(this,Za,new WeakSet);D(this,sr,e),D(this,fi,n)}async init(){r(this,Pr)||D(this,Pr,r(this,sr).init().catch(e=>(D(this,Pr,void 0),Promise.reject(e)))),await r(this,Pr)}async acquireConnection(){await this.init();const e=await r(this,sr).acquireConnection();return r(this,Za).has(e)||(qe(this,Hc,im).call(this)&&qe(this,Vc,sm).call(this,e),r(this,Za).add(e)),e}async releaseConnection(e){await r(this,sr).releaseConnection(e)}beginTransaction(e,n){return r(this,sr).beginTransaction(e,n)}commitTransaction(e){return r(this,sr).commitTransaction(e)}rollbackTransaction(e){return r(this,sr).rollbackTransaction(e)}async destroy(){r(this,Pr)&&(await r(this,Pr),r(this,us)||D(this,us,r(this,sr).destroy().catch(e=>(D(this,us,void 0),Promise.reject(e)))),await r(this,us))}}sr=new WeakMap,fi=new WeakMap,Pr=new WeakMap,us=new WeakMap,Za=new WeakMap,Hc=new WeakSet,im=function(){return r(this,fi).isLevelEnabled("query")||r(this,fi).isLevelEnabled("error")},Vc=new WeakSet,sm=function(e){const n=e.executeQuery;e.executeQuery=async i=>{const a=zh();try{return await n.call(e,i)}catch(l){throw await qe(this,zc,om).call(this,l,i,a),l}finally{await qe(this,Kc,am).call(this,i,a)}}},zc=new WeakSet,om=async function(e,n,i){await r(this,fi).error(()=>({level:"error",error:e,query:n,queryDurationMillis:qe(this,eu,pf).call(this,i)}))},Kc=new WeakSet,am=async function(e,n){await r(this,fi).query(()=>({level:"query",query:e,queryDurationMillis:qe(this,eu,pf).call(this,n)}))},eu=new WeakSet,pf=function(e){return zh()-e};var tu,hi,Jc,cm;class um{constructor(e){k(this,Jc);k(this,tu,void 0);k(this,hi,void 0);D(this,tu,e)}async provideConnection(e){for(;r(this,hi);)await r(this,hi);const n=qe(this,Jc,cm).call(this,e);return D(this,hi,n.then(()=>{D(this,hi,void 0)}).catch(()=>{D(this,hi,void 0)})),n}}tu=new WeakMap,hi=new WeakMap,Jc=new WeakSet,cm=async function(e){return await e(r(this,tu))};const qb=["read uncommitted","read committed","repeatable read","serializable"];p(["query","error"]);var di,cs;class Wb{constructor(e){k(this,di,void 0);k(this,cs,void 0);Vn(e)?(D(this,cs,e),D(this,di,p({query:!0,error:!0}))):(D(this,cs,Ib),D(this,di,p({query:e.includes("query"),error:e.includes("error")})))}isLevelEnabled(e){return r(this,di)[e]}async query(e){r(this,di).query&&await r(this,cs).call(this,e())}async error(e){r(this,di).error&&await r(this,cs).call(this,e())}}di=new WeakMap,cs=new WeakMap;function Ib(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${t}`))}function Ab(t){return Ir(t)&&Vn(t.compile)}var Qt;const Xs=class extends bc{constructor(n){let i,a;if(Tb(n))i={executor:n.executor},a={...n};else{const l=n.dialect,m=l.createDriver(),w=l.createQueryCompiler(),v=l.createAdapter(),d=new Wb(n.log??[]),I=new Ob(m,d),F=new Cb(I),U=new df(w,v,F,n.plugins??[]);i={executor:U},a={config:n,executor:U,dialect:l,driver:I}}super(i);k(this,Qt,void 0);D(this,Qt,p(a))}get schema(){return new hf(r(this,Qt).executor)}get dynamic(){return new Eb}get introspection(){return r(this,Qt).dialect.createIntrospector(this.withoutPlugins())}case(n){return new Qp({node:hr.create(_a(n)?void 0:xl(n))})}get fn(){return $p()}transaction(){return new Rc({...r(this,Qt)})}connection(){return new lm({...r(this,Qt)})}withPlugin(n){return new Xs({...r(this,Qt),executor:r(this,Qt).executor.withPlugin(n)})}withoutPlugins(){return new Xs({...r(this,Qt),executor:r(this,Qt).executor.withoutPlugins()})}withSchema(n){return new Xs({...r(this,Qt),executor:r(this,Qt).executor.withPluginAtFront(new vu(n))})}withTables(){return new Xs({...r(this,Qt)})}async destroy(){await r(this,Qt).driver.destroy()}get isTransaction(){return!1}getExecutor(){return r(this,Qt).executor}executeQuery(n,i=et()){const a=Ab(n)?n.compile():n;return this.getExecutor().executeQuery(a,i)}};let Qa=Xs;Qt=new WeakMap;var or;const Ys=class extends Qa{constructor(n){super(n);k(this,or,void 0);D(this,or,n)}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(n){return new Ys({...r(this,or),executor:r(this,or).executor.withPlugin(n)})}withoutPlugins(){return new Ys({...r(this,or),executor:r(this,or).executor.withoutPlugins()})}withSchema(n){return new Ys({...r(this,or),executor:r(this,or).executor.withPluginAtFront(new vu(n))})}withTables(){return new Ys({...r(this,or)})}};let mf=Ys;or=new WeakMap;function Tb(t){return Ir(t)&&Ir(t.config)&&Ir(t.driver)&&Ir(t.executor)&&Ir(t.dialect)}var ls;class lm{constructor(e){k(this,ls,void 0);D(this,ls,p(e))}async execute(e){return r(this,ls).executor.provideConnection(async n=>{const i=r(this,ls).executor.withConnectionProvider(new um(n)),a=new Qa({...r(this,ls),executor:i});return await e(a)})}}ls=new WeakMap;$e(lm,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var ar;const rh=class{constructor(e){k(this,ar,void 0);D(this,ar,p(e))}setIsolationLevel(e){return new rh({...r(this,ar),isolationLevel:e})}async execute(e){const{isolationLevel:n,...i}=r(this,ar),a={isolationLevel:n};return kb(a),r(this,ar).executor.provideConnection(async l=>{const m=r(this,ar).executor.withConnectionProvider(new um(l)),w=new mf({...i,executor:m});try{await r(this,ar).driver.beginTransaction(l,a);const v=await e(w);return await r(this,ar).driver.commitTransaction(l),v}catch(v){throw await r(this,ar).driver.rollbackTransaction(l),v}})}};let Rc=rh;ar=new WeakMap;$e(Rc,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function kb(t){if(t.isolationLevel&&!qb.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}var Nn,No,ic,nu,yf,ru,wf;const Gc=class{constructor(e){k(this,No);k(this,nu);k(this,ru);k(this,Nn,void 0);D(this,Nn,p(e))}get expressionType(){}as(e){return new Sb(this,e)}$castTo(){return new Gc({...r(this,Nn)})}castTo(){return this.$castTo()}withPlugin(e){return new Gc({...r(this,Nn),plugins:r(this,Nn).plugins!==void 0?p([...r(this,Nn).plugins,e]):p([e])})}toOperationNode(){return qe(this,nu,yf).call(this,qe(this,No,ic).call(this))}compile(e){return qe(this,ru,wf).call(this,qe(this,No,ic).call(this,e))}async execute(e){const n=qe(this,No,ic).call(this,e);return n.executeQuery(qe(this,ru,wf).call(this,n),r(this,Nn).queryId)}};let rr=Gc;Nn=new WeakMap,No=new WeakSet,ic=function(e){const n=e!==void 0?e.getExecutor():vl;return r(this,Nn).plugins!==void 0?n.withPlugins(r(this,Nn).plugins):n},nu=new WeakSet,yf=function(e){return e.transformQuery(r(this,Nn).rawNode,r(this,Nn).queryId)},ru=new WeakSet,wf=function(e){return e.compileQuery(qe(this,nu,yf).call(this,e),r(this,Nn).queryId)};$e(rr,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var vo,pi;class Sb{constructor(e,n){k(this,vo,void 0);k(this,pi,void 0);D(this,vo,e),D(this,pi,n)}get expression(){return r(this,vo)}get alias(){return r(this,pi)}toOperationNode(){return Es.create(r(this,vo).toOperationNode(),hn(r(this,pi))?r(this,pi).toOperationNode():mt.create(r(this,pi)))}}vo=new WeakMap,pi=new WeakMap;const Sn=Object.assign((t,...e)=>new rr({queryId:et(),rawNode:en.create(t,(e==null?void 0:e.map($r))??[])}),{ref(t){return new rr({queryId:et(),rawNode:en.createWithChild(Mo(t))})},val(t){return new rr({queryId:et(),rawNode:en.createWithChild($r(t))})},value(t){return this.val(t)},table(t){return new rr({queryId:et(),rawNode:en.createWithChild(_n(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",new rr({queryId:et(),rawNode:en.create(e,t.map(mt.create))})},lit(t){return new rr({queryId:et(),rawNode:en.createWithChild(Ar.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return new rr({queryId:et(),rawNode:en.createWithSql(t)})},join(t,e=Sn`, `){const n=new Array(2*t.length-1),i=e.toOperationNode();for(let a=0;a<t.length;++a)n[2*a]=$r(t[a]),a!==t.length-1&&(n[2*a+1]=i);return new rr({queryId:et(),rawNode:en.createWithChildren(n)})}});var Xc;class Rb{constructor(){Yt(this,"nodeStack",[]);k(this,Xc,p({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this)}));Yt(this,"visitNode",e=>{this.nodeStack.push(e),r(this,Xc)[e.kind](e),this.nodeStack.pop()})}get parentNode(){return this.nodeStack[this.nodeStack.length-2]}}Xc=new WeakMap;var _o,fs;class Db extends Rb{constructor(){super(...arguments);k(this,_o,"");k(this,fs,[])}get numParameters(){return r(this,fs).length}compileQuery(n){return D(this,_o,""),D(this,fs,[]),this.visitNode(n),p({query:n,sql:this.getSql(),parameters:[...r(this,fs)]})}getSql(){return r(this,_o)}visitSelectQuery(n){const i=this.parentNode!==void 0&&!qr.is(this.parentNode)&&!ai.is(this.parentNode)&&!Up.is(this.parentNode);this.parentNode===void 0&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("select "),n.distinctOn&&(this.compileDistinctOn(n.distinctOn),this.append(" ")),n.frontModifiers&&n.frontModifiers.length>0&&(this.compileList(n.frontModifiers," "),this.append(" ")),n.selections&&(this.compileList(n.selections),this.append(" ")),this.visitNode(n.from),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.groupBy&&(this.append(" "),this.visitNode(n.groupBy)),n.having&&(this.append(" "),this.visitNode(n.having)),n.setOperations&&(this.append(" "),this.compileList(n.setOperations," ")),n.orderBy&&(this.append(" "),this.visitNode(n.orderBy)),n.limit&&(this.append(" "),this.visitNode(n.limit)),n.offset&&(this.append(" "),this.visitNode(n.offset)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," ")),i&&this.append(")")}visitFrom(n){this.append("from "),this.compileList(n.froms)}visitSelection(n){this.visitNode(n.selection)}visitColumn(n){this.visitNode(n.column)}compileDistinctOn(n){this.append("distinct on ("),this.compileList(n),this.append(")")}compileList(n,i=", "){const a=n.length-1;for(let l=0;l<=a;l++)this.visitNode(n[l]),l<a&&this.append(i)}visitWhere(n){this.append("where "),this.visitNode(n.where)}visitHaving(n){this.append("having "),this.visitNode(n.having)}visitInsertQuery(n){const i=this.nodeStack.find(ye.is)!==n;!i&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append(n.replace?"replace":"insert"),n.ignore&&this.append(" ignore"),this.append(" into "),this.visitNode(n.into),n.columns&&(this.append(" ("),this.compileList(n.columns),this.append(")")),n.values&&(this.append(" "),this.visitNode(n.values)),n.onConflict&&(this.append(" "),this.visitNode(n.onConflict)),n.onDuplicateKey&&(this.append(" "),this.visitNode(n.onDuplicateKey)),n.returning&&(this.append(" "),this.visitNode(n.returning)),i&&this.append(")")}visitValues(n){this.append("values "),this.compileList(n.values)}visitDeleteQuery(n){const i=this.nodeStack.find(ye.is)!==n;!i&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("delete "),this.visitNode(n.from),n.using&&(this.append(" "),this.visitNode(n.using)),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.orderBy&&(this.append(" "),this.visitNode(n.orderBy)),n.limit&&(this.append(" "),this.visitNode(n.limit)),n.returning&&(this.append(" "),this.visitNode(n.returning)),i&&this.append(")")}visitReturning(n){this.append("returning "),this.compileList(n.selections)}visitAlias(n){this.visitNode(n.node),this.append(" as "),this.visitNode(n.alias)}visitReference(n){this.visitNode(n.table),this.append("."),this.visitNode(n.column)}visitSelectAll(n){this.append("*")}visitIdentifier(n){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(n),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(n){if(!pr(n.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(n.name))}visitAnd(n){this.visitNode(n.left),this.append(" and "),this.visitNode(n.right)}visitOr(n){this.visitNode(n.left),this.append(" or "),this.visitNode(n.right)}visitValue(n){n.immediate?this.appendImmediateValue(n.value):this.appendValue(n.value)}visitValueList(n){this.append("("),this.compileList(n.values),this.append(")")}visitPrimitiveValueList(n){this.append("(");const{values:i}=n;for(let a=0;a<i.length;++a)this.appendValue(i[a]),a!==i.length-1&&this.append(", ");this.append(")")}visitParens(n){this.append("("),this.visitNode(n.node),this.append(")")}visitJoin(n){this.append(Pb[n.joinType]),this.append(" "),this.visitNode(n.table),n.on&&(this.append(" "),this.visitNode(n.on))}visitOn(n){this.append("on "),this.visitNode(n.on)}visitRaw(n){const{sqlFragments:i,parameters:a}=n;for(let l=0;l<i.length;++l)this.append(i[l]),a.length>l&&this.visitNode(a[l])}visitOperator(n){this.append(n.operator)}visitTable(n){this.visitNode(n.table)}visitSchemableIdentifier(n){n.schema&&(this.visitNode(n.schema),this.append(".")),this.visitNode(n.identifier)}visitCreateTable(n){this.append("create "),n.frontModifiers&&n.frontModifiers.length>0&&(this.compileList(n.frontModifiers," "),this.append(" ")),n.temporary&&this.append("temporary "),this.append("table "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.table),this.append(" ("),this.compileList([...n.columns,...n.constraints??[]]),this.append(")"),n.onCommit&&(this.append(" on commit "),this.append(n.onCommit)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," "))}visitColumnDefinition(n){this.visitNode(n.column),this.append(" "),this.visitNode(n.dataType),n.unsigned&&this.append(" unsigned"),n.frontModifiers&&n.frontModifiers.length>0&&(this.append(" "),this.compileList(n.frontModifiers," ")),n.generated&&(this.append(" "),this.visitNode(n.generated)),n.defaultTo&&(this.append(" "),this.visitNode(n.defaultTo)),n.notNull&&this.append(" not null"),n.unique&&this.append(" unique"),n.primaryKey&&this.append(" primary key"),n.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),n.references&&(this.append(" "),this.visitNode(n.references)),n.check&&(this.append(" "),this.visitNode(n.check)),n.endModifiers&&n.endModifiers.length>0&&(this.append(" "),this.compileList(n.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(n){this.append("references "),this.visitNode(n.table),this.append(" ("),this.compileList(n.columns),this.append(")"),n.onDelete&&(this.append(" on delete "),this.append(n.onDelete)),n.onUpdate&&(this.append(" on update "),this.append(n.onUpdate))}visitDropTable(n){this.append("drop table "),n.ifExists&&this.append("if exists "),this.visitNode(n.table),n.cascade&&this.append(" cascade")}visitDataType(n){this.append(n.dataType)}visitOrderBy(n){this.append("order by "),this.compileList(n.items)}visitOrderByItem(n){this.visitNode(n.orderBy),n.direction&&(this.append(" "),this.visitNode(n.direction))}visitGroupBy(n){this.append("group by "),this.compileList(n.items)}visitGroupByItem(n){this.visitNode(n.groupBy)}visitUpdateQuery(n){const i=this.nodeStack.find(ye.is)!==n;!i&&n.explain&&(this.visitNode(n.explain),this.append(" ")),i&&this.append("("),n.with&&(this.visitNode(n.with),this.append(" ")),this.append("update "),this.visitNode(n.table),this.append(" set "),n.updates&&this.compileList(n.updates),n.from&&(this.append(" "),this.visitNode(n.from)),n.joins&&(this.append(" "),this.compileList(n.joins," ")),n.where&&(this.append(" "),this.visitNode(n.where)),n.returning&&(this.append(" "),this.visitNode(n.returning)),i&&this.append(")")}visitColumnUpdate(n){this.visitNode(n.column),this.append(" = "),this.visitNode(n.value)}visitLimit(n){this.append("limit "),this.visitNode(n.limit)}visitOffset(n){this.append("offset "),this.visitNode(n.offset)}visitOnConflict(n){this.append("on conflict"),n.columns?(this.append(" ("),this.compileList(n.columns),this.append(")")):n.constraint?(this.append(" on constraint "),this.visitNode(n.constraint)):n.indexExpression&&(this.append(" ("),this.visitNode(n.indexExpression),this.append(")")),n.indexWhere&&(this.append(" "),this.visitNode(n.indexWhere)),n.doNothing===!0?this.append(" do nothing"):n.updates&&(this.append(" do update set "),this.compileList(n.updates),n.updateWhere&&(this.append(" "),this.visitNode(n.updateWhere)))}visitOnDuplicateKey(n){this.append("on duplicate key update "),this.compileList(n.updates)}visitCreateIndex(n){this.append("create "),n.unique&&this.append("unique "),this.append("index "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.name),n.table&&(this.append(" on "),this.visitNode(n.table)),n.using&&(this.append(" using "),this.visitNode(n.using)),n.columns&&(this.append(" ("),this.compileList(n.columns),this.append(")")),n.where&&(this.append(" "),this.visitNode(n.where))}visitDropIndex(n){this.append("drop index "),n.ifExists&&this.append("if exists "),this.visitNode(n.name),n.table&&(this.append(" on "),this.visitNode(n.table)),n.cascade&&this.append(" cascade")}visitCreateSchema(n){this.append("create schema "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.schema)}visitDropSchema(n){this.append("drop schema "),n.ifExists&&this.append("if exists "),this.visitNode(n.schema),n.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("primary key ("),this.compileList(n.columns),this.append(")")}visitUniqueConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("unique ("),this.compileList(n.columns),this.append(")")}visitCheckConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("check ("),this.visitNode(n.expression),this.append(")")}visitForeignKeyConstraint(n){n.name&&(this.append("constraint "),this.visitNode(n.name),this.append(" ")),this.append("foreign key ("),this.compileList(n.columns),this.append(") "),this.visitNode(n.references),n.onDelete&&(this.append(" on delete "),this.append(n.onDelete)),n.onUpdate&&(this.append(" on update "),this.append(n.onUpdate))}visitList(n){this.compileList(n.items)}visitWith(n){this.append("with "),n.recursive&&this.append("recursive "),this.compileList(n.expressions)}visitCommonTableExpression(n){this.visitNode(n.name),this.append(" as "),this.visitNode(n.expression)}visitCommonTableExpressionName(n){this.visitNode(n.table),n.columns&&(this.append("("),this.compileList(n.columns),this.append(")"))}visitAlterTable(n){this.append("alter table "),this.visitNode(n.table),this.append(" "),n.renameTo&&(this.append("rename to "),this.visitNode(n.renameTo)),n.setSchema&&(this.append("set schema "),this.visitNode(n.setSchema)),n.addConstraint&&this.visitNode(n.addConstraint),n.dropConstraint&&this.visitNode(n.dropConstraint),n.columnAlterations&&this.compileList(n.columnAlterations)}visitAddColumn(n){this.append("add column "),this.visitNode(n.column)}visitRenameColumn(n){this.append("rename column "),this.visitNode(n.column),this.append(" to "),this.visitNode(n.renameTo)}visitDropColumn(n){this.append("drop column "),this.visitNode(n.column)}visitAlterColumn(n){this.append("alter column "),this.visitNode(n.column),this.append(" "),n.dataType&&(this.append("type "),this.visitNode(n.dataType),n.dataTypeExpression&&(this.append("using "),this.visitNode(n.dataTypeExpression))),n.setDefault&&(this.append("set default "),this.visitNode(n.setDefault)),n.dropDefault&&this.append("drop default"),n.setNotNull&&this.append("set not null"),n.dropNotNull&&this.append("drop not null")}visitModifyColumn(n){this.append("modify column "),this.visitNode(n.column)}visitAddConstraint(n){this.append("add "),this.visitNode(n.constraint)}visitDropConstraint(n){this.append("drop constraint "),n.ifExists&&this.append("if exists "),this.visitNode(n.constraintName),n.modifier==="cascade"?this.append(" cascade"):n.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(n){this.append(n.operator),this.append(" "),n.all&&this.append("all "),this.visitNode(n.expression)}visitCreateView(n){this.append("create "),n.orReplace&&this.append("or replace "),n.materialized&&this.append("materialized "),n.temporary&&this.append("temporary "),this.append("view "),n.ifNotExists&&this.append("if not exists "),this.visitNode(n.name),this.append(" "),n.columns&&(this.append("("),this.compileList(n.columns),this.append(") ")),n.as&&(this.append("as "),this.visitNode(n.as))}visitDropView(n){this.append("drop "),n.materialized&&this.append("materialized "),this.append("view "),n.ifExists&&this.append("if exists "),this.visitNode(n.name),n.cascade&&this.append(" cascade")}visitGenerated(n){this.append("generated "),n.always&&this.append("always "),n.byDefault&&this.append("by default "),this.append("as "),n.identity&&this.append("identity"),n.expression&&(this.append("("),this.visitNode(n.expression),this.append(")")),n.stored&&this.append(" stored")}visitDefaultValue(n){this.append("default "),this.visitNode(n.defaultValue)}visitSelectModifier(n){n.rawModifier?this.visitNode(n.rawModifier):this.append(Lb[n.modifier])}visitCreateType(n){this.append("create type "),this.visitNode(n.name),n.enum&&(this.append(" as enum "),this.visitNode(n.enum))}visitDropType(n){this.append("drop type "),n.ifExists&&this.append("if exists "),this.visitNode(n.name)}visitExplain(n){this.append("explain"),(n.options||n.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),n.options&&(this.visitNode(n.options),n.format&&this.append(this.getExplainOptionsDelimiter())),n.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(n.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(n){this.append("default")}visitAggregateFunction(n){this.append(n.func),this.append("("),n.distinct&&this.append("distinct "),this.compileList(n.aggregated),this.append(")"),n.filter&&(this.append(" filter("),this.visitNode(n.filter),this.append(")")),n.over&&(this.append(" "),this.visitNode(n.over))}visitOver(n){this.append("over("),n.partitionBy&&(this.visitNode(n.partitionBy),n.orderBy&&this.append(" ")),n.orderBy&&this.visitNode(n.orderBy),this.append(")")}visitPartitionBy(n){this.append("partition by "),this.compileList(n.items)}visitPartitionByItem(n){this.visitNode(n.partitionBy)}visitBinaryOperation(n){this.visitNode(n.leftOperand),this.append(" "),this.visitNode(n.operator),this.append(" "),this.visitNode(n.rightOperand)}visitUnaryOperation(n){this.visitNode(n.operator),this.isMinusOperator(n.operator)||this.append(" "),this.visitNode(n.operand)}isMinusOperator(n){return Uf.is(n)&&n.operator==="-"}visitUsing(n){this.append("using "),this.compileList(n.tables)}visitFunction(n){this.append(n.func),this.append("("),this.compileList(n.arguments),this.append(")")}visitCase(n){this.append("case"),n.value&&(this.append(" "),this.visitNode(n.value)),n.when&&(this.append(" "),this.compileList(n.when," ")),n.else&&(this.append(" else "),this.visitNode(n.else)),this.append(" end"),n.isStatement&&this.append(" case")}visitWhen(n){this.append("when "),this.visitNode(n.condition),n.result&&(this.append(" then "),this.visitNode(n.result))}append(n){D(this,_o,r(this,_o)+n)}appendValue(n){this.addParameter(n),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(n){const i=this.getLeftIdentifierWrapper(),a=this.getRightIdentifierWrapper();let l="";for(const m of n)l+=m,m===i?l+=i:m===a&&(l+=a);return l}addParameter(n){r(this,fs).push(n)}appendImmediateValue(n){if(pr(n))this.append(`'${n}'`);else if(lg(n)||wp(n))this.append(n.toString());else if(gp(n))this.append("null");else if(fg(n))this.appendImmediateValue(n.toISOString());else if(hg(n))this.appendImmediateValue(n.toString());else throw new Error(`invalid immediate value ${n}`)}}_o=new WeakMap,fs=new WeakMap;const Lb=p({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),Pb=p({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral"}),jr=p({raw(t){return p({sql:t,query:en.createWithSql(t),parameters:p([])})}}),Mb=/"/g;class fm extends Db{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(Mb,'""')}visitDefaultInsertValue(e){this.append("null")}}const Bb="kysely_migration",Fb="kysely_migration_lock";p({__noMigrations__:!0});var xo,Yc,dm;class hm{constructor(e){k(this,Yc);k(this,xo,void 0);D(this,xo,e)}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=r(this,xo).selectFrom("sqlite_schema").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",Bb).where("name","!=",Fb));const i=await n.execute();return Promise.all(i.map(({name:a})=>qe(this,Yc,dm).call(this,a)))}async getMetadata(e){return{tables:await this.getTables(e)}}}xo=new WeakMap,Yc=new WeakSet,dm=async function(e){var m,w,v,d,I,F;const n=r(this,xo),i=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),a=(F=(I=(d=(v=(w=(m=i.sql)==null?void 0:m.split(/[\(\),]/))==null?void 0:w.find(U=>U.toLowerCase().includes("autoincrement")))==null?void 0:v.trimStart())==null?void 0:d.split(/\s+/))==null?void 0:I[0])==null?void 0:F.replace(/["`]/g,""),l=await n.selectFrom(Sn`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:i.type==="view",columns:l.map(U=>({name:U.name,dataType:U.type,isNullable:!U.notnull,isAutoIncrementing:U.name===a,hasDefaultValue:U.dflt_value!=null}))}};class pm{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(){}async releaseMigrationLock(){}}var mm=class{createQueryCompiler(){return new fm}createAdapter(){return new pm}createIntrospector(t){return new hm(t)}},iu,Zc,od,ym=(od=class{constructor(){k(this,iu,new Ub);Yt(this,"connection");k(this,Zc,void 0)}async acquireConnection(){return await r(this,iu).lock(),this.connection}async beginTransaction(t){await t.executeQuery(jr.raw("begin"))}async commitTransaction(t){await t.executeQuery(jr.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(jr.raw("rollback"))}async releaseConnection(){r(this,iu).unlock()}async destroy(){var t;(t=r(this,Zc))==null||t.close()}},iu=new WeakMap,Zc=new WeakMap,od),hs,Eo,ad,Ub=(ad=class{constructor(){k(this,hs,void 0);k(this,Eo,void 0)}async lock(){for(;r(this,hs);)await r(this,hs);D(this,hs,new Promise(e=>{D(this,Eo,e)}))}unlock(){const e=r(this,Eo);D(this,hs,void 0),D(this,Eo,void 0),e==null||e()}},hs=new WeakMap,Eo=new WeakMap,ad),wm=class{streamQuery(){throw new Error("Sqlite driver doesn't support streaming")}async executeQuery(t){const{parameters:e,sql:n,query:i}=t;return["SelectQueryNode","RawNode"].includes(i.kind)?{rows:await this.query(n,e)}:{rows:[],...await this.exec(n,e)}}};function $b({func:t,delay:e,maxCalls:n}){let i,a=0,l=null;function m(){i&&clearTimeout(i),a=0,l=null}function w(){a>=n?(t(l),m()):(i&&clearTimeout(i),i=setTimeout(()=>{t(l),m(),i=void 0},e))}return v=>{a++,l=v,i===void 0&&a===0?(t(v),a++):w()}}var Tn,Co,ud,Qb=(ud=class extends ym{constructor(e){super();k(this,Tn,void 0);k(this,Co,void 0);D(this,Tn,e)}async init(){var e,n,i,a;if(D(this,Co,typeof r(this,Tn).database=="function"?await r(this,Tn).database():r(this,Tn).database),!r(this,Co))throw new Error("no database");this.connection=new jb(r(this,Co),(e=r(this,Tn).onWrite)==null?void 0:e.func,(n=r(this,Tn).onWrite)==null?void 0:n.isThrottle,(i=r(this,Tn).onWrite)==null?void 0:i.maxCalls,(a=r(this,Tn).onWrite)==null?void 0:a.delay),r(this,Tn).onCreateConnection&&await r(this,Tn).onCreateConnection(this.connection)}async beginTransaction(e){await e.executeQuery(jr.raw("begin")),this.connection&&this.connection.transactionNum++}async commitTransaction(e){await e.executeQuery(jr.raw("commit")),this.connection&&this.connection.transactionNum--}async rollbackTransaction(e){await e.executeQuery(jr.raw("rollback")),this.connection&&this.connection.transactionNum--}},Tn=new WeakMap,Co=new WeakMap,ud),mi,Oo,cd,jb=(cd=class extends wm{constructor(e,n,i=!1,a=1e3,l=2e3){super();k(this,mi,void 0);k(this,Oo,void 0);Yt(this,"transactionNum",0);D(this,mi,e),D(this,Oo,n?i?$b({func:n,maxCalls:a,delay:l}):n:void 0)}query(e,n){const i=r(this,mi).prepare(e);i.bind(n);const a=[];for(;i.step();)a.push(i.getAsObject());return i.free(),a}exec(e,n){r(this,mi).run(e,n);const i=BigInt(this.query("SELECT last_insert_rowid() as id")[0].id),a=BigInt(r(this,mi).getRowsModified());return this.transactionNum===0&&r(this,Oo)&&r(this,Oo).call(this,r(this,mi).export()),{numAffectedRows:a,insertId:i}}},mi=new WeakMap,Oo=new WeakMap,cd),su,ld,Hb=(ld=class extends mm{constructor(e){super();k(this,su,void 0);D(this,su,e)}createDriver(){return new Qb(r(this,su))}},su=new WeakMap,ld),Mr,ds,fd,Vb=(fd=class extends ym{constructor(e){super();k(this,Mr,void 0);k(this,ds,void 0);D(this,Mr,e)}async init(){D(this,ds,typeof r(this,Mr).database=="function"?await r(this,Mr).database():r(this,Mr).database),this.connection=new zb(r(this,ds)),r(this,Mr).onCreateConnection&&await r(this,Mr).onCreateConnection(this.connection)}async close(){var e;await((e=r(this,ds))==null?void 0:e.sqlite.close(r(this,ds).db))}},Mr=new WeakMap,ds=new WeakMap,fd),kn,ps,hd,zb=(hd=class extends wm{constructor(e){super();k(this,kn,void 0);k(this,ps,void 0);D(this,ps,e.db),D(this,kn,e.sqlite)}async run(e){const n=r(this,kn).str_new(r(this,ps),e.sql),i=await r(this,kn).prepare_v2(r(this,ps),r(this,kn).str_value(n));if(i===null)return[];const a=i.stmt;try{typeof e.param<"u"&&r(this,kn).bind_collection(a,e.param);const l=[];let m=[];for(;await r(this,kn).step(a)===100;){m=m.length===0?r(this,kn).column_names(a):m;const w=r(this,kn).row(a);l.push(m.reduce((v,d,I)=>(v[d]=w[I],v),{}))}return l}finally{await r(this,kn).finalize(a)}}async query(e,n){return await this.run({sql:e,param:n})}async exec(e,n){await this.run({sql:e,param:n});const i=await this.run({sql:"SELECT last_insert_rowid() as id"});return{insertId:BigInt(i[0].id),numAffectedRows:BigInt(r(this,kn).changes(r(this,ps)))}}},kn=new WeakMap,ps=new WeakMap,hd),ou,dd,Kb=(dd=class extends mm{constructor(e){super();k(this,ou,void 0);D(this,ou,e)}createDriver(){return new Vb(r(this,ou))}},ou=new WeakMap,dd);function Jb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Gb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){if(this instanceof i){var a=[null];a.push.apply(a,arguments);var l=Function.bind.apply(e,a);return new l}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var gm={exports:{}};const Xb={},Yb=Object.freeze(Object.defineProperty({__proto__:null,default:Xb},Symbol.toStringTag,{value:"Module"})),Ju=Gb(Yb);(function(t,e){var n=void 0,i=function(a){return n||(n=new Promise(function(l,m){var w=typeof a<"u"?a:{},v=w.onAbort;w.onAbort=function(o){m(new Error(o)),v&&v(o)},w.postRun=w.postRun||[],w.postRun.push(function(){l(w)}),t=void 0;var d;d||(d=typeof w<"u"?w:{}),d.onRuntimeInitialized=function(){function o(W,G){switch(typeof G){case"boolean":Bu(W,G?1:0);break;case"number":Pu(W,G);break;case"string":da(W,G,-1,-1);break;case"object":if(G===null)ha(W);else if(G.length!=null){var s=Fs(G);Mu(W,s,G.length,-1),Ui(s)}else ji(W,"Wrong API use : tried to return a value of an unknown type ("+G+").",-1);break;default:ha(W)}}function c(W,G){for(var s=[],u=0;u<W;u+=1){var f=J(G+4*u,"i32"),y=fa(f);if(y===1||y===2)f=Lu(f);else if(y===3)f=Ru(f);else if(y===4){y=f,f=Su(y),y=Du(y);for(var _=new Uint8Array(f),S=0;S<f;S+=1)_[S]=ge[y+S];f=_}else f=null;s.push(f)}return s}function h(W,G){this.La=W,this.db=G,this.Ja=1,this.fb=[]}function g(W,G){if(this.db=G,G=dn(W)+1,this.Ya=Fi(G),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");Kt(W,Oe,this.Ya,G),this.eb=this.Ya,this.Ua=this.ib=null}function E(W){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),W!=null){var G=this.filename,s="/",u=G;if(s&&(s=typeof s=="string"?s:qi(s),u=G?ue(s+"/"+G):s),G=mn(!0,!0),u=Ii(u,(G!==void 0?G:438)&4095|32768,0),W){if(typeof W=="string"){s=Array(W.length);for(var f=0,y=W.length;f<y;++f)s[f]=W.charCodeAt(f);W=s}ks(u,G|146),s=yr(u,577),wr(s,W,0,W.length,0),He(s),ks(u,G)}}this.handleError(ve(this.filename,L)),this.db=J(L,"i32"),$s(this.db),this.Za={},this.Na={}}var L=Xn(4),Q=d.cwrap,ve=Q("sqlite3_open","number",["string","number"]),Pe=Q("sqlite3_close_v2","number",["number"]),De=Q("sqlite3_exec","number",["number","string","number","number","number"]),ct=Q("sqlite3_changes","number",["number"]),Pn=Q("sqlite3_prepare_v2","number",["number","string","number","number","number"]),aa=Q("sqlite3_sql","string",["number"]),ua=Q("sqlite3_normalized_sql","string",["number"]),Qi=Q("sqlite3_prepare_v2","number",["number","number","number","number","number"]),ql=Q("sqlite3_bind_text","number",["number","number","number","number","number"]),Yn=Q("sqlite3_bind_blob","number",["number","number","number","number","number"]),Mn=Q("sqlite3_bind_double","number",["number","number","number"]),Cu=Q("sqlite3_bind_int","number",["number","number","number"]),Us=Q("sqlite3_bind_parameter_index","number",["number","string"]),Ou=Q("sqlite3_step","number",["number"]),qu=Q("sqlite3_errmsg","string",["number"]),Wl=Q("sqlite3_column_count","number",["number"]),ca=Q("sqlite3_data_count","number",["number"]),Il=Q("sqlite3_column_double","number",["number","number"]),Wu=Q("sqlite3_column_text","string",["number","number"]),Al=Q("sqlite3_column_blob","number",["number","number"]),Iu=Q("sqlite3_column_bytes","number",["number","number"]),Au=Q("sqlite3_column_type","number",["number","number"]),Tu=Q("sqlite3_column_name","string",["number","number"]),Bn=Q("sqlite3_reset","number",["number"]),ku=Q("sqlite3_clear_bindings","number",["number"]),Tl=Q("sqlite3_finalize","number",["number"]),la=Q("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),fa=Q("sqlite3_value_type","number",["number"]),Su=Q("sqlite3_value_bytes","number",["number"]),Ru=Q("sqlite3_value_text","string",["number"]),Du=Q("sqlite3_value_blob","number",["number"]),Lu=Q("sqlite3_value_double","number",["number"]),Pu=Q("sqlite3_result_double","",["number","number"]),ha=Q("sqlite3_result_null","",["number"]),da=Q("sqlite3_result_text","",["number","string","number","number"]),Mu=Q("sqlite3_result_blob","",["number","number","number","number"]),Bu=Q("sqlite3_result_int","",["number","number"]),ji=Q("sqlite3_result_error","",["number","string","number"]),pa=Q("sqlite3_aggregate_context","number",["number","number"]),$s=Q("RegisterExtensionFunctions","number",["number"]);h.prototype.bind=function(W){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(W)?this.xb(W):W!=null&&typeof W=="object"?this.yb(W):!0},h.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var W=Ou(this.La);switch(W){case 100:return!0;case 101:return!1;default:throw this.db.handleError(W)}},h.prototype.sb=function(W){return W==null&&(W=this.Ja,this.Ja+=1),Il(this.La,W)},h.prototype.Cb=function(W){if(W==null&&(W=this.Ja,this.Ja+=1),W=Wu(this.La,W),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(W)},h.prototype.Db=function(W){return W==null&&(W=this.Ja,this.Ja+=1),Wu(this.La,W)},h.prototype.getBlob=function(W){W==null&&(W=this.Ja,this.Ja+=1);var G=Iu(this.La,W);W=Al(this.La,W);for(var s=new Uint8Array(G),u=0;u<G;u+=1)s[u]=ge[W+u];return s},h.prototype.get=function(W,G){G=G||{},W!=null&&this.bind(W)&&this.step(),W=[];for(var s=ca(this.La),u=0;u<s;u+=1)switch(Au(this.La,u)){case 1:var f=G.useBigInt?this.Cb(u):this.sb(u);W.push(f);break;case 2:W.push(this.sb(u));break;case 3:W.push(this.Db(u));break;case 4:W.push(this.getBlob(u));break;default:W.push(null)}return W},h.prototype.getColumnNames=function(){for(var W=[],G=Wl(this.La),s=0;s<G;s+=1)W.push(Tu(this.La,s));return W},h.prototype.getAsObject=function(W,G){W=this.get(W,G),G=this.getColumnNames();for(var s={},u=0;u<G.length;u+=1)s[G[u]]=W[u];return s},h.prototype.getSQL=function(){return aa(this.La)},h.prototype.getNormalizedSQL=function(){return ua(this.La)},h.prototype.run=function(W){return W!=null&&this.bind(W),this.step(),this.reset()},h.prototype.nb=function(W,G){G==null&&(G=this.Ja,this.Ja+=1),W=it(W);var s=Fs(W);this.fb.push(s),this.db.handleError(ql(this.La,G,s,W.length-1,0))},h.prototype.wb=function(W,G){G==null&&(G=this.Ja,this.Ja+=1);var s=Fs(W);this.fb.push(s),this.db.handleError(Yn(this.La,G,s,W.length,0))},h.prototype.mb=function(W,G){G==null&&(G=this.Ja,this.Ja+=1),this.db.handleError((W===(W|0)?Cu:Mn)(this.La,G,W))},h.prototype.zb=function(W){W==null&&(W=this.Ja,this.Ja+=1),Yn(this.La,W,0,0,0)},h.prototype.ob=function(W,G){switch(G==null&&(G=this.Ja,this.Ja+=1),typeof W){case"string":this.nb(W,G);return;case"number":this.mb(W,G);return;case"bigint":this.nb(W.toString(),G);return;case"boolean":this.mb(W+0,G);return;case"object":if(W===null){this.zb(G);return}if(W.length!=null){this.wb(W,G);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+W+")."},h.prototype.yb=function(W){var G=this;return Object.keys(W).forEach(function(s){var u=Us(G.La,s);u!==0&&G.ob(W[s],u)}),!0},h.prototype.xb=function(W){for(var G=0;G<W.length;G+=1)this.ob(W[G],G+1);return!0},h.prototype.reset=function(){return this.freemem(),ku(this.La)===0&&Bn(this.La)===0},h.prototype.freemem=function(){for(var W;(W=this.fb.pop())!==void 0;)Ui(W)},h.prototype.free=function(){this.freemem();var W=Tl(this.La)===0;return delete this.db.Za[this.La],this.La=0,W},g.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var W=ei(),G=Xn(4);ce(L),ce(G);try{this.db.handleError(Qi(this.db.db,this.eb,-1,L,G)),this.eb=J(G,"i32");var s=J(L,"i32");return s===0?(this.gb(),{done:!0}):(this.Ua=new h(s,this.db),this.db.Za[s]=this.Ua,{value:this.Ua,done:!1})}catch(u){throw this.ib=Qe(this.eb),this.gb(),u}finally{ti(W)}},g.prototype.gb=function(){Ui(this.Ya),this.Ya=null},g.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:Qe(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(g.prototype[Symbol.iterator]=function(){return this}),E.prototype.run=function(W,G){if(!this.db)throw"Database closed";if(G){W=this.prepare(W,G);try{W.step()}finally{W.free()}}else this.handleError(De(this.db,W,0,0,L));return this},E.prototype.exec=function(W,G,s){if(!this.db)throw"Database closed";var u=ei(),f=null;try{var y=dn(W)+1,_=Xn(y);Kt(W,ge,_,y);var S=_,A=Xn(4);for(W=[];J(S,"i8")!==0;){ce(L),ce(A),this.handleError(Qi(this.db,S,-1,L,A));var V=J(L,"i32");if(S=J(A,"i32"),V!==0){for(y=null,f=new h(V,this),G!=null&&f.bind(G);f.step();)y===null&&(y={columns:f.getColumnNames(),values:[]},W.push(y)),y.values.push(f.get(null,s));f.free()}}return W}catch(P){throw f&&f.free(),P}finally{ti(u)}},E.prototype.each=function(W,G,s,u,f){typeof G=="function"&&(u=s,s=G,G=void 0),W=this.prepare(W,G);try{for(;W.step();)s(W.getAsObject(null,f))}finally{W.free()}if(typeof u=="function")return u()},E.prototype.prepare=function(W,G){if(ce(L),this.handleError(Pn(this.db,W,-1,L,0)),W=J(L,"i32"),W===0)throw"Nothing to prepare";var s=new h(W,this);return G!=null&&s.bind(G),this.Za[W]=s},E.prototype.iterateStatements=function(W){return new g(W,this)},E.prototype.export=function(){Object.values(this.Za).forEach(function(G){G.free()}),Object.values(this.Na).forEach(Zr),this.Na={},this.handleError(Pe(this.db));var W=Ss(this.filename);return this.handleError(ve(this.filename,L)),this.db=J(L,"i32"),W},E.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(W){W.free()}),Object.values(this.Na).forEach(Zr),this.Na={},this.handleError(Pe(this.db)),Ti("/"+this.filename),this.db=null)},E.prototype.handleError=function(W){if(W===0)return null;throw W=qu(this.db),Error(W)},E.prototype.getRowsModified=function(){return ct(this.db)},E.prototype.create_function=function(W,G){Object.prototype.hasOwnProperty.call(this.Na,W)&&(Zr(this.Na[W]),delete this.Na[W]);var s=Bs(function(u,f,y){f=c(f,y);try{var _=G.apply(null,f)}catch(S){ji(u,S,-1);return}o(u,_)},"viii");return this.Na[W]=s,this.handleError(la(this.db,W,G.length,1,0,s,0,0,0)),this},E.prototype.create_aggregate=function(W,G){var s=G.init||function(){return null},u=G.finalize||function(A){return A},f=G.step;if(!f)throw"An aggregate function must have a step function in "+W;var y={};Object.hasOwnProperty.call(this.Na,W)&&(Zr(this.Na[W]),delete this.Na[W]),G=W+"__finalize",Object.hasOwnProperty.call(this.Na,G)&&(Zr(this.Na[G]),delete this.Na[G]);var _=Bs(function(A,V,P){var B=pa(A,1);Object.hasOwnProperty.call(y,B)||(y[B]=s()),V=c(V,P),V=[y[B]].concat(V);try{y[B]=f.apply(null,V)}catch(ie){delete y[B],ji(A,ie,-1)}},"viii"),S=Bs(function(A){var V=pa(A,1);try{var P=u(y[V])}catch(B){delete y[V],ji(A,B,-1);return}o(A,P),delete y[V]},"vi");return this.Na[W]=_,this.Na[G]=S,this.handleError(la(this.db,W,f.length-1,1,0,0,_,S,0)),this},d.Database=E};var I=Object.assign({},d),F="./this.program",U=typeof window=="object",Y=typeof importScripts=="function",Z=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="",C,N,q,T,ne,Ne;Z?(b=Y?Ju.dirname(b)+"/":__dirname+"/",Ne=()=>{ne||(T=Ju,ne=Ju)},C=function(o,c){return Ne(),o=ne.normalize(o),T.readFileSync(o,c?void 0:"utf8")},q=o=>(o=C(o,!0),o.buffer||(o=new Uint8Array(o)),o),N=(o,c,h)=>{Ne(),o=ne.normalize(o),T.readFile(o,function(g,E){g?h(g):c(E.buffer)})},1<process.argv.length&&(F=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=d,d.inspect=function(){return"[Emscripten Module object]"}):(U||Y)&&(Y?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),b=b.indexOf("blob:")!==0?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",C=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.send(null),c.responseText},Y&&(q=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),N=(o,c,h)=>{var g=new XMLHttpRequest;g.open("GET",o,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?c(g.response):h()},g.onerror=h,g.send(null)});var ae=d.print||console.log.bind(console),_e=d.printErr||console.warn.bind(console);Object.assign(d,I),I=null,d.thisProgram&&(F=d.thisProgram);var xe;d.wasmBinary&&(xe=d.wasmBinary),d.noExitRuntime,typeof WebAssembly!="object"&&x("no native wasm support detected");var tt,ze=!1,qt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Wt(o,c,h){var g=c+h;for(h=c;o[h]&&!(h>=g);)++h;if(16<h-c&&o.buffer&&qt)return qt.decode(o.subarray(c,h));for(g="";c<h;){var E=o[c++];if(E&128){var L=o[c++]&63;if((E&224)==192)g+=String.fromCharCode((E&31)<<6|L);else{var Q=o[c++]&63;E=(E&240)==224?(E&15)<<12|L<<6|Q:(E&7)<<18|L<<12|Q<<6|o[c++]&63,65536>E?g+=String.fromCharCode(E):(E-=65536,g+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else g+=String.fromCharCode(E)}return g}function Qe(o,c){return o?Wt(Oe,o,c):""}function Kt(o,c,h,g){if(!(0<g))return 0;var E=h;g=h+g-1;for(var L=0;L<o.length;++L){var Q=o.charCodeAt(L);if(55296<=Q&&57343>=Q){var ve=o.charCodeAt(++L);Q=65536+((Q&1023)<<10)|ve&1023}if(127>=Q){if(h>=g)break;c[h++]=Q}else{if(2047>=Q){if(h+1>=g)break;c[h++]=192|Q>>6}else{if(65535>=Q){if(h+2>=g)break;c[h++]=224|Q>>12}else{if(h+3>=g)break;c[h++]=240|Q>>18,c[h++]=128|Q>>12&63}c[h++]=128|Q>>6&63}c[h++]=128|Q&63}}return c[h]=0,h-E}function dn(o){for(var c=0,h=0;h<o.length;++h){var g=o.charCodeAt(h);127>=g?c++:2047>=g?c+=2:55296<=g&&57343>=g?(c+=4,++h):c+=3}return c}var wt,ge,Oe,ut,we,Re,Pt,Tr;function Cs(){var o=tt.buffer;wt=o,d.HEAP8=ge=new Int8Array(o),d.HEAP16=ut=new Int16Array(o),d.HEAP32=we=new Int32Array(o),d.HEAPU8=Oe=new Uint8Array(o),d.HEAPU16=new Uint16Array(o),d.HEAPU32=Re=new Uint32Array(o),d.HEAPF32=Pt=new Float32Array(o),d.HEAPF64=Tr=new Float64Array(o)}var En,pn=[],fe=[],Me=[];function zn(){var o=d.preRun.shift();pn.unshift(o)}var Jt=0,Ke=null;function x(o){throw d.onAbort&&d.onAbort(o),o="Aborted("+o+")",_e(o),ze=!0,new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info.")}function O(){return R.startsWith("data:application/octet-stream;base64,")}var R;if(R="sql-wasm.wasm",!O()){var M=R;R=d.locateFile?d.locateFile(M,b):b+M}function K(){var o=R;try{if(o==R&&xe)return new Uint8Array(xe);if(q)return q(o);throw"both async and sync fetching of the wasm failed"}catch(c){x(c)}}function ee(){if(!xe&&(U||Y)){if(typeof fetch=="function"&&!R.startsWith("file://"))return fetch(R,{credentials:"same-origin"}).then(function(o){if(!o.ok)throw"failed to load wasm binary file at '"+R+"'";return o.arrayBuffer()}).catch(function(){return K()});if(N)return new Promise(function(o,c){N(R,function(h){o(new Uint8Array(h))},c)})}return Promise.resolve().then(function(){return K()})}var j,z;function re(o){for(;0<o.length;)o.shift()(d)}function J(o,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":return ge[o>>0];case"i8":return ge[o>>0];case"i16":return ut[o>>1];case"i32":return we[o>>2];case"i64":return we[o>>2];case"float":return Pt[o>>2];case"double":return Tr[o>>3];case"*":return Re[o>>2];default:x("invalid type for getValue: "+c)}return null}function ce(o){var c="i32";switch(c.endsWith("*")&&(c="*"),c){case"i1":ge[o>>0]=0;break;case"i8":ge[o>>0]=0;break;case"i16":ut[o>>1]=0;break;case"i32":we[o>>2]=0;break;case"i64":z=[0,(j=0,1<=+Math.abs(j)?0<j?(Math.min(+Math.floor(j/4294967296),4294967295)|0)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],we[o>>2]=z[0],we[o+4>>2]=z[1];break;case"float":Pt[o>>2]=0;break;case"double":Tr[o>>3]=0;break;case"*":Re[o>>2]=0;break;default:x("invalid type for setValue: "+c)}}var oe=(o,c)=>{for(var h=0,g=o.length-1;0<=g;g--){var E=o[g];E==="."?o.splice(g,1):E===".."?(o.splice(g,1),h++):h&&(o.splice(g,1),h--)}if(c)for(;h;h--)o.unshift("..");return o},ue=o=>{var c=o.charAt(0)==="/",h=o.substr(-1)==="/";return(o=oe(o.split("/").filter(g=>!!g),!c).join("/"))||c||(o="."),o&&h&&(o+="/"),(c?"/":"")+o},be=o=>{var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(o).slice(1);return o=c[0],c=c[1],!o&&!c?".":(c&&(c=c.substr(0,c.length-1)),o+c)},Ee=o=>{if(o==="/")return"/";o=ue(o),o=o.replace(/\/$/,"");var c=o.lastIndexOf("/");return c===-1?o:o.substr(c+1)};function je(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var o=new Uint8Array(1);return()=>(crypto.getRandomValues(o),o[0])}if(Z)try{var c=Ju;return()=>c.randomBytes(1)[0]}catch{}return()=>x("randomDevice")}function Le(){for(var o="",c=!1,h=arguments.length-1;-1<=h&&!c;h--){if(c=0<=h?arguments[h]:"/",typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";o=c+"/"+o,c=c.charAt(0)==="/"}return o=oe(o.split("/").filter(g=>!!g),!c).join("/"),(c?"/":"")+o||"."}function it(o,c){var h=Array(dn(o)+1);return o=Kt(o,h,0,h.length),c&&(h.length=o),h}var me=[];function Cn(o,c){me[o]={input:[],output:[],Xa:c},Wi(o,Oi)}var Oi={open:function(o){var c=me[o.node.rdev];if(!c)throw new H(43);o.tty=c,o.seekable=!1},close:function(o){o.tty.Xa.fsync(o.tty)},fsync:function(o){o.tty.Xa.fsync(o.tty)},read:function(o,c,h,g){if(!o.tty||!o.tty.Xa.tb)throw new H(60);for(var E=0,L=0;L<g;L++){try{var Q=o.tty.Xa.tb(o.tty)}catch{throw new H(29)}if(Q===void 0&&E===0)throw new H(6);if(Q==null)break;E++,c[h+L]=Q}return E&&(o.node.timestamp=Date.now()),E},write:function(o,c,h,g){if(!o.tty||!o.tty.Xa.jb)throw new H(60);try{for(var E=0;E<g;E++)o.tty.Xa.jb(o.tty,c[h+E])}catch{throw new H(29)}return g&&(o.node.timestamp=Date.now()),E}},Gt={tb:function(o){if(!o.input.length){var c=null;if(Z){var h=Buffer.alloc(256),g=0;try{g=T.readSync(process.stdin.fd,h,0,256,-1)}catch(E){if(E.toString().includes("EOF"))g=0;else throw E}0<g?c=h.slice(0,g).toString("utf-8"):c=null}else typeof window<"u"&&typeof window.prompt=="function"?(c=window.prompt("Input: "),c!==null&&(c+=`
`)):typeof readline=="function"&&(c=readline(),c!==null&&(c+=`
`));if(!c)return null;o.input=it(c,!0)}return o.input.shift()},jb:function(o,c){c===null||c===10?(ae(Wt(o.output,0)),o.output=[]):c!=0&&o.output.push(c)},fsync:function(o){o.output&&0<o.output.length&&(ae(Wt(o.output,0)),o.output=[])}},Os={jb:function(o,c){c===null||c===10?(_e(Wt(o.output,0)),o.output=[]):c!=0&&o.output.push(c)},fsync:function(o){o.output&&0<o.output.length&&(_e(Wt(o.output,0)),o.output=[])}},le={Qa:null,Ra:function(){return le.createNode(null,"/",16895,0)},createNode:function(o,c,h,g){if((h&61440)===24576||(h&61440)===4096)throw new H(63);return le.Qa||(le.Qa={dir:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa,lookup:le.Ga.lookup,ab:le.Ga.ab,rename:le.Ga.rename,unlink:le.Ga.unlink,rmdir:le.Ga.rmdir,readdir:le.Ga.readdir,symlink:le.Ga.symlink},stream:{Ta:le.Ha.Ta}},file:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa},stream:{Ta:le.Ha.Ta,read:le.Ha.read,write:le.Ha.write,lb:le.Ha.lb,bb:le.Ha.bb,cb:le.Ha.cb}},link:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa,readlink:le.Ga.readlink},stream:{}},pb:{node:{Pa:le.Ga.Pa,Oa:le.Ga.Oa},stream:As}}),h=Vo(o,c,h,g),(h.mode&61440)===16384?(h.Ga=le.Qa.dir.node,h.Ha=le.Qa.dir.stream,h.Ia={}):(h.mode&61440)===32768?(h.Ga=le.Qa.file.node,h.Ha=le.Qa.file.stream,h.Ma=0,h.Ia=null):(h.mode&61440)===40960?(h.Ga=le.Qa.link.node,h.Ha=le.Qa.link.stream):(h.mode&61440)===8192&&(h.Ga=le.Qa.pb.node,h.Ha=le.Qa.pb.stream),h.timestamp=Date.now(),o&&(o.Ia[c]=h,o.timestamp=h.timestamp),h},Jb:function(o){return o.Ia?o.Ia.subarray?o.Ia.subarray(0,o.Ma):new Uint8Array(o.Ia):new Uint8Array(0)},qb:function(o,c){var h=o.Ia?o.Ia.length:0;h>=c||(c=Math.max(c,h*(1048576>h?2:1.125)>>>0),h!=0&&(c=Math.max(c,256)),h=o.Ia,o.Ia=new Uint8Array(c),0<o.Ma&&o.Ia.set(h.subarray(0,o.Ma),0))},Gb:function(o,c){if(o.Ma!=c)if(c==0)o.Ia=null,o.Ma=0;else{var h=o.Ia;o.Ia=new Uint8Array(c),h&&o.Ia.set(h.subarray(0,Math.min(c,o.Ma))),o.Ma=c}},Ga:{Pa:function(o){var c={};return c.dev=(o.mode&61440)===8192?o.id:1,c.ino=o.id,c.mode=o.mode,c.nlink=1,c.uid=0,c.gid=0,c.rdev=o.rdev,(o.mode&61440)===16384?c.size=4096:(o.mode&61440)===32768?c.size=o.Ma:(o.mode&61440)===40960?c.size=o.link.length:c.size=0,c.atime=new Date(o.timestamp),c.mtime=new Date(o.timestamp),c.ctime=new Date(o.timestamp),c.Ab=4096,c.blocks=Math.ceil(c.size/c.Ab),c},Oa:function(o,c){c.mode!==void 0&&(o.mode=c.mode),c.timestamp!==void 0&&(o.timestamp=c.timestamp),c.size!==void 0&&le.Gb(o,c.size)},lookup:function(){throw Kn[44]},ab:function(o,c,h,g){return le.createNode(o,c,h,g)},rename:function(o,c,h){if((o.mode&61440)===16384){try{var g=mr(c,h)}catch{}if(g)for(var E in g.Ia)throw new H(55)}delete o.parent.Ia[o.name],o.parent.timestamp=Date.now(),o.name=h,c.Ia[h]=o,c.timestamp=o.parent.timestamp,o.parent=c},unlink:function(o,c){delete o.Ia[c],o.timestamp=Date.now()},rmdir:function(o,c){var h=mr(o,c),g;for(g in h.Ia)throw new H(55);delete o.Ia[c],o.timestamp=Date.now()},readdir:function(o){var c=[".",".."],h;for(h in o.Ia)o.Ia.hasOwnProperty(h)&&c.push(h);return c},symlink:function(o,c,h){return o=le.createNode(o,c,41471,0),o.link=h,o},readlink:function(o){if((o.mode&61440)!==40960)throw new H(28);return o.link}},Ha:{read:function(o,c,h,g,E){var L=o.node.Ia;if(E>=o.node.Ma)return 0;if(o=Math.min(o.node.Ma-E,g),8<o&&L.subarray)c.set(L.subarray(E,E+o),h);else for(g=0;g<o;g++)c[h+g]=L[E+g];return o},write:function(o,c,h,g,E,L){if(c.buffer===ge.buffer&&(L=!1),!g)return 0;if(o=o.node,o.timestamp=Date.now(),c.subarray&&(!o.Ia||o.Ia.subarray)){if(L)return o.Ia=c.subarray(h,h+g),o.Ma=g;if(o.Ma===0&&E===0)return o.Ia=c.slice(h,h+g),o.Ma=g;if(E+g<=o.Ma)return o.Ia.set(c.subarray(h,h+g),E),g}if(le.qb(o,E+g),o.Ia.subarray&&c.subarray)o.Ia.set(c.subarray(h,h+g),E);else for(L=0;L<g;L++)o.Ia[E+L]=c[h+L];return o.Ma=Math.max(o.Ma,E+g),g},Ta:function(o,c,h){if(h===1?c+=o.position:h===2&&(o.node.mode&61440)===32768&&(c+=o.node.Ma),0>c)throw new H(28);return c},lb:function(o,c,h){le.qb(o.node,c+h),o.node.Ma=Math.max(o.node.Ma,c+h)},bb:function(o,c,h,g,E){if((o.node.mode&61440)!==32768)throw new H(43);if(o=o.node.Ia,E&2||o.buffer!==wt){if((0<h||h+c<o.length)&&(o.subarray?o=o.subarray(h,h+c):o=Array.prototype.slice.call(o,h,h+c)),h=!0,c=65536*Math.ceil(c/65536),(E=sa(65536,c))?(Oe.fill(0,E,E+c),c=E):c=0,!c)throw new H(48);ge.set(o,c)}else h=!1,c=o.byteOffset;return{Fb:c,vb:h}},cb:function(o,c,h,g,E){if((o.node.mode&61440)!==32768)throw new H(43);return E&2||le.Ha.write(o,c,0,g,h,!1),0}}},Mt=null,te={},Dn=[],Xt=1,On=null,qs=!0,H=null,Kn={},Bt=(o,c={})=>{if(o=Le("/",o),!o)return{path:"",node:null};if(c=Object.assign({rb:!0,kb:0},c),8<c.kb)throw new H(32);o=oe(o.split("/").filter(Q=>!!Q),!1);for(var h=Mt,g="/",E=0;E<o.length;E++){var L=E===o.length-1;if(L&&c.parent)break;if(h=mr(h,o[E]),g=ue(g+"/"+o[E]),h.Va&&(!L||L&&c.rb)&&(h=h.Va.root),!L||c.Sa){for(L=0;(h.mode&61440)===40960;)if(h=Yo(g),g=Le(be(g),h),h=Bt(g,{kb:c.kb+1}).node,40<L++)throw new H(32)}}return{path:g,node:h}},qi=o=>{for(var c;;){if(o===o.parent)return o=o.Ra.ub,c?o[o.length-1]!=="/"?o+"/"+c:o+c:o;c=c?o.name+"/"+c:o.name,o=o.parent}},Ws=(o,c)=>{for(var h=0,g=0;g<c.length;g++)h=(h<<5)-h+c.charCodeAt(g)|0;return(o+h>>>0)%On.length},kr=o=>{var c=Ws(o.parent.id,o.name);if(On[c]===o)On[c]=o.Wa;else for(c=On[c];c;){if(c.Wa===o){c.Wa=o.Wa;break}c=c.Wa}},mr=(o,c)=>{var h;if(h=(h=Kr(o,"x"))?h:o.Ga.lookup?0:2)throw new H(h,o);for(h=On[Ws(o.id,c)];h;h=h.Wa){var g=h.name;if(h.parent.id===o.id&&g===c)return h}return o.Ga.lookup(o,c)},Vo=(o,c,h,g)=>(o=new ra(o,c,h,g),c=Ws(o.parent.id,o.name),o.Wa=On[c],On[c]=o),Ol={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},zo=o=>{var c=["r","w","rw"][o&3];return o&512&&(c+="w"),c},Kr=(o,c)=>{if(qs)return 0;if(!c.includes("r")||o.mode&292){if(c.includes("w")&&!(o.mode&146)||c.includes("x")&&!(o.mode&73))return 2}else return 2;return 0},Is=(o,c)=>{try{return mr(o,c),20}catch{}return Kr(o,"wx")},Ko=(o,c,h)=>{try{var g=mr(o,c)}catch(E){return E.Ka}if(o=Kr(o,"wx"))return o;if(h){if((g.mode&61440)!==16384)return 54;if(g===g.parent||qi(g)==="/")return 10}else if((g.mode&61440)===16384)return 31;return 0},Jo=(o=0)=>{for(;4096>=o;o++)if(!Dn[o])return o;throw new H(33)},qn=(o,c)=>(Li||(Li=function(){this.$a={}},Li.prototype={},Object.defineProperties(Li.prototype,{object:{get:function(){return this.node},set:function(h){this.node=h}},flags:{get:function(){return this.$a.flags},set:function(h){this.$a.flags=h}},position:{get:function(){return this.$a.position},set:function(h){this.$a.position=h}}})),o=Object.assign(new Li,o),c=Jo(c),o.fd=c,Dn[c]=o),As={open:o=>{o.Ha=te[o.node.rdev].Ha,o.Ha.open&&o.Ha.open(o)},Ta:()=>{throw new H(70)}},Wi=(o,c)=>{te[o]={Ha:c}},Go=(o,c)=>{var h=c==="/",g=!c;if(h&&Mt)throw new H(10);if(!h&&!g){var E=Bt(c,{rb:!1});if(c=E.path,E=E.node,E.Va)throw new H(10);if((E.mode&61440)!==16384)throw new H(54)}c={type:o,Kb:{},ub:c,Eb:[]},o=o.Ra(c),o.Ra=c,c.root=o,h?Mt=o:E&&(E.Va=c,E.Ra&&E.Ra.Eb.push(c))},Ii=(o,c,h)=>{var g=Bt(o,{parent:!0}).node;if(o=Ee(o),!o||o==="."||o==="..")throw new H(28);var E=Is(g,o);if(E)throw new H(E);if(!g.Ga.ab)throw new H(63);return g.Ga.ab(g,o,c,h)},an=(o,c)=>Ii(o,(c!==void 0?c:511)&1023|16384,0),Ai=(o,c,h)=>{typeof h>"u"&&(h=c,c=438),Ii(o,c|8192,h)},Ts=(o,c)=>{if(!Le(o))throw new H(44);var h=Bt(c,{parent:!0}).node;if(!h)throw new H(44);c=Ee(c);var g=Is(h,c);if(g)throw new H(g);if(!h.Ga.symlink)throw new H(63);h.Ga.symlink(h,c,o)},Xo=o=>{var c=Bt(o,{parent:!0}).node;o=Ee(o);var h=mr(c,o),g=Ko(c,o,!0);if(g)throw new H(g);if(!c.Ga.rmdir)throw new H(63);if(h.Va)throw new H(10);c.Ga.rmdir(c,o),kr(h)},Ti=o=>{var c=Bt(o,{parent:!0}).node;if(!c)throw new H(44);o=Ee(o);var h=mr(c,o),g=Ko(c,o,!1);if(g)throw new H(g);if(!c.Ga.unlink)throw new H(63);if(h.Va)throw new H(10);c.Ga.unlink(c,o),kr(h)},Yo=o=>{if(o=Bt(o).node,!o)throw new H(44);if(!o.Ga.readlink)throw new H(28);return Le(qi(o.parent),o.Ga.readlink(o))},Jr=(o,c)=>{if(o=Bt(o,{Sa:!c}).node,!o)throw new H(44);if(!o.Ga.Pa)throw new H(63);return o.Ga.Pa(o)},Zo=o=>Jr(o,!0),ks=(o,c)=>{if(o=typeof o=="string"?Bt(o,{Sa:!0}).node:o,!o.Ga.Oa)throw new H(63);o.Ga.Oa(o,{mode:c&4095|o.mode&-4096,timestamp:Date.now()})},Gr=(o,c)=>{if(0>c)throw new H(28);if(o=typeof o=="string"?Bt(o,{Sa:!0}).node:o,!o.Ga.Oa)throw new H(63);if((o.mode&61440)===16384)throw new H(31);if((o.mode&61440)!==32768)throw new H(28);var h=Kr(o,"w");if(h)throw new H(h);o.Ga.Oa(o,{size:c,timestamp:Date.now()})},yr=(o,c,h)=>{if(o==="")throw new H(44);if(typeof c=="string"){var g=Ol[c];if(typeof g>"u")throw Error("Unknown file open mode: "+c);c=g}if(h=c&64?(typeof h>"u"?438:h)&4095|32768:0,typeof o=="object")var E=o;else{o=ue(o);try{E=Bt(o,{Sa:!(c&131072)}).node}catch{}}if(g=!1,c&64)if(E){if(c&128)throw new H(20)}else E=Ii(o,h,0),g=!0;if(!E)throw new H(44);if((E.mode&61440)===8192&&(c&=-513),c&65536&&(E.mode&61440)!==16384)throw new H(54);if(!g&&(h=E?(E.mode&61440)===40960?32:(E.mode&61440)===16384&&(zo(c)!=="r"||c&512)?31:Kr(E,zo(c)):44))throw new H(h);return c&512&&!g&&Gr(E,0),c&=-131713,E=qn({node:E,path:qi(E),flags:c,seekable:!0,position:0,Ha:E.Ha,Ib:[],error:!1}),E.Ha.open&&E.Ha.open(E),!d.logReadFiles||c&1||(Pi||(Pi={}),o in Pi||(Pi[o]=1)),E},He=o=>{if(o.fd===null)throw new H(8);o.hb&&(o.hb=null);try{o.Ha.close&&o.Ha.close(o)}catch(c){throw c}finally{Dn[o.fd]=null}o.fd=null},Xr=(o,c,h)=>{if(o.fd===null)throw new H(8);if(!o.seekable||!o.Ha.Ta)throw new H(70);if(h!=0&&h!=1&&h!=2)throw new H(28);o.position=o.Ha.Ta(o,c,h),o.Ib=[]},ki=(o,c,h,g,E)=>{if(0>g||0>E)throw new H(28);if(o.fd===null)throw new H(8);if((o.flags&2097155)===1)throw new H(8);if((o.node.mode&61440)===16384)throw new H(31);if(!o.Ha.read)throw new H(28);var L=typeof E<"u";if(!L)E=o.position;else if(!o.seekable)throw new H(70);return c=o.Ha.read(o,c,h,g,E),L||(o.position+=c),c},wr=(o,c,h,g,E)=>{if(0>g||0>E)throw new H(28);if(o.fd===null)throw new H(8);if(!(o.flags&2097155))throw new H(8);if((o.node.mode&61440)===16384)throw new H(31);if(!o.Ha.write)throw new H(28);o.seekable&&o.flags&1024&&Xr(o,0,2);var L=typeof E<"u";if(!L)E=o.position;else if(!o.seekable)throw new H(70);return c=o.Ha.write(o,c,h,g,E,void 0),L||(o.position+=c),c},Ss=o=>{var c,h=yr(o,h||0);o=Jr(o).size;var g=new Uint8Array(o);return ki(h,g,0,o,0),c=g,He(h),c},Si=()=>{H||(H=function(o,c){this.node=c,this.Hb=function(h){this.Ka=h},this.Hb(o),this.message="FS error"},H.prototype=Error(),H.prototype.constructor=H,[44].forEach(o=>{Kn[o]=new H(o),Kn[o].stack="<generic error, no stack>"}))},Ri,mn=(o,c)=>{var h=0;return o&&(h|=365),c&&(h|=146),h},Ln=(o,c,h)=>{o=ue("/dev/"+o);var g=mn(!!c,!!h);Di||(Di=64);var E=Di++<<8|0;Wi(E,{open:L=>{L.seekable=!1},close:()=>{h&&h.buffer&&h.buffer.length&&h(10)},read:(L,Q,ve,Pe)=>{for(var De=0,ct=0;ct<Pe;ct++){try{var Pn=c()}catch{throw new H(29)}if(Pn===void 0&&De===0)throw new H(6);if(Pn==null)break;De++,Q[ve+ct]=Pn}return De&&(L.node.timestamp=Date.now()),De},write:(L,Q,ve,Pe)=>{for(var De=0;De<Pe;De++)try{h(Q[ve+De])}catch{throw new H(29)}return Pe&&(L.node.timestamp=Date.now()),De}}),Ai(o,g,E)},Di,Je={},Li,Pi;function Jn(o,c,h){if(c.charAt(0)==="/")return c;if(o=o===-100?"/":yn(o).path,c.length==0){if(!h)throw new H(44);return o}return ue(o+"/"+c)}function Mi(o,c,h){try{var g=o(c)}catch(E){if(E&&E.node&&ue(c)!==ue(qi(E.node)))return-54;throw E}return we[h>>2]=g.dev,we[h+8>>2]=g.ino,we[h+12>>2]=g.mode,Re[h+16>>2]=g.nlink,we[h+20>>2]=g.uid,we[h+24>>2]=g.gid,we[h+28>>2]=g.rdev,z=[g.size>>>0,(j=g.size,1<=+Math.abs(j)?0<j?(Math.min(+Math.floor(j/4294967296),4294967295)|0)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],we[h+40>>2]=z[0],we[h+44>>2]=z[1],we[h+48>>2]=4096,we[h+52>>2]=g.blocks,z=[Math.floor(g.atime.getTime()/1e3)>>>0,(j=Math.floor(g.atime.getTime()/1e3),1<=+Math.abs(j)?0<j?(Math.min(+Math.floor(j/4294967296),4294967295)|0)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],we[h+56>>2]=z[0],we[h+60>>2]=z[1],Re[h+64>>2]=0,z=[Math.floor(g.mtime.getTime()/1e3)>>>0,(j=Math.floor(g.mtime.getTime()/1e3),1<=+Math.abs(j)?0<j?(Math.min(+Math.floor(j/4294967296),4294967295)|0)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],we[h+72>>2]=z[0],we[h+76>>2]=z[1],Re[h+80>>2]=0,z=[Math.floor(g.ctime.getTime()/1e3)>>>0,(j=Math.floor(g.ctime.getTime()/1e3),1<=+Math.abs(j)?0<j?(Math.min(+Math.floor(j/4294967296),4294967295)|0)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],we[h+88>>2]=z[0],we[h+92>>2]=z[1],Re[h+96>>2]=0,z=[g.ino>>>0,(j=g.ino,1<=+Math.abs(j)?0<j?(Math.min(+Math.floor(j/4294967296),4294967295)|0)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],we[h+104>>2]=z[0],we[h+108>>2]=z[1],0}var Yr=void 0;function Bi(){return Yr+=4,we[Yr-4>>2]}function yn(o){if(o=Dn[o],!o)throw new H(8);return o}function Rs(o){return Re[o>>2]+4294967296*we[o+4>>2]}function ea(o){var c=dn(o)+1,h=Fi(c);return h&&Kt(o,ge,h,c),h}function _u(o,c,h){function g(Pe){return(Pe=Pe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Pe[1]:"GMT"}var E=new Date().getFullYear(),L=new Date(E,0,1),Q=new Date(E,6,1);E=L.getTimezoneOffset();var ve=Q.getTimezoneOffset();we[o>>2]=60*Math.max(E,ve),we[c>>2]=+(E!=ve),o=g(L),c=g(Q),o=ea(o),c=ea(c),ve<E?(Re[h>>2]=o,Re[h+4>>2]=c):(Re[h>>2]=c,Re[h+4>>2]=o)}function Ds(o,c,h){Ds.Bb||(Ds.Bb=!0,_u(o,c,h))}var ta;ta=Z?()=>{var o=process.hrtime();return 1e3*o[0]+o[1]/1e6}:()=>performance.now();var Ls={};function na(){if(!Ps){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"},c;for(c in Ls)Ls[c]===void 0?delete o[c]:o[c]=Ls[c];var h=[];for(c in o)h.push(c+"="+o[c]);Ps=h}return Ps}var Ps,Gn=void 0,Ms=[];function Bs(o,c){if(!Gn){Gn=new WeakMap;var h=En.length;if(Gn)for(var g=0;g<0+h;g++){var E=En.get(g);E&&Gn.set(E,g)}}if(Gn.has(o))return Gn.get(o);if(Ms.length)h=Ms.pop();else{try{En.grow(1)}catch(ve){throw ve instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":ve}h=En.length-1}try{En.set(h,o)}catch(ve){if(!(ve instanceof TypeError))throw ve;if(typeof WebAssembly.Function=="function"){g=WebAssembly.Function,E={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var L={parameters:[],results:c[0]=="v"?[]:[E[c[0]]]},Q=1;Q<c.length;++Q)L.parameters.push(E[c[Q]]);c=new g(L,o)}else{for(g=[1,96],E=c.slice(0,1),c=c.slice(1),L={i:127,p:127,j:126,f:125,d:124},Q=c.length,128>Q?g.push(Q):g.push(Q%128|128,Q>>7),Q=0;Q<c.length;++Q)g.push(L[c[Q]]);E=="v"?g.push(0):g.push(1,L[E]),c=[0,97,115,109,1,0,0,0,1],E=g.length,128>E?c.push(E):c.push(E%128|128,E>>7),c.push.apply(c,g),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),c=new WebAssembly.Module(new Uint8Array(c)),c=new WebAssembly.Instance(c,{e:{f:o}}).exports.f}En.set(h,c)}return Gn.set(o,h),h}function Zr(o){Gn.delete(En.get(o)),Ms.push(o)}function Fs(o){var c=Fi(o.length);return o.subarray||o.slice||(o=new Uint8Array(o)),Oe.set(o,c),c}function xu(o,c,h,g){var E={string:De=>{var ct=0;if(De!=null&&De!==0){var Pn=(De.length<<2)+1;ct=Xn(Pn),Kt(De,Oe,ct,Pn)}return ct},array:De=>{var ct=Xn(De.length);return ge.set(De,ct),ct}};o=d["_"+o];var L=[],Q=0;if(g)for(var ve=0;ve<g.length;ve++){var Pe=E[h[ve]];Pe?(Q===0&&(Q=ei()),L[ve]=Pe(g[ve])):L[ve]=g[ve]}return h=o.apply(null,L),h=function(De){return Q!==0&&ti(Q),c==="string"?Qe(De):c==="boolean"?!!De:De}(h)}function ra(o,c,h,g){o||(o=this),this.parent=o,this.Ra=o.Ra,this.Va=null,this.id=Xt++,this.name=c,this.mode=h,this.Ga={},this.Ha={},this.rdev=g}Object.defineProperties(ra.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(o){o?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(o){o?this.mode|=146:this.mode&=-147}}}),Si(),On=Array(4096),Go(le,"/"),an("/tmp"),an("/home"),an("/home/web_user"),(()=>{an("/dev"),Wi(259,{read:()=>0,write:(c,h,g,E)=>E}),Ai("/dev/null",259),Cn(1280,Gt),Cn(1536,Os),Ai("/dev/tty",1280),Ai("/dev/tty1",1536);var o=je();Ln("random",o),Ln("urandom",o),an("/dev/shm"),an("/dev/shm/tmp")})(),(()=>{an("/proc");var o=an("/proc/self");an("/proc/self/fd"),Go({Ra:()=>{var c=Vo(o,"fd",16895,73);return c.Ga={lookup:(h,g)=>{var E=Dn[+g];if(!E)throw new H(8);return h={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>E.path}},h.parent=h}},c}},"/proc/self/fd")})();var Eu={a:function(o,c,h,g){x("Assertion failed: "+Qe(o)+", at: "+[c?Qe(c):"unknown filename",h,g?Qe(g):"unknown function"])},h:function(o,c){try{return o=Qe(o),ks(o,c),0}catch(h){if(typeof Je>"u"||!(h instanceof H))throw h;return-h.Ka}},H:function(o,c,h){try{if(c=Qe(c),c=Jn(o,c),h&-8)return-28;var g=Bt(c,{Sa:!0}).node;return g?(o="",h&4&&(o+="r"),h&2&&(o+="w"),h&1&&(o+="x"),o&&Kr(g,o)?-2:0):-44}catch(E){if(typeof Je>"u"||!(E instanceof H))throw E;return-E.Ka}},i:function(o,c){try{var h=Dn[o];if(!h)throw new H(8);return ks(h.node,c),0}catch(g){if(typeof Je>"u"||!(g instanceof H))throw g;return-g.Ka}},g:function(o){try{var c=Dn[o];if(!c)throw new H(8);var h=c.node,g=typeof h=="string"?Bt(h,{Sa:!0}).node:h;if(!g.Ga.Oa)throw new H(63);return g.Ga.Oa(g,{timestamp:Date.now()}),0}catch(E){if(typeof Je>"u"||!(E instanceof H))throw E;return-E.Ka}},b:function(o,c,h){Yr=h;try{var g=yn(o);switch(c){case 0:var E=Bi();return 0>E?-28:qn(g,E).fd;case 1:case 2:return 0;case 3:return g.flags;case 4:return E=Bi(),g.flags|=E,0;case 5:return E=Bi(),ut[E+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return we[ia()>>2]=28,-1;default:return-28}}catch(L){if(typeof Je>"u"||!(L instanceof H))throw L;return-L.Ka}},G:function(o,c){try{var h=yn(o);return Mi(Jr,h.path,c)}catch(g){if(typeof Je>"u"||!(g instanceof H))throw g;return-g.Ka}},l:function(o,c,h){try{if(c=h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN,isNaN(c))return-61;var g=Dn[o];if(!g)throw new H(8);if(!(g.flags&2097155))throw new H(28);return Gr(g.node,c),0}catch(E){if(typeof Je>"u"||!(E instanceof H))throw E;return-E.Ka}},B:function(o,c){try{if(c===0)return-28;var h=dn("/")+1;return c<h?-68:(Kt("/",Oe,o,c),h)}catch(g){if(typeof Je>"u"||!(g instanceof H))throw g;return-g.Ka}},E:function(o,c){try{return o=Qe(o),Mi(Zo,o,c)}catch(h){if(typeof Je>"u"||!(h instanceof H))throw h;return-h.Ka}},y:function(o,c,h){try{return c=Qe(c),c=Jn(o,c),c=ue(c),c[c.length-1]==="/"&&(c=c.substr(0,c.length-1)),an(c,h),0}catch(g){if(typeof Je>"u"||!(g instanceof H))throw g;return-g.Ka}},D:function(o,c,h,g){try{c=Qe(c);var E=g&256;return c=Jn(o,c,g&4096),Mi(E?Zo:Jr,c,h)}catch(L){if(typeof Je>"u"||!(L instanceof H))throw L;return-L.Ka}},v:function(o,c,h,g){Yr=g;try{c=Qe(c),c=Jn(o,c);var E=g?Bi():0;return yr(c,h,E).fd}catch(L){if(typeof Je>"u"||!(L instanceof H))throw L;return-L.Ka}},t:function(o,c,h,g){try{if(c=Qe(c),c=Jn(o,c),0>=g)return-28;var E=Yo(c),L=Math.min(g,dn(E)),Q=ge[h+L];return Kt(E,Oe,h,g+1),ge[h+L]=Q,L}catch(ve){if(typeof Je>"u"||!(ve instanceof H))throw ve;return-ve.Ka}},s:function(o){try{return o=Qe(o),Xo(o),0}catch(c){if(typeof Je>"u"||!(c instanceof H))throw c;return-c.Ka}},F:function(o,c){try{return o=Qe(o),Mi(Jr,o,c)}catch(h){if(typeof Je>"u"||!(h instanceof H))throw h;return-h.Ka}},p:function(o,c,h){try{return c=Qe(c),c=Jn(o,c),h===0?Ti(c):h===512?Xo(c):x("Invalid flags passed to unlinkat"),0}catch(g){if(typeof Je>"u"||!(g instanceof H))throw g;return-g.Ka}},o:function(o,c,h){try{if(c=Qe(c),c=Jn(o,c,!0),h){var g=Rs(h),E=we[h+8>>2];L=1e3*g+E/1e6,h+=16,g=Rs(h),E=we[h+8>>2],Q=1e3*g+E/1e6}else var L=Date.now(),Q=L;o=L;var ve=Bt(c,{Sa:!0}).node;return ve.Ga.Oa(ve,{timestamp:Math.max(o,Q)}),0}catch(Pe){if(typeof Je>"u"||!(Pe instanceof H))throw Pe;return-Pe.Ka}},e:function(){return Date.now()},j:function(o,c){o=new Date(1e3*Rs(o)),we[c>>2]=o.getSeconds(),we[c+4>>2]=o.getMinutes(),we[c+8>>2]=o.getHours(),we[c+12>>2]=o.getDate(),we[c+16>>2]=o.getMonth(),we[c+20>>2]=o.getFullYear()-1900,we[c+24>>2]=o.getDay();var h=new Date(o.getFullYear(),0,1);we[c+28>>2]=(o.getTime()-h.getTime())/864e5|0,we[c+36>>2]=-(60*o.getTimezoneOffset());var g=new Date(o.getFullYear(),6,1).getTimezoneOffset();h=h.getTimezoneOffset(),we[c+32>>2]=(g!=h&&o.getTimezoneOffset()==Math.min(h,g))|0},w:function(o,c,h,g,E,L){try{var Q=yn(g);if(c&2&&!(h&2)&&(Q.flags&2097155)!==2)throw new H(2);if((Q.flags&2097155)===1)throw new H(2);if(!Q.Ha.bb)throw new H(43);var ve=Q.Ha.bb(Q,o,E,c,h),Pe=ve.Fb;return we[L>>2]=ve.vb,Pe}catch(De){if(typeof Je>"u"||!(De instanceof H))throw De;return-De.Ka}},x:function(o,c,h,g,E,L){try{var Q=yn(E);if(h&2){var ve=Oe.slice(o,o+c);Q&&Q.Ha.cb&&Q.Ha.cb(Q,ve,L,c,g)}}catch(Pe){if(typeof Je>"u"||!(Pe instanceof H))throw Pe;return-Pe.Ka}},n:Ds,q:function(){return 2147483648},d:ta,c:function(o){var c=Oe.length;if(o>>>=0,2147483648<o)return!1;for(var h=1;4>=h;h*=2){var g=c*(1+.2/h);g=Math.min(g,o+100663296);var E=Math;g=Math.max(o,g),E=E.min.call(E,2147483648,g+(65536-g%65536)%65536);e:{try{tt.grow(E-wt.byteLength+65535>>>16),Cs();var L=1;break e}catch{}L=void 0}if(L)return!0}return!1},z:function(o,c){var h=0;return na().forEach(function(g,E){var L=c+h;for(E=Re[o+4*E>>2]=L,L=0;L<g.length;++L)ge[E++>>0]=g.charCodeAt(L);ge[E>>0]=0,h+=g.length+1}),0},A:function(o,c){var h=na();Re[o>>2]=h.length;var g=0;return h.forEach(function(E){g+=E.length+1}),Re[c>>2]=g,0},f:function(o){try{var c=yn(o);return He(c),0}catch(h){if(typeof Je>"u"||!(h instanceof H))throw h;return h.Ka}},m:function(o,c){try{var h=yn(o);return ge[c>>0]=h.tty?2:(h.mode&61440)===16384?3:(h.mode&61440)===40960?7:4,0}catch(g){if(typeof Je>"u"||!(g instanceof H))throw g;return g.Ka}},u:function(o,c,h,g){try{e:{var E=yn(o);o=c;for(var L=c=0;L<h;L++){var Q=Re[o>>2],ve=Re[o+4>>2];o+=8;var Pe=ki(E,ge,Q,ve);if(0>Pe){var De=-1;break e}if(c+=Pe,Pe<ve)break}De=c}return Re[g>>2]=De,0}catch(ct){if(typeof Je>"u"||!(ct instanceof H))throw ct;return ct.Ka}},k:function(o,c,h,g,E){try{if(c=h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN,isNaN(c))return 61;var L=yn(o);return Xr(L,c,g),z=[L.position>>>0,(j=L.position,1<=+Math.abs(j)?0<j?(Math.min(+Math.floor(j/4294967296),4294967295)|0)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],we[E>>2]=z[0],we[E+4>>2]=z[1],L.hb&&c===0&&g===0&&(L.hb=null),0}catch(Q){if(typeof Je>"u"||!(Q instanceof H))throw Q;return Q.Ka}},C:function(o){try{var c=yn(o);return c.Ha&&c.Ha.fsync?c.Ha.fsync(c):0}catch(h){if(typeof Je>"u"||!(h instanceof H))throw h;return h.Ka}},r:function(o,c,h,g){try{e:{var E=yn(o);o=c;for(var L=c=0;L<h;L++){var Q=Re[o>>2],ve=Re[o+4>>2];o+=8;var Pe=wr(E,ge,Q,ve);if(0>Pe){var De=-1;break e}c+=Pe}De=c}return Re[g>>2]=De,0}catch(ct){if(typeof Je>"u"||!(ct instanceof H))throw ct;return ct.Ka}}};(function(){function o(E){d.asm=E.exports,tt=d.asm.I,Cs(),En=d.asm.Aa,fe.unshift(d.asm.J),Jt--,d.monitorRunDependencies&&d.monitorRunDependencies(Jt),Jt==0&&Ke&&(E=Ke,Ke=null,E())}function c(E){o(E.instance)}function h(E){return ee().then(function(L){return WebAssembly.instantiate(L,g)}).then(function(L){return L}).then(E,function(L){_e("failed to asynchronously prepare wasm: "+L),x(L)})}var g={a:Eu};if(Jt++,d.monitorRunDependencies&&d.monitorRunDependencies(Jt),d.instantiateWasm)try{return d.instantiateWasm(g,o)}catch(E){return _e("Module.instantiateWasm callback failed with error: "+E),!1}return function(){return xe||typeof WebAssembly.instantiateStreaming!="function"||O()||R.startsWith("file://")||Z||typeof fetch!="function"?h(c):fetch(R,{credentials:"same-origin"}).then(function(E){return WebAssembly.instantiateStreaming(E,g).then(c,function(L){return _e("wasm streaming compile failed: "+L),_e("falling back to ArrayBuffer instantiation"),h(c)})})}(),{}})(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.J).apply(null,arguments)},d._sqlite3_free=function(){return(d._sqlite3_free=d.asm.K).apply(null,arguments)},d._sqlite3_value_double=function(){return(d._sqlite3_value_double=d.asm.L).apply(null,arguments)},d._sqlite3_value_text=function(){return(d._sqlite3_value_text=d.asm.M).apply(null,arguments)};var ia=d.___errno_location=function(){return(ia=d.___errno_location=d.asm.N).apply(null,arguments)};d._sqlite3_prepare_v2=function(){return(d._sqlite3_prepare_v2=d.asm.O).apply(null,arguments)},d._sqlite3_step=function(){return(d._sqlite3_step=d.asm.P).apply(null,arguments)},d._sqlite3_finalize=function(){return(d._sqlite3_finalize=d.asm.Q).apply(null,arguments)},d._sqlite3_reset=function(){return(d._sqlite3_reset=d.asm.R).apply(null,arguments)},d._sqlite3_value_int=function(){return(d._sqlite3_value_int=d.asm.S).apply(null,arguments)},d._sqlite3_clear_bindings=function(){return(d._sqlite3_clear_bindings=d.asm.T).apply(null,arguments)},d._sqlite3_value_blob=function(){return(d._sqlite3_value_blob=d.asm.U).apply(null,arguments)},d._sqlite3_value_bytes=function(){return(d._sqlite3_value_bytes=d.asm.V).apply(null,arguments)},d._sqlite3_value_type=function(){return(d._sqlite3_value_type=d.asm.W).apply(null,arguments)},d._sqlite3_result_blob=function(){return(d._sqlite3_result_blob=d.asm.X).apply(null,arguments)},d._sqlite3_result_double=function(){return(d._sqlite3_result_double=d.asm.Y).apply(null,arguments)},d._sqlite3_result_error=function(){return(d._sqlite3_result_error=d.asm.Z).apply(null,arguments)},d._sqlite3_result_int=function(){return(d._sqlite3_result_int=d.asm._).apply(null,arguments)},d._sqlite3_result_int64=function(){return(d._sqlite3_result_int64=d.asm.$).apply(null,arguments)},d._sqlite3_result_null=function(){return(d._sqlite3_result_null=d.asm.aa).apply(null,arguments)},d._sqlite3_result_text=function(){return(d._sqlite3_result_text=d.asm.ba).apply(null,arguments)},d._sqlite3_sql=function(){return(d._sqlite3_sql=d.asm.ca).apply(null,arguments)},d._sqlite3_aggregate_context=function(){return(d._sqlite3_aggregate_context=d.asm.da).apply(null,arguments)},d._sqlite3_column_count=function(){return(d._sqlite3_column_count=d.asm.ea).apply(null,arguments)},d._sqlite3_data_count=function(){return(d._sqlite3_data_count=d.asm.fa).apply(null,arguments)},d._sqlite3_column_blob=function(){return(d._sqlite3_column_blob=d.asm.ga).apply(null,arguments)},d._sqlite3_column_bytes=function(){return(d._sqlite3_column_bytes=d.asm.ha).apply(null,arguments)},d._sqlite3_column_double=function(){return(d._sqlite3_column_double=d.asm.ia).apply(null,arguments)},d._sqlite3_column_text=function(){return(d._sqlite3_column_text=d.asm.ja).apply(null,arguments)},d._sqlite3_column_type=function(){return(d._sqlite3_column_type=d.asm.ka).apply(null,arguments)},d._sqlite3_column_name=function(){return(d._sqlite3_column_name=d.asm.la).apply(null,arguments)},d._sqlite3_bind_blob=function(){return(d._sqlite3_bind_blob=d.asm.ma).apply(null,arguments)},d._sqlite3_bind_double=function(){return(d._sqlite3_bind_double=d.asm.na).apply(null,arguments)},d._sqlite3_bind_int=function(){return(d._sqlite3_bind_int=d.asm.oa).apply(null,arguments)},d._sqlite3_bind_text=function(){return(d._sqlite3_bind_text=d.asm.pa).apply(null,arguments)},d._sqlite3_bind_parameter_index=function(){return(d._sqlite3_bind_parameter_index=d.asm.qa).apply(null,arguments)},d._sqlite3_normalized_sql=function(){return(d._sqlite3_normalized_sql=d.asm.ra).apply(null,arguments)},d._sqlite3_errmsg=function(){return(d._sqlite3_errmsg=d.asm.sa).apply(null,arguments)},d._sqlite3_exec=function(){return(d._sqlite3_exec=d.asm.ta).apply(null,arguments)},d._sqlite3_changes=function(){return(d._sqlite3_changes=d.asm.ua).apply(null,arguments)},d._sqlite3_close_v2=function(){return(d._sqlite3_close_v2=d.asm.va).apply(null,arguments)},d._sqlite3_create_function_v2=function(){return(d._sqlite3_create_function_v2=d.asm.wa).apply(null,arguments)},d._sqlite3_open=function(){return(d._sqlite3_open=d.asm.xa).apply(null,arguments)};var Fi=d._malloc=function(){return(Fi=d._malloc=d.asm.ya).apply(null,arguments)},Ui=d._free=function(){return(Ui=d._free=d.asm.za).apply(null,arguments)};d._RegisterExtensionFunctions=function(){return(d._RegisterExtensionFunctions=d.asm.Ba).apply(null,arguments)};var sa=d._emscripten_builtin_memalign=function(){return(sa=d._emscripten_builtin_memalign=d.asm.Ca).apply(null,arguments)},ei=d.stackSave=function(){return(ei=d.stackSave=d.asm.Da).apply(null,arguments)},ti=d.stackRestore=function(){return(ti=d.stackRestore=d.asm.Ea).apply(null,arguments)},Xn=d.stackAlloc=function(){return(Xn=d.stackAlloc=d.asm.Fa).apply(null,arguments)};d.UTF8ToString=Qe,d.stackAlloc=Xn,d.stackSave=ei,d.stackRestore=ti,d.cwrap=function(o,c,h,g){h=h||[];var E=h.every(L=>L==="number"||L==="boolean");return c!=="string"&&E&&!g?d["_"+o]:function(){return xu(o,c,h,arguments)}};var $i;Ke=function o(){$i||oa(),$i||(Ke=o)};function oa(){function o(){if(!$i&&($i=!0,d.calledRun=!0,!ze)){if(d.noFSInit||Ri||(Ri=!0,Si(),d.stdin=d.stdin,d.stdout=d.stdout,d.stderr=d.stderr,d.stdin?Ln("stdin",d.stdin):Ts("/dev/tty","/dev/stdin"),d.stdout?Ln("stdout",null,d.stdout):Ts("/dev/tty","/dev/stdout"),d.stderr?Ln("stderr",null,d.stderr):Ts("/dev/tty1","/dev/stderr"),yr("/dev/stdin",0),yr("/dev/stdout",1),yr("/dev/stderr",1)),qs=!1,re(fe),d.onRuntimeInitialized&&d.onRuntimeInitialized(),d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;){var c=d.postRun.shift();Me.unshift(c)}re(Me)}}if(!(0<Jt)){if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)zn();re(pn),0<Jt||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),o()},1)):o())}}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return oa(),w}),n)};t.exports=i,t.exports.default=i})(gm);var Zb=gm.exports;const eN=Jb(Zb),tN=""+new URL("sql-wasm-18fc45ef.wasm",import.meta.url).href,nN="sqlitevfs",Gs=new Map,rN=2048,iN=65536;class sN{constructor(e){Yt(this,"_data");Yt(this,"_size");this._data=e??new Uint8Array,this._size=this._data.length}get size(){return this._size}read(e,n){if(e>=this._size)return 0;const i=this._data.subarray(e,Math.min(this._size,e+n.length));return n.set(i),i.length}reserve(e){if(this._data.length>=e)return;const n=e-this._data.length,i=Math.min(iN,Math.max(rN,this._data.length)),a=new Uint8Array(this._data.length+Math.max(i,n));a.set(this._data),this._data=a}write(e,n){return this.reserve(e+n.length),this._data.set(n,e),this._size=Math.max(this._size,e+n.length),n.length}truncate(e){this._size=e}toUint8Array(){return this._data.subarray(0,this._size)}}const oN=self.indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,Xf=new Promise((t,e)=>{const n=oN.open(nN,1);n.onupgradeneeded=()=>n.result.createObjectStore("files",{keyPath:"name"}),n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)});async function aN(t){const e=await Xf,n=await new Promise((i,a)=>{const m=e.transaction("files","readonly").objectStore("files").get(t);m.onsuccess=()=>i(m.result),m.onerror=()=>a(m.error)});if(n&&!Gs.has(t)){const i=new sN(n.data);return Gs.set(t,i),i}else return Gs.has(t)?Gs.get(t):null}async function uN(t,e){const n=await Xf;await new Promise((i,a)=>{const m=n.transaction("files","readwrite").objectStore("files").put({name:t,data:e});m.onsuccess=()=>i(!0),m.onerror=()=>a(m.error)})}async function Kh(t){const e=await Xf;await new Promise((n,i)=>{const l=e.transaction("files","readwrite").objectStore("files").delete(t);l.onsuccess=()=>n(!0),l.onerror=()=>i(l.error)})}async function cN(t,e){if(await uN(t,e),Gs.has(t)){const n=Gs.get(t);n.truncate(0),n.write(0,e)}}var lN=t=>t==null||typeof t=="bigint"||typeof t=="number"||typeof t=="object"&&"buffer"in t?t:typeof t=="boolean"?`${t}`:t instanceof Date?t.toISOString():JSON.stringify(t),fN=t=>{if(t==null||typeof t=="bigint"||typeof t=="number"||typeof t=="object"&&"buffer"in t)return t;if(typeof t=="string"){const e=/^\d{4}-\d{2}-\d{2}[T ]\d{2}:\d{2}:\d{2}(?:\.\d+)?Z?$/;if(/^(true|false)$/.test(t))return t==="true";if(e.test(t))return new Date(t);try{return JSON.parse(t,(n,i)=>typeof i=="string"&&e.exec(i)?new Date(i):i)}catch{}}return t},ms,pd,hN=(pd=class extends zf{constructor(e){super();k(this,ms,void 0);D(this,ms,e||lN)}transformPrimitiveValueList(e){return{...e,values:e.values.map(r(this,ms))}}transformColumnUpdate(e){const{value:n}=e;if(n.kind!=="ValueNode")return super.transformColumnUpdate(e);const{value:i,...a}=n,l=r(this,ms).call(this,i);return i===l?super.transformColumnUpdate(e):super.transformColumnUpdate({...e,value:{...a,value:l}})}transformValue(e){return{...e,value:r(this,ms).call(this,e.value)}}},ms=new WeakMap,pd),au,uu,qo,md,dN=(md=class{constructor(t={}){k(this,au,void 0);k(this,uu,void 0);k(this,qo,void 0);D(this,au,new hN(t.serializer)),D(this,uu,t.deserializer||fN),D(this,qo,new WeakMap)}transformQuery(t){const{node:e,queryId:n}=t;return e.kind==="SelectQueryNode"&&r(this,qo).set(n,e.kind),r(this,au).transformNode(t.node)}async parseResult(t){return await Promise.all(t.map(async e=>{const n={...e};for(const i in n)n[i]=await r(this,uu).call(this,n[i]);return n}))}async transformResult(t){const{result:e,queryId:n}=t,{rows:i}=e,a=r(this,qo).get(n);return i&&a==="SelectQueryNode"?{...t.result,rows:await this.parseResult(i)}:t.result}},au=new WeakMap,uu=new WeakMap,qo=new WeakMap,md);function $l(t){return typeof t=="string"}function pN(t){return typeof t=="boolean"}async function Jh(t,e,n,i,a="rowid"){await Sn`
      create trigger if not exists ${Sn.raw(e)}_${Sn.raw(i)}
      after ${Sn.raw(n)}
      on ${Sn.table(e)}
      begin
        update ${Sn.table(e)}
        set ${Sn.ref(i)} = datetime('now','localtime')
        where ${Sn.ref(a)} = NEW.${Sn.ref(a)};
      end
    `.execute(t).catch(l=>{console.error(l)})}function mN(t){const e=new Map;for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const i=t[n];e.set(n,i)}return e}async function yN(t,e,n=!1){for(const[i,a]of e){const{columns:l,property:m}=a;n&&await t.schema.dropTable(i).ifExists().execute().catch();let w=t.schema.createTable(i),v="rowid",d=!1,I="createAt",F="updateAt";if(m!=null&&m.timestamp&&!pN(m.timestamp)){const{create:U,update:Y}=m.timestamp;I=U??"createAt",F=Y??"updateAt"}for(const U in l){if(!Object.prototype.hasOwnProperty.call(l,U))continue;const Y=l[U];let Z="text";const{type:b,notNull:C,defaultTo:N}=Y;switch(b){case"boolean":case"date":case"object":case"string":Z="text";break;case"increments":v=U;case"number":Z="integer";break;case"blob":Z="blob"}[I,F].includes(U)||(w=w.addColumn(U,Z,q=>b==="increments"?(d=!0,q.autoIncrement().primaryKey()):(C&&(q=q.notNull()),N!==void 0&&(q=q.defaultTo(N instanceof Function?N(Sn):N)),q)))}if(m){const U=m.primary,Y=m.unique;if(m.timestamp&&(I&&(w=w.addColumn(I,"text")),F&&(w=w.addColumn(F,"text"))),!d&&U){const Z=$l(U);v=Z?U:U[0],w=w.addPrimaryKeyConstraint(`pk_${Z?U:U.join("_")}`,Z?[U]:U)}Y==null||Y.forEach(Z=>{const b=$l(Z);v=!U&&!d?b?Z:Z[0]:v,w=w.addUniqueConstraint(`un_${b?Z:Z.join("_")}`,b?[Z]:Z)})}if(await w.ifNotExists().execute(),m!=null&&m.index)for(const U of m.index){const Y=$l(U);let Z=t.schema.createIndex(`idx_${Y?U:U.join("_")}`).on(i);Z=Y?Z.column(U):Z.columns(U),await Z.ifNotExists().execute()}m!=null&&m.timestamp&&(I&&await Jh(t,i,"insert",I,v),F&&await Jh(t,i,"update",F,v))}}var yi,cu,yd,wN=(yd=class{constructor(t){Yt(this,"kysely");k(this,yi,void 0);k(this,cu,void 0);const{dialect:e,tables:n,dropTableBeforeInit:i,onError:a,onQuery:l,plugins:m}=t,w=m??[];w.push(new dN),this.kysely=new Qa({dialect:e,log:v=>{v.level==="error"?a&&a(v.error):l&&l(v.query,v.queryDurationMillis)},plugins:w}),D(this,yi,i?0:1),D(this,cu,mN(n))}async init(t=!1){const e=t||r(this,yi)===0;return await yN(this.kysely,r(this,cu),e),D(this,yi,2),this}async checkInit(){if(r(this,yi)!==2&&await this.init(),r(this,yi)!==2)throw new Error("fail to init table")}async transaction(t,e=!1){return await this.checkInit(),await this.kysely.transaction().execute(t).catch(n=>{e&&console.error(n)})}async exec(t,e=!1){return await this.checkInit(),t(this.kysely).catch(n=>{e&&console.error(n)})}async toSQL(t){return await this.checkInit(),t(this.kysely).compile()}async raw(t){return await this.checkInit(),t(Sn).execute(this.kysely)}},yi=new WeakMap,cu=new WeakMap,yd);async function Yf(t){const e=await new wN({dialect:t,tables:{test:{columns:{id:{type:"increments"},name:{type:"string"},blobtest:{type:"blob"},createAt:{type:"date"},updateAt:{type:"date"}},property:{timestamp:!0}}}}).init();console.log("test"),console.log(await e.raw(n=>n`PRAGMA table_info(${n.table("test")});`)),console.log(await e.raw(n=>n`select last_insert_rowid()`));for(let n=0;n<100;n++)await e.transaction(i=>i.insertInto("test").values({name:`test at ${Date.now()}`,blobtest:Uint8Array.from([2,3,4,5,6,7,8])}).execute());return e.exec(n=>n.selectFrom("test").selectAll().execute())}const gN=new Hb({async database(){const t=await eN({locateFile:()=>tN});return new t.Database(await aN("sqljs"))},onWrite:{func(t){console.log(`[sqljs] write to indexeddb, length: ${t.length}`),cN("sqljs",t)},isThrottle:!0}});function bN(){const t=vy();function e(){Yf(gN).then(n=>{t.value=n})}return{result:t,run:e}}function NN(){return new Worker(""+new URL("sqljsWorker-9211ff35.js",import.meta.url).href)}function vN(){return new Worker(""+new URL("officialWasmWorker-f13be864.js",import.meta.url).href)}const Ve=0,_N=5,xt=10,bm=12,Nm=14,zi=21,Ql=25,xN=27,Gh=100,EN=101,CN=3850,ON=522,qN=1,WN=2,vm=4,IN=8,Vs=0,Zi=1,sc=2,AN=3,oc=4,TN=512,kN=1024,SN=2048,RN=16384,Xh=1,Yh=2,Zh=3,ed=4,td=5,nd=0x7fffffffffffffffn,rd=-0x8000000000000000n;class Rr extends Error{constructor(e,n){super(e),this.code=n}}const Hs=!0;function DN(t){const e={},n=t._getSqliteFree(),i=t._malloc(8),a=[i,i+4];function l(b){if(typeof b!="string")return 0;const C=t.lengthBytesUTF8(b),N=t._sqlite3_malloc(C+1);return t.stringToUTF8(b,N,C+1),N}function m(b,C){return BigInt(C)<<32n|BigInt(b)&0xffffffffn}const w=function(){const b=BigInt(Number.MAX_SAFE_INTEGER)>>32n,C=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(N,q){return q>b||q<C?m(N,q):q*4294967296+(N&2147483647)-(N&2147483648)}}(),v=new Set;function d(b){if(!v.has(b))throw new Rr("not a database",zi)}const I=new Map;function F(b){if(!I.has(b))throw new Rr("not a statement",zi)}e.bind_collection=function(b,C){F(b);const N=Array.isArray(C),q=e.bind_parameter_count(b);for(let T=1;T<=q;++T){const ne=N?T-1:e.bind_parameter_name(b,T),Ne=C[ne];Ne!==void 0&&e.bind(b,T,Ne)}return Ve},e.bind=function(b,C,N){switch(F(b),typeof N){case"number":return N===(N|0)?e.bind_int(b,C,N):e.bind_double(b,C,N);case"string":return e.bind_text(b,C,N);default:return N instanceof Uint8Array||Array.isArray(N)?e.bind_blob(b,C,N):N===null?e.bind_null(b,C):typeof N=="bigint"?e.bind_int64(b,C,N):N===void 0?xN:(console.warn("unknown binding converted to null",N),e.bind_null(b,C))}},e.bind_blob=function(){const b="sqlite3_bind_blob",C=t.cwrap(b,...Ce("nnnnn:n"));return function(N,q,T){F(N);const ne=T.byteLength??T.length,Ne=t._sqlite3_malloc(ne);t.HEAPU8.subarray(Ne).set(T);const ae=C(N,q,Ne,ne,n);return Z(b,ae,I.get(N))}}(),e.bind_parameter_count=function(){const b="sqlite3_bind_parameter_count",C=t.cwrap(b,...Ce("n:n"));return function(N){return F(N),C(N)}}(),e.bind_double=function(){const b="sqlite3_bind_double",C=t.cwrap(b,...Ce("nnn:n"));return function(N,q,T){F(N);const ne=C(N,q,T);return Z(b,ne,I.get(N))}}(),e.bind_int=function(){const b="sqlite3_bind_int",C=t.cwrap(b,...Ce("nnn:n"));return function(N,q,T){if(F(N),T>2147483647||T<-2147483648)return Ql;const ne=C(N,q,T);return Z(b,ne,I.get(N))}}(),e.bind_int64=function(){const b="sqlite3_bind_int64",C=t.cwrap(b,...Ce("nnnn:n"));return function(N,q,T){if(F(N),T>nd||T<rd)return Ql;const ne=T&0xffffffffn,Ne=T>>32n,ae=C(N,q,Number(ne),Number(Ne));return Z(b,ae,I.get(N))}}(),e.bind_null=function(){const b="sqlite3_bind_null",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){F(N);const T=C(N,q);return Z(b,T,I.get(N))}}(),e.bind_parameter_name=function(){const b="sqlite3_bind_parameter_name",C=t.cwrap(b,...Ce("n:s"));return function(N,q){return F(N),C(N,q)}}(),e.bind_text=function(){const b="sqlite3_bind_text",C=t.cwrap(b,...Ce("nnnnn:n"));return function(N,q,T){F(N);const ne=l(T),Ne=C(N,q,ne,-1,n);return Z(b,Ne,I.get(N))}}(),e.changes=function(){const b="sqlite3_changes",C=t.cwrap(b,...Ce("n:n"));return function(N){return d(N),C(N)}}(),e.close=function(){const b="sqlite3_close",C=t.cwrap(b,...Ce("n:n"),{async:Hs});return async function(N){d(N);const q=await C(N);return v.delete(N),Z(b,q,N)}}(),e.column=function(b,C){F(b);const N=e.column_type(b,C);switch(N){case ed:return e.column_blob(b,C);case Yh:return e.column_double(b,C);case Xh:const q=e.column_int(b,C),T=t.getTempRet0();return w(q,T);case td:return null;case Zh:return e.column_text(b,C);default:throw new Rr("unknown type",N)}},e.column_blob=function(){const b="sqlite3_column_blob",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){F(N);const T=e.column_bytes(N,q),ne=C(N,q);return t.HEAPU8.subarray(ne,ne+T)}}(),e.column_bytes=function(){const b="sqlite3_column_bytes",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){return F(N),C(N,q)}}(),e.column_count=function(){const b="sqlite3_column_count",C=t.cwrap(b,...Ce("n:n"));return function(N){return F(N),C(N)}}(),e.column_double=function(){const b="sqlite3_column_double",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){return F(N),C(N,q)}}(),e.column_int=function(){const b="sqlite3_column_int64",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){return F(N),C(N,q)}}(),e.column_int64=function(){const b="sqlite3_column_int64",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){F(N);const T=C(N,q),ne=t.getTempRet0();return m(T,ne)}}(),e.column_name=function(){const b="sqlite3_column_name",C=t.cwrap(b,...Ce("nn:s"));return function(N,q){return F(N),C(N,q)}}(),e.column_names=function(b){const C=[],N=e.column_count(b);for(let q=0;q<N;++q)C.push(e.column_name(b,q));return C},e.column_text=function(){const b="sqlite3_column_text",C=t.cwrap(b,...Ce("nn:s"));return function(N,q){return F(N),C(N,q)}}(),e.column_type=function(){const b="sqlite3_column_type",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){return F(N),C(N,q)}}(),e.create_function=function(b,C,N,q,T,ne,Ne,ae){if(d(b),ne&&!Ne&&!ae){const _e=t.createFunction(b,C,N,q,T,ne);return Z("sqlite3_create_function",_e,b)}if(!ne&&Ne&&ae){const _e=t.createAggregate(b,C,N,q,T,Ne,ae);return Z("sqlite3_create_function",_e,b)}throw new Rr("invalid function combination",zi)},e.create_module=function(b,C,N,q){d(b);const T=t.createModule(b,C,N,q);return Z("sqlite3_create_module",T,b)},e.data_count=function(){const b="sqlite3_data_count",C=t.cwrap(b,...Ce("n:n"));return function(N){return F(N),C(N)}}(),e.declare_vtab=function(){const b="sqlite3_declare_vtab",C=t.cwrap(b,...Ce("ns:n"));return function(N,q){const T=C(N,q);return Z("sqlite3_declare_vtab",T)}}(),e.exec=async function(b,C,N){for await(const q of e.statements(b,C)){let T;for(;await e.step(q)===Gh;)if(N){T=T??e.column_names(q);const ne=e.row(q);await N(ne,T)}}return Ve},e.finalize=function(){const b="sqlite3_finalize",C=t.cwrap(b,...Ce("n:n"),{async:Hs});return async function(N){if(!I.has(N))return zi;const q=await C(N);return I.get(N),I.delete(N),q}}(),e.get_autocommit=function(){const b="sqlite3_get_autocommit",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.libversion=function(){const b="sqlite3_libversion",C=t.cwrap(b,...Ce(":s"));return function(){return C()}}(),e.libversion_number=function(){const b="sqlite3_libversion_number",C=t.cwrap(b,...Ce(":n"));return function(){return C()}}(),e.limit=function(){const b="sqlite3_limit",C=t.cwrap(b,...Ce("nnn:n"));return function(N,q,T){return C(N,q,T)}}(),e.open_v2=function(){const b="sqlite3_open_v2",C=t.cwrap(b,...Ce("snnn:n"),{async:Hs});return async function(N,q,T){q=q||vm|WN,T=l(T);const ne=await C(N,a[0],q,T),Ne=t.getValue(a[0],"*");return v.add(Ne),t._sqlite3_free(T),t.ccall("RegisterExtensionFunctions","void",["number"],[Ne]),Z(b,ne),Ne}}(),e.prepare_v2=function(){const b="sqlite3_prepare_v2",C=t.cwrap(b,...Ce("nnnnn:n"),{async:Hs});return async function(N,q){const T=await C(N,q,-1,a[0],a[1]);Z(b,T,N);const ne=t.getValue(a[0],"*");return ne?(I.set(ne,N),{stmt:ne,sql:t.getValue(a[1],"*")}):null}}(),e.progress_handler=function(b,C,N,q){d(b),t.progressHandler(b,C,N,q)},e.reset=function(){const b="sqlite3_reset",C=t.cwrap(b,...Ce("n:n"),{async:Hs});return async function(N){F(N);const q=await C(N);return Z(b,q,I.get(N))}}(),e.result=function(b,C){switch(typeof C){case"number":C===(C|0)?e.result_int(b,C):e.result_double(b,C);break;case"string":e.result_text(b,C);break;default:if(C instanceof Uint8Array||Array.isArray(C))e.result_blob(b,C);else if(C===null)e.result_null(b);else{if(typeof C=="bigint")return e.result_int64(b,C);console.warn("unknown result converted to null",C),e.result_null(b)}break}},e.result_blob=function(){const b="sqlite3_result_blob",C=t.cwrap(b,...Ce("nnnn:n"));return function(N,q){const T=q.byteLength??q.length,ne=t._sqlite3_malloc(T);t.HEAPU8.subarray(ne).set(q),C(N,ne,T,n)}}(),e.result_double=function(){const b="sqlite3_result_double",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){C(N,q)}}(),e.result_int=function(){const b="sqlite3_result_int",C=t.cwrap(b,...Ce("nn:n"));return function(N,q){C(N,q)}}(),e.result_int64=function(){const b="sqlite3_result_int64",C=t.cwrap(b,...Ce("nnn:n"));return function(N,q){if(q>nd||q<rd)return Ql;const T=q&0xffffffffn,ne=q>>32n;C(N,Number(T),Number(ne))}}(),e.result_null=function(){const b="sqlite3_result_null",C=t.cwrap(b,...Ce("n:n"));return function(N){C(N)}}(),e.result_text=function(){const b="sqlite3_result_text",C=t.cwrap(b,...Ce("nnnn:n"));return function(N,q){const T=l(q);C(N,T,-1,n)}}(),e.row=function(b){const C=[],N=e.data_count(b);for(let q=0;q<N;++q){const T=e.column(b,q);C.push((T==null?void 0:T.buffer)===t.HEAPU8.buffer?T.slice():T)}return C},e.set_authorizer=function(b,C,N){d(b);const q=t.setAuthorizer(b,C,N);return Z("sqlite3_set_authorizer",q,b)},e.sql=function(){const b="sqlite3_sql",C=t.cwrap(b,...Ce("n:s"));return function(N){return F(N),C(N)}}(),e.statements=function(b,C){return async function*(){const N=e.str_new(b,C);let q={stmt:null,sql:e.str_value(N)};try{for(;q=await e.prepare_v2(b,q.sql);)yield q.stmt,e.finalize(q.stmt),q.stmt=null}finally{q!=null&&q.stmt&&e.finalize(q.stmt),e.str_finish(N)}}()},e.step=function(){const b="sqlite3_step",C=t.cwrap(b,...Ce("n:n"),{async:Hs});return async function(N){F(N);const q=await C(N);return Z(b,q,I.get(N),[Gh,EN])}}();let U=0;const Y=new Map;e.str_new=function(b,C=""){const N=t.lengthBytesUTF8(C),q=U++&4294967295,T={offset:t._sqlite3_malloc(N+1),bytes:N};return Y.set(q,T),t.stringToUTF8(C,T.offset,T.bytes+1),q},e.str_appendall=function(b,C){if(!Y.has(b))throw new Rr("not a string",zi);const N=Y.get(b),q=t.lengthBytesUTF8(C),T=N.bytes+q,ne=t._sqlite3_malloc(T+1);t.HEAPU8.subarray(ne,ne+T+1).set(t.HEAPU8.subarray(N.offset,N.offset+N.bytes)),t.stringToUTF8(C,ne+N.bytes,q+1),t._sqlite3_free(N.offset),N.offset=ne,N.bytes=T,Y.set(b,N)},e.str_finish=function(b){if(!Y.has(b))throw new Rr("not a string",zi);const C=Y.get(b);Y.delete(b),t._sqlite3_free(C.offset)},e.str_value=function(b){if(!Y.has(b))throw new Rr("not a string",zi);return Y.get(b).offset},e.user_data=function(b){return t.getFunctionUserData(b)},e.value=function(b){const C=e.value_type(b);switch(C){case ed:return e.value_blob(b);case Yh:return e.value_double(b);case Xh:const N=e.value_int(b),q=t.getTempRet0();return w(N,q);case td:return null;case Zh:return e.value_text(b);default:throw new Rr("unknown type",C)}},e.value_blob=function(){const b="sqlite3_value_blob",C=t.cwrap(b,...Ce("n:n"));return function(N){const q=e.value_bytes(N),T=C(N);return t.HEAPU8.subarray(T,T+q)}}(),e.value_bytes=function(){const b="sqlite3_value_bytes",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.value_double=function(){const b="sqlite3_value_double",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.value_int=function(){const b="sqlite3_value_int64",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.value_int64=function(){const b="sqlite3_value_int64",C=t.cwrap(b,...Ce("n:n"));return function(N){const q=C(N),T=t.getTempRet0();return m(q,T)}}(),e.value_text=function(){const b="sqlite3_value_text",C=t.cwrap(b,...Ce("n:s"));return function(N){return C(N)}}(),e.value_type=function(){const b="sqlite3_value_type",C=t.cwrap(b,...Ce("n:n"));return function(N){return C(N)}}(),e.vfs_register=function(b,C){const N=t.registerVFS(b,C);return Z("sqlite3_vfs_register",N)};function Z(b,C,N=null,q=[Ve]){if(q.includes(C))return C;const T=N?t.ccall("sqlite3_errmsg","string",["number"],[N]):b;throw new Rr(T,C)}return e}function Ce(t){const e=[],n=t.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null);break}const i=[];for(let a of n[1])switch(a){case"n":i.push("number");break;case"s":i.push("string");break}return e.push(i),e}var LN=(()=>{var t=import.meta.url;return function(e={}){var n;n||(n=typeof e<"u"?e:{});var i,a;n.ready=new Promise((s,u)=>{i=s,a=u});var l=Object.assign({},n),m="./this.program",w=(s,u)=>{throw u},v=typeof window=="object",d=typeof importScripts=="function",I="",F;(v||d)&&(d?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),t&&(I=t),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",d&&(F=s=>{var u=new XMLHttpRequest;return u.open("GET",s,!1),u.responseType="arraybuffer",u.send(null),new Uint8Array(u.response)}));var U=n.print||console.log.bind(console),Y=n.printErr||console.warn.bind(console);Object.assign(n,l),l=null,n.thisProgram&&(m=n.thisProgram),n.quit&&(w=n.quit);var Z;n.wasmBinary&&(Z=n.wasmBinary);var b=n.noExitRuntime||!0;typeof WebAssembly!="object"&&ut("no native wasm support detected");var C,N=!1,q,T,ne,Ne,ae,_e,xe,tt;function ze(){var s=C.buffer;n.HEAP8=T=new Int8Array(s),n.HEAP16=Ne=new Int16Array(s),n.HEAP32=ae=new Int32Array(s),n.HEAPU8=ne=new Uint8Array(s),n.HEAPU16=new Uint16Array(s),n.HEAPU32=_e=new Uint32Array(s),n.HEAPF32=xe=new Float32Array(s),n.HEAPF64=tt=new Float64Array(s)}var qt=[],Wt=[],Qe=[],Kt=[],dn=0;function wt(){var s=n.preRun.shift();qt.unshift(s)}var ge=0,Oe=null;function ut(s){throw n.onAbort&&n.onAbort(s),s="Aborted("+s+")",Y(s),N=!0,q=1,s=new WebAssembly.RuntimeError(s+". Build with -sASSERTIONS for more info."),a(s),s}function we(s){return s.startsWith("data:application/octet-stream;base64,")}var Re;if(n.locateFile){if(Re="wa-sqlite-async.wasm",!we(Re)){var Pt=Re;Re=n.locateFile?n.locateFile(Pt,I):I+Pt}}else Re=new URL(""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,self.location).href;function Tr(s){try{if(s==Re&&Z)return new Uint8Array(Z);if(F)return F(s);throw"both async and sync fetching of the wasm failed"}catch(u){ut(u)}}function Cs(s){return Z||!v&&!d||typeof fetch!="function"?Promise.resolve().then(()=>Tr(s)):fetch(s,{credentials:"same-origin"}).then(u=>{if(!u.ok)throw"failed to load wasm binary file at '"+s+"'";return u.arrayBuffer()}).catch(()=>Tr(s))}function En(s,u,f){return Cs(s).then(y=>WebAssembly.instantiate(y,u)).then(y=>y).then(f,y=>{Y("failed to asynchronously prepare wasm: "+y),ut(y)})}function pn(s,u){var f=Re;return Z||typeof WebAssembly.instantiateStreaming!="function"||we(f)||typeof fetch!="function"?En(f,s,u):fetch(f,{credentials:"same-origin"}).then(y=>WebAssembly.instantiateStreaming(y,s).then(u,function(_){return Y("wasm streaming compile failed: "+_),Y("falling back to ArrayBuffer instantiation"),En(f,s,u)}))}var fe,Me;function zn(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}function Jt(s){for(;0<s.length;)s.shift()(n)}function Ke(s,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":return T[s>>0];case"i8":return T[s>>0];case"i16":return Ne[s>>1];case"i32":return ae[s>>2];case"i64":return ae[s>>2];case"float":return xe[s>>2];case"double":return tt[s>>3];case"*":return _e[s>>2];default:ut("invalid type for getValue: "+u)}}function x(s,u,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":T[s>>0]=u;break;case"i8":T[s>>0]=u;break;case"i16":Ne[s>>1]=u;break;case"i32":ae[s>>2]=u;break;case"i64":Me=[u>>>0,(fe=u,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[s>>2]=Me[0],ae[s+4>>2]=Me[1];break;case"float":xe[s>>2]=u;break;case"double":tt[s>>3]=u;break;case"*":_e[s>>2]=u;break;default:ut("invalid type for setValue: "+f)}}var O=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function R(s,u,f){var y=u+f;for(f=u;s[f]&&!(f>=y);)++f;if(16<f-u&&s.buffer&&O)return O.decode(s.subarray(u,f));for(y="";u<f;){var _=s[u++];if(_&128){var S=s[u++]&63;if((_&224)==192)y+=String.fromCharCode((_&31)<<6|S);else{var A=s[u++]&63;_=(_&240)==224?(_&15)<<12|S<<6|A:(_&7)<<18|S<<12|A<<6|s[u++]&63,65536>_?y+=String.fromCharCode(_):(_-=65536,y+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else y+=String.fromCharCode(_)}return y}function M(s,u){return s?R(ne,s,u):""}var K=(s,u)=>{for(var f=0,y=s.length-1;0<=y;y--){var _=s[y];_==="."?s.splice(y,1):_===".."?(s.splice(y,1),f++):f&&(s.splice(y,1),f--)}if(u)for(;f;f--)s.unshift("..");return s},ee=s=>{var u=s.charAt(0)==="/",f=s.substr(-1)==="/";return(s=K(s.split("/").filter(y=>!!y),!u).join("/"))||u||(s="."),s&&f&&(s+="/"),(u?"/":"")+s},j=s=>{var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(s).slice(1);return s=u[0],u=u[1],!s&&!u?".":(u&&(u=u.substr(0,u.length-1)),s+u)},z=s=>{if(s==="/")return"/";s=ee(s),s=s.replace(/\/$/,"");var u=s.lastIndexOf("/");return u===-1?s:s.substr(u+1)};function re(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return s=>crypto.getRandomValues(s);ut("initRandomDevice")}function J(s){return(J=re())(s)}function ce(){for(var s="",u=!1,f=arguments.length-1;-1<=f&&!u;f--){if(u=0<=f?arguments[f]:"/",typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";s=u+"/"+s,u=u.charAt(0)==="/"}return s=K(s.split("/").filter(y=>!!y),!u).join("/"),(u?"/":"")+s||"."}function oe(s){for(var u=0,f=0;f<s.length;++f){var y=s.charCodeAt(f);127>=y?u++:2047>=y?u+=2:55296<=y&&57343>=y?(u+=4,++f):u+=3}return u}function ue(s,u,f,y){if(!(0<y))return 0;var _=f;y=f+y-1;for(var S=0;S<s.length;++S){var A=s.charCodeAt(S);if(55296<=A&&57343>=A){var V=s.charCodeAt(++S);A=65536+((A&1023)<<10)|V&1023}if(127>=A){if(f>=y)break;u[f++]=A}else{if(2047>=A){if(f+1>=y)break;u[f++]=192|A>>6}else{if(65535>=A){if(f+2>=y)break;u[f++]=224|A>>12}else{if(f+3>=y)break;u[f++]=240|A>>18,u[f++]=128|A>>12&63}u[f++]=128|A>>6&63}u[f++]=128|A&63}}return u[f]=0,f-_}var be=[];function Ee(s,u){be[s]={input:[],Rb:[],bc:u},Is(s,je)}var je={open:function(s){var u=be[s.node.ec];if(!u)throw new te(43);s.Sb=u,s.seekable=!1},close:function(s){s.Sb.bc.ic(s.Sb)},ic:function(s){s.Sb.bc.ic(s.Sb)},read:function(s,u,f,y){if(!s.Sb||!s.Sb.bc.zc)throw new te(60);for(var _=0,S=0;S<y;S++){try{var A=s.Sb.bc.zc(s.Sb)}catch{throw new te(29)}if(A===void 0&&_===0)throw new te(6);if(A==null)break;_++,u[f+S]=A}return _&&(s.node.timestamp=Date.now()),_},write:function(s,u,f,y){if(!s.Sb||!s.Sb.bc.sc)throw new te(60);try{for(var _=0;_<y;_++)s.Sb.bc.sc(s.Sb,u[f+_])}catch{throw new te(29)}return y&&(s.node.timestamp=Date.now()),_}},Le={zc:function(s){if(!s.input.length){var u=null;if(typeof window<"u"&&typeof window.prompt=="function"?(u=window.prompt("Input: "),u!==null&&(u+=`
`)):typeof readline=="function"&&(u=readline(),u!==null&&(u+=`
`)),!u)return null;var f=Array(oe(u)+1);u=ue(u,f,0,f.length),f.length=u,s.input=f}return s.input.shift()},sc:function(s,u){u===null||u===10?(U(R(s.Rb,0)),s.Rb=[]):u!=0&&s.Rb.push(u)},ic:function(s){s.Rb&&0<s.Rb.length&&(U(R(s.Rb,0)),s.Rb=[])}},it={sc:function(s,u){u===null||u===10?(Y(R(s.Rb,0)),s.Rb=[]):u!=0&&s.Rb.push(u)},ic:function(s){s.Rb&&0<s.Rb.length&&(Y(R(s.Rb,0)),s.Rb=[])}},me={Vb:null,Ub:function(){return me.createNode(null,"/",16895,0)},createNode:function(s,u,f,y){if((f&61440)===24576||(f&61440)===4096)throw new te(63);return me.Vb||(me.Vb={dir:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb,cc:me.Cb.cc,jc:me.Cb.jc,Cc:me.Cb.Cc,oc:me.Cb.oc,mc:me.Cb.mc,Bc:me.Cb.Bc,nc:me.Cb.nc},stream:{Zb:me.Mb.Zb}},file:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb},stream:{Zb:me.Mb.Zb,read:me.Mb.read,write:me.Mb.write,vc:me.Mb.vc,kc:me.Mb.kc,lc:me.Mb.lc}},link:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb,fc:me.Cb.fc},stream:{}},wc:{node:{Tb:me.Cb.Tb,Qb:me.Cb.Qb},stream:Kr}}),f=Bt(s,u,f,y),(f.mode&61440)===16384?(f.Cb=me.Vb.dir.node,f.Mb=me.Vb.dir.stream,f.Nb={}):(f.mode&61440)===32768?(f.Cb=me.Vb.file.node,f.Mb=me.Vb.file.stream,f.Pb=0,f.Nb=null):(f.mode&61440)===40960?(f.Cb=me.Vb.link.node,f.Mb=me.Vb.link.stream):(f.mode&61440)===8192&&(f.Cb=me.Vb.wc.node,f.Mb=me.Vb.wc.stream),f.timestamp=Date.now(),s&&(s.Nb[u]=f,s.timestamp=f.timestamp),f},Uc:function(s){return s.Nb?s.Nb.subarray?s.Nb.subarray(0,s.Pb):new Uint8Array(s.Nb):new Uint8Array(0)},xc:function(s,u){var f=s.Nb?s.Nb.length:0;f>=u||(u=Math.max(u,f*(1048576>f?2:1.125)>>>0),f!=0&&(u=Math.max(u,256)),f=s.Nb,s.Nb=new Uint8Array(u),0<s.Pb&&s.Nb.set(f.subarray(0,s.Pb),0))},Qc:function(s,u){if(s.Pb!=u)if(u==0)s.Nb=null,s.Pb=0;else{var f=s.Nb;s.Nb=new Uint8Array(u),f&&s.Nb.set(f.subarray(0,Math.min(u,s.Pb))),s.Pb=u}},Cb:{Tb:function(s){var u={};return u.Ic=(s.mode&61440)===8192?s.id:1,u.qc=s.id,u.mode=s.mode,u.Oc=1,u.uid=0,u.Lc=0,u.ec=s.ec,(s.mode&61440)===16384?u.size=4096:(s.mode&61440)===32768?u.size=s.Pb:(s.mode&61440)===40960?u.size=s.link.length:u.size=0,u.Ec=new Date(s.timestamp),u.Nc=new Date(s.timestamp),u.Hc=new Date(s.timestamp),u.Fc=4096,u.Gc=Math.ceil(u.size/u.Fc),u},Qb:function(s,u){u.mode!==void 0&&(s.mode=u.mode),u.timestamp!==void 0&&(s.timestamp=u.timestamp),u.size!==void 0&&me.Qc(s,u.size)},cc:function(){throw Dn[44]},jc:function(s,u,f,y){return me.createNode(s,u,f,y)},Cc:function(s,u,f){if((s.mode&61440)===16384){try{var y=Kn(u,f)}catch{}if(y)for(var _ in y.Nb)throw new te(55)}delete s.parent.Nb[s.name],s.parent.timestamp=Date.now(),s.name=f,u.Nb[f]=s,u.timestamp=s.parent.timestamp,s.parent=u},oc:function(s,u){delete s.Nb[u],s.timestamp=Date.now()},mc:function(s,u){var f=Kn(s,u),y;for(y in f.Nb)throw new te(55);delete s.Nb[u],s.timestamp=Date.now()},Bc:function(s){var u=[".",".."],f;for(f in s.Nb)s.Nb.hasOwnProperty(f)&&u.push(f);return u},nc:function(s,u,f){return s=me.createNode(s,u,41471,0),s.link=f,s},fc:function(s){if((s.mode&61440)!==40960)throw new te(28);return s.link}},Mb:{read:function(s,u,f,y,_){var S=s.node.Nb;if(_>=s.node.Pb)return 0;if(s=Math.min(s.node.Pb-_,y),8<s&&S.subarray)u.set(S.subarray(_,_+s),f);else for(y=0;y<s;y++)u[f+y]=S[_+y];return s},write:function(s,u,f,y,_,S){if(u.buffer===T.buffer&&(S=!1),!y)return 0;if(s=s.node,s.timestamp=Date.now(),u.subarray&&(!s.Nb||s.Nb.subarray)){if(S)return s.Nb=u.subarray(f,f+y),s.Pb=y;if(s.Pb===0&&_===0)return s.Nb=u.slice(f,f+y),s.Pb=y;if(_+y<=s.Pb)return s.Nb.set(u.subarray(f,f+y),_),y}if(me.xc(s,_+y),s.Nb.subarray&&u.subarray)s.Nb.set(u.subarray(f,f+y),_);else for(S=0;S<y;S++)s.Nb[_+S]=u[f+S];return s.Pb=Math.max(s.Pb,_+y),y},Zb:function(s,u,f){if(f===1?u+=s.position:f===2&&(s.node.mode&61440)===32768&&(u+=s.node.Pb),0>u)throw new te(28);return u},vc:function(s,u,f){me.xc(s.node,u+f),s.node.Pb=Math.max(s.node.Pb,u+f)},kc:function(s,u,f,y,_){if((s.node.mode&61440)!==32768)throw new te(43);if(s=s.node.Nb,_&2||s.buffer!==T.buffer){if((0<f||f+u<s.length)&&(s.subarray?s=s.subarray(f,f+u):s=Array.prototype.slice.call(s,f,f+u)),f=!0,u=65536*Math.ceil(u/65536),(_=Du(65536,u))?(ne.fill(0,_,_+u),u=_):u=0,!u)throw new te(48);T.set(s,u)}else f=!1,u=s.byteOffset;return{Pc:u,Dc:f}},lc:function(s,u,f,y){return me.Mb.write(s,u,0,y,f,!1),0}}},Cn=null,Oi={},Gt=[],Os=1,le=null,Mt=!0,te=null,Dn={},Xt=(s,u={})=>{if(s=ce(s),!s)return{path:"",node:null};if(u=Object.assign({yc:!0,tc:0},u),8<u.tc)throw new te(32);s=s.split("/").filter(A=>!!A);for(var f=Cn,y="/",_=0;_<s.length;_++){var S=_===s.length-1;if(S&&u.parent)break;if(f=Kn(f,s[_]),y=ee(y+"/"+s[_]),f.$b&&(!S||S&&u.yc)&&(f=f.$b.root),!S||u.Yb){for(S=0;(f.mode&61440)===40960;)if(f=Ii(y),y=ce(j(y),f),f=Xt(y,{tc:u.tc+1}).node,40<S++)throw new te(32)}}return{path:y,node:f}},On=s=>{for(var u;;){if(s===s.parent)return s=s.Ub.Ac,u?s[s.length-1]!=="/"?s+"/"+u:s+u:s;u=u?s.name+"/"+u:s.name,s=s.parent}},qs=(s,u)=>{for(var f=0,y=0;y<u.length;y++)f=(f<<5)-f+u.charCodeAt(y)|0;return(s+f>>>0)%le.length},H=s=>{var u=qs(s.parent.id,s.name);if(le[u]===s)le[u]=s.ac;else for(u=le[u];u;){if(u.ac===s){u.ac=s.ac;break}u=u.ac}},Kn=(s,u)=>{var f;if(f=(f=kr(s,"x"))?f:s.Cb.cc?0:2)throw new te(f,s);for(f=le[qs(s.id,u)];f;f=f.ac){var y=f.name;if(f.parent.id===s.id&&y===u)return f}return s.Cb.cc(s,u)},Bt=(s,u,f,y)=>(s=new ku(s,u,f,y),u=qs(s.parent.id,s.name),s.ac=le[u],le[u]=s),qi={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Ws=s=>{var u=["r","w","rw"][s&3];return s&512&&(u+="w"),u},kr=(s,u)=>{if(Mt)return 0;if(!u.includes("r")||s.mode&292){if(u.includes("w")&&!(s.mode&146)||u.includes("x")&&!(s.mode&73))return 2}else return 2;return 0},mr=(s,u)=>{try{return Kn(s,u),20}catch{}return kr(s,"wx")},Vo=(s,u,f)=>{try{var y=Kn(s,u)}catch(_){return _.Ob}if(s=kr(s,"wx"))return s;if(f){if((y.mode&61440)!==16384)return 54;if(y===y.parent||On(y)==="/")return 10}else if((y.mode&61440)===16384)return 31;return 0},Ol=(s=0)=>{for(;4096>=s;s++)if(!Gt[s])return s;throw new te(33)},zo=(s,u)=>(Xr||(Xr=function(){this.hc={}},Xr.prototype={},Object.defineProperties(Xr.prototype,{object:{get:function(){return this.node},set:function(f){this.node=f}},flags:{get:function(){return this.hc.flags},set:function(f){this.hc.flags=f}},position:{get:function(){return this.hc.position},set:function(f){this.hc.position=f}}})),s=Object.assign(new Xr,s),u=Ol(u),s.Wb=u,Gt[u]=s),Kr={open:s=>{s.Mb=Oi[s.node.ec].Mb,s.Mb.open&&s.Mb.open(s)},Zb:()=>{throw new te(70)}},Is=(s,u)=>{Oi[s]={Mb:u}},Ko=(s,u)=>{var f=u==="/",y=!u;if(f&&Cn)throw new te(10);if(!f&&!y){var _=Xt(u,{yc:!1});if(u=_.path,_=_.node,_.$b)throw new te(10);if((_.mode&61440)!==16384)throw new te(54)}u={type:s,Wc:{},Ac:u,Mc:[]},s=s.Ub(u),s.Ub=u,u.root=s,f?Cn=s:_&&(_.$b=u,_.Ub&&_.Ub.Mc.push(u))},Jo=(s,u,f)=>{var y=Xt(s,{parent:!0}).node;if(s=z(s),!s||s==="."||s==="..")throw new te(28);var _=mr(y,s);if(_)throw new te(_);if(!y.Cb.jc)throw new te(63);return y.Cb.jc(y,s,u,f)},qn=(s,u)=>Jo(s,(u!==void 0?u:511)&1023|16384,0),As=(s,u,f)=>{typeof f>"u"&&(f=u,u=438),Jo(s,u|8192,f)},Wi=(s,u)=>{if(!ce(s))throw new te(44);var f=Xt(u,{parent:!0}).node;if(!f)throw new te(44);u=z(u);var y=mr(f,u);if(y)throw new te(y);if(!f.Cb.nc)throw new te(63);f.Cb.nc(f,u,s)},Go=s=>{var u=Xt(s,{parent:!0}).node;s=z(s);var f=Kn(u,s),y=Vo(u,s,!0);if(y)throw new te(y);if(!u.Cb.mc)throw new te(63);if(f.$b)throw new te(10);u.Cb.mc(u,s),H(f)},Ii=s=>{if(s=Xt(s).node,!s)throw new te(44);if(!s.Cb.fc)throw new te(28);return ce(On(s.parent),s.Cb.fc(s))},an=(s,u)=>{if(s=Xt(s,{Yb:!u}).node,!s)throw new te(44);if(!s.Cb.Tb)throw new te(63);return s.Cb.Tb(s)},Ai=s=>an(s,!0),Ts=(s,u)=>{if(s=typeof s=="string"?Xt(s,{Yb:!0}).node:s,!s.Cb.Qb)throw new te(63);s.Cb.Qb(s,{mode:u&4095|s.mode&-4096,timestamp:Date.now()})},Xo=(s,u)=>{if(0>u)throw new te(28);if(s=typeof s=="string"?Xt(s,{Yb:!0}).node:s,!s.Cb.Qb)throw new te(63);if((s.mode&61440)===16384)throw new te(31);if((s.mode&61440)!==32768)throw new te(28);var f=kr(s,"w");if(f)throw new te(f);s.Cb.Qb(s,{size:u,timestamp:Date.now()})},Ti=(s,u,f)=>{if(s==="")throw new te(44);if(typeof u=="string"){var y=qi[u];if(typeof y>"u")throw Error("Unknown file open mode: "+u);u=y}if(f=u&64?(typeof f>"u"?438:f)&4095|32768:0,typeof s=="object")var _=s;else{s=ee(s);try{_=Xt(s,{Yb:!(u&131072)}).node}catch{}}if(y=!1,u&64)if(_){if(u&128)throw new te(20)}else _=Jo(s,f,0),y=!0;if(!_)throw new te(44);if((_.mode&61440)===8192&&(u&=-513),u&65536&&(_.mode&61440)!==16384)throw new te(54);if(!y&&(f=_?(_.mode&61440)===40960?32:(_.mode&61440)===16384&&(Ws(u)!=="r"||u&512)?31:kr(_,Ws(u)):44))throw new te(f);return u&512&&!y&&Xo(_,0),u&=-131713,_=zo({node:_,path:On(_),flags:u,seekable:!0,position:0,Mb:_.Mb,Tc:[],error:!1}),_.Mb.open&&_.Mb.open(_),!n.logReadFiles||u&1||(ki||(ki={}),s in ki||(ki[s]=1)),_},Yo=(s,u,f)=>{if(s.Wb===null)throw new te(8);if(!s.seekable||!s.Mb.Zb)throw new te(70);if(f!=0&&f!=1&&f!=2)throw new te(28);s.position=s.Mb.Zb(s,u,f),s.Tc=[]},Jr=()=>{te||(te=function(s,u){this.name="ErrnoError",this.node=u,this.Rc=function(f){this.Ob=f},this.Rc(s),this.message="FS error"},te.prototype=Error(),te.prototype.constructor=te,[44].forEach(s=>{Dn[s]=new te(s),Dn[s].stack="<generic error, no stack>"}))},Zo,ks=(s,u)=>{var f=0;return s&&(f|=365),u&&(f|=146),f},Gr=(s,u,f)=>{s=ee("/dev/"+s);var y=ks(!!u,!!f);yr||(yr=64);var _=yr++<<8|0;Is(_,{open:S=>{S.seekable=!1},close:()=>{f&&f.buffer&&f.buffer.length&&f(10)},read:(S,A,V,P)=>{for(var B=0,ie=0;ie<P;ie++){try{var X=u()}catch{throw new te(29)}if(X===void 0&&B===0)throw new te(6);if(X==null)break;B++,A[V+ie]=X}return B&&(S.node.timestamp=Date.now()),B},write:(S,A,V,P)=>{for(var B=0;B<P;B++)try{f(A[V+B])}catch{throw new te(29)}return P&&(S.node.timestamp=Date.now()),B}}),As(s,y,_)},yr,He={},Xr,ki;function wr(s,u,f){if(u.charAt(0)==="/")return u;if(s=s===-100?"/":mn(s).path,u.length==0){if(!f)throw new te(44);return s}return ee(s+"/"+u)}function Ss(s,u,f){try{var y=s(u)}catch(S){if(S&&S.node&&ee(u)!==ee(On(S.node)))return-54;throw S}ae[f>>2]=y.Ic,ae[f+8>>2]=y.qc,ae[f+12>>2]=y.mode,_e[f+16>>2]=y.Oc,ae[f+20>>2]=y.uid,ae[f+24>>2]=y.Lc,ae[f+28>>2]=y.ec,Me=[y.size>>>0,(fe=y.size,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+40>>2]=Me[0],ae[f+44>>2]=Me[1],ae[f+48>>2]=4096,ae[f+52>>2]=y.Gc,s=y.Ec.getTime(),u=y.Nc.getTime();var _=y.Hc.getTime();return Me=[Math.floor(s/1e3)>>>0,(fe=Math.floor(s/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+56>>2]=Me[0],ae[f+60>>2]=Me[1],_e[f+64>>2]=s%1e3*1e3,Me=[Math.floor(u/1e3)>>>0,(fe=Math.floor(u/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+72>>2]=Me[0],ae[f+76>>2]=Me[1],_e[f+80>>2]=u%1e3*1e3,Me=[Math.floor(_/1e3)>>>0,(fe=Math.floor(_/1e3),1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+88>>2]=Me[0],ae[f+92>>2]=Me[1],_e[f+96>>2]=_%1e3*1e3,Me=[y.qc>>>0,(fe=y.qc,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[f+104>>2]=Me[0],ae[f+108>>2]=Me[1],0}var Si=void 0;function Ri(){return Si+=4,ae[Si-4>>2]}function mn(s){if(s=Gt[s],!s)throw new te(8);return s}function Ln(s,u,f){return ue(s,ne,u,f)}function Di(s){return _e[s>>2]+4294967296*ae[s+4>>2]}var Je=[0,31,60,91,121,152,182,213,244,274,305,335],Li=[0,31,59,90,120,151,181,212,243,273,304,334];function Pi(s){var u=oe(s)+1,f=fa(u);return f&&Ln(s,f,u),f}var Jn={};function Mi(){if(!Yr){var s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"},u;for(u in Jn)Jn[u]===void 0?delete s[u]:s[u]=Jn[u];var f=[];for(u in s)f.push(u+"="+s[u]);Yr=f}return Yr}var Yr;function Bi(){}function yn(){}function Rs(){}function ea(){}function _u(){}function Ds(){}function ta(){}function Ls(){}function na(){}function Ps(){}function Gn(){}function Ms(){}function Bs(){}function Zr(){}function Fs(){}function xu(){}function ra(){}function Eu(){}function ia(){}function Fi(){}function Ui(){}function sa(){}function ei(){}function ti(){}function Xn(){}function $i(){}function oa(){}function o(){}function c(){}function h(){}function g(){}function E(){}function L(){}function Q(){}function ve(){}function Pe(){}function De(){}function ct(){}function Pn(){}function aa(s){q=s,b||0<dn||(n.onExit&&n.onExit(s),N=!0),w(s,new zn(s))}function ua(s){s instanceof zn||s=="unwind"||w(1,s)}function Qi(s){try{s()}catch(u){ut(u)}}function ql(s){var u={},f;for(f in s)(function(y){var _=s[y];u[y]=typeof _=="function"?function(){Us.push(y);try{return _.apply(null,arguments)}finally{N||(Us.pop()===y||ut(),Mn&&Yn===1&&Us.length===0&&(Yn=0,Qi(Bu),typeof Fibers<"u"&&Fibers.Xc()))}}:_})(f);return u}var Yn=0,Mn=null,Cu=0,Us=[],Ou={},qu={},Wl=0,ca=null,Il=[];function Wu(){return new Promise((s,u)=>{ca={resolve:s,reject:u}})}function Al(){var s=fa(12300),u=s+12;ae[s>>2]=u,ae[s+4>>2]=u+12288,u=Us[0];var f=Ou[u];return f===void 0&&(f=Wl++,Ou[u]=f,qu[f]=u),ae[s+8>>2]=f,s}function Iu(s){if(!N){if(Yn===0){var u=!1,f=!1;s((y=0)=>{if(!N&&(Cu=y,u=!0,f)){Yn=2,Qi(()=>ji(Mn)),y=!1;try{var _=(0,n.asm[qu[ae[Mn+8>>2]]])()}catch(V){_=V,y=!0}var S=!1;if(!Mn){var A=ca;A&&(ca=null,(y?A.reject:A.resolve)(_),S=!0)}if(y&&!S)throw _}}),f=!0,u||(Yn=1,Mn=Al(),Qi(()=>Mu(Mn)))}else Yn===2?(Yn=0,Qi(pa),Su(Mn),Mn=null,Il.forEach(y=>{if(!N)try{if(y(),!(b||0<dn))try{q=y=q,aa(y)}catch(_){ua(_)}}catch(_){ua(_)}})):ut("invalid state: "+Yn);return Cu}}function Au(s){return Iu(u=>{s().then(u)})}var Tu={};function Bn(s,u,f,y,_){function S(X){return--dn,P!==0&&ha(P),u==="string"?M(X):u==="boolean"?!!X:X}var A={string:X=>{var se=0;if(X!=null&&X!==0){se=oe(X)+1;var Ae=da(se);Ln(X,Ae,se),se=Ae}return se},array:X=>{var se=da(X.length);return T.set(X,se),se}};s=n["_"+s];var V=[],P=0;if(y)for(var B=0;B<y.length;B++){var ie=A[f[B]];ie?(P===0&&(P=Pu()),V[B]=ie(y[B])):V[B]=y[B]}return f=Mn,y=s.apply(null,V),dn+=1,_=_&&_.async,Mn!=f?Wu().then(S):(y=S(y),_?Promise.resolve(y):y)}function ku(s,u,f,y){s||(s=this),this.parent=s,this.Ub=s.Ub,this.$b=null,this.id=Os++,this.name=u,this.mode=f,this.Cb={},this.Mb={},this.ec=y}Object.defineProperties(ku.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(s){s?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(s){s?this.mode|=146:this.mode&=-147}}}),Jr(),le=Array(4096),Ko(me,"/"),qn("/tmp"),qn("/home"),qn("/home/web_user"),(()=>{qn("/dev"),Is(259,{read:()=>0,write:(y,_,S,A)=>A}),As("/dev/null",259),Ee(1280,Le),Ee(1536,it),As("/dev/tty",1280),As("/dev/tty1",1536);var s=new Uint8Array(1024),u=0,f=()=>(u===0&&(u=J(s).byteLength),s[--u]);Gr("random",f),Gr("urandom",f),qn("/dev/shm"),qn("/dev/shm/tmp")})(),(()=>{qn("/proc");var s=qn("/proc/self");qn("/proc/self/fd"),Ko({Ub:()=>{var u=Bt(s,"fd",16895,73);return u.Cb={cc:(f,y)=>{var _=Gt[+y];if(!_)throw new te(8);return f={parent:null,Ub:{Ac:"fake"},Cb:{fc:()=>_.path}},f.parent=f}},u}},"/proc/self/fd")})(),function(){const s=new Map;n.setAuthorizer=function(u,f,y){return f?s.set(u,{f,uc:y}):s.delete(u),Bn("set_authorizer","number",["number"],[u])},Bi=function(u,f,y,_,S,A){if(s.has(u)){const{f:V,uc:P}=s.get(u);return V(P,f,y?M(y):null,_?M(_):null,S?M(S):null,A?M(A):null)}return 0}}(),function(){const s=new Map,u=new Map;n.createFunction=function(f,y,_,S,A,V){const P=s.size;return s.set(P,{f:V,Xb:A}),Bn("create_function","number","number string number number number number".split(" "),[f,y,_,S,P,0])},n.createAggregate=function(f,y,_,S,A,V,P){const B=s.size;return s.set(B,{step:V,Jc:P,Xb:A}),Bn("create_function","number","number string number number number number".split(" "),[f,y,_,S,B,1])},n.getFunctionUserData=function(f){return u.get(f)},Rs=function(f,y,_,S){f=s.get(f),u.set(y,f.Xb),f.f(y,new Uint32Array(ne.buffer,S,_)),u.delete(y)},_u=function(f,y,_,S){f=s.get(f),u.set(y,f.Xb),f.step(y,new Uint32Array(ne.buffer,S,_)),u.delete(y)},yn=function(f,y){f=s.get(f),u.set(y,f.Xb),f.Jc(y),u.delete(y)}}(),function(){const s=new Map;n.progressHandler=function(u,f,y,_){return y?s.set(u,{f:y,uc:_}):s.delete(u),Bn("progress_handler",null,["number","number"],[u,f])},ea=function(u){if(s.has(u)){const{f,uc:y}=s.get(u);return f(y)}return 0}}(),function(){function s(P,B){const ie=`get${P}`,X=`set${P}`;return new Proxy(new DataView(ne.buffer,B,P==="Int32"?4:8),{get(se,Ae){if(Ae===ie)return function(Ge,At){if(!At)throw Error("must be little endian");return se[Ae](Ge,At)};if(Ae===X)return function(Ge,At,vt){if(!vt)throw Error("must be little endian");return se[Ae](Ge,At,vt)};if(typeof Ae=="string"&&Ae.match(/^(get)|(set)/))throw Error("invalid type");return se[Ae]}})}const u=typeof Tu=="object",f=new Map,y=new Map,_=new Map,S=u?new Set:null,A=u?new Set:null,V=new Map;sa=function(P,B,ie,X){V.set(M(P),{size:B,dc:Array.from(new Uint32Array(ne.buffer,X,ie))})},n.createModule=function(P,B,ie,X){u&&(ie.handleAsync=Au);const se=f.size;return f.set(se,{module:ie,Xb:X}),X=0,ie.xCreate&&(X|=1),ie.xConnect&&(X|=2),ie.xBestIndex&&(X|=4),ie.xDisconnect&&(X|=8),ie.xDestroy&&(X|=16),ie.xOpen&&(X|=32),ie.xClose&&(X|=64),ie.xFilter&&(X|=128),ie.xNext&&(X|=256),ie.xEof&&(X|=512),ie.xColumn&&(X|=1024),ie.xRowid&&(X|=2048),ie.xUpdate&&(X|=4096),ie.xBegin&&(X|=8192),ie.xSync&&(X|=16384),ie.xCommit&&(X|=32768),ie.xRollback&&(X|=65536),ie.xFindFunction&&(X|=131072),ie.xRename&&(X|=262144),Bn("create_module","number",["number","string","number","number"],[P,B,se,X])},Ms=function(P,B,ie,X,se,Ae){if(B=f.get(B),y.set(se,B),u){S.delete(se);for(const Ge of S)y.delete(Ge)}return X=Array.from(new Uint32Array(ne.buffer,X,ie)).map(Ge=>M(Ge)),B.module.xCreate(P,B.Xb,X,se,s("Int32",Ae))},Gn=function(P,B,ie,X,se,Ae){if(B=f.get(B),y.set(se,B),u){S.delete(se);for(const Ge of S)y.delete(Ge)}return X=Array.from(new Uint32Array(ne.buffer,X,ie)).map(Ge=>M(Ge)),B.module.xConnect(P,B.Xb,X,se,s("Int32",Ae))},ta=function(P,B){var ie=y.get(P),X=V.get("sqlite3_index_info").dc;const se={};se.nConstraint=Ke(B+X[0],"i32"),se.aConstraint=[];for(var Ae=Ke(B+X[1],"*"),Ge=V.get("sqlite3_index_constraint").size,At=0;At<se.nConstraint;++At){var vt=se.aConstraint,wn=vt.push,Ft=Ae+At*Ge,Qs=V.get("sqlite3_index_constraint").dc,ni={};ni.iColumn=Ke(Ft+Qs[0],"i32"),ni.op=Ke(Ft+Qs[1],"i8"),ni.usable=!!Ke(Ft+Qs[2],"i8"),wn.call(vt,ni)}for(se.nOrderBy=Ke(B+X[2],"i32"),se.aOrderBy=[],Ae=Ke(B+X[3],"*"),Ge=V.get("sqlite3_index_orderby").size,At=0;At<se.nOrderBy;++At)vt=se.aOrderBy,wn=vt.push,Ft=Ae+At*Ge,Qs=V.get("sqlite3_index_orderby").dc,ni={},ni.iColumn=Ke(Ft+Qs[0],"i32"),ni.desc=!!Ke(Ft+Qs[1],"i8"),wn.call(vt,ni);for(se.aConstraintUsage=[],Ae=0;Ae<se.nConstraint;++Ae)se.aConstraintUsage.push({argvIndex:0,omit:!1});for(se.idxNum=Ke(B+X[5],"i32"),se.idxStr=null,se.orderByConsumed=!!Ke(B+X[8],"i8"),se.estimatedCost=Ke(B+X[9],"double"),se.estimatedRows=Ke(B+X[10],"i64"),se.idxFlags=Ke(B+X[11],"i32"),se.colUsed=Ke(B+X[12],"i64"),P=ie.module.xBestIndex(P,se),ie=V.get("sqlite3_index_info").dc,X=Ke(B+ie[4],"*"),Ae=V.get("sqlite3_index_constraint_usage").size,wn=0;wn<se.nConstraint;++wn)Ge=X+wn*Ae,vt=se.aConstraintUsage[wn],Ft=V.get("sqlite3_index_constraint_usage").dc,x(Ge+Ft[0],vt.argvIndex,"i32"),x(Ge+Ft[1],vt.omit?1:0,"i8");return x(B+ie[5],se.idxNum,"i32"),typeof se.idxStr=="string"&&(X=oe(se.idxStr),Ae=Bn("sqlite3_malloc","number",["number"],[X+1]),Ln(se.idxStr,Ae,X+1),x(B+ie[6],Ae,"*"),x(B+ie[7],1,"i32")),x(B+ie[8],se.orderByConsumed,"i32"),x(B+ie[9],se.estimatedCost,"double"),x(B+ie[10],se.estimatedRows,"i64"),x(B+ie[11],se.idxFlags,"i32"),P},Zr=function(P){const B=y.get(P);return u?S.add(P):y.delete(P),B.module.xDisconnect(P)},Bs=function(P){const B=y.get(P);return u?S.add(P):y.delete(P),B.module.xDestroy(P)},Eu=function(P,B){const ie=y.get(P);if(_.set(B,ie),u){A.delete(B);for(const X of A)_.delete(X)}return ie.module.xOpen(P,B)},Ls=function(P){const B=_.get(P);return u?A.add(P):_.delete(P),B.module.xClose(P)},Fs=function(P){return _.get(P).module.xEof(P)?1:0},xu=function(P,B,ie,X,se){const Ae=_.get(P);return ie=ie?M(ie):null,se=new Uint32Array(ne.buffer,se,X),Ae.module.xFilter(P,B,ie,se)},ra=function(P){return _.get(P).module.xNext(P)},na=function(P,B,ie){return _.get(P).module.xColumn(P,B,ie)},Ui=function(P,B){return _.get(P).module.xRowid(P,s("BigInt64",B))},ti=function(P,B,ie,X){const se=y.get(P);return ie=new Uint32Array(ne.buffer,ie,B),se.module.xUpdate(P,ie,s("BigInt64",X))},Ds=function(P){return y.get(P).module.xBegin(P)},ei=function(P){return y.get(P).module.xSync(P)},Ps=function(P){return y.get(P).module.xCommit(P)},Fi=function(P){return y.get(P).module.xRollback(P)},ia=function(P,B){const ie=y.get(P);return B=M(B),ie.module.xRename(P,B)}}(),function(){function s(A,V){const P=`get${A}`,B=`set${A}`;return new Proxy(new DataView(ne.buffer,V,A==="Int32"?4:8),{get(ie,X){if(X===P)return function(se,Ae){if(!Ae)throw Error("must be little endian");return ie[X](se,Ae)};if(X===B)return function(se,Ae,Ge){if(!Ge)throw Error("must be little endian");return ie[X](se,Ae,Ge)};if(typeof X=="string"&&X.match(/^(get)|(set)/))throw Error("invalid type");return ie[X]}})}function u(A){return A>>=2,_e[A]+_e[A+1]*2**32}const f=typeof Tu=="object",y=new Map,_=new Map;n.registerVFS=function(A,V){if(Bn("sqlite3_vfs_find","number",["string"],[A.name]))throw Error(`VFS '${A.name}' already registered`);f&&(A.handleAsync=Au);var P=A.Vc??64;const B=n._malloc(4);return V=Bn("register_vfs","number",["string","number","number","number"],[A.name,P,V?1:0,B]),V||(P=Ke(B,"*"),y.set(P,A)),n._free(B),V};const S=f?new Set:null;oa=function(A){const V=_.get(A);return f?S.add(A):_.delete(A),V.xClose(A)},Q=function(A,V,P,B){return _.get(A).xRead(A,ne.subarray(V,V+P),u(B))},Pn=function(A,V,P,B){return _.get(A).xWrite(A,ne.subarray(V,V+P),u(B))},De=function(A,V){return _.get(A).xTruncate(A,u(V))},Pe=function(A,V){return _.get(A).xSync(A,V)},g=function(A,V){const P=_.get(A);return V=s("BigInt64",V),P.xFileSize(A,V)},E=function(A,V){return _.get(A).xLock(A,V)},ct=function(A,V){return _.get(A).xUnlock(A,V)},$i=function(A,V){const P=_.get(A);return V=s("Int32",V),P.xCheckReservedLock(A,V)},h=function(A,V,P){const B=_.get(A);return P=new DataView(ne.buffer,P),B.xFileControl(A,V,P)},ve=function(A){return _.get(A).xSectorSize(A)},c=function(A){return _.get(A).xDeviceCharacteristics(A)},L=function(A,V,P,B,ie){if(A=y.get(A),_.set(P,A),f){S.delete(P);for(var X of S)_.delete(X)}if(X=null,B&64){X=1;const se=[];for(;X;){const Ae=ne[V++];if(Ae)se.push(Ae);else switch(ne[V]||(X=null),X){case 1:se.push(63),X=2;break;case 2:se.push(61),X=3;break;case 3:se.push(38),X=2}}X=new TextDecoder().decode(new Uint8Array(se))}else V&&(X=M(V));return ie=s("Int32",ie),A.xOpen(X,P,B,ie)},o=function(A,V,P){return y.get(A).xDelete(M(V),P)},Xn=function(A,V,P,B){return A=y.get(A),B=s("Int32",B),A.xAccess(M(V),P,B)}}();var Tl={a:function(s,u,f,y){ut("Assertion failed: "+M(s)+", at: "+[u?M(u):"unknown filename",f,y?M(y):"unknown function"])},K:function(s,u){try{return s=M(s),Ts(s,u),0}catch(f){if(typeof He>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},M:function(s,u,f){try{if(u=M(u),u=wr(s,u),f&-8)return-28;var y=Xt(u,{Yb:!0}).node;return y?(s="",f&4&&(s+="r"),f&2&&(s+="w"),f&1&&(s+="x"),s&&kr(y,s)?-2:0):-44}catch(_){if(typeof He>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},L:function(s,u){try{var f=Gt[s];if(!f)throw new te(8);return Ts(f.node,u),0}catch(y){if(typeof He>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},J:function(s){try{var u=Gt[s];if(!u)throw new te(8);var f=u.node,y=typeof f=="string"?Xt(f,{Yb:!0}).node:f;if(!y.Cb.Qb)throw new te(63);return y.Cb.Qb(y,{timestamp:Date.now()}),0}catch(_){if(typeof He>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},b:function(s,u,f){Si=f;try{var y=mn(s);switch(u){case 0:var _=Ri();return 0>_?-28:zo(y,_).Wb;case 1:case 2:return 0;case 3:return y.flags;case 4:return _=Ri(),y.flags|=_,0;case 5:return _=Ri(),Ne[_+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ae[la()>>2]=28,-1;default:return-28}}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return-S.Ob}},I:function(s,u){try{var f=mn(s);return Ss(an,f.path,u)}catch(y){if(typeof He>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},j:function(s,u,f){try{if(u=f+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*f:NaN,isNaN(u))return-61;var y=Gt[s];if(!y)throw new te(8);if(!(y.flags&2097155))throw new te(28);return Xo(y.node,u),0}catch(_){if(typeof He>"u"||_.name!=="ErrnoError")throw _;return-_.Ob}},C:function(s,u){try{if(u===0)return-28;var f=oe("/")+1;return u<f?-68:(Ln("/",s,u),f)}catch(y){if(typeof He>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},F:function(s,u){try{return s=M(s),Ss(Ai,s,u)}catch(f){if(typeof He>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},z:function(s,u,f){try{return u=M(u),u=wr(s,u),u=ee(u),u[u.length-1]==="/"&&(u=u.substr(0,u.length-1)),qn(u,f),0}catch(y){if(typeof He>"u"||y.name!=="ErrnoError")throw y;return-y.Ob}},E:function(s,u,f,y){try{u=M(u);var _=y&256;return u=wr(s,u,y&4096),Ss(_?Ai:an,u,f)}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return-S.Ob}},u:function(s,u,f,y){Si=y;try{u=M(u),u=wr(s,u);var _=y?Ri():0;return Ti(u,f,_).Wb}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return-S.Ob}},s:function(s,u,f,y){try{if(u=M(u),u=wr(s,u),0>=y)return-28;var _=Ii(u),S=Math.min(y,oe(_)),A=T[f+S];return Ln(_,f,y+1),T[f+S]=A,S}catch(V){if(typeof He>"u"||V.name!=="ErrnoError")throw V;return-V.Ob}},r:function(s){try{return s=M(s),Go(s),0}catch(u){if(typeof He>"u"||u.name!=="ErrnoError")throw u;return-u.Ob}},H:function(s,u){try{return s=M(s),Ss(an,s,u)}catch(f){if(typeof He>"u"||f.name!=="ErrnoError")throw f;return-f.Ob}},o:function(s,u,f){try{if(u=M(u),u=wr(s,u),f===0){s=u;var y=Xt(s,{parent:!0}).node;if(!y)throw new te(44);var _=z(s),S=Kn(y,_),A=Vo(y,_,!1);if(A)throw new te(A);if(!y.Cb.oc)throw new te(63);if(S.$b)throw new te(10);y.Cb.oc(y,_),H(S)}else f===512?Go(u):ut("Invalid flags passed to unlinkat");return 0}catch(V){if(typeof He>"u"||V.name!=="ErrnoError")throw V;return-V.Ob}},n:function(s,u,f){try{if(u=M(u),u=wr(s,u,!0),f){var y=Di(f),_=ae[f+8>>2];S=1e3*y+_/1e6,f+=16,y=Di(f),_=ae[f+8>>2],A=1e3*y+_/1e6}else var S=Date.now(),A=S;s=S;var V=Xt(u,{Yb:!0}).node;return V.Cb.Qb(V,{timestamp:Math.max(s,A)}),0}catch(P){if(typeof He>"u"||P.name!=="ErrnoError")throw P;return-P.Ob}},y:function(s,u){s=new Date(1e3*Di(s)),ae[u>>2]=s.getSeconds(),ae[u+4>>2]=s.getMinutes(),ae[u+8>>2]=s.getHours(),ae[u+12>>2]=s.getDate(),ae[u+16>>2]=s.getMonth(),ae[u+20>>2]=s.getFullYear()-1900,ae[u+24>>2]=s.getDay();var f=s.getFullYear();ae[u+28>>2]=(f%4!==0||f%100===0&&f%400!==0?Li:Je)[s.getMonth()]+s.getDate()-1|0,ae[u+36>>2]=-(60*s.getTimezoneOffset()),f=new Date(s.getFullYear(),6,1).getTimezoneOffset();var y=new Date(s.getFullYear(),0,1).getTimezoneOffset();ae[u+32>>2]=(f!=y&&s.getTimezoneOffset()==Math.min(y,f))|0},w:function(s,u,f,y,_,S,A){try{var V=mn(y);if(u&2&&!(f&2)&&(V.flags&2097155)!==2)throw new te(2);if((V.flags&2097155)===1)throw new te(2);if(!V.Mb.kc)throw new te(43);var P=V.Mb.kc(V,s,_,u,f),B=P.Pc;return ae[S>>2]=P.Dc,_e[A>>2]=B,0}catch(ie){if(typeof He>"u"||ie.name!=="ErrnoError")throw ie;return-ie.Ob}},x:function(s,u,f,y,_,S){try{var A=mn(_);if(f&2){if((A.node.mode&61440)!==32768)throw new te(43);y&2||A.Mb.lc&&A.Mb.lc(A,ne.slice(s,s+u),S,u,y)}}catch(V){if(typeof He>"u"||V.name!=="ErrnoError")throw V;return-V.Ob}},p:function(s,u,f){function y(P){return(P=P.toTimeString().match(/\(([A-Za-z ]+)\)$/))?P[1]:"GMT"}var _=new Date().getFullYear(),S=new Date(_,0,1),A=new Date(_,6,1);_=S.getTimezoneOffset();var V=A.getTimezoneOffset();_e[s>>2]=60*Math.max(_,V),ae[u>>2]=+(_!=V),s=y(S),u=y(A),s=Pi(s),u=Pi(u),V<_?(_e[f>>2]=s,_e[f+4>>2]=u):(_e[f>>2]=u,_e[f+4>>2]=s)},e:function(){return Date.now()},d:()=>performance.now(),l:function(s){var u=ne.length;if(s>>>=0,2147483648<s)return!1;for(var f=1;4>=f;f*=2){var y=u*(1+.2/f);y=Math.min(y,s+100663296);var _=Math,S=_.min;y=Math.max(s,y),y+=(65536-y%65536)%65536;e:{var A=C.buffer;try{C.grow(S.call(_,2147483648,y)-A.byteLength+65535>>>16),ze();var V=1;break e}catch{}V=void 0}if(V)return!0}return!1},A:function(s,u){var f=0;return Mi().forEach(function(y,_){var S=u+f;for(_=_e[s+4*_>>2]=S,S=0;S<y.length;++S)T[_++>>0]=y.charCodeAt(S);T[_>>0]=0,f+=y.length+1}),0},B:function(s,u){var f=Mi();_e[s>>2]=f.length;var y=0;return f.forEach(function(_){y+=_.length+1}),_e[u>>2]=y,0},f:function(s){try{var u=mn(s);if(u.Wb===null)throw new te(8);u.pc&&(u.pc=null);try{u.Mb.close&&u.Mb.close(u)}catch(f){throw f}finally{Gt[u.Wb]=null}return u.Wb=null,0}catch(f){if(typeof He>"u"||f.name!=="ErrnoError")throw f;return f.Ob}},m:function(s,u){try{var f=mn(s);return T[u>>0]=f.Sb?2:(f.mode&61440)===16384?3:(f.mode&61440)===40960?7:4,Ne[u+2>>1]=0,Me=[0,(fe=0,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[u+8>>2]=Me[0],ae[u+12>>2]=Me[1],Me=[0,(fe=0,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[u+16>>2]=Me[0],ae[u+20>>2]=Me[1],0}catch(y){if(typeof He>"u"||y.name!=="ErrnoError")throw y;return y.Ob}},t:function(s,u,f,y){try{e:{var _=mn(s);s=u;for(var S,A=u=0;A<f;A++){var V=_e[s>>2],P=_e[s+4>>2];s+=8;var B=_,ie=V,X=P,se=S,Ae=T;if(0>X||0>se)throw new te(28);if(B.Wb===null)throw new te(8);if((B.flags&2097155)===1)throw new te(8);if((B.node.mode&61440)===16384)throw new te(31);if(!B.Mb.read)throw new te(28);var Ge=typeof se<"u";if(!Ge)se=B.position;else if(!B.seekable)throw new te(70);var At=B.Mb.read(B,Ae,ie,X,se);Ge||(B.position+=At);var vt=At;if(0>vt){var wn=-1;break e}if(u+=vt,vt<P)break;typeof S<"u"&&(S+=vt)}wn=u}return _e[y>>2]=wn,0}catch(Ft){if(typeof He>"u"||Ft.name!=="ErrnoError")throw Ft;return Ft.Ob}},i:function(s,u,f,y,_){try{if(u=f+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*f:NaN,isNaN(u))return 61;var S=mn(s);return Yo(S,u,y),Me=[S.position>>>0,(fe=S.position,1<=+Math.abs(fe)?0<fe?+Math.floor(fe/4294967296)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],ae[_>>2]=Me[0],ae[_+4>>2]=Me[1],S.pc&&u===0&&y===0&&(S.pc=null),0}catch(A){if(typeof He>"u"||A.name!=="ErrnoError")throw A;return A.Ob}},D:function(s){try{var u=mn(s);return Iu(function(f){var y=u.node.Ub;y.type.Sc?y.type.Sc(y,!1,function(_){f(_?function(){return 29}:0)}):f(0)})}catch(f){if(typeof He>"u"||f.name!=="ErrnoError")throw f;return f.Ob}},q:function(s,u,f,y){try{e:{var _=mn(s);s=u;for(var S,A=u=0;A<f;A++){var V=_e[s>>2],P=_e[s+4>>2];s+=8;var B=_,ie=V,X=P,se=S,Ae=T;if(0>X||0>se)throw new te(28);if(B.Wb===null)throw new te(8);if(!(B.flags&2097155))throw new te(8);if((B.node.mode&61440)===16384)throw new te(31);if(!B.Mb.write)throw new te(28);B.seekable&&B.flags&1024&&Yo(B,0,2);var Ge=typeof se<"u";if(!Ge)se=B.position;else if(!B.seekable)throw new te(70);var At=B.Mb.write(B,Ae,ie,X,se,void 0);Ge||(B.position+=At);var vt=At;if(0>vt){var wn=-1;break e}u+=vt,typeof S<"u"&&(S+=vt)}wn=u}return _e[y>>2]=wn,0}catch(Ft){if(typeof He>"u"||Ft.name!=="ErrnoError")throw Ft;return Ft.Ob}},ra:Bi,N:yn,ga:Rs,ca:ea,Y:_u,la:Ds,G:ta,h:Ls,oa:na,ja:Ps,ea:Gn,fa:Ms,k:Bs,v:Zr,pa:Fs,g:xu,qa:ra,da:Eu,ha:ia,ia:Fi,na:Ui,c:sa,ka:ei,ma:ti,aa:Xn,V:$i,$:oa,ba:o,S:c,U:h,Z:g,X:E,R:L,Q,T:ve,_:Pe,O:De,W:ct,P:Pn};(function(){function s(f){if(f=f.exports,f=ql(f),n.asm=f,C=n.asm.sa,ze(),Wt.unshift(n.asm.ta),ge--,n.monitorRunDependencies&&n.monitorRunDependencies(ge),ge==0&&Oe){var y=Oe;Oe=null,y()}return f}var u={a:Tl};if(ge++,n.monitorRunDependencies&&n.monitorRunDependencies(ge),n.instantiateWasm)try{return n.instantiateWasm(u,s)}catch(f){Y("Module.instantiateWasm callback failed with error: "+f),a(f)}return pn(u,function(f){s(f.instance)}).catch(a),{}})(),n._sqlite3_vfs_find=function(){return(n._sqlite3_vfs_find=n.asm.ua).apply(null,arguments)},n._sqlite3_malloc=function(){return(n._sqlite3_malloc=n.asm.va).apply(null,arguments)},n._sqlite3_free=function(){return(n._sqlite3_free=n.asm.wa).apply(null,arguments)},n._sqlite3_prepare_v2=function(){return(n._sqlite3_prepare_v2=n.asm.xa).apply(null,arguments)},n._sqlite3_step=function(){return(n._sqlite3_step=n.asm.ya).apply(null,arguments)},n._sqlite3_column_int64=function(){return(n._sqlite3_column_int64=n.asm.za).apply(null,arguments)},n._sqlite3_column_int=function(){return(n._sqlite3_column_int=n.asm.Aa).apply(null,arguments)},n._sqlite3_finalize=function(){return(n._sqlite3_finalize=n.asm.Ba).apply(null,arguments)},n._sqlite3_reset=function(){return(n._sqlite3_reset=n.asm.Ca).apply(null,arguments)},n._sqlite3_clear_bindings=function(){return(n._sqlite3_clear_bindings=n.asm.Da).apply(null,arguments)},n._sqlite3_value_blob=function(){return(n._sqlite3_value_blob=n.asm.Ea).apply(null,arguments)},n._sqlite3_value_text=function(){return(n._sqlite3_value_text=n.asm.Fa).apply(null,arguments)},n._sqlite3_value_bytes=function(){return(n._sqlite3_value_bytes=n.asm.Ga).apply(null,arguments)},n._sqlite3_value_double=function(){return(n._sqlite3_value_double=n.asm.Ha).apply(null,arguments)},n._sqlite3_value_int=function(){return(n._sqlite3_value_int=n.asm.Ia).apply(null,arguments)},n._sqlite3_value_int64=function(){return(n._sqlite3_value_int64=n.asm.Ja).apply(null,arguments)},n._sqlite3_value_type=function(){return(n._sqlite3_value_type=n.asm.Ka).apply(null,arguments)},n._sqlite3_result_blob=function(){return(n._sqlite3_result_blob=n.asm.La).apply(null,arguments)},n._sqlite3_result_double=function(){return(n._sqlite3_result_double=n.asm.Ma).apply(null,arguments)},n._sqlite3_result_error=function(){return(n._sqlite3_result_error=n.asm.Na).apply(null,arguments)},n._sqlite3_result_int=function(){return(n._sqlite3_result_int=n.asm.Oa).apply(null,arguments)},n._sqlite3_result_int64=function(){return(n._sqlite3_result_int64=n.asm.Pa).apply(null,arguments)},n._sqlite3_result_null=function(){return(n._sqlite3_result_null=n.asm.Qa).apply(null,arguments)},n._sqlite3_result_text=function(){return(n._sqlite3_result_text=n.asm.Ra).apply(null,arguments)},n._sqlite3_column_count=function(){return(n._sqlite3_column_count=n.asm.Sa).apply(null,arguments)},n._sqlite3_data_count=function(){return(n._sqlite3_data_count=n.asm.Ta).apply(null,arguments)},n._sqlite3_column_blob=function(){return(n._sqlite3_column_blob=n.asm.Ua).apply(null,arguments)},n._sqlite3_column_bytes=function(){return(n._sqlite3_column_bytes=n.asm.Va).apply(null,arguments)},n._sqlite3_column_double=function(){return(n._sqlite3_column_double=n.asm.Wa).apply(null,arguments)},n._sqlite3_column_text=function(){return(n._sqlite3_column_text=n.asm.Xa).apply(null,arguments)},n._sqlite3_column_type=function(){return(n._sqlite3_column_type=n.asm.Ya).apply(null,arguments)},n._sqlite3_column_name=function(){return(n._sqlite3_column_name=n.asm.Za).apply(null,arguments)},n._sqlite3_bind_blob=function(){return(n._sqlite3_bind_blob=n.asm._a).apply(null,arguments)},n._sqlite3_bind_double=function(){return(n._sqlite3_bind_double=n.asm.$a).apply(null,arguments)},n._sqlite3_bind_int=function(){return(n._sqlite3_bind_int=n.asm.ab).apply(null,arguments)},n._sqlite3_bind_int64=function(){return(n._sqlite3_bind_int64=n.asm.bb).apply(null,arguments)},n._sqlite3_bind_null=function(){return(n._sqlite3_bind_null=n.asm.cb).apply(null,arguments)},n._sqlite3_bind_text=function(){return(n._sqlite3_bind_text=n.asm.db).apply(null,arguments)},n._sqlite3_bind_parameter_count=function(){return(n._sqlite3_bind_parameter_count=n.asm.eb).apply(null,arguments)},n._sqlite3_bind_parameter_name=function(){return(n._sqlite3_bind_parameter_name=n.asm.fb).apply(null,arguments)},n._sqlite3_sql=function(){return(n._sqlite3_sql=n.asm.gb).apply(null,arguments)},n._sqlite3_exec=function(){return(n._sqlite3_exec=n.asm.hb).apply(null,arguments)},n._sqlite3_errmsg=function(){return(n._sqlite3_errmsg=n.asm.ib).apply(null,arguments)},n._sqlite3_declare_vtab=function(){return(n._sqlite3_declare_vtab=n.asm.jb).apply(null,arguments)},n._sqlite3_libversion=function(){return(n._sqlite3_libversion=n.asm.kb).apply(null,arguments)},n._sqlite3_libversion_number=function(){return(n._sqlite3_libversion_number=n.asm.lb).apply(null,arguments)},n._sqlite3_changes=function(){return(n._sqlite3_changes=n.asm.mb).apply(null,arguments)},n._sqlite3_close=function(){return(n._sqlite3_close=n.asm.nb).apply(null,arguments)},n._sqlite3_limit=function(){return(n._sqlite3_limit=n.asm.ob).apply(null,arguments)},n._sqlite3_open_v2=function(){return(n._sqlite3_open_v2=n.asm.pb).apply(null,arguments)},n._sqlite3_get_autocommit=function(){return(n._sqlite3_get_autocommit=n.asm.qb).apply(null,arguments)};function la(){return(la=n.asm.rb).apply(null,arguments)}var fa=n._malloc=function(){return(fa=n._malloc=n.asm.sb).apply(null,arguments)},Su=n._free=function(){return(Su=n._free=n.asm.tb).apply(null,arguments)};n._RegisterExtensionFunctions=function(){return(n._RegisterExtensionFunctions=n.asm.ub).apply(null,arguments)},n._set_authorizer=function(){return(n._set_authorizer=n.asm.vb).apply(null,arguments)},n._create_function=function(){return(n._create_function=n.asm.wb).apply(null,arguments)},n._create_module=function(){return(n._create_module=n.asm.xb).apply(null,arguments)},n._progress_handler=function(){return(n._progress_handler=n.asm.yb).apply(null,arguments)},n._register_vfs=function(){return(n._register_vfs=n.asm.zb).apply(null,arguments)},n._getSqliteFree=function(){return(n._getSqliteFree=n.asm.Ab).apply(null,arguments)};var Ru=n._main=function(){return(Ru=n._main=n.asm.Bb).apply(null,arguments)};function Du(){return(Du=n.asm.Db).apply(null,arguments)}function Lu(){return(Lu=n.asm.Eb).apply(null,arguments)}function Pu(){return(Pu=n.asm.Fb).apply(null,arguments)}function ha(){return(ha=n.asm.Gb).apply(null,arguments)}function da(){return(da=n.asm.Hb).apply(null,arguments)}function Mu(){return(Mu=n.asm.Ib).apply(null,arguments)}function Bu(){return(Bu=n.asm.Jb).apply(null,arguments)}function ji(){return(ji=n.asm.Kb).apply(null,arguments)}function pa(){return(pa=n.asm.Lb).apply(null,arguments)}n.getTempRet0=Lu,n.ccall=Bn,n.cwrap=function(s,u,f,y){var _=!f||f.every(S=>S==="number"||S==="boolean");return u!=="string"&&_&&!y?n["_"+s]:function(){return Bn(s,u,f,arguments,y)}},n.setValue=x,n.getValue=Ke,n.UTF8ToString=M,n.stringToUTF8=Ln,n.lengthBytesUTF8=oe;var $s;Oe=function s(){$s||W(),$s||(Oe=s)};function W(){function s(){if(!$s&&($s=!0,n.calledRun=!0,!N)){if(n.noFSInit||Zo||(Zo=!0,Jr(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Gr("stdin",n.stdin):Wi("/dev/tty","/dev/stdin"),n.stdout?Gr("stdout",null,n.stdout):Wi("/dev/tty","/dev/stdout"),n.stderr?Gr("stderr",null,n.stderr):Wi("/dev/tty1","/dev/stderr"),Ti("/dev/stdin",0),Ti("/dev/stdout",1),Ti("/dev/stderr",1)),Mt=!1,Jt(Wt),Jt(Qe),i(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),G){var u=Ru;try{var f=u(0,0);q=f,aa(f)}catch(y){ua(y)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)u=n.postRun.shift(),Kt.unshift(u);Jt(Kt)}}if(!(0<ge)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)wt();Jt(qt),0<ge||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),s()},1)):s())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var G=!0;return n.noInitialRun&&(G=!1),W(),e.ready}})();class PN{constructor(){Yt(this,"mxPathName",64)}xClose(e){return xt}xRead(e,n,i){return xt}xWrite(e,n,i){return xt}xTruncate(e,n){return xt}xSync(e,n){return Ve}xFileSize(e,n){return xt}xLock(e,n){return Ve}xUnlock(e,n){return Ve}xCheckReservedLock(e,n){return n.setInt32(0,0,!0),Ve}xFileControl(e,n,i){return bm}xSectorSize(e){return 512}xDeviceCharacteristics(e){return 0}xOpen(e,n,i,a){return Nm}xDelete(e,n){return xt}xAccess(e,n,i){return xt}handleAsync(e){return e()}}const MN=Vs|Zi|sc|AN|oc;var jt,Wo,lu,fu,gf,el,_m,tl,xm;class BN{constructor(){k(this,fu);k(this,el);k(this,tl);k(this,jt,Vs);Yt(this,"timeoutMillis",0);k(this,Wo,new Map);k(this,lu,Promise.resolve(0))}get state(){return r(this,jt)}async lock(e){return qe(this,fu,gf).call(this,qe(this,el,_m),e)}async unlock(e){return qe(this,fu,gf).call(this,qe(this,tl,xm),e)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(e,n){return new Promise(async(i,a)=>{try{await navigator.locks.request(e,n,l=>{if(i(l),l)return new Promise(m=>r(this,Wo).set(e,m))})}catch(l){a(l)}})}_releaseWebLock(e){var n;(n=r(this,Wo).get(e))==null||n(),r(this,Wo).delete(e)}async _pollWebLock(e){var i;return(i=(await navigator.locks.query()).held.find(({name:a})=>a===e))==null?void 0:i.mode}_getTimeoutSignal(){if(this.timeoutMillis){const e=new AbortController;return setTimeout(()=>e.abort(),this.timeoutMillis),e.signal}}}jt=new WeakMap,Wo=new WeakMap,lu=new WeakMap,fu=new WeakSet,gf=async function(e,n){const i=n&MN;try{const a=()=>e.call(this,i);return await D(this,lu,r(this,lu).then(a,a)),D(this,jt,i),Ve}catch(a){return a.name==="AbortError"?_N:(console.error(a),CN)}},el=new WeakSet,_m=async function(e){if(e===r(this,jt))return Ve;switch(r(this,jt)){case Vs:switch(e){case Zi:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}case Zi:switch(e){case sc:return this._SHAREDtoRESERVED();case oc:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}case sc:switch(e){case oc:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}},tl=new WeakSet,xm=async function(e){if(e===r(this,jt))return Ve;switch(r(this,jt)){case oc:switch(e){case Zi:return this._EXCLUSIVEtoSHARED();case Vs:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}case sc:switch(e){case Zi:return this._RESERVEDtoSHARED();case Vs:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}case Zi:switch(e){case Vs:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}default:throw new Error(`unexpected transition ${r(this,jt)} -> ${e}`)}};class FN extends BN{constructor(e){super(),this._lockName=e+"-outer",this._reservedName=e+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}const UN=5e3;let $N=0;const jl=new WeakMap;function Nr(...t){}var Io,Ao,hu,Rt,du,To,ys,nl,Em;class QN{constructor(e,n={durability:"default"}){k(this,nl);k(this,Io,void 0);k(this,Ao,void 0);k(this,hu,void 0);k(this,Rt,null);k(this,du,0);k(this,To,Promise.resolve());k(this,ys,Promise.resolve());D(this,Ao,Promise.resolve(e).then(i=>D(this,Io,i))),D(this,hu,n)}async close(){const e=r(this,Io)??await r(this,Ao);await r(this,To),await this.sync(),e.close()}async run(e,n){const i=r(this,To).then(()=>qe(this,nl,Em).call(this,e,n));return D(this,To,i.catch(()=>{})),i}async sync(){await r(this,ys),D(this,ys,Promise.resolve())}}Io=new WeakMap,Ao=new WeakMap,hu=new WeakMap,Rt=new WeakMap,du=new WeakMap,To=new WeakMap,ys=new WeakMap,nl=new WeakSet,Em=async function(e,n){var a,l;const i=r(this,Io)??await r(this,Ao);if(e==="readwrite"&&((a=r(this,Rt))==null?void 0:a.mode)==="readonly")D(this,Rt,null);else if(performance.now()-r(this,du)>UN){try{(l=r(this,Rt))==null||l.commit()}catch(m){if(m.name!=="InvalidStateError")throw m}await new Promise(m=>setTimeout(m)),D(this,Rt,null)}for(let m=0;m<2;++m){if(!r(this,Rt)){D(this,Rt,i.transaction(i.objectStoreNames,e,r(this,hu)));const w=D(this,du,performance.now());D(this,ys,r(this,ys).then(()=>new Promise((v,d)=>{r(this,Rt).addEventListener("complete",I=>{v(),r(this,Rt)===I.target&&D(this,Rt,null),Nr(`transaction ${jl.get(I.target)} complete`)}),r(this,Rt).addEventListener("abort",I=>{console.warn("tx abort",(performance.now()-w)/1e3);const F=I.target.error;d(F),r(this,Rt)===I.target&&D(this,Rt,null),Nr(`transaction ${jl.get(I.target)} aborted`,F)})}))),jl.set(r(this,Rt),$N++)}try{const w=Object.fromEntries(Array.from(i.objectStoreNames,v=>[v,new jN(r(this,Rt).objectStore(v))]));return await n(w)}catch(w){if(D(this,Rt,null),m)throw w}}};function si(t){return new Promise((e,n)=>{t.addEventListener("success",()=>e(t.result)),t.addEventListener("error",()=>n(t.error))})}var It;class jN{constructor(e){k(this,It,void 0);D(this,It,e)}get(e){Nr(`get ${r(this,It).name}`,e);const n=r(this,It).get(e);return si(n)}getAll(e,n){Nr(`getAll ${r(this,It).name}`,e,n);const i=r(this,It).getAll(e,n);return si(i)}getKey(e){Nr(`getKey ${r(this,It).name}`,e);const n=r(this,It).getKey(e);return si(n)}getAllKeys(e,n){Nr(`getAllKeys ${r(this,It).name}`,e,n);const i=r(this,It).getAllKeys(e,n);return si(i)}put(e,n){Nr(`put ${r(this,It).name}`,e,n);const i=r(this,It).put(e,n);return si(i)}delete(e){Nr(`delete ${r(this,It).name}`,e);const n=r(this,It).delete(e);return si(n)}clear(){Nr(`clear ${r(this,It).name}`);const e=r(this,It).clear();return si(e)}index(e){return new HN(r(this,It).index(e))}}It=new WeakMap;var ws;class HN{constructor(e){k(this,ws,void 0);D(this,ws,e)}getAllKeys(e,n){Nr(`IDBIndex.getAllKeys ${r(this,ws).objectStore.name}<${r(this,ws).name}>`,e,n);const i=r(this,ws).getAllKeys(e,n);return si(i)}}ws=new WeakMap;const VN=512,id=3e3,sd={durability:"default",purge:"deferred",purgeAtLeast:16};function gn(...t){}var wi,Ht,pt,gs,bs,Br,pu,bf,rl,Cm,il,Om,gi,zs,sl,qm;class zN extends PN{constructor(n="wa-sqlite",i=sd){super();k(this,pu);k(this,rl);k(this,il);k(this,gi);k(this,sl);k(this,wi,void 0);k(this,Ht,new Map);k(this,pt,void 0);k(this,gs,new Set);k(this,bs,performance.now());k(this,Br,new Set);this.name=n,D(this,wi,Object.assign({},sd,i)),D(this,pt,new QN(KN(n),{durability:r(this,wi).durability}))}async close(){var n;for(const i of r(this,Ht).keys())await this.xClose(i);await((n=r(this,pt))==null?void 0:n.close()),D(this,pt,null)}xOpen(n,i,a,l){return this.handleAsync(async()=>{n===null&&(n=`null_${i}`),gn(`xOpen ${n} 0x${i.toString(16)} 0x${a.toString(16)}`);try{const m=new URL(n,"http://localhost/"),w={path:m.pathname,flags:a,block0:null,locks:new FN(m.pathname)};return r(this,Ht).set(i,w),await r(this,pt).run("readwrite",async({blocks:v})=>{if(w.block0=await v.get(qe(this,gi,zs).call(this,w,0)),!w.block0)if(a&vm)w.block0={path:w.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},v.put(w.block0);else throw new Error(`file not found: ${w.path}`)}),l.setInt32(0,a&qN,!0),Ve}catch(m){return console.error(m),Nm}})}xClose(n){return this.handleAsync(async()=>{try{const i=r(this,Ht).get(n);return i&&(gn(`xClose ${i.path}`),r(this,Ht).delete(n),i.flags&IN&&r(this,pt).run("readwrite",({blocks:a})=>{a.delete(IDBKeyRange.bound([i.path],[i.path,[]]))})),Ve}catch(i){return console.error(i),xt}})}xRead(n,i,a){return this.handleAsync(async()=>{const l=r(this,Ht).get(n);gn(`xRead ${l.path} ${i.byteLength} ${a}`);try{return await r(this,pt).run("readonly",async({blocks:w})=>{let v=0;for(;v<i.byteLength;){const d=a+v,I=d<l.block0.data.byteLength?l.block0:await w.get(qe(this,gi,zs).call(this,l,-d));if(!I||I.data.byteLength-I.offset<=d)return i.fill(0,v),ON;const F=i.subarray(v),U=d+I.offset,Y=Math.min(Math.max(I.data.byteLength-U,0),F.byteLength);F.set(I.data.subarray(U,U+Y)),v+=Y}return Ve})}catch(m){return console.error(m),xt}})}xWrite(n,i,a){const l=r(this,Br).has(n);if(l||performance.now()-r(this,bs)>id){const m=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&r(this,Br).add(n),await new Promise(v=>setTimeout(v));const w=qe(this,pu,bf).call(this,n,i,a);return D(this,bs,performance.now()),w});return l&&r(this,Br).delete(n),m}return qe(this,pu,bf).call(this,n,i,a)}xTruncate(n,i){const a=r(this,Ht).get(n);gn(`xTruncate ${a.path} ${i}`);try{Object.assign(a.block0,{fileSize:i,data:a.block0.data.slice(0,i)});const l=Object.assign({},a.block0);return r(this,pt).run("readwrite",({blocks:m})=>{m.delete(qe(this,gi,zs).call(this,a,-1/0,-i)),m.put(l)}),Ve}catch(l){return console.error(l),xt}}xSync(n,i){const a=r(this,Br).has(n);if(a||r(this,wi).durability!=="relaxed"||performance.now()-r(this,bs)>id){const m=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&r(this,Br).add(n);const w=await qe(this,rl,Cm).call(this,n,i);return D(this,bs,performance.now()),w});return a&&r(this,Br).delete(n),m}const l=r(this,Ht).get(n);return gn(`xSync ${l.path} ${i}`),Ve}xFileSize(n,i){const a=r(this,Ht).get(n);return gn(`xFileSize ${a.path}`),i.setBigInt64(0,BigInt(a.block0.fileSize),!0),Ve}xLock(n,i){return this.handleAsync(async()=>{const a=r(this,Ht).get(n);gn(`xLock ${a.path} ${i}`);try{const l=await a.locks.lock(i);return l===Ve&&a.locks.state===Zi&&(a.block0=await r(this,pt).run("readonly",({blocks:m})=>m.get(qe(this,gi,zs).call(this,a,0)))),l}catch(l){return console.error(l),xt}})}xUnlock(n,i){return this.handleAsync(async()=>{const a=r(this,Ht).get(n);gn(`xUnlock ${a.path} ${i}`);try{return a.locks.unlock(i)}catch(l){return console.error(l),xt}})}xCheckReservedLock(n,i){return this.handleAsync(async()=>{const a=r(this,Ht).get(n);gn(`xCheckReservedLock ${a.path}`);const l=await a.locks.isSomewhereReserved();return i.setInt32(0,l?1:0,!0),Ve})}xSectorSize(n){return VN}xDeviceCharacteristics(n){return RN|TN|kN|SN}xFileControl(n,i,a){const l=r(this,Ht).get(n);switch(gn(`xFileControl ${l.path} ${i}`),i){case 11:return l.overwrite=!0,Ve;case 21:if(l.overwrite)try{return this.handleAsync(async()=>(await qe(this,sl,qm).call(this,l),Ve))}catch(m){return console.error(m),xt}return Ve;case 22:return l.overwrite=!1,Ve;case 31:return this.handleAsync(async()=>{try{return l.block0.version--,l.changedPages=new Set,r(this,pt).run("readwrite",async({blocks:m})=>{const w=await m.index("version").getAllKeys(IDBKeyRange.bound([l.path],[l.path,l.block0.version]));for(const v of w)m.delete(v)}),Ve}catch(m){return console.error(m),xt}});case 32:try{const m=Object.assign({},l.block0);m.data=m.data.slice();const w=l.changedPages;return l.changedPages=null,r(this,pt).run("readwrite",async({blocks:v})=>{v.put(m);const d=await v.get([l.path,"purge",0])??{path:l.path,offset:"purge",version:0,data:new Map,count:0};d.count+=w.size;for(const I of w)d.data.set(I,m.version);v.put(d),qe(this,il,Om).call(this,l.path,d.count)}),Ve}catch(m){return console.error(m),xt}case 33:return this.handleAsync(async()=>{try{return l.changedPages=null,l.block0=await r(this,pt).run("readonly",({blocks:m})=>m.get([l.path,0,l.block0.version+1])),Ve}catch(m){return console.error(m),xt}});default:return bm}}xAccess(n,i,a){return this.handleAsync(async()=>{try{const l=new URL(n,"file://localhost/").pathname;gn(`xAccess ${l} ${i}`);const m=await r(this,pt).run("readonly",({blocks:w})=>w.getKey(qe(this,gi,zs).call(this,{path:l},0)));return a.setInt32(0,m?1:0,!0),Ve}catch(l){return console.error(l),xt}})}xDelete(n,i){return this.handleAsync(async()=>{const a=new URL(n,"file://localhost/").pathname;try{return r(this,pt).run("readwrite",({blocks:l})=>l.delete(IDBKeyRange.bound([a],[a,[]]))),i&&await r(this,pt).sync(),Ve}catch(l){return console.error(l),xt}})}async purge(n){const i=Date.now();await r(this,pt).run("readwrite",async({blocks:a})=>{const l=await a.get([n,"purge",0]);if(l){for(const[m,w]of l.data)a.delete(IDBKeyRange.bound([n,m,w],[n,m,1/0],!0,!1));await a.delete([n,"purge",0])}gn(`purge ${n} ${(l==null?void 0:l.data.size)??0} pages in ${Date.now()-i} ms`)})}}wi=new WeakMap,Ht=new WeakMap,pt=new WeakMap,gs=new WeakMap,bs=new WeakMap,Br=new WeakMap,pu=new WeakSet,bf=function(n,i,a){const l=r(this,Ht).get(n);gn(`xWrite ${l.path} ${i.byteLength} ${a}`);try{const m=l.block0.fileSize;l.block0.fileSize=Math.max(l.block0.fileSize,a+i.byteLength);const w=a===0?l.block0:{path:l.path,offset:-a,version:l.block0.version,data:null};return w.data=i.slice(),l.changedPages?(m===l.block0.fileSize&&l.changedPages.add(-a),a!==0&&r(this,pt).run("readwrite",({blocks:v})=>v.put(w))):r(this,pt).run("readwrite",({blocks:v})=>v.put(w)),Ve}catch(m){return console.error(m),xt}},rl=new WeakSet,Cm=async function(n,i){const a=r(this,Ht).get(n);gn(`xSync ${a.path} ${i}`);try{await r(this,pt).sync()}catch(l){return console.error(l),xt}return Ve},il=new WeakSet,Om=function(n,i){r(this,wi).purge==="manual"||r(this,gs).has(n)||i<r(this,wi).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(n),r(this,gs).delete(n)}):setTimeout(()=>{this.purge(n),r(this,gs).delete(n)}),r(this,gs).add(n))},gi=new WeakSet,zs=function(n,i,a=0){const l=!i||-i<n.block0.data.length?-1/0:n.block0.version;return IDBKeyRange.bound([n.path,i,l],[n.path,a,1/0])},sl=new WeakSet,qm=async function(n){const i=n.block0.data.length;if(i<18)return;const a=new DataView(n.block0.data.buffer,n.block0.data.byteOffset);let l=a.getUint16(16);if(l===1&&(l=65536),l===i)return;const m=Math.max(i,l),w=m/i,v=m/l,I=a.getUint32(28)*l,F=n.block0.version;await r(this,pt).run("readwrite",async({blocks:U})=>{const Y=await U.index("version").getAllKeys(IDBKeyRange.bound([n.path,F+1],[n.path,1/0]));for(const Z of Y)U.delete(Z);U.delete([n.path,"purge",0]);for(let Z=0;Z<I;Z+=m){const b=await U.getAll(IDBKeyRange.lowerBound([n.path,-(Z+m),1/0]),w);for(const C of b)U.delete([C.path,C.offset,C.version]);if(v===1){const C=new Uint8Array(l);for(const q of b)C.set(q.data,-(Z+q.offset));const N={path:n.path,offset:-Z,version:F,data:C};N.offset===0&&(N.fileSize=I,n.block0=N),U.put(N)}else{const C=b[0];for(let N=0;N<v;++N){const q=-(Z+N*l);if(-q>=I)break;const T={path:C.path,offset:q,version:F,data:C.data.subarray(N*l,(N+1)*l)};T.offset===0&&(T.fileSize=I,n.block0=T),U.put(T)}}}})};function KN(t){return new Promise((e,n)=>{const i=globalThis.indexedDB.open(t,5);i.addEventListener("upgradeneeded",function(){i.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),i.addEventListener("success",()=>{e(i.result)}),i.addEventListener("error",()=>{n(i.error)})})}const JN=""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,GN=new Kb({async database(){const t=await LN({locateFile:()=>JN}),e=DN(t),n="wa-sqlite-test";e.vfs_register(new zN(n));const i=await e.open_v2(n,void 0,n);return{sqlite:e,db:i}}});function XN(){console.log("start wa-sqlite test"),Yf(GN).then(t=>{t==null||t.forEach(e=>console.log("[wa-sqlite]",e))})}function YN(t){return{all:t=t||new Map,on:function(e,n){var i=t.get(e);i?i.push(n):t.set(e,[n])},off:function(e,n){var i=t.get(e);i&&(n?i.splice(i.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var i=t.get(e);i&&i.slice().map(function(a){a(n)}),(i=t.get("*"))&&i.slice().map(function(a){a(e,n)})}}}function ZN(t){const e=YN(t);return{...e,once(n,i){const a=l=>{e.off(n,a),i(l)};e.on(n,a)}}}var Fr,Er,mu,Cr,wd,e0=(wd=class{constructor(t){k(this,Fr,void 0);k(this,Er,void 0);Yt(this,"connection");k(this,mu,new t0);k(this,Cr,void 0);D(this,Fr,Object.freeze({...t}))}async init(){D(this,Er,r(this,Fr).worker??new Worker(new URL(""+new URL("worker-72ad2512.js",import.meta.url).href,self.location),{type:"module"})),D(this,Cr,ZN()),r(this,Er).onmessage=({data:{msg:e,type:n}})=>{var i;(i=r(this,Cr))==null||i.emit(n,e)};const t={type:"init",dbName:r(this,Fr).dbName,url:r(this,Fr).url};r(this,Er).postMessage(t),await new Promise((e,n)=>{var i;(i=r(this,Cr))==null||i.once("init",({err:a})=>{a?n(a):e()})}),this.connection=new n0(r(this,Er),r(this,Cr)),r(this,Fr).onCreateConnection&&await r(this,Fr).onCreateConnection(this.connection)}async acquireConnection(){return await r(this,mu).lock(),this.connection}async beginTransaction(t){await t.executeQuery(jr.raw("begin"))}async commitTransaction(t){await t.executeQuery(jr.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(jr.raw("rollback"))}async releaseConnection(){r(this,mu).unlock()}async destroy(){if(r(this,Er))return r(this,Er).postMessage({type:"close"}),new Promise((t,e)=>{var n;(n=r(this,Cr))==null||n.once("close",({err:i})=>{var a,l;i?e(i):((a=r(this,Er))==null||a.terminate(),(l=r(this,Cr))==null||l.all.clear(),D(this,Cr,void 0),t())})})}},Fr=new WeakMap,Er=new WeakMap,mu=new WeakMap,Cr=new WeakMap,wd),Ns,ko,gd,t0=(gd=class{constructor(){k(this,Ns,void 0);k(this,ko,void 0)}async lock(){for(;r(this,Ns);)await r(this,Ns);D(this,Ns,new Promise(t=>{D(this,ko,t)}))}unlock(){const t=r(this,ko);D(this,Ns,void 0),D(this,ko,void 0),t==null||t()}},Ns=new WeakMap,ko=new WeakMap,gd),yu,So,bd,n0=(bd=class{constructor(t,e){k(this,yu,void 0);k(this,So,void 0);D(this,yu,t),D(this,So,e)}streamQuery(){throw new Error("Sqlite driver doesn't support streaming")}async executeQuery(t){const{parameters:e,sql:n,query:i}=t,l={type:"run",isQuery:["SelectQueryNode","RawNode"].includes(i.kind),sql:n,parameters:e};return r(this,yu).postMessage(l),new Promise((m,w)=>{r(this,So)||w("kysely instance has been destroyed"),r(this,So).once("run",({data:v,err:d})=>{!d&&v?m(v):w(d)})})}},yu=new WeakMap,So=new WeakMap,bd),wu,Nd,r0=(Nd=class{constructor(t){k(this,wu,void 0);D(this,wu,t)}createDriver(){return new e0(r(this,wu))}createQueryCompiler(){return new fm}createAdapter(){return new pm}createIntrospector(t){return new hm(t)}},wu=new WeakMap,Nd);const i0=""+new URL("wa-sqlite-async-24800831.wasm",import.meta.url).href,s0=new r0({dbName:"wa-sqlite-worker-test",url:i0});function o0(){console.log("start wa-sqlite-worker test"),Yf(s0).then(t=>{t==null||t.forEach(e=>console.log("[wa-sqlite-worker]",e))})}const a0=Ct("h1",null,[Ra(" test "),Ct("a",{href:"https://github.com/kysely-org/kysely",target:"_blank"},"Kysely"),Ra(" WASM dialect ")],-1),u0=Ct("br",null,null,-1),c0=Ct("h3",null,"see worker result in console",-1),l0=Ct("h3",null,[Ra(" you can explore "),Ct("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API#origin_private_file_system",target:"_blank"}," OPFS "),Ra(" file using "),Ct("a",{href:"https://chrome.google.com/webstore/detail/opfs-explorer/acndjpgkpaclldomagafnognkcgjignd",target:"_blank"}," opfs-explorer ")],-1),f0=Ct("br",null,null,-1),h0={class:"buttons"},d0=Ct("br",null,null,-1),p0=Ct("div",null," result run in main thread: ",-1),m0=Vy({__name:"App",setup(t){const e=new NN,{result:n,run:i}=bN(),a=new vN;function l(){i()}function m(){e.postMessage("")}function w(){a.postMessage("")}function v(){XN()}function d(){o0()}async function I(){(await window.indexedDB.databases()).forEach(Y=>{window.indexedDB.deleteDatabase(Y.name)})}async function F(){const U=await navigator.storage.getDirectory();await Kh("sqljs"),await Kh("sqlijsWorker"),await I();try{await U.removeEntry("test.db")}catch{}try{await U.removeEntry("test.db-journal")}catch{}console.log("clear all")}return(U,Y)=>(vw(),Ew(ur,null,[a0,u0,c0,l0,f0,Ct("div",h0,[Ct("button",{onClick:Y[0]||(Y[0]=Z=>l())}," test sqljs in main thread "),Ct("button",{onClick:Y[1]||(Y[1]=Z=>m())}," test sqljs in Worker "),Ct("button",{onClick:Y[2]||(Y[2]=Z=>w())}," test officialWasm in Worker "),Ct("button",{onClick:Y[3]||(Y[3]=Z=>v())}," test wa-sqlite in main thread "),Ct("button",{onClick:Y[4]||(Y[4]=Z=>d())}," test wa-sqlite in Worker "),Ct("button",{onClick:Y[5]||(Y[5]=Z=>F())}," clear ")]),d0,p0,Ct("pre",null,""+Lm(Qd(n))+`
  `,1)],64))}});ug(m0).mount("#root");
